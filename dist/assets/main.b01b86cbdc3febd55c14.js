/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "../astro-viewer/lib-esm/AstroSphere.js":
/*!**********************************************!*\
  !*** ../astro-viewer/lib-esm/AstroSphere.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Config.js */ "../astro-viewer/lib-esm/Config.js");
/* harmony import */ var _Camera_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Camera.js */ "../astro-viewer/lib-esm/Camera.js");
/* harmony import */ var _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/RayPickingUtils.js */ "../astro-viewer/lib-esm/utils/RayPickingUtils.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _model_hips_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/hips/VisibleTilesManager.js */ "../astro-viewer/lib-esm/model/hips/VisibleTilesManager.js");
/* harmony import */ var _utils_MouseHelper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/MouseHelper.js */ "../astro-viewer/lib-esm/utils/MouseHelper.js");
/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/Utils.js */ "../astro-viewer/lib-esm/utils/Utils.js");
/* harmony import */ var _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model/grid/HealpixGridSingleton.js */ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js");
/* harmony import */ var _model_hips_HiPS_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./model/hips/HiPS.js */ "../astro-viewer/lib-esm/model/hips/HiPS.js");
/* harmony import */ var _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/ComputePerspectiveMatrix.js */ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js");
/* harmony import */ var _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/FoVUtils.js */ "../astro-viewer/lib-esm/utils/FoVUtils.js");
/* harmony import */ var _model_grid_EquatorialGrid_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./model/grid/EquatorialGrid.js */ "../astro-viewer/lib-esm/model/grid/EquatorialGrid.js");
// AstroSphere.ts











// import queryFootprintSetByFov from './services/queryFootprintSetByFov.js'

/**
 * AstroSphere — main WebGL scene controller (TS port)
 */
class AstroSphere {
    camera;
    centralPoinCoords;
    mousePointCoords;
    canvas;
    showHPXGrid = false;
    mouseHelper;
    mouseDown = false;
    lastMouseX = null;
    lastMouseY = null;
    inertiaX = 0.0;
    inertiaY = 0.0;
    zoomInertia = 0.0;
    activeHiPS = null;
    startup = true;
    // private insideSphere: boolean
    fov;
    activeCatalogues = [];
    activeFootprintSets = [];
    constructor(canvas, webgl) {
        // Keep global GL context (as in original JS)
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl = webgl;
        this.mouseHelper = new _utils_MouseHelper_js__WEBPACK_IMPORTED_MODULE_5__["default"]();
        this.canvas = canvas;
        // this.insideSphere = bootSetup.insideSphere
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere = _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.insideSphere;
        this.init(canvas);
        this.fov = _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].refreshFoV();
    }
    // This is a lickely a duplication of FoVUtils.getCenterJ2000(this.canvas)
    updateCentralPoint() {
        const sphericalCoords = this.getPhiThetaDeg(this.canvas);
        const astroCoords = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__.sphericalToAstroDeg)(sphericalCoords.phi, sphericalCoords.theta);
        const raHMS = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__.raDegToHMS)(astroCoords.ra);
        const decDMS = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__.decDegToDMS)(astroCoords.dec);
        this.centralPoinCoords = {
            astroDeg: astroCoords,
            sphericalDeg: sphericalCoords,
            raHMS: raHMS,
            decDMS: decDMS
        };
        return this.centralPoinCoords;
    }
    updateLastMousePoint() {
        const sphericalCoords = { phi: this.mouseHelper.phi, theta: this.mouseHelper.theta };
        const astroCoords = { ra: this.mouseHelper.ra, dec: this.mouseHelper.dec };
        const raHMS = this.mouseHelper.raHMS;
        const decDMS = this.mouseHelper.decDMS;
        this.mousePointCoords = {
            astroDeg: astroCoords,
            sphericalDeg: sphericalCoords,
            raHMS: raHMS,
            decDMS: decDMS
        };
        return this.mousePointCoords;
    }
    // This should call FoVUtils.getJ200Centre(this.canvas)
    getCentralPointCoordinates() {
        return this.centralPoinCoords;
    }
    getLastMousePointCoordinates() {
        return this.mousePointCoords;
    }
    init(canvas) {
        this.initCamera();
        _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].init();
        _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_9__["default"].computePerspectiveMatrix(canvas, this.camera, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_fov_deg, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_near_plane, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.insideSphere);
        _model_hips_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_4__.visibleTilesManager.init(_Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.insideSphere);
        _model_grid_EquatorialGrid_js__WEBPACK_IMPORTED_MODULE_11__["default"].init(_model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].getMinFoV());
        this.updateCentralPoint();
        this.startup = true;
        this.addEventListeners(canvas);
    }
    initCamera() {
        if (_Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.insideSphere) {
            this.camera = new _Camera_js__WEBPACK_IMPORTED_MODULE_1__["default"]([0.0, 0.0, -0.005], true);
        }
        else {
            this.camera = new _Camera_js__WEBPACK_IMPORTED_MODULE_1__["default"]([0.0, 0.0, 4.0], false);
        }
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].camera = this.camera;
    }
    addEventListeners(canvas) {
        if (_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].debug) {
            console.log('[AstroSphere::addEventListeners]');
        }
        const handleMouseDown = (event) => {
            canvas.setPointerCapture(event.pointerId);
            this.mouseDown = true;
            // this.lastMouseX = event.pageX
            // this.lastMouseY = event.pageY
            this.lastMouseX = event.clientX;
            this.lastMouseY = event.clientY;
            // session.clearHoveredFootprints()
            event.preventDefault();
            return false;
        };
        const handleMouseUp = (event) => {
            canvas.releasePointerCapture(event.pointerId);
            this.mouseDown = false;
            document.body.style.cursor = 'auto';
            this.lastMouseX = event.clientX;
            this.lastMouseY = event.clientY;
        };
        const handleMouseMove = (event) => {
            const newX = event.clientX;
            const newY = event.clientY;
            if (!_model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"])
                return;
            let hit = false;
            if (this.mouseDown) {
                document.body.style.cursor = 'grab';
                const deltaX = ((newX - (this.lastMouseX ?? newX)) * Math.PI) / canvas.width;
                const deltaY = ((newY - (this.lastMouseY ?? newY)) * Math.PI) / canvas.height;
                this.inertiaX += 0.1 * deltaX;
                this.inertiaY += 0.1 * deltaY;
                this.updateCentralPoint();
                hit = true;
            }
            else {
                const mousePoint = _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_2__["default"].getIntersectionPointWithSingleModel(newX, newY);
                if (mousePoint && mousePoint.length > 0) {
                    this.mouseHelper.update(mousePoint);
                    this.updateLastMousePoint();
                    hit = true;
                }
            }
            if (!this.centralPoinCoords) {
                this.updateCentralPoint();
                hit = true;
            }
            if (hit) {
                const detail = {
                    fovDeg: this.fov.minFoV,
                    position: this.camera.getCameraPosition(),
                    vMatrix: this.camera.getCameraMatrix(),
                    pMatrix: _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_9__["default"].pMatrix,
                    timestamp: performance.now(),
                    centralPoint: _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_10__.FoVUtils.getCenterJ2000(this.canvas),
                    mouseHoverPoint: this.mousePointCoords
                };
                this.canvas.dispatchEvent(new CustomEvent('cameraChanged', { detail, bubbles: false, composed: false }));
            }
            this.lastMouseX = newX;
            this.lastMouseY = newY;
            event.preventDefault();
        };
        const handleMouseWheel = (event) => {
            if (event.deltaY < 0) {
                this.zoomInertia -= 0.001;
            }
            else {
                this.zoomInertia += 0.001;
            }
            event.preventDefault();
        };
        canvas.onpointerdown = handleMouseDown;
        canvas.onpointerup = handleMouseUp;
        canvas.onpointermove = handleMouseMove;
        // canvas.onwheel = handleMouseWheel
        canvas.addEventListener('wheel', handleMouseWheel, { passive: false });
    }
    // REVIEW THIS METHOD AND MOVE IT 
    getPhiThetaDeg(canvas) {
        const maxX = canvas.width;
        const maxY = canvas.height;
        const pickerPoint = _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_2__["default"].getIntersectionPointWithSingleModel(maxX / 2, maxY / 2);
        return (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__.cartesianToSpherical)(pickerPoint);
    }
    activateHiPS(hipsDescriptor) {
        this.activeHiPS = new _model_hips_HiPS_js__WEBPACK_IMPORTED_MODULE_8__["default"](1, [0.0, 0.0, 0.0], 0, 0, hipsDescriptor);
    }
    // Catalogue section
    async showCatalogue(cat) {
        // const fovPolyAstro = FoVUtils.getFoVPolygon(this.camera, this.canvas, healpixGridSingleton)
        // const polygonAdql = FoVUtils.getAstroFoVPolygon(fovPolyAstro) // -> "POLYGON('ICRS', ra1, dec1, ...)"
        // const cat = await queryCatalogueByFoV(catalogue, polygonAdql)
        console.log(cat);
        if (cat)
            this.activeCatalogues.push(cat);
        return cat;
    }
    deleteCatalogue(catalogue) {
        this.activeCatalogues = this.activeCatalogues.filter(c => c !== catalogue);
    }
    // End Catalogue section
    // Footprint section
    async showFootprintSet(fset) {
        // const fovPolyAstro = FoVUtils.getFoVPolygon(this.camera, this.canvas, healpixGridSingleton)
        // const polygonAdql = FoVUtils.getAstroFoVPolygon(fovPolyAstro) // -> "POLYGON('ICRS', ra1, dec1, ...)"
        // const centralPoint = FoVUtils.getCenterJ2000(this.canvas)
        // const fset = await queryFootprintSetByFov(footprintSet, polygonAdql, centralPoint)
        console.log(fset);
        if (fset)
            this.activeFootprintSets.push(fset);
        return fset;
    }
    deleteFootprintSet(footprintSet) {
        this.activeFootprintSets = this.activeFootprintSets.filter(fst => fst !== footprintSet);
    }
    getHoveredFootprints() {
        let footprintsHovered = [];
        this.activeFootprintSets.forEach(fset => {
            footprintsHovered.push(fset.hoveredFootprints);
        });
        return footprintsHovered;
    }
    // End Footprint section
    goTo(raDeg, decDeg) {
        this.camera.goTo(raDeg, decDeg);
    }
    getFoV() {
        return this.fov;
    }
    getFoVPolygon() {
        return _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_10__.FoVUtils.getFoVPolygon(this.camera, this.canvas, _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"]);
    }
    changeFoV(deg) {
        // throw new Error("not Implemented")
        const distance = _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].getFoV().computeDistanceFromAngle(deg);
        // this.camera.moveAlongView(distance)
        this.camera.translate(distance);
        _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].refreshFoV();
    }
    changeFoV2(deg) {
        // throw new Error("not Implemented")
        const newCameraPos = _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].getFoV().computeCameraPositionForFoV(deg);
        this.camera.setCameraPosition(newCameraPos);
        // this.camera.moveAlongView(distance)
        // this.camera.translate(distance)
    }
    changeFoV3(deg) {
        const newPos = _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].getFoV().computeCameraPositionForAngularDiameter(deg);
        this.camera.setCameraPosition(newPos);
        // Recompute projection after moving the camera
        _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_9__["default"].computePerspectiveMatrix(this.canvas, this.camera, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_fov_deg, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_near_plane, false);
    }
    getInsideSphere() {
        return _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere;
    }
    toggleInsideSphere() {
        // this.insideSphere = !this.insideSphere
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere = !_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere;
        console.log(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere);
        this.camera.toggleInsideSphere();
        // visibleTilesManager.toggleInsideSphere()
    }
    prevFov = 0;
    draw(canvas) {
        if (!_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl)
            return;
        if (!this.activeHiPS)
            return;
        if (!_model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"] || Object.keys(_model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"]).length === 0)
            return;
        if (_model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].fovObj === undefined)
            return;
        // In WebGL2, OES_element_index_uint is core, no need to fetch the extension each frame.
        // global.gl.getExtension('OES_element_index_uint')
        // global.gl.clear(global.gl.COLOR_BUFFER_BIT | global.gl.DEPTH_BUFFER_BIT)
        _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_9__["default"].computePerspectiveMatrix(canvas, this.camera, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_fov_deg, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_near_plane, _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere);
        let cameraRotated = false;
        let THETA = 0;
        let PHI = 0;
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.viewport(0, 0, _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.drawingBufferWidth, _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.drawingBufferHeight);
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.clear(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.COLOR_BUFFER_BIT | _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.DEPTH_BUFFER_BIT);
        // Zoom inertia
        if (_model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].fovObj.minFoV > 0.1 || this.zoomInertia > 0) {
            if (Math.abs(this.zoomInertia) > 0.0001) {
                this.camera.zoom(this.zoomInertia);
                this.zoomInertia *= 0.95;
                this.fov = _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].refreshFoV();
                if (this.prevFov != this.fov.minFoV) {
                    const detail = {
                        fovDeg: this.fov.minFoV,
                        position: this.camera.getCameraPosition(),
                        vMatrix: this.camera.getCameraMatrix(),
                        pMatrix: _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_9__["default"].pMatrix,
                        timestamp: performance.now(),
                        centralPoint: _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_10__.FoVUtils.getCenterJ2000(this.canvas),
                        mouseHoverPoint: this.mousePointCoords
                    };
                    this.canvas.dispatchEvent(new CustomEvent('cameraChanged', { detail, bubbles: false, composed: false }));
                    this.prevFov = this.fov.minFoV;
                }
            }
        }
        // Rotation inertia
        if (this.mouseDown || Math.abs(this.inertiaX) > 0.02 || Math.abs(this.inertiaY) > 0.02) {
            cameraRotated = true;
            THETA = this.inertiaY;
            PHI = this.inertiaX;
            this.inertiaX *= 0.95;
            this.inertiaY *= 0.95;
            this.camera.rotate(PHI, THETA);
            _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_9__["default"].computePerspectiveMatrix(canvas, this.camera, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_fov_deg, _Config_js__WEBPACK_IMPORTED_MODULE_0__.bootSetup.camera_near_plane, _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere);
        }
        else {
            this.inertiaY = 0;
            this.inertiaX = 0;
        }
        // GL state
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.disable(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.DEPTH_TEST);
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.enable(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.BLEND);
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.enable(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.CULL_FACE);
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.cullFace(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere ? _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.BACK : _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.FRONT);
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.blendFunc(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.SRC_ALPHA, _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.ONE_MINUS_SRC_ALPHA);
        // DRAW HiPS
        this.activeHiPS.draw();
        _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].draw();
        _model_grid_EquatorialGrid_js__WEBPACK_IMPORTED_MODULE_11__["default"].draw();
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.enable(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.DEPTH_TEST);
        _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.disable(_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].gl.CULL_FACE);
        if (this.startup) {
            this.startup = false;
            const phiTheta = this.getPhiThetaDeg(canvas);
            const raDecDeg = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__.sphericalToAstroDeg)(phiTheta.phi, phiTheta.theta);
            const raHMS = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__.raDegToHMS)(raDecDeg.ra);
            const decDMS = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_6__.decDegToDMS)(raDecDeg.dec);
            this.prevFov = _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_7__["default"].getMinFoV();
            console.log('(startup coords)', {
                raDeg: raDecDeg.ra,
                decDeg: raDecDeg.dec,
                raHMS,
                decDMS,
            });
        }
        this.activeCatalogues.forEach(cat => {
            if (this.activeHiPS) {
                cat.draw(this.activeHiPS.getModelMatrix(), this.mouseHelper);
            }
        });
        this.activeFootprintSets.forEach(fst => {
            if (this.activeHiPS) {
                fst.draw(this.activeHiPS.getModelMatrix(), this.mouseHelper);
            }
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AstroSphere);
//# sourceMappingURL=AstroSphere.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/AstroViewer.js":
/*!**********************************************!*\
  !*** ../astro-viewer/lib-esm/AstroViewer.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AstroViewer: () => (/* binding */ AstroViewer)
/* harmony export */ });
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _AstroSphere_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AstroSphere.js */ "../astro-viewer/lib-esm/AstroSphere.js");
/* harmony import */ var _model_hips_HiPSDescriptor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./model/hips/HiPSDescriptor.js */ "../astro-viewer/lib-esm/model/hips/HiPSDescriptor.js");
/* harmony import */ var _Config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Config.js */ "../astro-viewer/lib-esm/Config.js");
/* harmony import */ var _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/grid/HealpixGridSingleton.js */ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js");
/* harmony import */ var _model_grid_EquatorialGrid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./model/grid/EquatorialGrid.js */ "../astro-viewer/lib-esm/model/grid/EquatorialGrid.js");






class AstroViewer {
    astroSphere;
    canvas;
    webgl;
    rafId = null;
    // API
    run() {
        return this.tick();
    }
    // CATALOGUES
    showCatalogue(catalogue) {
        this.astroSphere.showCatalogue(catalogue);
    }
    hideCatalogue(catalogue, isVisible) {
        catalogue.setIsVisible(isVisible);
    }
    deleteCatalogue(catalogue) {
        this.astroSphere.deleteCatalogue(catalogue);
    }
    changeCatalogueRA(catalogue, raColumnName) {
        catalogue.changeMetaRA(raColumnName);
        // catalogue.catalogueProps.changeCatalogueMetaRA(raColumnName)
        return catalogue;
    }
    changeCatalogueDec(catalogue, decColumnName) {
        catalogue.changeMetaDec(decColumnName);
        // catalogue.catalogueProps.changeCatalogueMetaDec(decColumnName)
        return catalogue;
    }
    changeCatalogueColor(catalogue, hexColor) {
        catalogue.changeColor(hexColor);
        // catalogue.catalogueProps.changeColor(hexColor)
        return catalogue;
    }
    setCatalogueShapeHue(catalogue, metadataColumnName) {
        catalogue.changeMetaShapeHue(metadataColumnName);
        return catalogue;
    }
    setCatalogueShapeSize(catalogue, metadataColumnName) {
        catalogue.changeMetaShapeSize(metadataColumnName);
        return catalogue;
    }
    //FOOTPRINT
    showFootprintSet(footprintSet) {
        this.astroSphere.showFootprintSet(footprintSet);
    }
    hideFootprintSet(footprintSet, isVisible) {
        footprintSet.setIsVisible(isVisible);
    }
    deleteFootprintSet(footprintSet) {
        this.astroSphere.deleteFootprintSet(footprintSet);
    }
    changeFootprintSetColor(footprintSet, hexColor) {
        // footprintSet.footprintsetProps.changeColor(hexColor)
        footprintSet.changeColor(hexColor);
    }
    getHoveredFootprints() {
        return this.astroSphere.getHoveredFootprints();
    }
    // HIPS
    getDefaultHiPSURL() {
        return _Config_js__WEBPACK_IMPORTED_MODULE_3__.bootSetup.defaultHipsUrl;
    }
    activateHiPS(hipsDescriptor) {
        this.astroSphere.activateHiPS(hipsDescriptor);
    }
    async loadHiPS(baseUrl) {
        const hipsUrl = baseUrl.endsWith('/') ? baseUrl : baseUrl + '/';
        const resp = await fetch(hipsUrl + 'properties');
        if (!resp.ok)
            throw new Error(`HTTP ${resp.status} fetching properties`);
        const propsText = await resp.text();
        const desc = new _model_hips_HiPSDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.HiPSDescriptor(propsText, hipsUrl);
        this.activateHiPS(desc);
    }
    // GOTOs and COORDS
    goTo(raDeg, decDeg) {
        this.astroSphere.goTo(raDeg, decDeg);
    }
    getCenterCoordinates() {
        return this.astroSphere.getCentralPointCoordinates();
    }
    getCoordinatesFromMouse() {
        return this.astroSphere.getLastMousePointCoordinates();
    }
    // GRIDs
    toggleHealpixGrid() {
        _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__["default"].toggleShowGrid();
    }
    isHealpixGridVisible() {
        return _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__["default"].isVisible();
    }
    toggleEquatorialGrid() {
        _model_grid_EquatorialGrid_js__WEBPACK_IMPORTED_MODULE_5__["default"].toggleShowGrid();
    }
    isEquatorialGridVisible() {
        return _model_grid_EquatorialGrid_js__WEBPACK_IMPORTED_MODULE_5__["default"].isVisible();
    }
    // FOV
    getFoV() {
        return this.astroSphere.getFoV();
    }
    getFoVPolygon() {
        return this.astroSphere.getFoVPolygon();
    }
    changeFoV(deg) {
        this, this.astroSphere.changeFoV(deg);
    }
    changeFoV2(deg) {
        this, this.astroSphere.changeFoV2(deg);
    }
    changeFoV3(deg) {
        this, this.astroSphere.changeFoV3(deg);
    }
    getInsideSphere() {
        return this.astroSphere.getInsideSphere();
    }
    toggleInsideSphere() {
        this.astroSphere.toggleInsideSphere();
    }
    // Internal
    constructor(canvasDomId) {
        this.init(canvasDomId);
    }
    init(canvasDomId) {
        console.log('init webgl');
        const c = document.getElementById(canvasDomId);
        if (!(c instanceof HTMLCanvasElement)) {
            throw new Error(`Element with id ${canvasDomId} is not a canvas.`);
        }
        this.canvas = c;
        const gl = this.canvas.getContext('webgl2', { alpha: false });
        if (!gl) {
            alert('Could not initialise WebGL, sorry :-(');
            throw new Error('WebGL2 not available');
        }
        // Extend with custom fields used elsewhere
        this.webgl = gl;
        this.webgl.viewportWidth = this.canvas.width;
        this.webgl.viewportHeight = this.canvas.height;
        try {
            // 1/255 = 0.00392156862
            this.webgl.clearColor(0 * 0.00392156862, 16 * 0.00392156862, 50 * 0.00392156862, 0.7);
        }
        catch (e) {
            console.log('Error instantiating WebGL context');
        }
        this.initListeners();
        _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl = this.webgl;
        this.astroSphere = new _AstroSphere_js__WEBPACK_IMPORTED_MODULE_1__["default"](this.canvas, this.webgl);
    }
    initListeners() {
        console.log('inside initListeners');
        const resizeCanvas = () => {
            console.log('[resizeCanvas]');
            const newWidth = window.innerWidth - 3;
            const newHeight = window.innerHeight - 3;
            this.canvas.width = newWidth;
            this.canvas.height = newHeight;
            this.webgl.viewportWidth = this.canvas.width;
            this.webgl.viewportHeight = this.canvas.height;
            this.webgl.viewport(0, 0, this.canvas.width, this.canvas.height);
        };
        const handleContextLost = (event) => {
            console.log('[handleContextLost]');
            event.preventDefault();
            if (this.rafId !== null) {
                cancelAnimationFrame(this.rafId);
                this.rafId = null;
            }
        };
        const handleContextRestored = (_event) => {
            console.log('[handleContextRestored]');
            this.webgl.viewportWidth = this.canvas.width;
            this.webgl.viewportHeight = this.canvas.height;
            this.webgl.clearColor(0 * 0.00392156862, 16 * 0.00392156862, 50 * 0.00392156862, 0.7);
            this.webgl.enable(this.webgl.DEPTH_TEST);
            this.rafId = requestAnimationFrame(() => this.tick());
        };
        window.addEventListener('resize', resizeCanvas);
        this.canvas.addEventListener('webglcontextlost', handleContextLost, false);
        this.canvas.addEventListener('webglcontextrestored', handleContextRestored, false);
        resizeCanvas();
    }
    tick() {
        this.drawScene();
        this.rafId = requestAnimationFrame(() => this.tick());
        return this.rafId;
    }
    drawScene() {
        this.astroSphere.draw(this.canvas);
    }
}
//# sourceMappingURL=AstroViewer.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/Camera.js":
/*!*****************************************!*\
  !*** ../astro-viewer/lib-esm/Camera.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js");
/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/Utils.js */ "../astro-viewer/lib-esm/utils/Utils.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Global.js */ "../astro-viewer/lib-esm/Global.js");
/**
 * @author Fabrizio Giordano (Fab)
 */



class Camera {
    insideSphere = false;
    cam_pos = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create(); // camera position
    cam_speed = 1.0;
    vMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(); // view matrix
    T = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(); // translation matrix
    R = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(); // rotation matrix
    // Optional state used in rotate helpers
    FoV = 180.0;
    previousFoV = 180.0;
    move = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
    phi = 0; // accumulated yaw (radians)
    theta = 0; // accumulated pitch (radians)
    constructor(in_position, in_sphere) {
        this.init(in_position, in_sphere);
    }
    init(in_position, in_sphere) {
        this.insideSphere = in_sphere;
        this.cam_pos = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.clone(in_position);
        this.vMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        this.T = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        this.R = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(this.T, this.T, [this.cam_pos[0], this.cam_pos[1], this.cam_pos[2]]);
        // reset helpers
        this.FoV = this.previousFoV = 180.0;
        this.move = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.clone([0, 0, 0]);
        const raDeg = 0;
        const decDeg = 0;
        this.goTo(raDeg, decDeg);
    }
    goTo(raDeg, decDeg) {
        // eslint-disable-next-line no-console
        console.log(`global.insideSphere: ${_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere}`);
        // mirror RA
        const mirroredRA = 360 - raDeg;
        this.goToPhiTheta((0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_2__.astroDegToSpherical)(mirroredRA, decDeg));
    }
    goToPhiTheta(ptDeg) {
        const xyz = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_2__.sphericalToCartesian)(ptDeg.phi, ptDeg.theta, this.cam_pos[2]);
        let cameraMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        cameraMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(cameraMatrix, cameraMatrix, gl_matrix__WEBPACK_IMPORTED_MODULE_1__.fromValues(xyz[0], xyz[1], xyz[2]));
        const focusPoint = [0.0, 0.0, 0.0];
        const cameraUp = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.clone([0.0, 1.0, 0.0]);
        const cameraPos = [cameraMatrix[12], cameraMatrix[13], cameraMatrix[14]];
        cameraMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.targetTo(cameraMatrix, cameraPos, focusPoint, cameraUp);
        this.R = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.clone(cameraMatrix);
        this.R[12] = 0;
        this.R[13] = 0;
        this.R[14] = 0;
        const viewMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        if (this.cam_pos[2] !== 0) {
            gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(viewMatrix, cameraMatrix);
        }
        this.vMatrix = viewMatrix;
    }
    toggleInsideSphere() {
        // if (inside !== global.insideSphere) {
        //   global.insideSphere = inside;
        if (_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere) {
            if (this.cam_pos[2] <= 2) {
                this.cam_pos[2] = -2 + this.cam_pos[2];
            }
            else {
                this.cam_pos[2] = -0.005;
            }
        }
        else {
            this.cam_pos[2] = 2.0 + this.cam_pos[2];
        }
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(this.T, gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(), this.cam_pos);
        this.refreshViewMatrix();
        // }
    }
    zoom(inertia) {
        this.move = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.clone([0, 0, 0]);
        this.move[2] += this.cam_speed * inertia;
        if (_Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].insideSphere) {
            if (this.cam_pos[2] + this.move[2] >= -0.005 && inertia > 0) {
                this.cam_pos[2] = -0.005;
                inertia = 0;
            }
            else if (this.cam_pos[2] + this.move[2] <= -0.9885 && inertia < 0) {
                this.cam_pos[2] = -0.9885;
                inertia = 0;
            }
            else {
                this.cam_pos[2] += this.move[2];
            }
        }
        else {
            if (this.cam_pos[2] < 1.005) {
                this.move[2] *= this.cam_pos[2] / 100;
            }
            else if (this.cam_pos[2] < 1.05) {
                this.move[2] *= this.cam_pos[2] / 20;
            }
            else if (this.cam_pos[2] < 1.3) {
                this.move[2] *= this.cam_pos[2] / 3;
            }
            if (this.cam_pos[2] + this.move[2] <= 1.000001 && inertia < 0) {
                this.cam_pos[2] = 1.000001;
            }
            else {
                this.cam_pos[2] += this.move[2];
            }
            // NOTE: your original code adds move[2] twice; if that's unintended, remove this next line.
            // this.cam_pos[2] += this.move[2];
        }
        const identity = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(this.T, identity, this.cam_pos);
        this.refreshViewMatrix();
    }
    /**
     * Move the camera forward/backward along its current viewing direction.
     * Positive distance moves *forward* (toward where the camera is looking),
     * negative distance moves *backward*.
     *
     * This does not enforce inside/outside-sphere bounds; if you want clamping,
     * handle it before calling or we can extend this to mimic `zoom()` bounds.
     */
    moveAlongView(distance) {
        // World-space forward vector: transform camera-space -Z by inverse rotation
        const R_inverse = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(R_inverse, this.R);
        const forwardCam = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.fromValues(0, 0, -1); // camera looks along -Z in its local space
        const fwdWorld = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_1__.transformMat4(fwdWorld, forwardCam, R_inverse);
        // Normalise to get direction only
        const len = Math.hypot(fwdWorld[0], fwdWorld[1], fwdWorld[2]);
        if (len > 0) {
            fwdWorld[0] /= len;
            fwdWorld[1] /= len;
            fwdWorld[2] /= len;
        }
        // Update camera position
        this.cam_pos[0] += fwdWorld[0] * distance;
        this.cam_pos[1] += fwdWorld[1] * distance;
        this.cam_pos[2] += fwdWorld[2] * distance;
        // Rebuild translation matrix and view matrix
        const identity = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(this.T, identity, this.cam_pos);
        this.refreshViewMatrix();
    }
    translate(distance) {
        // const pos = this.getCameraPosition();
        this.cam_pos[2] = distance + 1;
        // vec3.scale(pos, pos, distance);
        const identity = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(this.T, identity, this.cam_pos);
        this.refreshViewMatrix();
    }
    rotateZ(sign) {
        const factorRad = sign * 0.01;
        this.phi += factorRad;
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, factorRad, [0, 0, 1]);
        this.refreshViewMatrix();
    }
    rotateY(sign) {
        const factorRad = sign * 0.01;
        this.phi += factorRad;
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, factorRad, [0, 1, 0]);
        this.refreshViewMatrix();
    }
    rotateXRadian(radian) {
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, radian, [1, 0, 0]);
        this.refreshViewMatrix();
    }
    rotateYRadian(radian) {
        this.phi += radian;
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, radian, [0, 1, 0]);
        this.refreshViewMatrix();
    }
    rotateZRadian(radian) {
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, radian, [0, 0, 1]);
        this.refreshViewMatrix();
    }
    rotateX(sign) {
        const factorRad = sign * 0.01;
        this.theta += factorRad;
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, factorRad, [1, 0, 0]);
        this.refreshViewMatrix();
    }
    rotate(phi, theta) {
        const totRot = Math.sqrt(phi * phi + theta * theta);
        if (totRot === 0)
            return;
        const pos = this.getCameraPosition();
        const dist2Center = Math.sqrt(pos[0] * pos[0] + pos[1] * pos[1] + pos[2] * pos[2]);
        const usedRot = (totRot * (dist2Center - 1)) / 3.0;
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, -usedRot, [theta / totRot, phi / totRot, 0]);
        this.refreshViewMatrix();
    }
    refreshViewMatrix() {
        const T_inverse = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        const R_inverse = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(T_inverse, this.T);
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(R_inverse, this.R);
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.multiply(this.vMatrix, T_inverse, R_inverse);
    }
    refreshFoV(currentFoV) {
        this.previousFoV = this.FoV;
        this.FoV = currentFoV;
    }
    getCameraMatrix() {
        return this.vMatrix;
    }
    getCameraPosition() {
        const inv = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        if (!gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(inv, this.vMatrix)) {
            // fallback — we already maintain cam_pos
            return [this.cam_pos[0], this.cam_pos[1], this.cam_pos[2]];
        }
        return [inv[12], inv[13], inv[14]];
    }
    // setCameraPosition(position: Vec3Tuple) {
    //   const inv = mat4.create();
    //   if (mat4.invert(inv, this.vMatrix)) {
    //     [inv[12], inv[13], inv[14]] = [position[0], position[1], position[2]]
    //     mat4.invert(this.vMatrix, inv)
    //   }
    // }
    setCameraPosition(position) {
        // Update authoritative position
        this.cam_pos = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.fromValues(position[0], position[1], position[2]);
        // Rebuild translation matrix from cam_pos
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(this.T, gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(), this.cam_pos);
        // Do NOT touch this.R here (keep orientation)
        // Recompute view: vMatrix = inv(T) * inv(R)
        this.refreshViewMatrix();
    }
    getCameraAngle() {
        const [x, y, z] = this.getCameraPosition();
        const posVec = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.fromValues(x, y, z);
        const ptDeg = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_2__.cartesianToSpherical)(posVec);
        // eslint-disable-next-line no-console
        console.log("[Camera::getCameraAngle]", ptDeg);
        return ptDeg;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Camera);
//# sourceMappingURL=Camera.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/Config.js":
/*!*****************************************!*\
  !*** ../astro-viewer/lib-esm/Config.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bootSetup: () => (/* binding */ bootSetup),
/* harmony export */   hipsNodes: () => (/* binding */ hipsNodes),
/* harmony export */   tapRepos: () => (/* binding */ tapRepos)
/* harmony export */ });
const hipsNodes = [
    "https://skies.esac.esa.int/",
    "https://alasky.cds.unistra.fr/",
];
// If you want to re-enable multiple TAP repos, just uncomment and extend the array
// export const tapRepos: string[] = [
//   "https://archive.eso.org/tap_cat/",
//   "https://archive.eso.org/tap_obs/",
//   "https://sky.esa.int/esasky-tap/tap/",
//   "https://ws.cadc-ccda.hia-iha.nrc-cnrc.gc.ca/argus",
// ];
const tapRepos = [
    "https://sky.esa.int/esasky-tap/tap/",
];
const bootSetup = {
    insideSphere: false,
    defaultHips: "",
    camera_fov_deg: 34,
    camera_fov_rad: 34 * Math.PI / 180.0,
    camera_near_plane: 0.00001,
    camera_far_plane: 2.5,
    corsProxyUrl: "http://localhost:4000/",
    useCORSProxy: false,
    maxDecimals: 15,
    // defaultHipsUrl: "//alasky.u-strasbg.fr/DSS/DSSColor/",
    defaultHipsUrl: "https://cdn.skies.esac.esa.int/DSSColor/",
    version: "Astrobrowser v1.0.0",
    debug: false,
    insideView: false,
};
//# sourceMappingURL=Config.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/Global.js":
/*!*****************************************!*\
  !*** ../astro-viewer/lib-esm/Global.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var healpixjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! healpixjs */ "../astro-viewer/node_modules/healpixjs/lib-esm/index.js");
/* harmony import */ var _Config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Config.js */ "../astro-viewer/lib-esm/Config.js");



class Global {
    // --- cached / runtime state ---
    _camera;
    _gl;
    _healpix;
    // --- config/state flags ---
    _selectionnside;
    // private _healpix4footprints: boolean;
    _useCORSProxy;
    _corsProxyUrl;
    _maxDecimals;
    _debug;
    _insideSphere;
    _version;
    constructor() {
        this._useCORSProxy = _Config_js__WEBPACK_IMPORTED_MODULE_1__.bootSetup.useCORSProxy;
        this._corsProxyUrl = _Config_js__WEBPACK_IMPORTED_MODULE_1__.bootSetup.corsProxyUrl;
        this._maxDecimals = _Config_js__WEBPACK_IMPORTED_MODULE_1__.bootSetup.maxDecimals;
        this._debug = _Config_js__WEBPACK_IMPORTED_MODULE_1__.bootSetup.debug;
        this._insideSphere = _Config_js__WEBPACK_IMPORTED_MODULE_1__.bootSetup.insideView;
        this._version = _Config_js__WEBPACK_IMPORTED_MODULE_1__.bootSetup.version;
        this._camera = null;
        this._gl = null;
        this._healpix = {};
        this._selectionnside = 32;
        // this._healpix4footprints = false;
    }
    init() {
        console.log('Global.init()');
    }
    // --- getters/setters ---
    get version() { return this._version; }
    set corsProxyUrl(url) { this._corsProxyUrl = url; }
    get corsProxyUrl() { return this._corsProxyUrl; }
    get useCORSProxy() { return this._useCORSProxy; }
    set useCORSProxy(enabled) { this._useCORSProxy = enabled; }
    get debug() { return this._debug; }
    getHealpix(order) {
        if (this._healpix[order] === undefined) {
            // order is HEALPix "order" ⇒ nside = 2^order
            this._healpix[order] = new healpixjs__WEBPACK_IMPORTED_MODULE_0__.Healpix(Math.pow(2, order));
        }
        return this._healpix[order];
    }
    get MAX_DECIMALS() { return this._maxDecimals; }
    get camera() { return this._camera; }
    set camera(in_camera) { this._camera = in_camera; }
    get gl() { return this._gl; }
    set gl(in_gl) { this._gl = in_gl; }
    set insideSphere(v) { this._insideSphere = v; }
    get insideSphere() { return this._insideSphere; }
    get nsideForSelection() { return this._selectionnside; }
}
const global = new Global();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (global);
//# sourceMappingURL=Global.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/AbstractSkyEntity.js":
/*!**********************************************************!*\
  !*** ../astro-viewer/lib-esm/model/AbstractSkyEntity.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Global.js */ "../astro-viewer/lib-esm/Global.js");
/**
 * @author Fabrizio Giordano (Fab)
 */


class AbstractSkyEntity {
    // Public-ish properties used elsewhere in the app
    refreshMe = false;
    fovX_deg = 180;
    fovY_deg = 180;
    xRad;
    yRad;
    prevFoV = this.fovX_deg;
    name;
    // public insideSphere: boolean = bootSetup.insideSphere
    // Picking/sphere
    center;
    radius;
    isGalacticHips;
    // GL resources
    vertexTextureCoordBuffer = null;
    vertexPositionBuffer = null;
    vertexIndexBuffer = null;
    shaderProgram = null;
    // Matrices
    T = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
    R = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
    modelMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
    inverseModelMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
    // Precomputed transform from galactic to equatorial (already inverted)
    galacticMatrixInverted = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
    constructor(in_radius, in_position, in_xRad, in_yRad, in_name, isGalacticHips) {
        this.xRad = in_xRad;
        this.yRad = in_yRad;
        this.name = in_name;
        this.center = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.clone(in_position);
        this.radius = in_radius;
        // this.insideSphere = global.insideSphere
        this.isGalacticHips = !!isGalacticHips;
        // Fill the matrix via Float32Array.set (safer than mat4.set with 16 scalars)
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.set(this.galacticMatrixInverted, -0.054875582456588745, -0.8734370470046997, -0.48383501172065735, 0, 0.49410945177078247, -0.4448296129703522, 0.7469822764396667, 0, -0.8676661849021912, -0.19807636737823486, 0.4559837877750397, 0, 0, 0, 0, 1);
    }
    /** GL setup and initial model transform */
    initGL(gl) {
        // GL resources
        this.vertexTextureCoordBuffer = gl.createBuffer();
        this.vertexPositionBuffer = gl.createBuffer();
        this.vertexIndexBuffer = gl.createBuffer();
        this.shaderProgram = gl.createProgram();
        // Reset object transforms
        this.T = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        this.R = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        this.modelMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        this.inverseModelMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        // Initial pose
        this.translate(this.center);
        this.rotate(this.xRad, this.yRad);
    }
    translate(translation) {
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.translate(this.T, this.T, translation);
        this.refreshModelMatrix();
    }
    rotate(rad1, rad2) {
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, rad2, [0, 0, 1]);
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, rad1, [1, 0, 0]);
        this.refreshModelMatrix();
    }
    rotateFromZero(rad1, rad2) {
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.identity(this.R);
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, rad1, [1, 0, 0]);
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.rotate(this.R, this.R, rad2, [0, 0, 1]);
        this.refreshModelMatrix();
    }
    refreshModelMatrix() {
        const R_inverse = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(R_inverse, this.R);
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.multiply(this.modelMatrix, this.T, R_inverse);
        // Flip Y if we're outside the sphere
        if (!_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].insideSphere) {
            this.modelMatrix[1] = -this.modelMatrix[1];
            this.modelMatrix[5] = -this.modelMatrix[5];
            this.modelMatrix[9] = -this.modelMatrix[9];
            this.modelMatrix[13] = -this.modelMatrix[13];
        }
        // Apply galactic frame transform if needed
        if (this.isGalacticHips) {
            gl_matrix__WEBPACK_IMPORTED_MODULE_0__.multiply(this.modelMatrix, this.modelMatrix, this.galacticMatrixInverted);
        }
    }
    getModelMatrixInverse() {
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.identity(this.inverseModelMatrix);
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(this.inverseModelMatrix, this.modelMatrix);
        return this.inverseModelMatrix;
    }
    getModelMatrix() {
        return this.modelMatrix;
    }
    /** Children with hierarchical geometry (e.g., HiPS) can override this. */
    setGeometryNeedsToBeRefreshed() {
        this.refreshGeometryOnFoVChanged = false;
    }
    // Helpers operating on raw mat4 buffers (kept from your JS)
    rotateX(m, angle) {
        const c = Math.cos(angle);
        const s = Math.sin(angle);
        const mv1 = m[1], mv5 = m[5], mv9 = m[9];
        m[1] = m[1] * c - m[2] * s;
        m[5] = m[5] * c - m[6] * s;
        m[9] = m[9] * c - m[10] * s;
        m[2] = m[2] * c + mv1 * s;
        m[6] = m[6] * c + mv5 * s;
        m[10] = m[10] * c + mv9 * s;
        return m;
    }
    rotateY(m, angle) {
        const c = Math.cos(angle);
        const s = Math.sin(angle);
        const mv0 = m[0], mv4 = m[4], mv8 = m[8];
        m[0] = c * m[0] + s * m[2];
        m[4] = c * m[4] + s * m[6];
        m[8] = c * m[8] + s * m[10];
        m[2] = c * m[2] - s * mv0;
        m[6] = c * m[6] - s * mv4;
        m[10] = c * m[10] - s * mv8;
        return m;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AbstractSkyEntity);
//# sourceMappingURL=AbstractSkyEntity.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/ColorMaps.js":
/*!**************************************************!*\
  !*** ../astro-viewer/lib-esm/model/ColorMaps.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMaps: () => (/* binding */ ColorMaps),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const ColorMaps = {
    grayscale: {
        name: 'grayscale',
        r: [],
        g: [],
        b: [],
    },
    native: {
        name: 'native',
        r: [],
        g: [],
        b: [],
    },
    planck: {
        name: 'planck',
        r: [
            0.0, 0.769231, 1.53846, 2.30769, 3.07692, 3.84615, 4.61538, 5.38462, 6.15385, 6.92308, 7.69231,
            8.46154, 9.23077, 10.0, 11.5385, 13.0769, 14.6154, 16.1538, 17.6923, 19.2308, 20.7692, 22.3077,
            23.8462, 25.3846, 26.9231, 28.4615, 30.0, 33.8462, 37.6923, 41.5385, 45.3846, 49.2308, 53.0769,
            56.9231, 60.7692, 64.6154, 68.4615, 72.3077, 76.1538, 80.0, 88.5385, 97.0769, 105.615, 114.154,
            122.692, 131.231, 139.769, 148.308, 156.846, 165.385, 173.923, 182.462, 191.0, 193.846, 196.692,
            199.538, 202.385, 205.231, 208.077, 210.923, 213.769, 216.615, 219.462, 222.308, 225.154, 228.0,
            229.182, 230.364, 231.545, 232.727, 233.909, 235.091, 236.273, 237.455, 238.636, 239.818, 241.0,
            241.0, 241.364, 241.727, 242.091, 242.455, 242.818, 243.182, 243.545, 243.909, 244.273, 244.636,
            245.0, 245.231, 245.462, 245.692, 245.923, 246.154, 246.385, 246.615, 246.846, 247.077, 247.308,
            247.538, 247.769, 248.0, 248.146, 248.292, 248.438, 248.585, 248.731, 248.877, 249.023, 249.169,
            249.315, 249.462, 249.608, 249.754, 249.9, 249.312, 248.723, 248.135, 247.546, 246.958, 246.369,
            245.781, 245.192, 244.604, 244.015, 243.427, 242.838, 242.25, 239.308, 236.365, 233.423,
            230.481, 227.538, 224.596, 221.654, 218.712, 215.769, 212.827, 209.885, 206.942, 204.0, 201.0,
            198.0, 195.0, 192.0, 189.0, 186.0, 183.0, 180.0, 177.0, 174.0, 171.0, 168.0, 165.0, 161.077,
            157.154, 153.231, 149.308, 145.385, 141.462, 137.538, 133.615, 129.692, 125.769, 121.846,
            117.923, 114.0, 115.038, 116.077, 117.115, 118.154, 119.192, 120.231, 121.269, 122.308, 123.346,
            124.385, 125.423, 126.462, 127.5, 131.423, 135.346, 139.269, 143.192, 147.115, 151.038, 154.962,
            158.885, 162.808, 166.731, 170.654, 174.577, 178.5, 180.462, 182.423, 184.385, 186.346, 188.308,
            190.269, 192.231, 194.192, 196.154, 198.115, 200.077, 202.038, 204.0, 205.962, 207.923, 209.885,
            211.846, 213.808, 215.769, 217.731, 219.692, 221.654, 223.615, 225.577, 227.538, 229.5, 230.481,
            231.462, 232.442, 233.423, 234.404, 235.385, 236.365, 237.346, 238.327, 239.308, 240.288,
            241.269, 242.25, 242.642, 243.035, 243.427, 243.819, 244.212, 244.604, 244.996, 245.388,
            245.781, 246.173, 246.565, 246.958, 247.35, 247.814, 248.277, 248.741, 249.205, 249.668,
            250.132, 250.595, 251.059, 251.523, 251.986, 252.45
        ],
        g: [
            0.0, 1.53846, 3.07692, 4.61538, 6.15385, 7.69231, 9.23077, 10.7692, 12.3077, 13.8462, 15.3846,
            16.9231, 18.4615, 20.0, 32.6154, 45.2308, 57.8462, 70.4615, 83.0769, 95.6923, 108.308, 120.923,
            133.538, 146.154, 158.769, 171.385, 184.0, 187.923, 191.846, 195.769, 199.692, 203.615, 207.538,
            211.462, 215.385, 219.308, 223.231, 227.154, 231.077, 235.0, 235.308, 235.615, 235.923, 236.231,
            236.538, 236.846, 237.154, 237.462, 237.769, 238.077, 238.385, 238.692, 239.0, 239.077, 239.154,
            239.231, 239.308, 239.385, 239.462, 239.538, 239.615, 239.692, 239.769, 239.846, 239.923, 240.0,
            240.091, 240.182, 240.273, 240.364, 240.455, 240.545, 240.636, 240.727, 240.818, 240.909, 241.0,
            241.0, 240.909, 240.818, 240.727, 240.636, 240.545, 240.455, 240.364, 240.273, 240.182, 240.091,
            240.0, 239.615, 239.231, 238.846, 238.462, 238.077, 237.692, 237.308, 236.923, 236.538, 236.154,
            235.769, 235.385, 235.0, 232.615, 230.231, 227.846, 225.462, 223.077, 220.692, 218.308, 215.923,
            213.538, 211.154, 208.769, 206.385, 204.0, 200.077, 196.154, 192.231, 188.308, 184.385, 180.462,
            176.538, 172.615, 168.692, 164.769, 160.846, 156.923, 153.0, 147.115, 141.231, 135.346, 129.462,
            123.577, 117.692, 111.808, 105.923, 100.038, 94.1538, 88.2692, 82.3846, 76.5, 73.0769, 69.6538,
            66.2308, 62.8077, 59.3846, 55.9615, 52.5385, 49.1154, 45.6923, 42.2692, 38.8462, 35.4231, 32.0,
            29.5385, 27.0769, 24.6154, 22.1538, 19.6923, 17.2308, 14.7692, 12.3077, 9.84615, 7.38462,
            4.92308, 2.46154, 0.0, 9.80769, 19.6154, 29.4231, 39.2308, 49.0385, 58.8462, 68.6538, 78.4615,
            88.2692, 98.0769, 107.885, 117.692, 127.5, 131.423, 135.346, 139.269, 143.192, 147.115, 151.038,
            154.962, 158.885, 162.808, 166.731, 170.654, 174.577, 178.5, 180.462, 182.423, 184.385, 186.346,
            188.308, 190.269, 192.231, 194.192, 196.154, 198.115, 200.077, 202.038, 204.0, 205.962, 207.923,
            209.885, 211.846, 213.808, 215.769, 217.731, 219.692, 221.654, 223.615, 225.577, 227.538, 229.5,
            230.481, 231.462, 232.442, 233.423, 234.404, 235.385, 236.365, 237.346, 238.327, 239.308,
            240.288, 241.269, 242.25, 242.642, 243.035, 243.427, 243.819, 244.212, 244.604, 244.996,
            245.388, 245.781, 246.173, 246.565, 246.958, 247.35, 247.814, 248.277, 248.741, 249.205,
            249.668, 250.132, 250.595, 251.059, 251.523, 251.986, 252.45
        ],
        b: [
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 254.615, 254.231, 253.846, 253.462, 253.077, 252.692, 252.308, 251.923, 251.538, 251.154,
            250.769, 250.385, 250.0, 249.615, 249.231, 248.846, 248.462, 248.077, 247.692, 247.308, 246.923,
            246.538, 246.154, 245.769, 245.385, 245.0, 242.0, 239.0, 236.0, 233.0, 230.0, 227.0, 224.0,
            221.0, 218.0, 215.0, 212.0, 212.0, 208.636, 205.273, 201.909, 198.545, 195.182, 191.818,
            188.455, 185.091, 181.727, 178.364, 175.0, 171.538, 168.077, 164.615, 161.154, 157.692, 154.231,
            150.769, 147.308, 143.846, 140.385, 136.923, 133.462, 130.0, 122.942, 115.885, 108.827, 101.769,
            94.7115, 87.6539, 80.5962, 73.5385, 66.4808, 59.4231, 52.3654, 45.3077, 38.25, 36.2885, 34.3269,
            32.3654, 30.4038, 28.4423, 26.4808, 24.5192, 22.5577, 20.5962, 18.6346, 16.6731, 14.7115, 12.75,
            11.7692, 10.7885, 9.80769, 8.82692, 7.84615, 6.86539, 5.88461, 4.90385, 3.92308, 2.94231,
            1.96154, 0.980769, 0.0, 2.46154, 4.92308, 7.38462, 9.84616, 12.3077, 14.7692, 17.2308, 19.6923,
            22.1538, 24.6154, 27.0769, 29.5385, 32.0, 32.0, 32.0, 32.0, 32.0, 32.0, 32.0, 32.0, 32.0, 32.0,
            32.0, 32.0, 32.0, 32.0, 41.3077, 50.6154, 59.9231, 69.2308, 78.5385, 87.8462, 97.1539, 106.462,
            115.769, 125.077, 134.385, 143.692, 153.0, 156.923, 160.846, 164.769, 168.692, 172.615, 176.538,
            180.462, 184.385, 188.308, 192.231, 196.154, 200.077, 204.0, 205.962, 207.923, 209.885, 211.846,
            213.808, 215.769, 217.731, 219.692, 221.654, 223.615, 225.577, 227.538, 229.5, 230.481, 231.462,
            232.442, 233.423, 234.404, 235.385, 236.365, 237.346, 238.327, 239.308, 240.288, 241.269,
            242.25, 242.838, 243.427, 244.015, 244.604, 245.192, 245.781, 246.369, 246.958, 247.546,
            248.135, 248.723, 249.312, 249.9, 250.096, 250.292, 250.488, 250.685, 250.881, 251.077, 251.273,
            251.469, 251.665, 251.862, 252.058, 252.254, 252.45, 252.682, 252.914, 253.145, 253.377,
            253.609, 253.841, 254.073, 254.305, 254.536, 254.768, 255.0
        ],
    },
    cmb: {
        name: 'cmb',
        r: [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12, 18, 24, 30, 36, 42, 48,
            54, 60, 66, 72, 78, 85, 91, 97, 103, 109, 115, 121, 127, 133, 139, 145, 151, 157, 163, 170, 176,
            182, 188, 194, 200, 206, 212, 218, 224, 230, 236, 242, 248, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 251, 247, 244, 240, 236, 233, 229, 226, 222, 218, 215, 211, 208, 204, 200, 197,
            193, 190, 186, 182, 179, 175, 172, 168, 164, 161, 157, 154, 150, 146, 143, 139, 136, 132, 128,
            125, 121, 118, 114, 110, 107, 103, 100
        ],
        g: [
            0, 2, 5, 8, 10, 13, 16, 18, 21, 24, 26, 29, 32, 34, 37, 40, 42, 45, 48, 50, 53, 56, 58, 61, 64,
            66, 69, 72, 74, 77, 80, 82, 85, 88, 90, 93, 96, 98, 101, 104, 106, 109, 112, 114, 117, 119, 122,
            124, 127, 129, 132, 134, 137, 139, 142, 144, 147, 150, 152, 155, 157, 160, 162, 165, 167, 170,
            172, 175, 177, 180, 182, 185, 188, 190, 193, 195, 198, 200, 203, 205, 208, 210, 213, 215, 218,
            221, 221, 221, 222, 222, 222, 223, 223, 224, 224, 224, 225, 225, 225, 226, 226, 227, 227, 227,
            228, 228, 229, 229, 229, 230, 230, 230, 231, 231, 232, 232, 232, 233, 233, 233, 234, 234, 235,
            235, 235, 236, 236, 237, 235, 234, 233, 231, 230, 229, 227, 226, 225, 223, 222, 221, 219, 218,
            217, 215, 214, 213, 211, 210, 209, 207, 206, 205, 203, 202, 201, 199, 198, 197, 195, 194, 193,
            191, 190, 189, 187, 186, 185, 183, 182, 181, 180, 177, 175, 172, 170, 167, 165, 162, 160, 157,
            155, 152, 150, 147, 145, 142, 140, 137, 135, 132, 130, 127, 125, 122, 120, 117, 115, 112, 110,
            107, 105, 102, 100, 97, 95, 92, 90, 87, 85, 82, 80, 77, 75, 73, 71, 69, 68, 66, 64, 62, 61, 59,
            57, 55, 54, 52, 50, 48, 47, 45, 43, 41, 40, 38, 36, 34, 33, 31, 29, 27, 26, 24, 22, 20, 19, 17,
            15, 13, 12, 10, 8, 6, 5, 3, 1, 0
        ],
        b: [
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 253, 252, 251, 250, 249, 248, 247, 246,
            245, 245, 244, 243, 242, 241, 240, 239, 238, 237, 236, 236, 235, 234, 233, 232, 231, 230, 229,
            228, 227, 226, 226, 225, 224, 223, 222, 221, 220, 219, 218, 217, 217, 211, 206, 201, 196, 191,
            186, 181, 176, 171, 166, 161, 156, 151, 146, 141, 136, 131, 126, 121, 116, 111, 105, 100, 95,
            90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 15, 10, 5, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        ],
    },
    rainbow: {
        name: 'rainbow',
        r: [
            0, 4, 9, 13, 18, 22, 27, 31, 36, 40, 45, 50, 54, 58, 61, 64, 68, 69, 72, 74, 77, 79, 80, 82, 83,
            85, 84, 86, 87, 88, 86, 87, 87, 87, 85, 84, 84, 84, 83, 79, 78, 77, 76, 71, 70, 68, 66, 60, 58,
            55, 53, 46, 43, 40, 36, 33, 25, 21, 16, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 8, 12, 21, 25, 29, 33, 42, 46, 51, 55,
            63, 67, 72, 76, 80, 89, 93, 97, 101, 110, 114, 119, 123, 131, 135, 140, 144, 153, 157, 161, 165,
            169, 178, 182, 187, 191, 199, 203, 208, 212, 221, 225, 229, 233, 242, 246, 250, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255
        ],
        g: [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 8,
            16, 21, 25, 29, 38, 42, 46, 51, 55, 63, 67, 72, 76, 84, 89, 93, 97, 106, 110, 114, 119, 127,
            131, 135, 140, 144, 152, 157, 161, 165, 174, 178, 182, 187, 195, 199, 203, 208, 216, 220, 225,
            229, 233, 242, 246, 250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 250, 242, 238, 233, 229, 221, 216, 212, 208, 199, 195,
            191, 187, 178, 174, 170, 165, 161, 153, 148, 144, 140, 131, 127, 123, 119, 110, 106, 102, 97,
            89, 85, 80, 76, 72, 63, 59, 55, 51, 42, 38, 34, 29, 21, 17, 12, 8, 0
        ],
        b: [
            0, 3, 7, 10, 14, 19, 23, 28, 32, 38, 43, 48, 53, 59, 63, 68, 72, 77, 81, 86, 91, 95, 100, 104,
            109, 113, 118, 122, 127, 132, 136, 141, 145, 150, 154, 159, 163, 168, 173, 177, 182, 186, 191,
            195, 200, 204, 209, 214, 218, 223, 227, 232, 236, 241, 245, 250, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 246, 242, 238, 233, 225, 220, 216, 212,
            203, 199, 195, 191, 187, 178, 174, 170, 165, 157, 152, 148, 144, 135, 131, 127, 123, 114, 110,
            106, 102, 97, 89, 84, 80, 76, 67, 63, 59, 55, 46, 42, 38, 34, 25, 21, 16, 12, 8, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        ],
    },
    eosb: {
        name: 'eosb',
        r: [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 9, 18, 27, 36, 45, 49, 57, 72, 81, 91, 100, 109, 118, 127, 136, 131, 139, 163, 173, 182, 191,
            200, 209, 218, 227, 213, 221, 255, 255, 255, 255, 255, 255, 255, 255, 229, 229, 255, 255, 255,
            255, 255, 255, 255, 255, 229, 229, 255, 255, 255, 255, 255, 255, 255, 255, 229, 229, 255, 255,
            255, 255, 255, 255, 255, 255, 229, 229, 255, 255, 255, 255, 255, 255, 255, 255, 229, 229, 255,
            255, 255, 255, 255, 255, 255, 255, 229, 229, 255, 255, 255, 255, 255, 255, 255, 255, 229, 229,
            255, 255, 255, 255, 255, 255, 255, 255, 229, 229, 255, 255, 255, 255, 255, 255, 255, 255, 229,
            229, 255, 253, 251, 249, 247, 245, 243, 241, 215, 214, 235, 234, 232, 230, 228, 226, 224, 222,
            198, 196, 216, 215, 213, 211, 209, 207, 205, 203, 181, 179, 197, 196, 194, 192, 190, 188, 186,
            184, 164, 162, 178, 176, 175, 173, 171, 169, 167, 165, 147, 145, 159, 157, 156, 154, 152, 150,
            148, 146, 130, 128, 140, 138, 137, 135, 133, 131, 129, 127, 113, 111, 121, 119, 117, 117
        ],
        g: [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 7, 15, 23, 31, 39, 47, 55, 57, 64, 79, 87, 95, 103, 111, 119, 127, 135, 129, 136, 159, 167,
            175, 183, 191, 199, 207, 215, 200, 207, 239, 247, 255, 255, 255, 255, 255, 255, 229, 229, 255,
            255, 255, 255, 255, 255, 255, 255, 229, 229, 255, 255, 255, 255, 255, 255, 255, 255, 229, 229,
            255, 250, 246, 242, 238, 233, 229, 225, 198, 195, 212, 208, 204, 199, 195, 191, 187, 182, 160,
            156, 169, 165, 161, 157, 153, 148, 144, 140, 122, 118, 127, 125, 123, 121, 119, 116, 114, 112,
            99, 97, 106, 104, 102, 99, 97, 95, 93, 91, 80, 78, 84, 82, 80, 78, 76, 74, 72, 70, 61, 59, 63,
            61, 59, 57, 55, 53, 50, 48, 42, 40, 42, 40, 38, 36, 33, 31, 29, 27, 22, 21, 21, 19, 16, 14, 12,
            13, 8, 6, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        ],
        b: [
            116, 121, 127, 131, 136, 140, 144, 148, 153, 157, 145, 149, 170, 174, 178, 182, 187, 191, 195,
            199, 183, 187, 212, 216, 221, 225, 229, 233, 238, 242, 221, 225, 255, 247, 239, 231, 223, 215,
            207, 199, 172, 164, 175, 167, 159, 151, 143, 135, 127, 119, 100, 93, 95, 87, 79, 71, 63, 55, 47,
            39, 28, 21, 15, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0
        ],
    },
    cubehelix: {
        name: 'cubehelix',
        r: [
            0, 1, 3, 4, 6, 8, 9, 10, 12, 13, 14, 15, 17, 18, 19, 20, 20, 21, 22, 23, 23, 24, 24, 25, 25, 25,
            26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 25, 25, 25, 25, 24, 24, 24, 23, 23, 23, 23, 22, 22,
            22, 21, 21, 21, 21, 21, 21, 20, 20, 20, 21, 21, 21, 21, 21, 22, 22, 22, 23, 23, 24, 25, 26, 27,
            27, 28, 30, 31, 32, 33, 35, 36, 38, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 60, 62, 65, 67, 70,
            72, 75, 78, 81, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 120, 123, 126, 129, 132,
            135, 138, 141, 144, 147, 150, 153, 155, 158, 161, 164, 166, 169, 171, 174, 176, 178, 181, 183,
            185, 187, 189, 191, 193, 194, 196, 198, 199, 201, 202, 203, 204, 205, 206, 207, 208, 209, 209,
            210, 211, 211, 211, 212, 212, 212, 212, 212, 212, 212, 212, 211, 211, 211, 210, 210, 210, 209,
            208, 208, 207, 207, 206, 205, 205, 204, 203, 203, 202, 201, 201, 200, 199, 199, 198, 197, 197,
            196, 196, 195, 195, 194, 194, 194, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 194, 194,
            195, 195, 196, 196, 197, 198, 199, 200, 200, 202, 203, 204, 205, 206, 208, 209, 210, 212, 213,
            215, 217, 218, 220, 222, 223, 225, 227, 229, 231, 232, 234, 236, 238, 240, 242, 244, 245, 247,
            249, 251, 253, 255
        ],
        g: [
            0, 0, 1, 1, 2, 2, 3, 4, 4, 5, 6, 6, 7, 8, 9, 10, 11, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 22,
            24, 25, 26, 28, 29, 31, 32, 34, 35, 37, 38, 40, 41, 43, 45, 46, 48, 50, 52, 53, 55, 57, 58, 60,
            62, 64, 66, 67, 69, 71, 73, 74, 76, 78, 79, 81, 83, 84, 86, 88, 89, 91, 92, 94, 95, 97, 98, 99,
            101, 102, 103, 104, 106, 107, 108, 109, 110, 111, 112, 113, 114, 114, 115, 116, 116, 117, 118,
            118, 119, 119, 120, 120, 120, 121, 121, 121, 121, 122, 122, 122, 122, 122, 122, 122, 122, 122,
            122, 122, 122, 122, 122, 122, 121, 121, 121, 121, 121, 121, 121, 121, 121, 120, 120, 120, 120,
            120, 120, 120, 120, 120, 120, 121, 121, 121, 121, 121, 122, 122, 122, 123, 123, 124, 124, 125,
            125, 126, 127, 127, 128, 129, 130, 131, 131, 132, 133, 135, 136, 137, 138, 139, 140, 142, 143,
            144, 146, 147, 149, 150, 152, 154, 155, 157, 158, 160, 162, 164, 165, 167, 169, 171, 172, 174,
            176, 178, 180, 182, 183, 185, 187, 189, 191, 193, 194, 196, 198, 200, 202, 203, 205, 207, 208,
            210, 212, 213, 215, 216, 218, 219, 221, 222, 224, 225, 226, 228, 229, 230, 231, 232, 233, 235,
            236, 237, 238, 239, 240, 240, 241, 242, 243, 244, 244, 245, 246, 247, 247, 248, 248, 249, 250,
            250, 251, 251, 252, 252, 253, 253, 254, 255
        ],
        b: [
            0, 1, 3, 4, 6, 8, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47,
            48, 50, 52, 54, 56, 57, 59, 60, 62, 63, 65, 66, 67, 69, 70, 71, 72, 73, 74, 74, 75, 76, 76, 77,
            77, 77, 78, 78, 78, 78, 78, 78, 78, 77, 77, 77, 76, 76, 75, 75, 74, 73, 73, 72, 71, 70, 69, 68,
            67, 66, 66, 65, 64, 63, 61, 60, 59, 58, 58, 57, 56, 55, 54, 53, 52, 51, 51, 50, 49, 49, 48, 48,
            47, 47, 47, 46, 46, 46, 46, 46, 47, 47, 47, 48, 48, 49, 50, 50, 51, 52, 53, 55, 56, 57, 59, 60,
            62, 64, 65, 67, 69, 71, 74, 76, 78, 81, 83, 86, 88, 91, 94, 96, 99, 102, 105, 108, 111, 114,
            117, 120, 124, 127, 130, 133, 136, 140, 143, 146, 149, 153, 156, 159, 162, 165, 169, 172, 175,
            178, 181, 184, 186, 189, 192, 195, 197, 200, 203, 205, 207, 210, 212, 214, 216, 218, 220, 222,
            224, 226, 227, 229, 230, 231, 233, 234, 235, 236, 237, 238, 239, 239, 240, 241, 241, 242, 242,
            242, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 242, 242, 242, 242, 241, 241, 241, 241,
            240, 240, 240, 239, 239, 239, 239, 239, 238, 238, 238, 238, 238, 238, 238, 238, 239, 239, 239,
            240, 240, 240, 241, 242, 242, 243, 244, 245, 246, 247, 248, 249, 250, 252, 253, 255
        ]
    },
    hot: {
        name: 'hot',
        r: [
            0.0, 4.0, 8.0, 12.0, 16.0, 20.0, 24.0, 28.0, 32.0, 36.0, 40.0, 44.0, 48.0, 52.0, 56.0, 60.0,
            64.0, 68.0, 72.0, 76.0, 80.0, 84.0, 88.0, 92.0, 96.0, 100.0, 104.0, 108.0, 112.0, 116.0,
            120.0, 124.0, 128.0, 132.0, 136.0, 140.0, 144.0, 148.0, 152.0, 156.0, 160.0, 164.0, 168.0,
            172.0, 176.0, 180.0, 184.0, 188.0, 192.0, 196.0, 200.0, 204.0, 208.0, 212.0, 216.0, 220.0,
            224.0, 228.0, 232.0, 236.0, 240.0, 244.0, 248.0, 252.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0
        ],
        g: [
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.30769,
            4.61538, 6.92308, 9.23077, 11.5385, 13.8462, 16.1538, 18.4615, 20.7692, 23.0769, 25.3846, 27.6923,
            30.0, 32.3077, 34.6154, 36.9231, 39.2308, 41.5385, 43.8462, 46.1538, 48.4615, 50.7692, 53.0769,
            55.3846, 57.6923, 60.0, 62.3077, 64.6154, 66.9231, 69.2308, 71.5385, 73.8462, 76.1538, 78.4615,
            80.7692, 83.0769, 85.3846, 87.6923, 90.0, 92.3077, 94.6154, 96.9231, 99.2308, 101.538, 103.846, 106.154,
            108.462, 110.769, 113.077, 115.385, 117.692, 120.0, 122.308, 124.615, 126.923, 129.231, 131.538,
            133.846, 136.154, 138.462, 140.769, 143.077, 145.385, 147.692, 150.0, 152.308, 154.615, 156.923,
            159.231, 161.538, 163.846, 166.154, 168.462, 170.769, 173.077, 175.385, 177.692, 180.0, 182.308,
            184.615, 186.923, 189.231, 191.538, 193.846, 196.154, 198.462, 200.769, 203.077, 205.385,
            207.692, 210.0, 212.308, 214.615, 216.923, 219.231, 221.538, 223.846, 226.154, 228.462, 230.769,
            233.077, 235.385, 237.692, 240.0, 242.308, 244.615, 246.923, 249.231, 251.538, 253.846, 255.0,
            255.0, 255.0, 255.0, 255.0, 255.0, 255.0
        ],
        b: [
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.980769,
            1.96154, 2.94231, 3.92308, 4.90385, 5.88461, 6.86539, 7.84615, 8.82692, 9.80769, 10.7885, 11.7692, 12.75,
            13.7308, 14.7115, 15.6923, 16.6731, 17.6538, 18.6346, 19.6154, 20.5962, 21.5769, 22.5577, 23.5385,
            24.5192, 25.5, 26.4808, 27.4615, 28.4423, 29.4231, 30.4038, 31.3846, 32.3654, 33.3462, 34.3269,
            35.3077, 36.2885, 37.2692, 38.25, 39.2308, 40.2115, 41.1923, 42.1731, 43.1538, 44.1346, 45.1154, 46.0962,
            47.0769, 48.0577, 49.0385, 50.0192, 51.0, 51.9808, 52.9615, 53.9423, 54.9231, 55.9038, 56.8846,
            57.8654, 58.8462, 59.8269, 60.8077, 61.7885, 62.7692, 63.75, 64.7308, 65.7115, 66.6923, 67.6731,
            68.6538, 69.6346, 70.6154, 71.5962, 72.5769, 73.5577, 74.5385, 75.5192, 76.5, 77.4808, 78.4615, 79.4423,
            80.4231, 81.4038, 82.3846, 83.3654, 84.3462, 85.3269, 86.3077, 87.2885, 88.2692, 89.25, 90.2308,
            91.2115, 92.1923, 93.1731, 94.1538, 95.1346, 96.1154, 97.0962, 98.0769, 99.0577, 100.038,
            101.019, 102.0, 102.981, 103.962, 104.942, 105.923, 106.904, 107.885, 108.865, 109.846, 110.827,
            111.808, 112.788, 113.769, 114.75, 115.731, 116.711, 117.692, 118.673, 119.654, 120.634,
            121.615, 122.596, 123.577, 124.557, 125.538, 126.519, 127.5
        ]
    },
    gray: {
        name: 'gray',
        r: [
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,
            25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46,
            47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66,
            67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88,
            89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107,
            108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123,
            124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138,
            139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152,
            153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
            165, 166, 167, 168, 169, 170, 171, 172,
            173, 174, 175, 176, 177,
            178, 179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,
            201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212,
            213, 214, 215, 216, 217, 218, 219, 220,
            221, 222,
            223,
            224,
            225,
            226,
            227,
            228,
            229,
            230,
            231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242,
            243, 244, 245, 246, 247, 248, 249, 250,
            251,
            252,
            253,
            254,
            255
        ],
        g: [
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,
            25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45,
            46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82,
            83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105, 106, 107, 108, 109, 110, 111, 112, 113, 114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125, 126, 127, 128, 129, 130, 131, 132, 133, 134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145, 146, 147, 148, 149, 150, 151, 152, 153, 154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165, 166, 167, 168, 169, 170, 171, 172, 173, 174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196,
            197, 198, 199, 200, 201, 202, 203, 204, 205, 206,
            207,
            208,
            209,
            210,
            211,
            212,
            213,
            214,
            215,
            216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227,
            228, 229, 230, 231, 232, 233, 234, 235, 236, 237,
            238,
            239,
            240,
            241,
            242,
            243,
            244,
            245,
            246,
            247, 248, 249, 250,
            251,
            252,
            253,
            254,
            255
        ],
        b: [
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144,
            145,
            146,
            147,
            148,
            149,
            150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192,
            193,
            194,
            195,
            196,
            197,
            198,
            199,
            200,
            201,
            202,
            203,
            204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220,
            221,
            222,
            223,
            224,
            225,
            226,
            227,
            228,
            229,
            230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,
            241,
            242,
            243,
            244,
            245,
            246,
            247,
            248,
            249,
            250,
            251,
            252,
            253,
            254,
            255
        ]
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ColorMaps);
//# sourceMappingURL=ColorMaps.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/FoV.js":
/*!********************************************!*\
  !*** ../astro-viewer/lib-esm/model/FoV.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FoV: () => (/* binding */ FoV)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/RayPickingUtils.js */ "../astro-viewer/lib-esm/utils/RayPickingUtils.js");
/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/Utils.js */ "../astro-viewer/lib-esm/utils/Utils.js");
/* harmony import */ var _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ComputePerspectiveMatrix.js */ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js");
/* harmony import */ var _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./grid/HealpixGridSingleton.js */ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js");

/**
 * FoV singleton (TypeScript)
 * - Uses computePerspectiveMatrixSingleton.pMatrix
 * - Guards acos domain (numeric safety)
 * - Uses vec3.transformMat4 instead of custom mat4*vec3
 * - Keeps original “insideSphere ? 360 - angle : angle” behavior
 */






class FoV {
    fovXDeg = 180;
    fovYDeg = 180;
    ratio = +0;
    _minFoV = 180;
    constructor() { }
    /** Recomputes FoV for current camera + projection */
    getFoV(insideSphere) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl;
        if (!gl || !gl.canvas) {
            // Handle the error or assign default values
            this.fovXDeg = 180;
            this.fovYDeg = 180;
            this._minFoV = this.minFoV;
            return this;
        }
        // horizontal FoV: ray through (centerY)
        // const x = this.computeAngle(0, gl.canvas.height / 2, insideSphere)
        const xFoVComputed = this.computeAngle(0, gl.canvas.height / 2, insideSphere);
        this.fovXDeg = xFoVComputed.angleDeg;
        // this.xDistance = xFoVComputed.distance
        // this.xAngleRatio = this.fovXDeg / this.xDistance
        // vertical FoV: ray through (centerX)
        // this.fovYDeg = this.computeAngle(gl.canvas.width / 2, 0, insideSphere)
        const yFoVComputed = this.computeAngle(gl.canvas.width / 2, 0, insideSphere);
        this.fovYDeg = yFoVComputed.angleDeg;
        // this.yDistance = yFoVComputed.distance
        // this.yAngleRatio = this.fovYDeg / this.yDistance
        this._minFoV = this.minFoV;
        this.ratio = this.computeRatio();
        return this;
    }
    computeRatio() {
        const camera = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera;
        if (!camera)
            throw Error("Camera not defined");
        const pos = camera.getCameraPosition();
        const distanceFromCenter = Math.sqrt(pos[0] * pos[0] + pos[1] * pos[1] + pos[2] * pos[2]);
        // const distanceFromSphere = distanceFromCenter - healpixGridSingleton.RADIUS
        const ratio = distanceFromCenter / this.fovYDeg;
        return ratio;
    }
    changeMinFov(deg) {
        console.log("inside changeMinFov");
        if (this.fovYDeg <= this.fovXDeg) {
            this.fovYDeg = deg;
        }
        else {
            this.fovXDeg = deg;
        }
        console.log("changeMinFov: ping");
        this.minFoV;
        // this.fovYDeg <= this.fovXDeg ? this.fovYDeg = deg : this.fovXDeg = deg
    }
    get minFoV() {
        this._minFoV = this.fovYDeg <= this.fovXDeg ? this.fovYDeg : this.fovXDeg;
        return this._minFoV;
    }
    computeDistanceFromAngle(angleDeg) {
        const desiredFoV = angleDeg;
        const distance = desiredFoV * this.ratio;
        // return Math.abs(distance)
        return distance;
    }
    /** FoV half-screen chord angle doubled (deg) along a given canvas axis */
    computeAngle(canvasX, canvasY, insideSphere) {
        const camera = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera;
        const pMatrix = _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_5__["default"].pMatrix;
        if (!pMatrix) {
            // Handle the error or assign a default value
            console.warn('FoV: projection matrix is null');
            return { angleDeg: 180, distance: 1 };
        }
        if (!camera) {
            // Handle the error or assign a default value
            console.warn('FoV: camera is null');
            return { angleDeg: 180, distance: 1 };
        }
        const rayWorld = _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_3__["default"].getRayFromMouse(canvasX, canvasY, pMatrix);
        const intersectionDistance = _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_3__["default"].raySphere(camera.getCameraPosition(), rayWorld);
        let angleDeg;
        if (intersectionDistance > 0) {
            // world-space intersection point on the sphere
            const hit = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
            gl_matrix__WEBPACK_IMPORTED_MODULE_1__.scale(hit, rayWorld, intersectionDistance);
            gl_matrix__WEBPACK_IMPORTED_MODULE_1__.add(hit, camera.getCameraPosition(), hit);
            const center = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].center;
            // vectors from sphere center
            const vHit = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
            gl_matrix__WEBPACK_IMPORTED_MODULE_1__.subtract(vHit, hit, center);
            // reference vector: rotate world +Z into current camera orientation, then from center
            const refWorldZ = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.fromValues(center[0], center[1], center[2] + _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].radius);
            const vInv = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
            gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(vInv, camera.getCameraMatrix());
            const refCamZ = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
            gl_matrix__WEBPACK_IMPORTED_MODULE_1__.transformMat4(refCamZ, refWorldZ, vInv);
            const vRef = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
            gl_matrix__WEBPACK_IMPORTED_MODULE_1__.subtract(vRef, refCamZ, center);
            // angle between vHit and vRef, doubled
            const dot = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.dot(vHit, vRef);
            const n1 = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.length(vHit);
            const n2 = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.length(vRef);
            // numeric safety for acos
            const c = Math.min(1, Math.max(-1, dot / (n1 * n2)));
            const angleRad = Math.acos(c);
            angleDeg = 2 * (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.radToDeg)(angleRad);
        }
        else {
            angleDeg = 180;
        }
        const finalAngle = insideSphere ? 360 - angleDeg : angleDeg;
        // return insideSphere ? 360 - angleDeg : angleDeg
        return { angleDeg: finalAngle, distance: intersectionDistance };
    }
    /**
   * Computes the camera position (x,y,z) along the current view direction that would
   * yield the requested minFoV (in degrees), assuming the camera is OUTSIDE the sphere.
   * This method does NOT mutate the camera; it only returns the suggested position.
   *
   * Geometry: for a sphere of radius R observed from distance d (from center),
   * the apparent angular diameter is 2*arcsin(R/d). Our minFoV is that angular diameter
   * along the tighter axis; we solve for d and place the camera on the current
   * center→camera direction with that distance.
   *
   * @param targetMinFoVDeg Desired min FoV in degrees, 0 < targetMinFoVDeg < 180
   * @returns Tuple [x, y, z] for the recommended camera position in world coordinates.
   */
    computeCameraPositionForMinFoV(targetMinFoVDeg) {
        const camera = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera;
        const center = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].center;
        const R = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].radius;
        if (!camera) {
            console.warn('FoV.computeCameraPositionForMinFoV: camera not available; returning a sensible default.');
            return [center[0], center[1], center[2] + 2 * R];
        }
        // Clamp and validate input
        const eps = 1e-6;
        const clamped = Math.max(eps, Math.min(180 - eps, targetMinFoVDeg));
        const halfRad = (clamped * Math.PI / 180) * 0.5;
        // Distance from center needed to achieve the angular diameter
        // minFoV = 2 * arcsin(R / d)  =>  d = R / sin(minFoV/2)
        const sinHalf = Math.sin(halfRad);
        if (sinHalf <= 0) {
            console.warn('FoV.computeCameraPositionForMinFoV: invalid targetMinFoVDeg, using fallback.');
            return [center[0], center[1], center[2] + 2 * R];
        }
        let d = R / sinHalf;
        // Ensure we remain strictly outside the sphere
        d = Math.max(d, R + 1e-4);
        // Use the current center→camera direction to keep orientation
        const camPos = camera.getCameraPosition();
        let dirX = camPos[0] - center[0];
        let dirY = camPos[1] - center[1];
        let dirZ = camPos[2] - center[2];
        const len = Math.hypot(dirX, dirY, dirZ);
        if (len < eps) {
            // If somehow at the center, use +Z as a default direction
            dirX = 0;
            dirY = 0;
            dirZ = 1;
        }
        else {
            dirX /= len;
            dirY /= len;
            dirZ /= len;
        }
        const newX = center[0] + dirX * d;
        const newY = center[1] + dirY * d;
        const newZ = center[2] + dirZ * d;
        return [newX, newY, newZ];
    }
    /**
       * Computes the camera world-space position required to achieve a target FoV (deg),
       * keeping the same viewing direction. Acts as the inverse of computeAngle().
       *
       * @param targetFoVDeg desired full FoV angle in degrees (0 < FoV < 180)
       * @param canvasWidth  canvas width in pixels
       * @param canvasHeight canvas height in pixels
       * @returns [x, y, z] coordinates for the new camera position
       */
    computeCameraPositionForFoV(targetFoVDeg) {
        const camera = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera;
        const center = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].center;
        const R = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].radius;
        if (!camera) {
            console.warn("FoV.computeCameraPositionForFoV: camera missing.");
            return [center[0], center[1], center[2] + 2 * R];
        }
        const eps = 1e-6;
        const clamped = Math.max(eps, Math.min(180 - eps, targetFoVDeg));
        const halfRad = (clamped * Math.PI) / 360.0; // half-angle in radians
        // Distance from center that yields this FoV
        const sinHalf = Math.sin(halfRad);
        if (sinHalf <= 0) {
            console.warn("FoV.computeCameraPositionForFoV: invalid FoV.");
            return [center[0], center[1], center[2] + 2 * R];
        }
        let d = R / sinHalf;
        // Slightly outside sphere to avoid clipping
        d = Math.max(d, R + 1e-4);
        // Get current viewing direction
        const camPos = camera.getCameraPosition();
        let dirX = camPos[0] - center[0];
        let dirY = camPos[1] - center[1];
        let dirZ = camPos[2] - center[2];
        const len = Math.hypot(dirX, dirY, dirZ);
        if (len < eps) {
            dirX = 0;
            dirY = 0;
            dirZ = 1;
        }
        else {
            dirX /= len;
            dirY /= len;
            dirZ /= len;
        }
        const newX = center[0] + dirX * d;
        const newY = center[1] + dirY * d;
        const newZ = center[2] + dirZ * d;
        return [newX, newY, newZ];
    }
    /**
   * Return a camera position such that the sphere's apparent angular diameter
   * (the silhouette, not the surface coverage) equals targetAngularDiameterDeg.
   * Keeps current view direction; does not mutate the camera.
   *
   * @param targetAngularDiameterDeg desired apparent diameter in degrees (0<α<180)
   * @returns [x,y,z] world position
   */
    computeCameraPositionForAngularDiameter(targetAngularDiameterDeg) {
        const camera = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera;
        const center = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].center;
        const R = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].radius;
        if (!camera) {
            console.warn('computeCameraPositionForAngularDiameter: camera missing.');
            return [center[0], center[1], center[2] + 2 * R];
        }
        const eps = 1e-6;
        const α = Math.max(eps, Math.min(180 - eps, targetAngularDiameterDeg));
        const half = (α * Math.PI) / 360.0;
        const sinHalf = Math.sin(half);
        // d = R / sin(α/2)
        let d = R / sinHalf;
        d = Math.max(d, R + 1e-4); // stay outside
        // project along current center→camera direction
        const [cx, cy, cz] = center;
        const [px, py, pz] = camera.getCameraPosition();
        let dx = px - cx, dy = py - cy, dz = pz - cz;
        const L = Math.hypot(dx, dy, dz);
        if (L < eps) {
            dx = 0;
            dy = 0;
            dz = 1;
        }
        else {
            dx /= L;
            dy /= L;
            dz /= L;
        }
        return [cx + dx * d, cy + dy * d, cz + dz * d];
    }
}
//# sourceMappingURL=FoV.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/Point.js":
/*!**********************************************!*\
  !*** ../astro-viewer/lib-esm/model/Point.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Point: () => (/* binding */ Point)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js");
/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Utils.js */ "../astro-viewer/lib-esm/utils/Utils.js");
/* harmony import */ var _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/CoordsType.js */ "../astro-viewer/lib-esm/utils/CoordsType.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Global.js */ "../astro-viewer/lib-esm/Global.js");
/**
 * @author Fabrizio Giordano (Fab77)
 */





class Point {
    _x;
    _y;
    _z;
    _xyz;
    _raDeg;
    _decDeg;
    _raRad;
    _decRad;
    _raDecDeg;
    constructor(in_options, in_type) {
        this._xyz = [0, 0, 0];
        this._raDecDeg = [0, 0];
        // Prefer config value if present, fallback to 12
        const MAX_DECIMALS = _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].MAX_DECIMALS ?? _Global_js__WEBPACK_IMPORTED_MODULE_3__["default"].maxDecimals ?? 12;
        if (in_type === _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN) {
            const { x, y, z } = in_options;
            this._x = Number(x.toFixed(MAX_DECIMALS));
            this._y = Number(y.toFixed(MAX_DECIMALS));
            this._z = Number(z.toFixed(MAX_DECIMALS));
            this._xyz = [this._x, this._y, this._z];
            const [ra, dec] = this.computeAstroCoords();
            this._raDeg = Number(ra);
            this._decDeg = Number(dec);
            this._raRad = (this._raDeg * Math.PI) / 180;
            this._decRad = (this._decDeg * Math.PI) / 180;
            this._raDecDeg = [this._raDeg, this._decDeg];
        }
        else if (in_type === _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.ASTRO) {
            const { raDeg, decDeg } = in_options;
            this._raDeg = Number(raDeg);
            this._decDeg = Number(decDeg);
            this._raDecDeg = [this._raDeg, this._decDeg];
            this._raRad = (this._raDeg * Math.PI) / 180;
            this._decRad = (this._decDeg * Math.PI) / 180;
            const [x, y, z] = this.computeCartesianCoords();
            this._x = Number(x.toFixed(MAX_DECIMALS));
            this._y = Number(y.toFixed(MAX_DECIMALS));
            this._z = Number(z.toFixed(MAX_DECIMALS));
            this._xyz = [this._x, this._y, this._z];
        }
        else if (in_type === _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.SPHERICAL) {
            // Not implemented in original; keep behavior
            console.log(`${_utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.SPHERICAL} not implemented yet`);
            this._x = 0;
            this._y = 0;
            this._z = 0;
            this._raDeg = 0;
            this._decDeg = 0;
            this._raRad = 0;
            this._decRad = 0;
        }
        else {
            console.error('CoordsType ' + String(in_type) + ' not recognised.');
            // Initialize to zeroed state to keep object consistent
            this._x = 0;
            this._y = 0;
            this._z = 0;
            this._raDeg = 0;
            this._decDeg = 0;
            this._raRad = 0;
            this._decRad = 0;
        }
    }
    computeAstroCoords() {
        const phiThetaDeg = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.cartesianToSpherical)(gl_matrix__WEBPACK_IMPORTED_MODULE_0__.fromValues(this._xyz[0], this._xyz[1], this._xyz[2]));
        const rad = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.sphericalToAstroDeg)(phiThetaDeg.phi, phiThetaDeg.theta);
        return [rad.ra, rad.dec];
    }
    computeCartesianCoords() {
        const phiThetaDeg = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.astroDegToSpherical)(this._raDeg, this._decDeg);
        const [x, y, z] = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.sphericalToCartesian)(phiThetaDeg.phi, phiThetaDeg.theta, 1);
        return [x, y, z];
    }
    /**
     * @return {phi, theta} (degrees)
     */
    computeHealpixPhiTheta() {
        return (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.astroDegToSpherical)(this._raDeg, this._decDeg);
    }
    /** Scale the vector by a given factor */
    scale(n) {
        return new Point({ x: this.x * n, y: this.y * n, z: this.z * n }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN);
    }
    dot(v) {
        return this.x * v.x + this.y * v.y + this.z * v.z;
    }
    cross(v) {
        return new Point({
            x: this.y * v.z - v.y * this.z,
            y: this.z * v.x - v.z * this.x,
            z: this.x * v.y - v.x * this.y,
        }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN);
    }
    norm() {
        const d = 1 / this.length();
        return new Point({ x: this.x * d, y: this.y * d, z: this.z * d }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN);
    }
    length() {
        return Math.sqrt(this.lengthSquared());
    }
    lengthSquared() {
        return this.x * this.x + this.y * this.y + this.z * this.z;
    }
    subtract(v) {
        return new Point({ x: this.x - v.x, y: this.y - v.y, z: this.z - v.z }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN);
    }
    add(v) {
        return new Point({ x: this.x + v.x, y: this.y + v.y, z: this.z + v.z }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN);
    }
    get x() { return this._x; }
    get y() { return this._y; }
    get z() { return this._z; }
    get xyz() { return this._xyz; }
    get raDeg() { return this._raDeg; }
    get decDeg() { return this._decDeg; }
    get raDecDeg() { return this._raDecDeg; }
    toADQL() {
        return `${this._raDecDeg[0]},${this._raDecDeg[1]}`;
    }
    toString() {
        return `(raDeg, decDeg) => (${this._raDecDeg[0]},${this._raDecDeg[1]}) (x, y,z) => (${this._xyz[0]},${this._xyz[1]},${this._xyz[2]})`;
    }
}
//# sourceMappingURL=Point.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/Point2D.js":
/*!************************************************!*\
  !*** ../astro-viewer/lib-esm/model/Point2D.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class Point2D {
    _x;
    _y;
    constructor(x, y) {
        this._x = x;
        this._y = y;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Point2D);
//# sourceMappingURL=Point2D.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/grid/EquatorialGrid.js":
/*!************************************************************!*\
  !*** ../astro-viewer/lib-esm/model/grid/EquatorialGrid.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec4.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _hips_FoVHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hips/FoVHelper.js */ "../astro-viewer/lib-esm/model/hips/FoVHelper.js");
/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/Utils.js */ "../astro-viewer/lib-esm/utils/Utils.js");
/* harmony import */ var _shader_GridShaderManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shader/GridShaderManager.js */ "../astro-viewer/lib-esm/shader/GridShaderManager.js");
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Point.js */ "../astro-viewer/lib-esm/model/Point.js");
/* harmony import */ var _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/CoordsType.js */ "../astro-viewer/lib-esm/utils/CoordsType.js");
/* harmony import */ var _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/FoVUtils.js */ "../astro-viewer/lib-esm/utils/FoVUtils.js");
/* harmony import */ var _GridTextHelper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./GridTextHelper.js */ "../astro-viewer/lib-esm/model/grid/GridTextHelper.js");
/* harmony import */ var _HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./HealpixGridSingleton.js */ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js");
/* harmony import */ var _AbstractSkyEntity_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../AbstractSkyEntity.js */ "../astro-viewer/lib-esm/model/AbstractSkyEntity.js");
/* harmony import */ var _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/ComputePerspectiveMatrix.js */ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js");
/* eslint-disable @typescript-eslint/no-non-null-assertion */













/** Equatorial grid rendered as RA/Dec great-circle line loops */
class EquatorialGrid extends _AbstractSkyEntity_js__WEBPACK_IMPORTED_MODULE_11__["default"] {
    static ELEM_SIZE = 3;
    static BYTES_X_ELEM = new Float32Array().BYTES_PER_ELEMENT;
    showGrid = false;
    // private _gl: GL;
    _shaderProgram;
    _vertexShader;
    _fragmentShader;
    defaultColor = '#41d421';
    gridText = new _GridTextHelper_js__WEBPACK_IMPORTED_MODULE_9__["default"]();
    _attribLocations = {
        position: 0,
        selected: 1,
        pointSize: 2,
        color: 3,
    };
    _phiVertexPositionBuffer;
    _thetaVertexPositionBuffer;
    _fov;
    // Step sizes (degrees + radians) and label caches
    _phiStep = 0;
    _phiStepRad = 0;
    _thetaStep = 0;
    _thetaStepRad = 0;
    _phiArray = [];
    _thetaArray = [];
    // For placing text labels near current view center:
    //  - _dec4Labels: key = RA(deg), value = points along that RA ring (for Dec labels)
    //  - _ra4Labels : key = Dec(deg), value = points along that Dec ring (for RA labels)
    _dec4Labels = new Map();
    _ra4Labels = new Map();
    /**
     * @param radius Not used by current implementation (sphere is unit-radius)
     * @param fov    Field of view in degrees
     */
    constructor() {
        super(_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_10__["default"].RADIUS, _HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_10__["default"].INITIAL_POSITION, _HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_10__["default"].INITIAL_PhiRad, _HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_10__["default"].INITIAL_ThetaRad, 'equatorial-grid');
    }
    init(fov) {
        this._fov = fov;
        this.initGL(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl);
        // Program & buffers
        this._shaderProgram = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.createProgram();
        this.initShaders();
        this._phiVertexPositionBuffer = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.createBuffer();
        this._thetaVertexPositionBuffer = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.createBuffer();
        // Build initial RA/Dec line buffers
        this.initBuffers(this._fov);
    }
    /** Compile/link shaders and fetch uniform/attribute locations */
    initShaders() {
        // Fragment
        const fsSource = _shader_GridShaderManager_js__WEBPACK_IMPORTED_MODULE_5__["default"].healpixGridFS();
        this._fragmentShader = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.createShader(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.FRAGMENT_SHADER);
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.shaderSource(this._fragmentShader, fsSource);
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.compileShader(this._fragmentShader);
        if (!_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.getShaderParameter(this._fragmentShader, _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.COMPILE_STATUS)) {
            // Keep identical behavior (alert) but surface errors in console too
            const log = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.getShaderInfoLog(this._fragmentShader) || 'Unknown fragment shader error';
            console.error(log);
            alert(log);
            return;
        }
        // Vertex
        const vsSource = _shader_GridShaderManager_js__WEBPACK_IMPORTED_MODULE_5__["default"].healpixGridVS();
        this._vertexShader = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.createShader(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.VERTEX_SHADER);
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.shaderSource(this._vertexShader, vsSource);
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.compileShader(this._vertexShader);
        if (!_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.getShaderParameter(this._vertexShader, _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.COMPILE_STATUS)) {
            const log = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.getShaderInfoLog(this._vertexShader) || 'Unknown vertex shader error';
            console.error(log);
            alert(log);
            return;
        }
        // Link
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.attachShader(this._shaderProgram, this._vertexShader);
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.attachShader(this._shaderProgram, this._fragmentShader);
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.linkProgram(this._shaderProgram);
        if (!_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.getProgramParameter(this._shaderProgram, _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.LINK_STATUS)) {
            alert('Could not initialise shaders');
        }
        _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.useProgram(this._shaderProgram);
    }
    /** Build RA/Dec line vertex arrays based on FoV step helper */
    initBuffers(fovDeg) {
        const R = 1.0;
        const steps = _hips_FoVHelper_js__WEBPACK_IMPORTED_MODULE_3__.fovHelper.getRADegSteps(fovDeg);
        const phiStep = steps.raStep; // RA step (deg)
        const thetaStep = steps.decStep; // Dec step (deg)
        this._phiStep = phiStep;
        this._phiStepRad = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.degToRad)(phiStep);
        this._thetaStep = thetaStep;
        this._thetaStepRad = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.degToRad)(thetaStep);
        this._ra4Labels = new Map();
        this._dec4Labels = new Map();
        this._phiArray = [];
        this._thetaArray = [];
        // Lines of constant Dec (varying RA): for each Dec, a ring with vertices every phiStep°
        for (let theta = thetaStep; theta < 180; theta += thetaStep) {
            const phiVertexPosition = new Float32Array((360 / phiStep) * 3);
            const thetaRad = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.degToRad)(theta);
            for (let phi = 0; phi < 360; phi += phiStep) {
                const phiRad = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.degToRad)(phi);
                const x = R * Math.sin(thetaRad) * Math.cos(phiRad);
                const y = R * Math.sin(thetaRad) * Math.sin(phiRad);
                const z = R * Math.cos(thetaRad);
                const idx = Math.floor(phi / phiStep);
                phiVertexPosition[3 * idx + 0] = x;
                phiVertexPosition[3 * idx + 1] = y;
                phiVertexPosition[3 * idx + 2] = z;
                if (!this._dec4Labels.has(phi))
                    this._dec4Labels.set(phi, []);
                this._dec4Labels.get(phi).push([x, y, z]);
            }
            this._phiArray.push(phiVertexPosition);
        }
        // Lines of constant RA (varying Dec): for each RA, a ring with vertices every thetaStep°
        for (let phi = 0; phi < 360; phi += phiStep) {
            const thetaVertexPosition = new Float32Array((360 / thetaStep) * 3);
            const phiRad = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.degToRad)(phi);
            for (let theta = 0; theta < 360; theta += thetaStep) {
                const thetaRad = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.degToRad)(theta);
                const x = R * Math.sin(thetaRad) * Math.cos(phiRad);
                const y = R * Math.sin(thetaRad) * Math.sin(phiRad);
                const z = R * Math.cos(thetaRad);
                const idx = Math.floor(theta / thetaStep);
                thetaVertexPosition[3 * idx + 0] = x;
                thetaVertexPosition[3 * idx + 1] = y;
                thetaVertexPosition[3 * idx + 2] = z;
                const decKey = 90 - theta; // original code’s keying for RA labels
                if (!this._ra4Labels.has(decKey))
                    this._ra4Labels.set(decKey, []);
                this._ra4Labels.get(decKey).push([x, y, z]);
            }
            this._thetaArray.push(thetaVertexPosition);
        }
    }
    /** Update buffers when FoV (in degrees) changes */
    refresh() {
        const fovDeg = _HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_10__["default"].getMinFoV();
        if (this._fov !== fovDeg) {
            this._fov = fovDeg;
            this.initBuffers(this._fov);
        }
    }
    vectorDistance(p1, p2) {
        const dx = p1.x - p2.x;
        const dy = p1.y - p2.y;
        const dz = p1.z - p2.z;
        return Math.sqrt(dx * dx + dy * dy + dz * dz);
    }
    enableShader(mMatrix, pMatrix) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl;
        gl.useProgram(this._shaderProgram);
        // uMVMatrix = camera * model
        const mvMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.multiply(mvMatrix, _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera.getCameraMatrix(), mMatrix);
        // TODO move locations retrieval elsewhere
        // Uniform locations
        const uMVMatrixLoc = gl.getUniformLocation(this._shaderProgram, 'uMVMatrix');
        const uPMatrixLoc = gl.getUniformLocation(this._shaderProgram, 'uPMatrix');
        const uColor = gl.getUniformLocation(this._shaderProgram, 'u_fragcolor');
        // Attribute locations
        this._attribLocations.position = gl.getAttribLocation(this._shaderProgram, 'aCatPosition');
        if (uMVMatrixLoc)
            gl.uniformMatrix4fv(uMVMatrixLoc, false, mvMatrix);
        if (uPMatrixLoc)
            gl.uniformMatrix4fv(uPMatrixLoc, false, pMatrix);
        if (uColor) {
            const rgb = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.colorHex2RGB)(this.defaultColor);
            gl.uniform4f(uColor, rgb[0], rgb[1], rgb[2], 1.0);
        }
    }
    isVisible() {
        return this.showGrid;
    }
    toggleShowGrid() {
        this.showGrid = !this.showGrid;
    }
    /**
     * @param mMatrix model matrix associated with current HiPS (or scene) transform
     * @param fovObj  current field-of-view (degrees). If your FoV type differs,
     *                pass the numeric value here; this signature matches original usage.
     */
    draw() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl;
        const mMatrix = this.getModelMatrix();
        if (this._thetaArray.length === 0)
            return;
        this.refresh();
        if (!this.showGrid) {
            // gridTextHelper.resetDivSets();
            this.gridText.resetDivSets();
            return;
        }
        const pMatrix = _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_12__["default"].pMatrix;
        this.enableShader(mMatrix, pMatrix);
        // Draw Dec rings
        for (let i = 0; i < this._phiArray.length; i++) {
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.bindBuffer(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.ARRAY_BUFFER, this._phiVertexPositionBuffer);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.bufferData(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.ARRAY_BUFFER, this._phiArray[i], _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.STATIC_DRAW);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.vertexAttribPointer(this._attribLocations.position, 3, _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.FLOAT, false, 0, 0);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.enableVertexAttribArray(this._attribLocations.position);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.drawArrays(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.LINE_LOOP, 0, 360 / this._phiStep);
        }
        // Draw RA rings
        for (let j = 0; j < this._thetaArray.length; j++) {
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.bindBuffer(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.ARRAY_BUFFER, this._thetaVertexPositionBuffer);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.bufferData(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.ARRAY_BUFFER, this._thetaArray[j], _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.STATIC_DRAW);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.vertexAttribPointer(this._attribLocations.position, 3, _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.FLOAT, false, 0, 0);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.enableVertexAttribArray(this._attribLocations.position);
            _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.drawArrays(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.LINE_LOOP, 0, 360 / this._thetaStep);
        }
        // Label layout (HTML overlay)
        const center = _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_8__.FoVUtils.getCenterJ2000(gl.canvas);
        // MVP = P * V * M
        const mvMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.multiply(mvMatrix, _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera.getCameraMatrix(), mMatrix);
        const mvpMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.multiply(mvpMatrix, pMatrix, mvMatrix);
        // Dec labels (loop over RA keys)
        for (const [raDegKey, points] of this._dec4Labels.entries()) {
            if (Math.abs(raDegKey - center.raDeg) <= this._phiStep) {
                for (let p = 0; p < points.length; p++) {
                    const [x, y, z] = points[p];
                    const phiPoint = [x, y, z, 1];
                    const point = new _Point_js__WEBPACK_IMPORTED_MODULE_6__.Point({ x, y, z }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_7__.CoordsType.CARTESIAN);
                    const decDeg = point.decDeg;
                    if (Math.abs(decDeg - center.decDeg) < 60) {
                        const clipspace = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
                        gl_matrix__WEBPACK_IMPORTED_MODULE_1__.transformMat4(clipspace, phiPoint, mvpMatrix);
                        // perspective divide
                        clipspace[0] /= clipspace[3];
                        clipspace[1] /= clipspace[3];
                        // clip->pixel
                        const pixelX = (clipspace[0] * 0.5 + 0.5) * _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.canvas.width;
                        const pixelY = (clipspace[1] * -0.5 + 0.5) * _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.canvas.height;
                        this.gridText.addEqDivSet(decDeg.toFixed(2), pixelX, pixelY, 'dec');
                        // gridTextHelper.addEqDivSet(decDeg.toFixed(2), pixelX, pixelY, 'dec');
                    }
                }
            }
        }
        // RA labels (loop over Dec keys)
        for (const [decDegKey, points] of this._ra4Labels.entries()) {
            if (Math.abs(decDegKey - center.decDeg) <= this._thetaStep) {
                for (let p = 0; p < points.length; p++) {
                    const [x, y, z] = points[p];
                    const phiPoint = [x, y, z, 1];
                    const point = new _Point_js__WEBPACK_IMPORTED_MODULE_6__.Point({ x, y, z }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_7__.CoordsType.CARTESIAN);
                    const d = this.vectorDistance(point, center);
                    const raDeg = point.raDeg;
                    if (d < (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.degToRad)(50)) {
                        const clipspace = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
                        gl_matrix__WEBPACK_IMPORTED_MODULE_1__.transformMat4(clipspace, phiPoint, mvpMatrix);
                        clipspace[0] /= clipspace[3];
                        clipspace[1] /= clipspace[3];
                        const pixelX = (clipspace[0] * 0.5 + 0.5) * _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.canvas.width;
                        const pixelY = (clipspace[1] * -0.5 + 0.5) * _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl.canvas.height;
                        // gridTextHelper.addEqDivSet(raDeg.toFixed(2), pixelX, pixelY, 'ra');
                        this.gridText.addEqDivSet(raDeg.toFixed(2), pixelX, pixelY, 'ra');
                    }
                }
            }
        }
        this.gridText.resetDivSets();
        // gridTextHelper.resetDivSets();
        // Cleanup
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
    }
}
const equatorialGridSingleton = new EquatorialGrid();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (equatorialGridSingleton);
//# sourceMappingURL=EquatorialGrid.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/grid/GridTextHelper.js":
/*!************************************************************!*\
  !*** ../astro-viewer/lib-esm/model/grid/GridTextHelper.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * @author Fabrizio Giordano (Fab)
 * @param in_radius - number
 * @param in_gl - GL context
 * @param in_position - array of double e.g. [0.0, 0.0, 0.0]
 */
class GridTextHelper {
    _divEqContainerElement;
    _divHPXContainerElement;
    _divSets;
    _divSetNdx;
    constructor() {
        this._divEqContainerElement = document.querySelector('#gridcoords');
        this._divHPXContainerElement = document.querySelector('#gridhpx');
        this._divSetNdx = 0;
        this._divSets = [];
    }
    initHtml() {
        // Kept for API parity; nothing required here with current logic.
    }
    resetDivSets() {
        // Hide remaining divs and reset index
        for (; this._divSetNdx < this._divSets.length; ++this._divSetNdx) {
            this._divSets[this._divSetNdx].style.display = 'none';
        }
        this._divSetNdx = 0;
    }
    /**
     * Add / reuse a floating label for HPX coordinates
     */
    addHPXDivSet(msg, x, y) {
        let divSet = this._divSets[this._divSetNdx++];
        // Create on demand
        if (!divSet) {
            const div = document.createElement('div');
            const textNode = document.createTextNode('');
            div.className = 'floating-div-ra'; // style like RA tags
            div.appendChild(textNode);
            if (!this._divHPXContainerElement) {
                this._divHPXContainerElement = document.querySelector('#gridhpx');
            }
            if (!this._divHPXContainerElement) {
                // If container is still missing, abort gracefully
                return;
            }
            this._divHPXContainerElement.appendChild(div);
            divSet = { div, textNode, style: div.style };
            this._divSets.push(divSet);
        }
        // Show & position
        divSet.style.display = 'block';
        divSet.style.left = `${Math.floor(x + 25)}px`;
        divSet.style.top = `${Math.floor(y)}px`;
        divSet.textNode.nodeValue = msg;
    }
    /**
     * Add / reuse a floating label for Equatorial coords
     * @param type 'ra' or 'dec'
     */
    addEqDivSet(msg, x, y, type) {
        let divSet = this._divSets[this._divSetNdx++];
        if (!divSet) {
            const div = document.createElement('div');
            const textNode = document.createTextNode('');
            div.className = type === 'ra' ? 'floating-div-ra' : 'floating-div-dec';
            div.appendChild(textNode);
            if (!this._divEqContainerElement) {
                this._divEqContainerElement = document.querySelector('#gridcoords');
            }
            if (!this._divEqContainerElement) {
                // If container is still missing, abort gracefully
                return;
            }
            this._divEqContainerElement.appendChild(div);
            divSet = { div, textNode, style: div.style };
            this._divSets.push(divSet);
        }
        divSet.style.display = 'block';
        if (type === 'ra') {
            divSet.style.left = `${Math.floor(x + 25)}px`;
            divSet.style.top = `${Math.floor(y)}px`;
        }
        else {
            divSet.style.left = `${Math.floor(x)}px`;
            divSet.style.top = `${Math.floor(y + 25)}px`;
        }
        divSet.textNode.nodeValue = msg;
    }
}
// export const gridTextHelper = new GridTextHelper();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridTextHelper);
//# sourceMappingURL=GridTextHelper.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js":
/*!******************************************************************!*\
  !*** ../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _AbstractSkyEntity_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AbstractSkyEntity.js */ "../astro-viewer/lib-esm/model/AbstractSkyEntity.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec4.js");
/* harmony import */ var _hips_FoVHelper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hips/FoVHelper.js */ "../astro-viewer/lib-esm/model/hips/FoVHelper.js");
/* harmony import */ var _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/FoVUtils.js */ "../astro-viewer/lib-esm/utils/FoVUtils.js");
/* harmony import */ var _FoV_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../FoV.js */ "../astro-viewer/lib-esm/model/FoV.js");
/* harmony import */ var _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/CoordsType.js */ "../astro-viewer/lib-esm/utils/CoordsType.js");
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Point.js */ "../astro-viewer/lib-esm/model/Point.js");
/* harmony import */ var _shader_GridShaderManager_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shader/GridShaderManager.js */ "../astro-viewer/lib-esm/shader/GridShaderManager.js");
/* harmony import */ var _utils_GeomUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/GeomUtils.js */ "../astro-viewer/lib-esm/utils/GeomUtils.js");
/* harmony import */ var _GridTextHelper_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./GridTextHelper.js */ "../astro-viewer/lib-esm/model/grid/GridTextHelper.js");
/* harmony import */ var _hips_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../hips/VisibleTilesManager.js */ "../astro-viewer/lib-esm/model/hips/VisibleTilesManager.js");
/* harmony import */ var _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/ComputePerspectiveMatrix.js */ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js");
/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/Utils.js */ "../astro-viewer/lib-esm/utils/Utils.js");















class HealpixGridSingleton extends _AbstractSkyEntity_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static ELEM_SIZE = 3;
    static BYTES_X_ELEM = new Float32Array().BYTES_PER_ELEMENT;
    _visibleorder = 0;
    showGrid = false;
    _shaderProgram;
    fragmentShader;
    vertexShader;
    defaultColor = '#ec0acaff';
    gridText = new _GridTextHelper_js__WEBPACK_IMPORTED_MODULE_11__["default"]();
    _attribLocations = {
        position: 0,
        selected: 1,
        pointSize: 2,
        color: 3,
    };
    _nPrimitiveFlags = 0;
    _vertexCataloguePositionBuffer;
    _indexBuffer;
    _vertexCataloguePosition = new Float32Array(0);
    _indexes = new Uint32Array(0);
    fovObj;
    static INITIAL_FOV = 180;
    static RADIUS = 1;
    static INITIAL_POSITION = [0.0, 0.0, 0.0];
    static INITIAL_PhiRad = 0;
    static INITIAL_ThetaRad = 0;
    constructor() {
        super(HealpixGridSingleton.RADIUS, HealpixGridSingleton.INITIAL_POSITION, HealpixGridSingleton.INITIAL_PhiRad, HealpixGridSingleton.INITIAL_ThetaRad, 'healpix-grid');
    }
    init() {
        console.log('HealpixGridSingleton.init()');
        this.initGL(_Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl);
        this._shaderProgram = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl.createProgram();
        this.initShaders();
        const order = _hips_FoVHelper_js__WEBPACK_IMPORTED_MODULE_4__.fovHelper.getHiPSNorder(HealpixGridSingleton.INITIAL_FOV);
        this._visibleorder = order;
        this._nPrimitiveFlags = 0;
        this._vertexCataloguePositionBuffer = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl.createBuffer();
        this._indexBuffer = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl.createBuffer();
        this._vertexCataloguePosition = new Float32Array(0);
        this.fovObj = new _FoV_js__WEBPACK_IMPORTED_MODULE_6__.FoV();
    }
    get RADIUS() {
        return HealpixGridSingleton.RADIUS;
    }
    get INITIAL_POSITION() {
        return HealpixGridSingleton.INITIAL_POSITION;
    }
    get INITIAL_PhiRad() {
        return HealpixGridSingleton.INITIAL_PhiRad;
    }
    get INITIAL_ThetaRad() {
        return HealpixGridSingleton.INITIAL_ThetaRad;
    }
    refreshFoV() {
        return this.fovObj.getFoV(_Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].insideSphere);
    }
    getFoV() {
        return this.fovObj;
    }
    getMinFoV() {
        return this.fovObj.minFoV;
    }
    initShaders() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl;
        const fragmentShaderStr = _shader_GridShaderManager_js__WEBPACK_IMPORTED_MODULE_9__["default"].healpixGridFS();
        this.fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
        gl.shaderSource(this.fragmentShader, fragmentShaderStr);
        gl.compileShader(this.fragmentShader);
        if (!gl.getShaderParameter(this.fragmentShader, gl.COMPILE_STATUS)) {
            alert(gl.getShaderInfoLog(this.fragmentShader) || 'Fragment shader compile error');
            return;
        }
        const vertexShaderStr = _shader_GridShaderManager_js__WEBPACK_IMPORTED_MODULE_9__["default"].healpixGridVS();
        this.vertexShader = gl.createShader(gl.VERTEX_SHADER);
        gl.shaderSource(this.vertexShader, vertexShaderStr);
        gl.compileShader(this.vertexShader);
        if (!gl.getShaderParameter(this.vertexShader, gl.COMPILE_STATUS)) {
            alert(gl.getShaderInfoLog(this.vertexShader) || 'Vertex shader compile error');
            return;
        }
        gl.attachShader(this._shaderProgram, this.vertexShader);
        gl.attachShader(this._shaderProgram, this.fragmentShader);
        gl.linkProgram(this._shaderProgram);
        if (!gl.getProgramParameter(this._shaderProgram, gl.LINK_STATUS)) {
            alert('Could not initialise shaders');
        }
        gl.useProgram(this._shaderProgram);
    }
    initBuffers(pixels, order) {
        this._nPrimitiveFlags = 0;
        const healpix = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].getHealpix(order);
        const subhpx = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].getHealpix(order + 1);
        const subsubhpx = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].getHealpix(order + 2);
        let positionIndex = 0;
        let vIdx = 0;
        const R = 1.0;
        const MAX_UINT = 0xffffffff;
        this._indexes = new Uint32Array(17 * pixels.length);
        this._vertexCataloguePosition = new Float32Array(3 * 16 * pixels.length);
        for (let p = 0; p < pixels.length; p++) {
            const vecs = healpix.getBoundaries(pixels[p]);
            const cpix0 = pixels[p] << 2;
            const cpix1 = cpix0 + 1;
            const cpix2 = cpix0 + 2;
            const cpix3 = cpix0 + 3;
            const cp0vecs = subhpx.getBoundaries(cpix0);
            const cp3vecs = subhpx.getBoundaries(cpix3);
            // helper to push a vertex
            const pushV = (v) => {
                this._vertexCataloguePosition[positionIndex] = R * v.x;
                this._vertexCataloguePosition[positionIndex + 1] = R * v.y;
                this._vertexCataloguePosition[positionIndex + 2] = R * v.z;
                this._indexes[vIdx] = Math.floor(positionIndex / 3);
                vIdx += 1;
                positionIndex += 3;
            };
            // v0(3/0)
            pushV(vecs[0]);
            // v1(15/2)
            let subcpix3 = cpix3 << 2;
            let subcpix3_3 = subcpix3 + 3;
            let tmp = subsubhpx.getBoundaries(subcpix3_3);
            pushV(tmp[1]);
            // v1(3/1)
            pushV(cp3vecs[1]);
            // v0(2/2)
            let subcpix2 = cpix2 << 2;
            let subcpix2_2 = subcpix2 + 2;
            tmp = subsubhpx.getBoundaries(subcpix2_2);
            pushV(tmp[0]);
            // v1(0/0)
            pushV(vecs[1]);
            // v2(2/2)
            pushV(tmp[2]);
            // v1(0/1)
            pushV(cp0vecs[1]);
            // v1(0/2)
            let subcpix0 = cpix0 << 2;
            let subcpix0_2 = subcpix0;
            tmp = subsubhpx.getBoundaries(subcpix0_2);
            pushV(tmp[1]);
            // v2(0/0)
            pushV(vecs[2]);
            // v3(0/2)
            pushV(tmp[3]);
            // v3(0/1)
            pushV(cp0vecs[3]);
            // v2(5/2)
            let subcpix1 = cpix1 << 2;
            let subcpix1_1 = subcpix1 + 1;
            tmp = subsubhpx.getBoundaries(subcpix1_1);
            pushV(tmp[2]);
            // v3(0/0)
            pushV(vecs[3]);
            // v0(5/2)
            pushV(tmp[0]);
            // v3(3/1)
            pushV(cp3vecs[3]);
            tmp = subsubhpx.getBoundaries(subcpix3_3);
            pushV(tmp[3]);
            // primitive restart
            this._indexes[vIdx] = MAX_UINT;
            this._nPrimitiveFlags += 1;
            vIdx += 1;
        }
    }
    // updateTiles(pixels: number[], order: number) {
    //   return (this as any)._tileBuffer.updateTiles(pixels, order);
    // }
    refresh() {
        this.refreshFoV();
        const fov = this.getMinFoV();
        // expose to global (legacy)
        // (global as any).hipsFoV = fov;
        // global.order = fovHelper.getHiPSNorder(fov);
        // this._visibleorder = global.order;
        this._visibleorder = _hips_FoVHelper_js__WEBPACK_IMPORTED_MODULE_4__.fovHelper.getHiPSNorder(fov);
    }
    enableShader(in_mMatrix, pMatrix) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl;
        gl.useProgram(this._shaderProgram);
        // TODO move locations retrieval elsewhere
        // Uniform locations
        const uMV = gl.getUniformLocation(this._shaderProgram, 'uMVMatrix');
        const uP = gl.getUniformLocation(this._shaderProgram, 'uPMatrix');
        const uColor = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl.getUniformLocation(this._shaderProgram, 'u_fragcolor');
        // Attribute locations
        this._attribLocations.position = gl.getAttribLocation(this._shaderProgram, 'aCatPosition');
        let mvMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_2__.create();
        mvMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_2__.multiply(mvMatrix, _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].camera.getCameraMatrix(), in_mMatrix);
        if (uMV)
            gl.uniformMatrix4fv(uMV, false, mvMatrix);
        if (uP)
            gl.uniformMatrix4fv(uP, false, pMatrix);
        if (uColor) {
            const rgb = (0,_utils_Utils_js__WEBPACK_IMPORTED_MODULE_14__.colorHex2RGB)(this.defaultColor);
            gl.uniform4f(uColor, rgb[0], rgb[1], rgb[2], 1.0);
        }
    }
    isVisible() {
        return this.showGrid;
    }
    toggleShowGrid() {
        this.showGrid = !this.showGrid;
    }
    draw() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl;
        const mMatrix = this.getModelMatrix();
        this.refresh();
        if (!this.showGrid) {
            // gridTextHelper.resetDivSets();
            this.gridText.resetDivSets();
            return;
        }
        const visibleTiles = _hips_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_12__.visibleTilesManager.visibleTilesByOrder;
        const pixels = visibleTiles.pixels;
        const order = visibleTiles.order;
        this.initBuffers(pixels, order);
        const pMatrix = _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_13__["default"].pMatrix;
        this.enableShader(mMatrix, pMatrix);
        // Upload positions
        gl.bindBuffer(gl.ARRAY_BUFFER, this._vertexCataloguePositionBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, this._vertexCataloguePosition, gl.STATIC_DRAW);
        gl.vertexAttribPointer(this._attribLocations.position, HealpixGridSingleton.ELEM_SIZE, gl.FLOAT, false, HealpixGridSingleton.BYTES_X_ELEM * HealpixGridSingleton.ELEM_SIZE, 0);
        gl.enableVertexAttribArray(this._attribLocations.position);
        // Index buffer
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this._indexBuffer);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this._indexes, gl.STATIC_DRAW);
        gl.drawElements(gl.LINE_LOOP, this._vertexCataloguePosition.length / 3 + this._nPrimitiveFlags, gl.UNSIGNED_INT, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, null);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
        // Project and label pixel centers that are inside current FoV
        let mvMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_2__.create();
        mvMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_2__.multiply(mvMatrix, _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].camera.getCameraMatrix(), mMatrix);
        let mvpMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_2__.create();
        mvpMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_2__.multiply(mvpMatrix, pMatrix, mvMatrix);
        // FIX: pass model & pMatrix to match FoVUtils TS signature
        const center = _utils_FoVUtils_js__WEBPACK_IMPORTED_MODULE_5__.FoVUtils.getCenterJ2000(gl.canvas);
        const fovMin = (this.getMinFoV() * Math.PI) / 180 / 2;
        for (let p = 0; p < pixels.length; p++) {
            const pixCenter = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].getHealpix(this._visibleorder).pix2vec(pixels[p]);
            // const pixCenter = (global.getHealpix(global.order).pix2vec(pixels[p]) as BoundVec);
            const point = new _Point_js__WEBPACK_IMPORTED_MODULE_8__.Point({ x: pixCenter.x, y: pixCenter.y, z: pixCenter.z }, _utils_CoordsType_js__WEBPACK_IMPORTED_MODULE_7__.CoordsType.CARTESIAN);
            const distance = _utils_GeomUtils_js__WEBPACK_IMPORTED_MODULE_10__["default"].orthodromicDistance(center, point);
            if (distance < fovMin) {
                const vertex = [pixCenter.x, pixCenter.y, pixCenter.z, 1];
                const clipspace = gl_matrix__WEBPACK_IMPORTED_MODULE_3__.create();
                gl_matrix__WEBPACK_IMPORTED_MODULE_3__.transformMat4(clipspace, vertex, mvpMatrix);
                // NDC divide
                clipspace[0] /= clipspace[3];
                clipspace[1] /= clipspace[3];
                // clip → pixels
                const pixelX = (clipspace[0] * 0.5 + 0.5) * gl.canvas.width;
                const pixelY = (clipspace[1] * -0.5 + 0.5) * gl.canvas.height;
                this.gridText.addHPXDivSet(this._visibleorder + '/' + pixels[p], pixelX, pixelY);
                // gridTextHelper.addHPXDivSet(this._visibleorder + '/' + pixels[p], pixelX, pixelY);
            }
        }
        // gridTextHelper.resetDivSets();
        this.gridText.resetDivSets();
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
    }
    get visibleorder() {
        return this._visibleorder;
    }
}
const healpixGridSingleton = new HealpixGridSingleton();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (healpixGridSingleton);
//# sourceMappingURL=HealpixGridSingleton.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/AllSky.js":
/*!****************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/AllSky.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AllSky)
/* harmony export */ });
/* harmony import */ var _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shader/HiPSShaderProgram.js */ "../astro-viewer/lib-esm/shader/HiPSShaderProgram.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileBuffer.js */ "../astro-viewer/lib-esm/model/hips/TileBuffer.js");




class AllSky {
    _ready = false;
    _hips;
    _format;
    _baseurl;
    _isGalacticHips;
    _order = 3;
    opacity = 1.0;
    _hipsShaderIndex = 0;
    _texture = null;
    _image;
    _texurl;
    _textureLoaded = false;
    _maxTiles = 0;
    _numFacesXTile = 0;
    _numFaces = 0;
    vertexPosition;
    vertexPositionBuffer;
    vertexIndexBuffer;
    vidx = 0;
    constructor(hips) {
        this._hips = hips;
        this._format = hips.format;
        this._baseurl = hips.baseURL;
        this._isGalacticHips = hips.isGalacticHips;
        this.initImage();
    }
    initImage() {
        this._image = new Image();
        this._texurl = `${this._baseurl}/Norder3/Allsky.${this._format}`;
        this._image.onload = () => this.imageLoaded();
        this._image.onerror = () => {
            console.error('File not found? %s', this._texurl);
        };
        this._image.setAttribute('crossorigin', 'anonymous');
        this._image.src = this._texurl;
    }
    imageLoaded() {
        this.textureLoaded();
        this.initModelBuffer();
        this._textureLoaded = true;
        this._ready = true;
    }
    textureLoaded() {
        _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.enableProgram();
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl;
        this._texture = gl.createTexture();
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        // gl.uniform1i(hipsShaderProgram.shaderProgram.samplerUniform, this._hipsShaderIndex)
        if (!gl.isTexture(this._texture)) {
            console.log('error in texture');
        }
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._image);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        const useMipmaps = true;
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, useMipmaps ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR);
        // MAG filter: ONLY NEAREST or LINEAR are valid
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
        // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR)
        // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR_MIPMAP_LINEAR)
        // gl.generateMipmap(gl.TEXTURE_2D)
        if (useMipmaps)
            gl.generateMipmap(gl.TEXTURE_2D);
    }
    initModelBuffer() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl;
        const hpx = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].getHealpix(this._order);
        this._maxTiles = hpx.getNPix();
        const orderjump = 1;
        const tgtHpxOrder = this._order + orderjump;
        const healpix = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].getHealpix(this._order);
        const tgtHealpix = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].getHealpix(tgtHpxOrder);
        this._numFacesXTile = 4 ** orderjump; // used in gl.draw
        this._numFaces = this._numFacesXTile * this._maxTiles;
        this.vertexPosition = new Float32Array(20 * this._numFaces);
        let sindex = 0;
        let tindex = 0;
        this.vidx = 0;
        for (let t = 0; t < this._maxTiles; t++) {
            const xyf = healpix.nest2xyf(t);
            const dxmin = xyf.ix << orderjump;
            const dxmax = (xyf.ix << orderjump) + (1 << orderjump);
            const dymin = xyf.iy << orderjump;
            const dymax = (xyf.iy << orderjump) + (1 << orderjump);
            this.setupPositionAndTexture4Quadrant(sindex, tindex, dxmin, dxmin + (dxmax - dxmin) / 2, dymin, dymin + (dymax - dymin) / 2, tgtHealpix, xyf, 0, 0);
            this.setupPositionAndTexture4Quadrant(sindex, tindex, dxmin + (dxmax - dxmin) / 2, dxmax, dymin, dymin + (dymax - dymin) / 2, tgtHealpix, xyf, 0, 1);
            this.setupPositionAndTexture4Quadrant(sindex, tindex, dxmin, dxmin + (dxmax - dxmin) / 2, dymin + (dymax - dymin) / 2, dymax, tgtHealpix, xyf, 1, 0);
            this.setupPositionAndTexture4Quadrant(sindex, tindex, dxmin + (dxmax - dxmin) / 2, dxmax, dymin + (dymax - dymin) / 2, dymax, tgtHealpix, xyf, 1, 1);
            sindex++;
            if (sindex === 27) {
                tindex++;
                sindex = 0;
            }
        }
        const vertexIndices = new Uint16Array(6 * this._numFaces);
        let baseFaceIndex = 0;
        for (let i = 0; i < this._numFaces; i++) {
            vertexIndices[6 * i] = baseFaceIndex;
            vertexIndices[6 * i + 1] = baseFaceIndex + 1;
            vertexIndices[6 * i + 2] = baseFaceIndex + 3;
            vertexIndices[6 * i + 3] = baseFaceIndex + 1;
            vertexIndices[6 * i + 4] = baseFaceIndex + 2;
            vertexIndices[6 * i + 5] = baseFaceIndex + 3;
            baseFaceIndex += 4;
        }
        this.vertexPositionBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexPositionBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, this.vertexPosition, gl.STATIC_DRAW);
        this.vertexIndexBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, vertexIndices, gl.STATIC_DRAW);
    }
    setupPositionAndTexture4Quadrant(sindex, tindex, dxmin, dxmax, dymin, dymax, tgthealpix, xyf, qx, qy) {
        let facesVec3Array = [];
        const factor = 2 ** (tgthealpix.order - 3);
        const s_step = 1 / (27 * factor); // 0.037037037...
        const t_step = 1 / (29 * factor); // 0.034482759...
        const s_pixel_size = s_step / 64;
        const t_pixel_size = t_step / 64;
        const base_s = factor * s_step * sindex + s_step * qx;
        const base_t = factor * t_step * tindex + t_step * qy;
        for (let dx = dxmin; dx < dxmax; dx++) {
            for (let dy = dymin; dy < dymax; dy++) {
                facesVec3Array = tgthealpix.getPointsForXyfNoStep(dx, dy, xyf.face);
                // bottom right
                this.vertexPosition[20 * this.vidx] = facesVec3Array[0].x;
                this.vertexPosition[20 * this.vidx + 1] = facesVec3Array[0].y;
                this.vertexPosition[20 * this.vidx + 2] = facesVec3Array[0].z;
                this.vertexPosition[20 * this.vidx + 3] = s_step + base_s - s_pixel_size;
                this.vertexPosition[20 * this.vidx + 4] = 1 - (t_step + base_t) + t_pixel_size;
                // top right
                this.vertexPosition[20 * this.vidx + 5] = facesVec3Array[1].x;
                this.vertexPosition[20 * this.vidx + 6] = facesVec3Array[1].y;
                this.vertexPosition[20 * this.vidx + 7] = facesVec3Array[1].z;
                this.vertexPosition[20 * this.vidx + 8] = s_step + base_s - s_pixel_size;
                this.vertexPosition[20 * this.vidx + 9] = 1 - base_t - t_pixel_size;
                // top left
                this.vertexPosition[20 * this.vidx + 10] = facesVec3Array[2].x;
                this.vertexPosition[20 * this.vidx + 11] = facesVec3Array[2].y;
                this.vertexPosition[20 * this.vidx + 12] = facesVec3Array[2].z;
                this.vertexPosition[20 * this.vidx + 13] = base_s + s_pixel_size;
                this.vertexPosition[20 * this.vidx + 14] = 1 - base_t - t_pixel_size;
                // bottom left
                this.vertexPosition[20 * this.vidx + 15] = facesVec3Array[3].x;
                this.vertexPosition[20 * this.vidx + 16] = facesVec3Array[3].y;
                this.vertexPosition[20 * this.vidx + 17] = facesVec3Array[3].z;
                this.vertexPosition[20 * this.vidx + 18] = base_s + s_pixel_size;
                this.vertexPosition[20 * this.vidx + 19] = 1 - (t_step + base_t) + t_pixel_size;
                this.vidx++;
            }
        }
    }
    /**
     * Renders the all-sky layer and, when available, delegates to higher-resolution child tiles.
     * Returns `true` if it attempted to draw (ready), `false` if still not ready.
     */
    draw(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx) {
        if (!this._ready)
            return false;
        let allSkyTiles2Skip = [];
        if (visibleOrder >= this._order) {
            const skipped = this.drawChildren(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx);
            if (skipped)
                allSkyTiles2Skip = skipped;
        }
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_1__["default"].gl;
        _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.enableShaders(pMatrix, vMatrix, mMatrix, colorMapIdx);
        gl.enableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.locations.vertexPositionAttribute);
        gl.enableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.locations.textureCoordAttribute);
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.uniform1f(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.locations.textureAlpha, this.opacity);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexPositionBuffer);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
        gl.vertexAttribPointer(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.locations.vertexPositionAttribute, 3, gl.FLOAT, false, 5 * 4, 0);
        gl.vertexAttribPointer(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.locations.textureCoordAttribute, 2, gl.FLOAT, false, 5 * 4, 3 * 4);
        for (let t = 0; t < this._maxTiles; t++) {
            if (!allSkyTiles2Skip.includes(t)) {
                gl.drawElements(gl.TRIANGLES, 6 * this._numFacesXTile, gl.UNSIGNED_SHORT, 12 * t * this._numFacesXTile);
            }
        }
        gl.disableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.locations.vertexPositionAttribute);
        gl.disableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_0__.hipsShaderProgram.locations.textureCoordAttribute);
        return true;
    }
    drawChildren(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx) {
        const childrenOrder = this._order;
        if (!visibleTilesMap.has(childrenOrder))
            return;
        const visibleTiles = visibleTilesMap.get(childrenOrder);
        const allSkyTiles2Skip = [];
        for (let i = 0; i < visibleTiles.length; i++) {
            const tileno = visibleTiles[i];
            const childTile = this._isGalacticHips
                ? _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.getGalTile(tileno, childrenOrder, this._hips)
                : _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.getTile(tileno, childrenOrder, this._hips);
            childTile.draw(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx);
            if (childTile.getReadyState()) {
                allSkyTiles2Skip.push(tileno);
            }
        }
        return allSkyTiles2Skip;
    }
}
//# sourceMappingURL=AllSky.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/AncestorTile.js":
/*!**********************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/AncestorTile.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shader/HiPSShaderProgram.js */ "../astro-viewer/lib-esm/shader/HiPSShaderProgram.js");
/* harmony import */ var _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileBuffer.js */ "../astro-viewer/lib-esm/model/hips/TileBuffer.js");
/* harmony import */ var _FoVHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FoVHelper.js */ "../astro-viewer/lib-esm/model/hips/FoVHelper.js");





class AncestorTile {
    _hips;
    _tileno;
    _baseurl;
    _order;
    _ready = false;
    _format;
    _isGalacticHips;
    opacity = 1.0;
    _hipsShaderIndex = 0;
    _pixels = [];
    _texture = null;
    _image;
    _texurl = '';
    vertexPosition;
    vertexPositionBuffer;
    vertexIndices;
    vertexIndexBuffer;
    constructor(tileno, order, hips) {
        this._hips = hips;
        this._tileno = tileno;
        this._format = hips.format;
        this._baseurl = hips.baseURL;
        this._isGalacticHips = hips.isGalacticHips;
        this._order = order;
        this.initImage();
    }
    // Kept for API parity; there is no interval created in this class.
    destroyIntervals() {
        // no-op
    }
    initImage() {
        const dirnumber = Math.floor(this._tileno / 10000) * 10000;
        this._texurl = `${this._baseurl}/Norder${this._order}/Dir${dirnumber}/Npix${this._tileno}.${this._format}`;
        this._image = new Image();
        this._image.onload = () => this.imageLoaded();
        this._image.onerror = () => {
            console.error('File not found? %s', this._texurl);
        };
        this._image.crossOrigin = 'anonymous';
        // If you ever need FITS handling, call this.loadImage() instead.
        this._image.src = this._texurl;
    }
    imageLoaded() {
        this.textureLoaded();
        this.initModelBuffer();
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._image);
        this._ready = true;
    }
    textureLoaded() {
        _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.enableProgram();
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        this._texture = gl.createTexture();
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
        gl.uniform1i(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.shaderProgram.samplerUniform, this._hipsShaderIndex);
        if (!gl.isTexture(this._texture)) {
            console.log('error in texture');
        }
    }
    initModelBuffer() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        this.vertexPosition = [];
        this.vertexPositionBuffer = [];
        this.vertexIndices = new Uint16Array();
        // this.vertexIndexBuffer created later
        const reforder = _FoVHelper_js__WEBPACK_IMPORTED_MODULE_3__.fovHelper.getRefOrder(this._order);
        const orighealpix = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].getHealpix(this._order);
        const origxyf = orighealpix.nest2xyf(this._tileno);
        const orderjump = reforder - this._order;
        const dxmin = origxyf.ix << orderjump;
        const dxmax = (origxyf.ix << orderjump) + (1 << orderjump);
        const dymin = origxyf.iy << orderjump;
        const dymax = (origxyf.iy << orderjump) + (1 << orderjump);
        const healpix = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].getHealpix(reforder);
        this._pixels = [];
        // Using getBoundaries (like the JS source)
        this.setupPositionAndTexture4Quadrant(dxmin, dxmax / 2, dymin, dymax / 2, 0, healpix, orderjump, origxyf);
        this.setupPositionAndTexture4Quadrant(dxmax / 2, dxmax, dymin, dymax / 2, 1, healpix, orderjump, origxyf);
        this.setupPositionAndTexture4Quadrant(dxmin, dxmax / 2, dymax / 2, dymax, 2, healpix, orderjump, origxyf);
        this.setupPositionAndTexture4Quadrant(dxmax / 2, dxmax, dymax / 2, dymax, 3, healpix, orderjump, origxyf);
        const pixelsXQuadrant = this.vertexPosition[0].length / 20;
        this.vertexIndices = this.computeVertexIndices(pixelsXQuadrant);
        this.vertexIndexBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndices, gl.STATIC_DRAW);
    }
    computeVertexIndices(pixelsXQuadrant) {
        const vertexIndices = new Uint16Array(6 * pixelsXQuadrant);
        let baseFaceIndex = 0;
        for (let j = 0; j < pixelsXQuadrant; j++) {
            vertexIndices[6 * j] = baseFaceIndex;
            vertexIndices[6 * j + 1] = baseFaceIndex + 1;
            vertexIndices[6 * j + 2] = baseFaceIndex + 2;
            vertexIndices[6 * j + 3] = baseFaceIndex + 2;
            vertexIndices[6 * j + 4] = baseFaceIndex + 3;
            vertexIndices[6 * j + 5] = baseFaceIndex;
            baseFaceIndex += 4;
        }
        return vertexIndices;
    }
    // Version that uses getPointsForXyfNoStep (kept for reference; not used in this class)
    setupPositionAndTexture4Quadrant2(dxmin, dxmax, dymin, dymax, qidx, healpix, orderjump, origxyf) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        this.vertexPosition[qidx] = new Float32Array(20 * (dxmax - dxmin) * (dymax - dymin));
        const step = 1 / (1 << orderjump);
        let p = 0;
        for (let dx = dxmin; dx < dxmax; dx++) {
            for (let dy = dymin; dy < dymax; dy++) {
                const facesVec3Array = healpix.getPointsForXyfNoStep(dx, dy, origxyf.face);
                const uindex = dy - (origxyf.iy << orderjump);
                const vindex = dx - (origxyf.ix << orderjump);
                this.vertexPosition[qidx][20 * p] = facesVec3Array[0].x;
                this.vertexPosition[qidx][20 * p + 1] = facesVec3Array[0].y;
                this.vertexPosition[qidx][20 * p + 2] = facesVec3Array[0].z;
                this.vertexPosition[qidx][20 * p + 3] = step + step * uindex;
                this.vertexPosition[qidx][20 * p + 4] = 1 - (step + step * vindex);
                this.vertexPosition[qidx][20 * p + 5] = facesVec3Array[1].x;
                this.vertexPosition[qidx][20 * p + 6] = facesVec3Array[1].y;
                this.vertexPosition[qidx][20 * p + 7] = facesVec3Array[1].z;
                this.vertexPosition[qidx][20 * p + 8] = step + step * uindex;
                this.vertexPosition[qidx][20 * p + 9] = 1 - step * vindex;
                this.vertexPosition[qidx][20 * p + 10] = facesVec3Array[2].x;
                this.vertexPosition[qidx][20 * p + 11] = facesVec3Array[2].y;
                this.vertexPosition[qidx][20 * p + 12] = facesVec3Array[2].z;
                this.vertexPosition[qidx][20 * p + 13] = step * uindex;
                this.vertexPosition[qidx][20 * p + 14] = 1 - step * vindex;
                this.vertexPosition[qidx][20 * p + 15] = facesVec3Array[3].x;
                this.vertexPosition[qidx][20 * p + 16] = facesVec3Array[3].y;
                this.vertexPosition[qidx][20 * p + 17] = facesVec3Array[3].z;
                this.vertexPosition[qidx][20 * p + 18] = step * uindex;
                this.vertexPosition[qidx][20 * p + 19] = 1 - (step + step * vindex);
                p++;
            }
        }
        this.vertexPositionBuffer[qidx] = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.createBuffer();
        _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.bindBuffer(_Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.ARRAY_BUFFER, this.vertexPositionBuffer[qidx]);
        _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.bufferData(_Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.ARRAY_BUFFER, this.vertexPosition[qidx], _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.STATIC_DRAW);
    }
    // Version used by the original JS, collecting _pixels via xyf2nest + getBoundaries
    setupPositionAndTexture4Quadrant(dxmin, dxmax, dymin, dymax, qidx, healpix, orderjump, origxyf) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        this.vertexPosition[qidx] = new Float32Array(20 * (dxmax - dxmin) * (dymax - dymin));
        const step = 1 / (1 << orderjump);
        let p = 0;
        for (let dx = dxmin; dx < dxmax; dx++) {
            for (let dy = dymin; dy < dymax; dy++) {
                const ipix3 = healpix.xyf2nest(dx, dy, origxyf.face);
                this._pixels.push(ipix3);
                const facesVec3Array = healpix.getBoundaries(ipix3);
                const uindex = dy - (origxyf.iy << orderjump);
                const vindex = dx - (origxyf.ix << orderjump);
                this.vertexPosition[qidx][20 * p] = facesVec3Array[0].x;
                this.vertexPosition[qidx][20 * p + 1] = facesVec3Array[0].y;
                this.vertexPosition[qidx][20 * p + 2] = facesVec3Array[0].z;
                this.vertexPosition[qidx][20 * p + 3] = step + step * uindex;
                this.vertexPosition[qidx][20 * p + 4] = 1 - (step + step * vindex);
                this.vertexPosition[qidx][20 * p + 5] = facesVec3Array[1].x;
                this.vertexPosition[qidx][20 * p + 6] = facesVec3Array[1].y;
                this.vertexPosition[qidx][20 * p + 7] = facesVec3Array[1].z;
                this.vertexPosition[qidx][20 * p + 8] = step + step * uindex;
                this.vertexPosition[qidx][20 * p + 9] = 1 - step * vindex;
                this.vertexPosition[qidx][20 * p + 10] = facesVec3Array[2].x;
                this.vertexPosition[qidx][20 * p + 11] = facesVec3Array[2].y;
                this.vertexPosition[qidx][20 * p + 12] = facesVec3Array[2].z;
                this.vertexPosition[qidx][20 * p + 13] = step * uindex;
                this.vertexPosition[qidx][20 * p + 14] = 1 - step * vindex;
                this.vertexPosition[qidx][20 * p + 15] = facesVec3Array[3].x;
                this.vertexPosition[qidx][20 * p + 16] = facesVec3Array[3].y;
                this.vertexPosition[qidx][20 * p + 17] = facesVec3Array[3].z;
                this.vertexPosition[qidx][20 * p + 18] = step * uindex;
                this.vertexPosition[qidx][20 * p + 19] = 1 - (step + step * vindex);
                p++;
            }
        }
        this.vertexPositionBuffer[qidx] = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexPositionBuffer[qidx]);
        gl.bufferData(gl.ARRAY_BUFFER, this.vertexPosition[qidx], gl.STATIC_DRAW);
    }
    draw(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx) {
        if (!this._ready)
            return false;
        let quadrantsToDraw = new Set([0, 1, 2, 3]);
        if (visibleOrder > this._order) {
            const q = this.drawChildren(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx);
            if (q)
                quadrantsToDraw = q;
        }
        _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.enableShaders(pMatrix, vMatrix, mMatrix, colorMapIdx);
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        gl.enableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.vertexPositionAttribute);
        gl.enableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureCoordAttribute);
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.uniform1f(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureAlpha, this.opacity);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
        const elemno = this.vertexIndices.length;
        quadrantsToDraw.forEach((qidx) => {
            gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexPositionBuffer[qidx]);
            gl.vertexAttribPointer(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.vertexPositionAttribute, 3, gl.FLOAT, false, 5 * 4, 0);
            gl.vertexAttribPointer(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureCoordAttribute, 2, gl.FLOAT, false, 5 * 4, 3 * 4);
            gl.drawElements(gl.TRIANGLES, elemno, gl.UNSIGNED_SHORT, 0);
        });
        gl.disableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.vertexPositionAttribute);
        gl.disableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureCoordAttribute);
        return true;
    }
    drawChildren(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx) {
        const quadrantsToDraw = new Set([0, 1, 2, 3]);
        const childrenOrder = this._order + 1;
        if (!visibleTilesMap.has(childrenOrder))
            return;
        for (let c = 0; c < 4; c++) {
            const childTileNo = (this._tileno << 2) + c;
            const visibleChildren = visibleTilesMap.get(childrenOrder);
            if (visibleChildren.includes(childTileNo)) {
                const childTile = this._isGalacticHips
                    ? _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.getGalTile(childTileNo, childrenOrder, this._hips)
                    : _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.getTile(childTileNo, childrenOrder, this._hips);
                childTile.draw(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx);
                if (childTile._ready) {
                    quadrantsToDraw.delete(childTile._tileno - (this._tileno << 2));
                }
            }
        }
        return quadrantsToDraw;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AncestorTile);
//# sourceMappingURL=AncestorTile.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/ColorMap.js":
/*!******************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/ColorMap.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   colorMap: () => (/* binding */ colorMap)
/* harmony export */ });
/**
 * @author Fabrizio Giordano (Fab77)
 * Enum for coordinate types.
 * @readonly
 * @enum {{name: string, hex: string}}
 */
class ColorMap {
    PLANCK = {
        // "r": new Float32Array([0.00000,0.769231,1.53846,2.30769,3.07692,3.84615,4.61538,5.38462,6.15385,6.92308,7.69231,8.46154,9.23077,10.0000,11.5385,13.0769,14.6154,16.1538,17.6923,19.2308,20.7692,22.3077,23.8462,25.3846,26.9231,28.4615,30.0000,33.8462,37.6923,41.5385,45.3846,49.2308,53.0769,56.9231,60.7692,64.6154,68.4615,72.3077,76.1538,80.0000,88.5385,97.0769,105.615,114.154,122.692,131.231,139.769,148.308,156.846,165.385,173.923,182.462,191.000,193.846,196.692,199.538,202.385,205.231,208.077,210.923,213.769,216.615,219.462,222.308,225.154,228.000,229.182,230.364,231.545,232.727,233.909,235.091,236.273,237.455,238.636,239.818,241.000,241.000,241.364,241.727,242.091,242.455,242.818,243.182,243.545,243.909,244.273,244.636,245.000,245.231,245.462,245.692,245.923,246.154,246.385,246.615,246.846,247.077,247.308,247.538,247.769,248.000,248.146,248.292,248.438,248.585,248.731,248.877,249.023,249.169,249.315,249.462,249.608,249.754,249.900,249.312,248.723,248.135,247.546,246.958,246.369,245.781,245.192,244.604,244.015,243.427,242.838,242.250,239.308,236.365,233.423,230.481,227.538,224.596,221.654,218.712,215.769,212.827,209.885,206.942,204.000,201.000,198.000,195.000,192.000,189.000,186.000,183.000,180.000,177.000,174.000,171.000,168.000,165.000,161.077,157.154,153.231,149.308,145.385,141.462,137.538,133.615,129.692,125.769,121.846,117.923,114.000,115.038,116.077,117.115,118.154,119.192,120.231,121.269,122.308,123.346,124.385,125.423,126.462,127.500,131.423,135.346,139.269,143.192,147.115,151.038,154.962,158.885,162.808,166.731,170.654,174.577,178.500,180.462,182.423,184.385,186.346,188.308,190.269,192.231,194.192,196.154,198.115,200.077,202.038,204.000,205.962,207.923,209.885,211.846,213.808,215.769,217.731,219.692,221.654,223.615,225.577,227.538,229.500,230.481,231.462,232.442,233.423,234.404,235.385,236.365,237.346,238.327,239.308,240.288,241.269,242.250,242.642,243.035,243.427,243.819,244.212,244.604,244.996,245.388,245.781,246.173,246.565,246.958,247.350,247.814,248.277,248.741,249.205,249.668,250.132,250.595,251.059,251.523,251.986,252.450]),
        // "g": new Float32Array([0.00000,1.53846,3.07692,4.61538,6.15385,7.69231,9.23077,10.7692,12.3077,13.8462,15.3846,16.9231,18.4615,20.0000,32.6154,45.2308,57.8462,70.4615,83.0769,95.6923,108.308,120.923,133.538,146.154,158.769,171.385,184.000,187.923,191.846,195.769,199.692,203.615,207.538,211.462,215.385,219.308,223.231,227.154,231.077,235.000,235.308,235.615,235.923,236.231,236.538,236.846,237.154,237.462,237.769,238.077,238.385,238.692,239.000,239.077,239.154,239.231,239.308,239.385,239.462,239.538,239.615,239.692,239.769,239.846,239.923,240.000,240.091,240.182,240.273,240.364,240.455,240.545,240.636,240.727,240.818,240.909,241.000,241.000,240.909,240.818,240.727,240.636,240.545,240.455,240.364,240.273,240.182,240.091,240.000,239.615,239.231,238.846,238.462,238.077,237.692,237.308,236.923,236.538,236.154,235.769,235.385,235.000,232.615,230.231,227.846,225.462,223.077,220.692,218.308,215.923,213.538,211.154,208.769,206.385,204.000,200.077,196.154,192.231,188.308,184.385,180.462,176.538,172.615,168.692,164.769,160.846,156.923,153.000,147.115,141.231,135.346,129.462,123.577,117.692,111.808,105.923,100.038,94.1538,88.2692,82.3846,76.5000,73.0769,69.6538,66.2308,62.8077,59.3846,55.9615,52.5385,49.1154,45.6923,42.2692,38.8462,35.4231,32.0000,29.5385,27.0769,24.6154,22.1538,19.6923,17.2308,14.7692,12.3077,9.84615,7.38462,4.92308,2.46154,0.00000,9.80769,19.6154,29.4231,39.2308,49.0385,58.8462,68.6538,78.4615,88.2692,98.0769,107.885,117.692,127.500,131.423,135.346,139.269,143.192,147.115,151.038,154.962,158.885,162.808,166.731,170.654,174.577,178.500,180.462,182.423,184.385,186.346,188.308,190.269,192.231,194.192,196.154,198.115,200.077,202.038,204.000,205.962,207.923,209.885,211.846,213.808,215.769,217.731,219.692,221.654,223.615,225.577,227.538,229.500,230.481,231.462,232.442,233.423,234.404,235.385,236.365,237.346,238.327,239.308,240.288,241.269,242.250,242.642,243.035,243.427,243.819,244.212,244.604,244.996,245.388,245.781,246.173,246.565,246.958,247.350,247.814,248.277,248.741,249.205,249.668,250.132,250.595,251.059,251.523,251.986,252.450]),
        // "b": new Float32Array([255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,255.000,254.615,254.231,253.846,253.462,253.077,252.692,252.308,251.923,251.538,251.154,250.769,250.385,250.000,249.615,249.231,248.846,248.462,248.077,247.692,247.308,246.923,246.538,246.154,245.769,245.385,245.000,242.000,239.000,236.000,233.000,230.000,227.000,224.000,221.000,218.000,215.000,212.000,212.000,208.636,205.273,201.909,198.545,195.182,191.818,188.455,185.091,181.727,178.364,175.000,171.538,168.077,164.615,161.154,157.692,154.231,150.769,147.308,143.846,140.385,136.923,133.462,130.000,122.942,115.885,108.827,101.769,94.7115,87.6539,80.5962,73.5385,66.4808,59.4231,52.3654,45.3077,38.2500,36.2885,34.3269,32.3654,30.4038,28.4423,26.4808,24.5192,22.5577,20.5962,18.6346,16.6731,14.7115,12.7500,11.7692,10.7885,9.80769,8.82692,7.84615,6.86539,5.88461,4.90385,3.92308,2.94231,1.96154,0.980769,0.00000,2.46154,4.92308,7.38462,9.84616,12.3077,14.7692,17.2308,19.6923,22.1538,24.6154,27.0769,29.5385,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,32.0000,41.3077,50.6154,59.9231,69.2308,78.5385,87.8462,97.1539,106.462,115.769,125.077,134.385,143.692,153.000,156.923,160.846,164.769,168.692,172.615,176.538,180.462,184.385,188.308,192.231,196.154,200.077,204.000,205.962,207.923,209.885,211.846,213.808,215.769,217.731,219.692,221.654,223.615,225.577,227.538,229.500,230.481,231.462,232.442,233.423,234.404,235.385,236.365,237.346,238.327,239.308,240.288,241.269,242.250,242.838,243.427,244.015,244.604,245.192,245.781,246.369,246.958,247.546,248.135,248.723,249.312,249.900,250.096,250.292,250.488,250.685,250.881,251.077,251.273,251.469,251.665,251.862,252.058,252.254,252.450,252.682,252.914,253.145,253.377,253.609,253.841,254.073,254.305,254.536,254.768,255.000])
        r: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 0.769231, 0.0, 0.0, 0.0, 1.53846, 0.0, 0.0, 0.0, 2.30769, 0.0, 0.0, 0.0,
            3.07692, 0.0, 0.0, 0.0, 3.84615, 0.0, 0.0, 0.0, 4.61538, 0.0, 0.0, 0.0, 5.38462, 0.0, 0.0,
            0.0, 6.15385, 0.0, 0.0, 0.0, 6.92308, 0.0, 0.0, 0.0, 7.69231, 0.0, 0.0, 0.0, 8.46154, 0.0,
            0.0, 0.0, 9.23077, 0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 11.5385, 0.0, 0.0, 0.0, 13.0769, 0.0,
            0.0, 0.0, 14.6154, 0.0, 0.0, 0.0, 16.1538, 0.0, 0.0, 0.0, 17.6923, 0.0, 0.0, 0.0, 19.2308,
            0.0, 0.0, 0.0, 20.7692, 0.0, 0.0, 0.0, 22.3077, 0.0, 0.0, 0.0, 23.8462, 0.0, 0.0, 0.0,
            25.3846, 0.0, 0.0, 0.0, 26.9231, 0.0, 0.0, 0.0, 28.4615, 0.0, 0.0, 0.0, 30.0, 0.0, 0.0, 0.0,
            33.8462, 0.0, 0.0, 0.0, 37.6923, 0.0, 0.0, 0.0, 41.5385, 0.0, 0.0, 0.0, 45.3846, 0.0, 0.0,
            0.0, 49.2308, 0.0, 0.0, 0.0, 53.0769, 0.0, 0.0, 0.0, 56.9231, 0.0, 0.0, 0.0, 60.7692, 0.0,
            0.0, 0.0, 64.6154, 0.0, 0.0, 0.0, 68.4615, 0.0, 0.0, 0.0, 72.3077, 0.0, 0.0, 0.0, 76.1538,
            0.0, 0.0, 0.0, 80.0, 0.0, 0.0, 0.0, 88.5385, 0.0, 0.0, 0.0, 97.0769, 0.0, 0.0, 0.0, 105.615,
            0.0, 0.0, 0.0, 114.154, 0.0, 0.0, 0.0, 122.692, 0.0, 0.0, 0.0, 131.231, 0.0, 0.0, 0.0,
            139.769, 0.0, 0.0, 0.0, 148.308, 0.0, 0.0, 0.0, 156.846, 0.0, 0.0, 0.0, 165.385, 0.0, 0.0,
            0.0, 173.923, 0.0, 0.0, 0.0, 182.462, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 193.846, 0.0, 0.0,
            0.0, 196.692, 0.0, 0.0, 0.0, 199.538, 0.0, 0.0, 0.0, 202.385, 0.0, 0.0, 0.0, 205.231, 0.0,
            0.0, 0.0, 208.077, 0.0, 0.0, 0.0, 210.923, 0.0, 0.0, 0.0, 213.769, 0.0, 0.0, 0.0, 216.615,
            0.0, 0.0, 0.0, 219.462, 0.0, 0.0, 0.0, 222.308, 0.0, 0.0, 0.0, 225.154, 0.0, 0.0, 0.0, 228.0,
            0.0, 0.0, 0.0, 229.182, 0.0, 0.0, 0.0, 230.364, 0.0, 0.0, 0.0, 231.545, 0.0, 0.0, 0.0,
            232.727, 0.0, 0.0, 0.0, 233.909, 0.0, 0.0, 0.0, 235.091, 0.0, 0.0, 0.0, 236.273, 0.0, 0.0,
            0.0, 237.455, 0.0, 0.0, 0.0, 238.636, 0.0, 0.0, 0.0, 239.818, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0,
            0.0, 241.0, 0.0, 0.0, 0.0, 241.364, 0.0, 0.0, 0.0, 241.727, 0.0, 0.0, 0.0, 242.091, 0.0, 0.0,
            0.0, 242.455, 0.0, 0.0, 0.0, 242.818, 0.0, 0.0, 0.0, 243.182, 0.0, 0.0, 0.0, 243.545, 0.0,
            0.0, 0.0, 243.909, 0.0, 0.0, 0.0, 244.273, 0.0, 0.0, 0.0, 244.636, 0.0, 0.0, 0.0, 245.0, 0.0,
            0.0, 0.0, 245.231, 0.0, 0.0, 0.0, 245.462, 0.0, 0.0, 0.0, 245.692, 0.0, 0.0, 0.0, 245.923,
            0.0, 0.0, 0.0, 246.154, 0.0, 0.0, 0.0, 246.385, 0.0, 0.0, 0.0, 246.615, 0.0, 0.0, 0.0,
            246.846, 0.0, 0.0, 0.0, 247.077, 0.0, 0.0, 0.0, 247.308, 0.0, 0.0, 0.0, 247.538, 0.0, 0.0,
            0.0, 247.769, 0.0, 0.0, 0.0, 248.0, 0.0, 0.0, 0.0, 248.146, 0.0, 0.0, 0.0, 248.292, 0.0, 0.0,
            0.0, 248.438, 0.0, 0.0, 0.0, 248.585, 0.0, 0.0, 0.0, 248.731, 0.0, 0.0, 0.0, 248.877, 0.0,
            0.0, 0.0, 249.023, 0.0, 0.0, 0.0, 249.169, 0.0, 0.0, 0.0, 249.315, 0.0, 0.0, 0.0, 249.462,
            0.0, 0.0, 0.0, 249.608, 0.0, 0.0, 0.0, 249.754, 0.0, 0.0, 0.0, 249.9, 0.0, 0.0, 0.0, 249.312,
            0.0, 0.0, 0.0, 248.723, 0.0, 0.0, 0.0, 248.135, 0.0, 0.0, 0.0, 247.546, 0.0, 0.0, 0.0,
            246.958, 0.0, 0.0, 0.0, 246.369, 0.0, 0.0, 0.0, 245.781, 0.0, 0.0, 0.0, 245.192, 0.0, 0.0,
            0.0, 244.604, 0.0, 0.0, 0.0, 244.015, 0.0, 0.0, 0.0, 243.427, 0.0, 0.0, 0.0, 242.838, 0.0,
            0.0, 0.0, 242.25, 0.0, 0.0, 0.0, 239.308, 0.0, 0.0, 0.0, 236.365, 0.0, 0.0, 0.0, 233.423, 0.0,
            0.0, 0.0, 230.481, 0.0, 0.0, 0.0, 227.538, 0.0, 0.0, 0.0, 224.596, 0.0, 0.0, 0.0, 221.654,
            0.0, 0.0, 0.0, 218.712, 0.0, 0.0, 0.0, 215.769, 0.0, 0.0, 0.0, 212.827, 0.0, 0.0, 0.0,
            209.885, 0.0, 0.0, 0.0, 206.942, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 201.0, 0.0, 0.0, 0.0,
            198.0, 0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 192.0, 0.0, 0.0, 0.0, 189.0, 0.0, 0.0, 0.0, 186.0,
            0.0, 0.0, 0.0, 183.0, 0.0, 0.0, 0.0, 180.0, 0.0, 0.0, 0.0, 177.0, 0.0, 0.0, 0.0, 174.0, 0.0,
            0.0, 0.0, 171.0, 0.0, 0.0, 0.0, 168.0, 0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 161.077, 0.0, 0.0,
            0.0, 157.154, 0.0, 0.0, 0.0, 153.231, 0.0, 0.0, 0.0, 149.308, 0.0, 0.0, 0.0, 145.385, 0.0,
            0.0, 0.0, 141.462, 0.0, 0.0, 0.0, 137.538, 0.0, 0.0, 0.0, 133.615, 0.0, 0.0, 0.0, 129.692,
            0.0, 0.0, 0.0, 125.769, 0.0, 0.0, 0.0, 121.846, 0.0, 0.0, 0.0, 117.923, 0.0, 0.0, 0.0, 114.0,
            0.0, 0.0, 0.0, 115.038, 0.0, 0.0, 0.0, 116.077, 0.0, 0.0, 0.0, 117.115, 0.0, 0.0, 0.0,
            118.154, 0.0, 0.0, 0.0, 119.192, 0.0, 0.0, 0.0, 120.231, 0.0, 0.0, 0.0, 121.269, 0.0, 0.0,
            0.0, 122.308, 0.0, 0.0, 0.0, 123.346, 0.0, 0.0, 0.0, 124.385, 0.0, 0.0, 0.0, 125.423, 0.0,
            0.0, 0.0, 126.462, 0.0, 0.0, 0.0, 127.5, 0.0, 0.0, 0.0, 131.423, 0.0, 0.0, 0.0, 135.346, 0.0,
            0.0, 0.0, 139.269, 0.0, 0.0, 0.0, 143.192, 0.0, 0.0, 0.0, 147.115, 0.0, 0.0, 0.0, 151.038,
            0.0, 0.0, 0.0, 154.962, 0.0, 0.0, 0.0, 158.885, 0.0, 0.0, 0.0, 162.808, 0.0, 0.0, 0.0,
            166.731, 0.0, 0.0, 0.0, 170.654, 0.0, 0.0, 0.0, 174.577, 0.0, 0.0, 0.0, 178.5, 0.0, 0.0, 0.0,
            180.462, 0.0, 0.0, 0.0, 182.423, 0.0, 0.0, 0.0, 184.385, 0.0, 0.0, 0.0, 186.346, 0.0, 0.0,
            0.0, 188.308, 0.0, 0.0, 0.0, 190.269, 0.0, 0.0, 0.0, 192.231, 0.0, 0.0, 0.0, 194.192, 0.0,
            0.0, 0.0, 196.154, 0.0, 0.0, 0.0, 198.115, 0.0, 0.0, 0.0, 200.077, 0.0, 0.0, 0.0, 202.038,
            0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 205.962, 0.0, 0.0, 0.0, 207.923, 0.0, 0.0, 0.0, 209.885,
            0.0, 0.0, 0.0, 211.846, 0.0, 0.0, 0.0, 213.808, 0.0, 0.0, 0.0, 215.769, 0.0, 0.0, 0.0,
            217.731, 0.0, 0.0, 0.0, 219.692, 0.0, 0.0, 0.0, 221.654, 0.0, 0.0, 0.0, 223.615, 0.0, 0.0,
            0.0, 225.577, 0.0, 0.0, 0.0, 227.538, 0.0, 0.0, 0.0, 229.5, 0.0, 0.0, 0.0, 230.481, 0.0, 0.0,
            0.0, 231.462, 0.0, 0.0, 0.0, 232.442, 0.0, 0.0, 0.0, 233.423, 0.0, 0.0, 0.0, 234.404, 0.0,
            0.0, 0.0, 235.385, 0.0, 0.0, 0.0, 236.365, 0.0, 0.0, 0.0, 237.346, 0.0, 0.0, 0.0, 238.327,
            0.0, 0.0, 0.0, 239.308, 0.0, 0.0, 0.0, 240.288, 0.0, 0.0, 0.0, 241.269, 0.0, 0.0, 0.0, 242.25,
            0.0, 0.0, 0.0, 242.642, 0.0, 0.0, 0.0, 243.035, 0.0, 0.0, 0.0, 243.427, 0.0, 0.0, 0.0,
            243.819, 0.0, 0.0, 0.0, 244.212, 0.0, 0.0, 0.0, 244.604, 0.0, 0.0, 0.0, 244.996, 0.0, 0.0,
            0.0, 245.388, 0.0, 0.0, 0.0, 245.781, 0.0, 0.0, 0.0, 246.173, 0.0, 0.0, 0.0, 246.565, 0.0,
            0.0, 0.0, 246.958, 0.0, 0.0, 0.0, 247.35, 0.0, 0.0, 0.0, 247.814, 0.0, 0.0, 0.0, 248.277, 0.0,
            0.0, 0.0, 248.741, 0.0, 0.0, 0.0, 249.205, 0.0, 0.0, 0.0, 249.668, 0.0, 0.0, 0.0, 250.132,
            0.0, 0.0, 0.0, 250.595, 0.0, 0.0, 0.0, 251.059, 0.0, 0.0, 0.0, 251.523, 0.0, 0.0, 0.0,
            251.986, 0.0, 0.0, 0.0, 252.45, 0.0, 0.0, 0.0
        ]),
        g: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 1.53846, 0.0, 0.0, 0.0, 3.07692, 0.0, 0.0, 0.0, 4.61538, 0.0, 0.0, 0.0,
            6.15385, 0.0, 0.0, 0.0, 7.69231, 0.0, 0.0, 0.0, 9.23077, 0.0, 0.0, 0.0, 10.7692, 0.0, 0.0,
            0.0, 12.3077, 0.0, 0.0, 0.0, 13.8462, 0.0, 0.0, 0.0, 15.3846, 0.0, 0.0, 0.0, 16.9231, 0.0,
            0.0, 0.0, 18.4615, 0.0, 0.0, 0.0, 20.0, 0.0, 0.0, 0.0, 32.6154, 0.0, 0.0, 0.0, 45.2308, 0.0,
            0.0, 0.0, 57.8462, 0.0, 0.0, 0.0, 70.4615, 0.0, 0.0, 0.0, 83.0769, 0.0, 0.0, 0.0, 95.6923,
            0.0, 0.0, 0.0, 108.308, 0.0, 0.0, 0.0, 120.923, 0.0, 0.0, 0.0, 133.538, 0.0, 0.0, 0.0,
            146.154, 0.0, 0.0, 0.0, 158.769, 0.0, 0.0, 0.0, 171.385, 0.0, 0.0, 0.0, 184.0, 0.0, 0.0, 0.0,
            187.923, 0.0, 0.0, 0.0, 191.846, 0.0, 0.0, 0.0, 195.769, 0.0, 0.0, 0.0, 199.692, 0.0, 0.0,
            0.0, 203.615, 0.0, 0.0, 0.0, 207.538, 0.0, 0.0, 0.0, 211.462, 0.0, 0.0, 0.0, 215.385, 0.0,
            0.0, 0.0, 219.308, 0.0, 0.0, 0.0, 223.231, 0.0, 0.0, 0.0, 227.154, 0.0, 0.0, 0.0, 231.077,
            0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 235.308, 0.0, 0.0, 0.0, 235.615, 0.0, 0.0, 0.0, 235.923,
            0.0, 0.0, 0.0, 236.231, 0.0, 0.0, 0.0, 236.538, 0.0, 0.0, 0.0, 236.846, 0.0, 0.0, 0.0,
            237.154, 0.0, 0.0, 0.0, 237.462, 0.0, 0.0, 0.0, 237.769, 0.0, 0.0, 0.0, 238.077, 0.0, 0.0,
            0.0, 238.385, 0.0, 0.0, 0.0, 238.692, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 239.077, 0.0, 0.0,
            0.0, 239.154, 0.0, 0.0, 0.0, 239.231, 0.0, 0.0, 0.0, 239.308, 0.0, 0.0, 0.0, 239.385, 0.0,
            0.0, 0.0, 239.462, 0.0, 0.0, 0.0, 239.538, 0.0, 0.0, 0.0, 239.615, 0.0, 0.0, 0.0, 239.692,
            0.0, 0.0, 0.0, 239.769, 0.0, 0.0, 0.0, 239.846, 0.0, 0.0, 0.0, 239.923, 0.0, 0.0, 0.0, 240.0,
            0.0, 0.0, 0.0, 240.091, 0.0, 0.0, 0.0, 240.182, 0.0, 0.0, 0.0, 240.273, 0.0, 0.0, 0.0,
            240.364, 0.0, 0.0, 0.0, 240.455, 0.0, 0.0, 0.0, 240.545, 0.0, 0.0, 0.0, 240.636, 0.0, 0.0,
            0.0, 240.727, 0.0, 0.0, 0.0, 240.818, 0.0, 0.0, 0.0, 240.909, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0,
            0.0, 241.0, 0.0, 0.0, 0.0, 240.909, 0.0, 0.0, 0.0, 240.818, 0.0, 0.0, 0.0, 240.727, 0.0, 0.0,
            0.0, 240.636, 0.0, 0.0, 0.0, 240.545, 0.0, 0.0, 0.0, 240.455, 0.0, 0.0, 0.0, 240.364, 0.0,
            0.0, 0.0, 240.273, 0.0, 0.0, 0.0, 240.182, 0.0, 0.0, 0.0, 240.091, 0.0, 0.0, 0.0, 240.0, 0.0,
            0.0, 0.0, 239.615, 0.0, 0.0, 0.0, 239.231, 0.0, 0.0, 0.0, 238.846, 0.0, 0.0, 0.0, 238.462,
            0.0, 0.0, 0.0, 238.077, 0.0, 0.0, 0.0, 237.692, 0.0, 0.0, 0.0, 237.308, 0.0, 0.0, 0.0,
            236.923, 0.0, 0.0, 0.0, 236.538, 0.0, 0.0, 0.0, 236.154, 0.0, 0.0, 0.0, 235.769, 0.0, 0.0,
            0.0, 235.385, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 232.615, 0.0, 0.0, 0.0, 230.231, 0.0, 0.0,
            0.0, 227.846, 0.0, 0.0, 0.0, 225.462, 0.0, 0.0, 0.0, 223.077, 0.0, 0.0, 0.0, 220.692, 0.0,
            0.0, 0.0, 218.308, 0.0, 0.0, 0.0, 215.923, 0.0, 0.0, 0.0, 213.538, 0.0, 0.0, 0.0, 211.154,
            0.0, 0.0, 0.0, 208.769, 0.0, 0.0, 0.0, 206.385, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 200.077,
            0.0, 0.0, 0.0, 196.154, 0.0, 0.0, 0.0, 192.231, 0.0, 0.0, 0.0, 188.308, 0.0, 0.0, 0.0,
            184.385, 0.0, 0.0, 0.0, 180.462, 0.0, 0.0, 0.0, 176.538, 0.0, 0.0, 0.0, 172.615, 0.0, 0.0,
            0.0, 168.692, 0.0, 0.0, 0.0, 164.769, 0.0, 0.0, 0.0, 160.846, 0.0, 0.0, 0.0, 156.923, 0.0,
            0.0, 0.0, 153.0, 0.0, 0.0, 0.0, 147.115, 0.0, 0.0, 0.0, 141.231, 0.0, 0.0, 0.0, 135.346, 0.0,
            0.0, 0.0, 129.462, 0.0, 0.0, 0.0, 123.577, 0.0, 0.0, 0.0, 117.692, 0.0, 0.0, 0.0, 111.808,
            0.0, 0.0, 0.0, 105.923, 0.0, 0.0, 0.0, 100.038, 0.0, 0.0, 0.0, 94.1538, 0.0, 0.0, 0.0,
            88.2692, 0.0, 0.0, 0.0, 82.3846, 0.0, 0.0, 0.0, 76.5, 0.0, 0.0, 0.0, 73.0769, 0.0, 0.0, 0.0,
            69.6538, 0.0, 0.0, 0.0, 66.2308, 0.0, 0.0, 0.0, 62.8077, 0.0, 0.0, 0.0, 59.3846, 0.0, 0.0,
            0.0, 55.9615, 0.0, 0.0, 0.0, 52.5385, 0.0, 0.0, 0.0, 49.1154, 0.0, 0.0, 0.0, 45.6923, 0.0,
            0.0, 0.0, 42.2692, 0.0, 0.0, 0.0, 38.8462, 0.0, 0.0, 0.0, 35.4231, 0.0, 0.0, 0.0, 32.0, 0.0,
            0.0, 0.0, 29.5385, 0.0, 0.0, 0.0, 27.0769, 0.0, 0.0, 0.0, 24.6154, 0.0, 0.0, 0.0, 22.1538,
            0.0, 0.0, 0.0, 19.6923, 0.0, 0.0, 0.0, 17.2308, 0.0, 0.0, 0.0, 14.7692, 0.0, 0.0, 0.0,
            12.3077, 0.0, 0.0, 0.0, 9.84615, 0.0, 0.0, 0.0, 7.38462, 0.0, 0.0, 0.0, 4.92308, 0.0, 0.0,
            0.0, 2.46154, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 9.80769, 0.0, 0.0, 0.0, 19.6154, 0.0, 0.0,
            0.0, 29.4231, 0.0, 0.0, 0.0, 39.2308, 0.0, 0.0, 0.0, 49.0385, 0.0, 0.0, 0.0, 58.8462, 0.0,
            0.0, 0.0, 68.6538, 0.0, 0.0, 0.0, 78.4615, 0.0, 0.0, 0.0, 88.2692, 0.0, 0.0, 0.0, 98.0769,
            0.0, 0.0, 0.0, 107.885, 0.0, 0.0, 0.0, 117.692, 0.0, 0.0, 0.0, 127.5, 0.0, 0.0, 0.0, 131.423,
            0.0, 0.0, 0.0, 135.346, 0.0, 0.0, 0.0, 139.269, 0.0, 0.0, 0.0, 143.192, 0.0, 0.0, 0.0,
            147.115, 0.0, 0.0, 0.0, 151.038, 0.0, 0.0, 0.0, 154.962, 0.0, 0.0, 0.0, 158.885, 0.0, 0.0,
            0.0, 162.808, 0.0, 0.0, 0.0, 166.731, 0.0, 0.0, 0.0, 170.654, 0.0, 0.0, 0.0, 174.577, 0.0,
            0.0, 0.0, 178.5, 0.0, 0.0, 0.0, 180.462, 0.0, 0.0, 0.0, 182.423, 0.0, 0.0, 0.0, 184.385, 0.0,
            0.0, 0.0, 186.346, 0.0, 0.0, 0.0, 188.308, 0.0, 0.0, 0.0, 190.269, 0.0, 0.0, 0.0, 192.231,
            0.0, 0.0, 0.0, 194.192, 0.0, 0.0, 0.0, 196.154, 0.0, 0.0, 0.0, 198.115, 0.0, 0.0, 0.0,
            200.077, 0.0, 0.0, 0.0, 202.038, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 205.962, 0.0, 0.0, 0.0,
            207.923, 0.0, 0.0, 0.0, 209.885, 0.0, 0.0, 0.0, 211.846, 0.0, 0.0, 0.0, 213.808, 0.0, 0.0,
            0.0, 215.769, 0.0, 0.0, 0.0, 217.731, 0.0, 0.0, 0.0, 219.692, 0.0, 0.0, 0.0, 221.654, 0.0,
            0.0, 0.0, 223.615, 0.0, 0.0, 0.0, 225.577, 0.0, 0.0, 0.0, 227.538, 0.0, 0.0, 0.0, 229.5, 0.0,
            0.0, 0.0, 230.481, 0.0, 0.0, 0.0, 231.462, 0.0, 0.0, 0.0, 232.442, 0.0, 0.0, 0.0, 233.423,
            0.0, 0.0, 0.0, 234.404, 0.0, 0.0, 0.0, 235.385, 0.0, 0.0, 0.0, 236.365, 0.0, 0.0, 0.0,
            237.346, 0.0, 0.0, 0.0, 238.327, 0.0, 0.0, 0.0, 239.308, 0.0, 0.0, 0.0, 240.288, 0.0, 0.0,
            0.0, 241.269, 0.0, 0.0, 0.0, 242.25, 0.0, 0.0, 0.0, 242.642, 0.0, 0.0, 0.0, 243.035, 0.0, 0.0,
            0.0, 243.427, 0.0, 0.0, 0.0, 243.819, 0.0, 0.0, 0.0, 244.212, 0.0, 0.0, 0.0, 244.604, 0.0,
            0.0, 0.0, 244.996, 0.0, 0.0, 0.0, 245.388, 0.0, 0.0, 0.0, 245.781, 0.0, 0.0, 0.0, 246.173,
            0.0, 0.0, 0.0, 246.565, 0.0, 0.0, 0.0, 246.958, 0.0, 0.0, 0.0, 247.35, 0.0, 0.0, 0.0, 247.814,
            0.0, 0.0, 0.0, 248.277, 0.0, 0.0, 0.0, 248.741, 0.0, 0.0, 0.0, 249.205, 0.0, 0.0, 0.0,
            249.668, 0.0, 0.0, 0.0, 250.132, 0.0, 0.0, 0.0, 250.595, 0.0, 0.0, 0.0, 251.059, 0.0, 0.0,
            0.0, 251.523, 0.0, 0.0, 0.0, 251.986, 0.0, 0.0, 0.0, 252.45, 0.0, 0.0, 0.0
        ]),
        b: new Float32Array([
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 254.615, 0.0, 0.0, 0.0, 254.231, 0.0, 0.0, 0.0, 253.846,
            0.0, 0.0, 0.0, 253.462, 0.0, 0.0, 0.0, 253.077, 0.0, 0.0, 0.0, 252.692, 0.0, 0.0, 0.0,
            252.308, 0.0, 0.0, 0.0, 251.923, 0.0, 0.0, 0.0, 251.538, 0.0, 0.0, 0.0, 251.154, 0.0, 0.0,
            0.0, 250.769, 0.0, 0.0, 0.0, 250.385, 0.0, 0.0, 0.0, 250.0, 0.0, 0.0, 0.0, 249.615, 0.0, 0.0,
            0.0, 249.231, 0.0, 0.0, 0.0, 248.846, 0.0, 0.0, 0.0, 248.462, 0.0, 0.0, 0.0, 248.077, 0.0,
            0.0, 0.0, 247.692, 0.0, 0.0, 0.0, 247.308, 0.0, 0.0, 0.0, 246.923, 0.0, 0.0, 0.0, 246.538,
            0.0, 0.0, 0.0, 246.154, 0.0, 0.0, 0.0, 245.769, 0.0, 0.0, 0.0, 245.385, 0.0, 0.0, 0.0, 245.0,
            0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 236.0, 0.0, 0.0, 0.0, 233.0, 0.0,
            0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 227.0, 0.0, 0.0, 0.0, 224.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0,
            0.0, 218.0, 0.0, 0.0, 0.0, 215.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0,
            208.636, 0.0, 0.0, 0.0, 205.273, 0.0, 0.0, 0.0, 201.909, 0.0, 0.0, 0.0, 198.545, 0.0, 0.0,
            0.0, 195.182, 0.0, 0.0, 0.0, 191.818, 0.0, 0.0, 0.0, 188.455, 0.0, 0.0, 0.0, 185.091, 0.0,
            0.0, 0.0, 181.727, 0.0, 0.0, 0.0, 178.364, 0.0, 0.0, 0.0, 175.0, 0.0, 0.0, 0.0, 171.538, 0.0,
            0.0, 0.0, 168.077, 0.0, 0.0, 0.0, 164.615, 0.0, 0.0, 0.0, 161.154, 0.0, 0.0, 0.0, 157.692,
            0.0, 0.0, 0.0, 154.231, 0.0, 0.0, 0.0, 150.769, 0.0, 0.0, 0.0, 147.308, 0.0, 0.0, 0.0,
            143.846, 0.0, 0.0, 0.0, 140.385, 0.0, 0.0, 0.0, 136.923, 0.0, 0.0, 0.0, 133.462, 0.0, 0.0,
            0.0, 130.0, 0.0, 0.0, 0.0, 122.942, 0.0, 0.0, 0.0, 115.885, 0.0, 0.0, 0.0, 108.827, 0.0, 0.0,
            0.0, 101.769, 0.0, 0.0, 0.0, 94.7115, 0.0, 0.0, 0.0, 87.6539, 0.0, 0.0, 0.0, 80.5962, 0.0,
            0.0, 0.0, 73.5385, 0.0, 0.0, 0.0, 66.4808, 0.0, 0.0, 0.0, 59.4231, 0.0, 0.0, 0.0, 52.3654,
            0.0, 0.0, 0.0, 45.3077, 0.0, 0.0, 0.0, 38.25, 0.0, 0.0, 0.0, 36.2885, 0.0, 0.0, 0.0, 34.3269,
            0.0, 0.0, 0.0, 32.3654, 0.0, 0.0, 0.0, 30.4038, 0.0, 0.0, 0.0, 28.4423, 0.0, 0.0, 0.0,
            26.4808, 0.0, 0.0, 0.0, 24.5192, 0.0, 0.0, 0.0, 22.5577, 0.0, 0.0, 0.0, 20.5962, 0.0, 0.0,
            0.0, 18.6346, 0.0, 0.0, 0.0, 16.6731, 0.0, 0.0, 0.0, 14.7115, 0.0, 0.0, 0.0, 12.75, 0.0, 0.0,
            0.0, 11.7692, 0.0, 0.0, 0.0, 10.7885, 0.0, 0.0, 0.0, 9.80769, 0.0, 0.0, 0.0, 8.82692, 0.0,
            0.0, 0.0, 7.84615, 0.0, 0.0, 0.0, 6.86539, 0.0, 0.0, 0.0, 5.88461, 0.0, 0.0, 0.0, 4.90385,
            0.0, 0.0, 0.0, 3.92308, 0.0, 0.0, 0.0, 2.94231, 0.0, 0.0, 0.0, 1.96154, 0.0, 0.0, 0.0,
            0.980769, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.46154, 0.0, 0.0, 0.0, 4.92308, 0.0, 0.0, 0.0,
            7.38462, 0.0, 0.0, 0.0, 9.84616, 0.0, 0.0, 0.0, 12.3077, 0.0, 0.0, 0.0, 14.7692, 0.0, 0.0,
            0.0, 17.2308, 0.0, 0.0, 0.0, 19.6923, 0.0, 0.0, 0.0, 22.1538, 0.0, 0.0, 0.0, 24.6154, 0.0,
            0.0, 0.0, 27.0769, 0.0, 0.0, 0.0, 29.5385, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0,
            0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0,
            0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0,
            0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 41.3077, 0.0, 0.0, 0.0,
            50.6154, 0.0, 0.0, 0.0, 59.9231, 0.0, 0.0, 0.0, 69.2308, 0.0, 0.0, 0.0, 78.5385, 0.0, 0.0,
            0.0, 87.8462, 0.0, 0.0, 0.0, 97.1539, 0.0, 0.0, 0.0, 106.462, 0.0, 0.0, 0.0, 115.769, 0.0,
            0.0, 0.0, 125.077, 0.0, 0.0, 0.0, 134.385, 0.0, 0.0, 0.0, 143.692, 0.0, 0.0, 0.0, 153.0, 0.0,
            0.0, 0.0, 156.923, 0.0, 0.0, 0.0, 160.846, 0.0, 0.0, 0.0, 164.769, 0.0, 0.0, 0.0, 168.692,
            0.0, 0.0, 0.0, 172.615, 0.0, 0.0, 0.0, 176.538, 0.0, 0.0, 0.0, 180.462, 0.0, 0.0, 0.0,
            184.385, 0.0, 0.0, 0.0, 188.308, 0.0, 0.0, 0.0, 192.231, 0.0, 0.0, 0.0, 196.154, 0.0, 0.0,
            0.0, 200.077, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 205.962, 0.0, 0.0, 0.0, 207.923, 0.0, 0.0,
            0.0, 209.885, 0.0, 0.0, 0.0, 211.846, 0.0, 0.0, 0.0, 213.808, 0.0, 0.0, 0.0, 215.769, 0.0,
            0.0, 0.0, 217.731, 0.0, 0.0, 0.0, 219.692, 0.0, 0.0, 0.0, 221.654, 0.0, 0.0, 0.0, 223.615,
            0.0, 0.0, 0.0, 225.577, 0.0, 0.0, 0.0, 227.538, 0.0, 0.0, 0.0, 229.5, 0.0, 0.0, 0.0, 230.481,
            0.0, 0.0, 0.0, 231.462, 0.0, 0.0, 0.0, 232.442, 0.0, 0.0, 0.0, 233.423, 0.0, 0.0, 0.0,
            234.404, 0.0, 0.0, 0.0, 235.385, 0.0, 0.0, 0.0, 236.365, 0.0, 0.0, 0.0, 237.346, 0.0, 0.0,
            0.0, 238.327, 0.0, 0.0, 0.0, 239.308, 0.0, 0.0, 0.0, 240.288, 0.0, 0.0, 0.0, 241.269, 0.0,
            0.0, 0.0, 242.25, 0.0, 0.0, 0.0, 242.838, 0.0, 0.0, 0.0, 243.427, 0.0, 0.0, 0.0, 244.015, 0.0,
            0.0, 0.0, 244.604, 0.0, 0.0, 0.0, 245.192, 0.0, 0.0, 0.0, 245.781, 0.0, 0.0, 0.0, 246.369,
            0.0, 0.0, 0.0, 246.958, 0.0, 0.0, 0.0, 247.546, 0.0, 0.0, 0.0, 248.135, 0.0, 0.0, 0.0,
            248.723, 0.0, 0.0, 0.0, 249.312, 0.0, 0.0, 0.0, 249.9, 0.0, 0.0, 0.0, 250.096, 0.0, 0.0, 0.0,
            250.292, 0.0, 0.0, 0.0, 250.488, 0.0, 0.0, 0.0, 250.685, 0.0, 0.0, 0.0, 250.881, 0.0, 0.0,
            0.0, 251.077, 0.0, 0.0, 0.0, 251.273, 0.0, 0.0, 0.0, 251.469, 0.0, 0.0, 0.0, 251.665, 0.0,
            0.0, 0.0, 251.862, 0.0, 0.0, 0.0, 252.058, 0.0, 0.0, 0.0, 252.254, 0.0, 0.0, 0.0, 252.45, 0.0,
            0.0, 0.0, 252.682, 0.0, 0.0, 0.0, 252.914, 0.0, 0.0, 0.0, 253.145, 0.0, 0.0, 0.0, 253.377,
            0.0, 0.0, 0.0, 253.609, 0.0, 0.0, 0.0, 253.841, 0.0, 0.0, 0.0, 254.073, 0.0, 0.0, 0.0,
            254.305, 0.0, 0.0, 0.0, 254.536, 0.0, 0.0, 0.0, 254.768, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0
        ])
    };
    RAINBOW = {
        r: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 4.0, 0.0, 0.0, 0.0, 9.0, 0.0, 0.0, 0.0, 13.0, 0.0, 0.0, 0.0, 18.0, 0.0,
            0.0, 0.0, 22.0, 0.0, 0.0, 0.0, 27.0, 0.0, 0.0, 0.0, 31.0, 0.0, 0.0, 0.0, 36.0, 0.0, 0.0, 0.0,
            40.0, 0.0, 0.0, 0.0, 45.0, 0.0, 0.0, 0.0, 50.0, 0.0, 0.0, 0.0, 54.0, 0.0, 0.0, 0.0, 58.0, 0.0,
            0.0, 0.0, 61.0, 0.0, 0.0, 0.0, 64.0, 0.0, 0.0, 0.0, 68.0, 0.0, 0.0, 0.0, 69.0, 0.0, 0.0, 0.0,
            72.0, 0.0, 0.0, 0.0, 74.0, 0.0, 0.0, 0.0, 77.0, 0.0, 0.0, 0.0, 79.0, 0.0, 0.0, 0.0, 80.0, 0.0,
            0.0, 0.0, 82.0, 0.0, 0.0, 0.0, 83.0, 0.0, 0.0, 0.0, 85.0, 0.0, 0.0, 0.0, 84.0, 0.0, 0.0, 0.0,
            86.0, 0.0, 0.0, 0.0, 87.0, 0.0, 0.0, 0.0, 88.0, 0.0, 0.0, 0.0, 86.0, 0.0, 0.0, 0.0, 87.0, 0.0,
            0.0, 0.0, 87.0, 0.0, 0.0, 0.0, 87.0, 0.0, 0.0, 0.0, 85.0, 0.0, 0.0, 0.0, 84.0, 0.0, 0.0, 0.0,
            84.0, 0.0, 0.0, 0.0, 84.0, 0.0, 0.0, 0.0, 83.0, 0.0, 0.0, 0.0, 79.0, 0.0, 0.0, 0.0, 78.0, 0.0,
            0.0, 0.0, 77.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 71.0, 0.0, 0.0, 0.0, 70.0, 0.0, 0.0, 0.0,
            68.0, 0.0, 0.0, 0.0, 66.0, 0.0, 0.0, 0.0, 60.0, 0.0, 0.0, 0.0, 58.0, 0.0, 0.0, 0.0, 55.0, 0.0,
            0.0, 0.0, 53.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0, 0.0, 43.0, 0.0, 0.0, 0.0, 40.0, 0.0, 0.0, 0.0,
            36.0, 0.0, 0.0, 0.0, 33.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 16.0, 0.0,
            0.0, 0.0, 12.0, 0.0, 0.0, 0.0, 4.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 4.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0, 12.0, 0.0, 0.0, 0.0, 21.0, 0.0,
            0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 29.0, 0.0, 0.0, 0.0, 33.0, 0.0, 0.0, 0.0, 42.0, 0.0, 0.0, 0.0,
            46.0, 0.0, 0.0, 0.0, 51.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 67.0, 0.0,
            0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 80.0, 0.0, 0.0, 0.0, 89.0, 0.0, 0.0, 0.0,
            93.0, 0.0, 0.0, 0.0, 97.0, 0.0, 0.0, 0.0, 101.0, 0.0, 0.0, 0.0, 110.0, 0.0, 0.0, 0.0, 114.0,
            0.0, 0.0, 0.0, 119.0, 0.0, 0.0, 0.0, 123.0, 0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 135.0, 0.0,
            0.0, 0.0, 140.0, 0.0, 0.0, 0.0, 144.0, 0.0, 0.0, 0.0, 153.0, 0.0, 0.0, 0.0, 157.0, 0.0, 0.0,
            0.0, 161.0, 0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 169.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0, 0.0,
            182.0, 0.0, 0.0, 0.0, 187.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 203.0,
            0.0, 0.0, 0.0, 208.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0, 225.0, 0.0,
            0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 246.0, 0.0, 0.0,
            0.0, 250.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0
        ]),
        g: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 4.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0, 16.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 25.0,
            0.0, 0.0, 0.0, 29.0, 0.0, 0.0, 0.0, 38.0, 0.0, 0.0, 0.0, 42.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0,
            0.0, 51.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 67.0, 0.0, 0.0, 0.0, 72.0,
            0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 84.0, 0.0, 0.0, 0.0, 89.0, 0.0, 0.0, 0.0, 93.0, 0.0, 0.0,
            0.0, 97.0, 0.0, 0.0, 0.0, 106.0, 0.0, 0.0, 0.0, 110.0, 0.0, 0.0, 0.0, 114.0, 0.0, 0.0, 0.0,
            119.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 135.0, 0.0, 0.0, 0.0, 140.0,
            0.0, 0.0, 0.0, 144.0, 0.0, 0.0, 0.0, 152.0, 0.0, 0.0, 0.0, 157.0, 0.0, 0.0, 0.0, 161.0, 0.0,
            0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 174.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0, 0.0, 182.0, 0.0, 0.0,
            0.0, 187.0, 0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 203.0, 0.0, 0.0, 0.0,
            208.0, 0.0, 0.0, 0.0, 216.0, 0.0, 0.0, 0.0, 220.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 229.0,
            0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 246.0, 0.0, 0.0, 0.0, 250.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 250.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 233.0, 0.0,
            0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0, 216.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0,
            0.0, 208.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0,
            187.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0, 0.0, 174.0, 0.0, 0.0, 0.0, 170.0, 0.0, 0.0, 0.0, 165.0,
            0.0, 0.0, 0.0, 161.0, 0.0, 0.0, 0.0, 153.0, 0.0, 0.0, 0.0, 148.0, 0.0, 0.0, 0.0, 144.0, 0.0,
            0.0, 0.0, 140.0, 0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 123.0, 0.0, 0.0,
            0.0, 119.0, 0.0, 0.0, 0.0, 110.0, 0.0, 0.0, 0.0, 106.0, 0.0, 0.0, 0.0, 102.0, 0.0, 0.0, 0.0,
            97.0, 0.0, 0.0, 0.0, 89.0, 0.0, 0.0, 0.0, 85.0, 0.0, 0.0, 0.0, 80.0, 0.0, 0.0, 0.0, 76.0, 0.0,
            0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 59.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0,
            51.0, 0.0, 0.0, 0.0, 42.0, 0.0, 0.0, 0.0, 38.0, 0.0, 0.0, 0.0, 34.0, 0.0, 0.0, 0.0, 29.0, 0.0,
            0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 17.0, 0.0, 0.0, 0.0, 12.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0
        ]),
        b: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 3.0, 0.0, 0.0, 0.0, 7.0, 0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 14.0, 0.0,
            0.0, 0.0, 19.0, 0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 28.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0,
            38.0, 0.0, 0.0, 0.0, 43.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 53.0, 0.0, 0.0, 0.0, 59.0, 0.0,
            0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 68.0, 0.0, 0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 77.0, 0.0, 0.0, 0.0,
            81.0, 0.0, 0.0, 0.0, 86.0, 0.0, 0.0, 0.0, 91.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0, 0.0, 100.0,
            0.0, 0.0, 0.0, 104.0, 0.0, 0.0, 0.0, 109.0, 0.0, 0.0, 0.0, 113.0, 0.0, 0.0, 0.0, 118.0, 0.0,
            0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 132.0, 0.0, 0.0, 0.0, 136.0, 0.0, 0.0,
            0.0, 141.0, 0.0, 0.0, 0.0, 145.0, 0.0, 0.0, 0.0, 150.0, 0.0, 0.0, 0.0, 154.0, 0.0, 0.0, 0.0,
            159.0, 0.0, 0.0, 0.0, 163.0, 0.0, 0.0, 0.0, 168.0, 0.0, 0.0, 0.0, 173.0, 0.0, 0.0, 0.0, 177.0,
            0.0, 0.0, 0.0, 182.0, 0.0, 0.0, 0.0, 186.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 195.0, 0.0,
            0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 209.0, 0.0, 0.0, 0.0, 214.0, 0.0, 0.0,
            0.0, 218.0, 0.0, 0.0, 0.0, 223.0, 0.0, 0.0, 0.0, 227.0, 0.0, 0.0, 0.0, 232.0, 0.0, 0.0, 0.0,
            236.0, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0, 0.0, 245.0, 0.0, 0.0, 0.0, 250.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 246.0, 0.0,
            0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0,
            0.0, 220.0, 0.0, 0.0, 0.0, 216.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 203.0, 0.0, 0.0, 0.0,
            199.0, 0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 187.0, 0.0, 0.0, 0.0, 178.0,
            0.0, 0.0, 0.0, 174.0, 0.0, 0.0, 0.0, 170.0, 0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 157.0, 0.0,
            0.0, 0.0, 152.0, 0.0, 0.0, 0.0, 148.0, 0.0, 0.0, 0.0, 144.0, 0.0, 0.0, 0.0, 135.0, 0.0, 0.0,
            0.0, 131.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 123.0, 0.0, 0.0, 0.0, 114.0, 0.0, 0.0, 0.0,
            110.0, 0.0, 0.0, 0.0, 106.0, 0.0, 0.0, 0.0, 102.0, 0.0, 0.0, 0.0, 97.0, 0.0, 0.0, 0.0, 89.0,
            0.0, 0.0, 0.0, 84.0, 0.0, 0.0, 0.0, 80.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 67.0, 0.0, 0.0,
            0.0, 63.0, 0.0, 0.0, 0.0, 59.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0, 0.0, 42.0,
            0.0, 0.0, 0.0, 38.0, 0.0, 0.0, 0.0, 34.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0,
            0.0, 16.0, 0.0, 0.0, 0.0, 12.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0
        ])
    };
    CMB = {
        // "r": new Float32Array([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.0, 12.0, 18.0, 24.0, 30.0, 36.0, 42.0, 48.0, 54.0, 60.0, 66.0, 72.0, 78.0, 85.0, 91.0, 97.0, 103.0, 109.0, 115.0, 121.0, 127.0, 133.0, 139.0, 145.0, 151.0, 157.0, 163.0, 170.0, 176.0, 182.0, 188.0, 194.0, 200.0, 206.0, 212.0, 218.0, 224.0, 230.0, 236.0, 242.0, 248.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 251.0, 247.0, 244.0, 240.0, 236.0, 233.0, 229.0, 226.0, 222.0, 218.0, 215.0, 211.0, 208.0, 204.0, 200.0, 197.0, 193.0, 190.0, 186.0, 182.0, 179.0, 175.0, 172.0, 168.0, 164.0, 161.0, 157.0, 154.0, 150.0, 146.0, 143.0, 139.0, 136.0, 132.0, 128.0, 125.0, 121.0, 118.0, 114.0, 110.0, 107.0, 103.0, 100.0]),
        // "g": new Float32Array([0.0, 2.0, 5.0, 8.0, 10.0, 13.0, 16.0, 18.0, 21.0, 24.0, 26.0, 29.0, 32.0, 34.0, 37.0, 40.0, 42.0, 45.0, 48.0, 50.0, 53.0, 56.0, 58.0, 61.0, 64.0, 66.0, 69.0, 72.0, 74.0, 77.0, 80.0, 82.0, 85.0, 88.0, 90.0, 93.0, 96.0, 98.0, 101.0, 104.0, 106.0, 109.0, 112.0, 114.0, 117.0, 119.0, 122.0, 124.0, 127.0, 129.0, 132.0, 134.0, 137.0, 139.0, 142.0, 144.0, 147.0, 150.0, 152.0, 155.0, 157.0, 160.0, 162.0, 165.0, 167.0, 170.0, 172.0, 175.0, 177.0, 180.0, 182.0, 185.0, 188.0, 190.0, 193.0, 195.0, 198.0, 200.0, 203.0, 205.0, 208.0, 210.0, 213.0, 215.0, 218.0, 221.0, 221.0, 221.0, 222.0, 222.0, 222.0, 223.0, 223.0, 224.0, 224.0, 224.0, 225.0, 225.0, 225.0, 226.0, 226.0, 227.0, 227.0, 227.0, 228.0, 228.0, 229.0, 229.0, 229.0, 230.0, 230.0, 230.0, 231.0, 231.0, 232.0, 232.0, 232.0, 233.0, 233.0, 233.0, 234.0, 234.0, 235.0, 235.0, 235.0, 236.0, 236.0, 237.0, 235.0, 234.0, 233.0, 231.0, 230.0, 229.0, 227.0, 226.0, 225.0, 223.0, 222.0, 221.0, 219.0, 218.0, 217.0, 215.0, 214.0, 213.0, 211.0, 210.0, 209.0, 207.0, 206.0, 205.0, 203.0, 202.0, 201.0, 199.0, 198.0, 197.0, 195.0, 194.0, 193.0, 191.0, 190.0, 189.0, 187.0, 186.0, 185.0, 183.0, 182.0, 181.0, 180.0, 177.0, 175.0, 172.0, 170.0, 167.0, 165.0, 162.0, 160.0, 157.0, 155.0, 152.0, 150.0, 147.0, 145.0, 142.0, 140.0, 137.0, 135.0, 132.0, 130.0, 127.0, 125.0, 122.0, 120.0, 117.0, 115.0, 112.0, 110.0, 107.0, 105.0, 102.0, 100.0, 97.0, 95.0, 92.0, 90.0, 87.0, 85.0, 82.0, 80.0, 77.0, 75.0, 73.0, 71.0, 69.0, 68.0, 66.0, 64.0, 62.0, 61.0, 59.0, 57.0, 55.0, 54.0, 52.0, 50.0, 48.0, 47.0, 45.0, 43.0, 41.0, 40.0, 38.0, 36.0, 34.0, 33.0, 31.0, 29.0, 27.0, 26.0, 24.0, 22.0, 20.0, 19.0, 17.0, 15.0, 13.0, 12.0, 10.0, 8.0, 6.0, 5.0, 3.0, 1.0, 0.0]),
        // "b": new Float32Array([255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 255.0, 254.0, 253.0, 252.0, 251.0, 250.0, 249.0, 248.0, 247.0, 246.0, 245.0, 245.0, 244.0, 243.0, 242.0, 241.0, 240.0, 239.0, 238.0, 237.0, 236.0, 236.0, 235.0, 234.0, 233.0, 232.0, 231.0, 230.0, 229.0, 228.0, 227.0, 226.0, 226.0, 225.0, 224.0, 223.0, 222.0, 221.0, 220.0, 219.0, 218.0, 217.0, 217.0, 211.0, 206.0, 201.0, 196.0, 191.0, 186.0, 181.0, 176.0, 171.0, 166.0, 161.0, 156.0, 151.0, 146.0, 141.0, 136.0, 131.0, 126.0, 121.0, 116.0, 111.0, 105.0, 100.0, 95.0, 90.0, 85.0, 80.0, 75.0, 70.0, 65.0, 60.0, 55.0, 50.0, 45.0, 40.0, 35.0, 30.0, 25.0, 20.0, 15.0, 10.0, 5.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0])
        r: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 6.0, 0.0, 0.0, 0.0, 12.0, 0.0, 0.0, 0.0, 18.0, 0.0, 0.0, 0.0, 24.0, 0.0, 0.0, 0.0,
            30.0, 0.0, 0.0, 0.0, 36.0, 0.0, 0.0, 0.0, 42.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 54.0, 0.0,
            0.0, 0.0, 60.0, 0.0, 0.0, 0.0, 66.0, 0.0, 0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0,
            85.0, 0.0, 0.0, 0.0, 91.0, 0.0, 0.0, 0.0, 97.0, 0.0, 0.0, 0.0, 103.0, 0.0, 0.0, 0.0, 109.0,
            0.0, 0.0, 0.0, 115.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 133.0, 0.0,
            0.0, 0.0, 139.0, 0.0, 0.0, 0.0, 145.0, 0.0, 0.0, 0.0, 151.0, 0.0, 0.0, 0.0, 157.0, 0.0, 0.0,
            0.0, 163.0, 0.0, 0.0, 0.0, 170.0, 0.0, 0.0, 0.0, 176.0, 0.0, 0.0, 0.0, 182.0, 0.0, 0.0, 0.0,
            188.0, 0.0, 0.0, 0.0, 194.0, 0.0, 0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 206.0, 0.0, 0.0, 0.0, 212.0,
            0.0, 0.0, 0.0, 218.0, 0.0, 0.0, 0.0, 224.0, 0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 236.0, 0.0,
            0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 248.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 251.0, 0.0, 0.0,
            0.0, 247.0, 0.0, 0.0, 0.0, 244.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 236.0, 0.0, 0.0, 0.0,
            233.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 226.0, 0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 218.0,
            0.0, 0.0, 0.0, 215.0, 0.0, 0.0, 0.0, 211.0, 0.0, 0.0, 0.0, 208.0, 0.0, 0.0, 0.0, 204.0, 0.0,
            0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 197.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 190.0, 0.0, 0.0,
            0.0, 186.0, 0.0, 0.0, 0.0, 182.0, 0.0, 0.0, 0.0, 179.0, 0.0, 0.0, 0.0, 175.0, 0.0, 0.0, 0.0,
            172.0, 0.0, 0.0, 0.0, 168.0, 0.0, 0.0, 0.0, 164.0, 0.0, 0.0, 0.0, 161.0, 0.0, 0.0, 0.0, 157.0,
            0.0, 0.0, 0.0, 154.0, 0.0, 0.0, 0.0, 150.0, 0.0, 0.0, 0.0, 146.0, 0.0, 0.0, 0.0, 143.0, 0.0,
            0.0, 0.0, 139.0, 0.0, 0.0, 0.0, 136.0, 0.0, 0.0, 0.0, 132.0, 0.0, 0.0, 0.0, 128.0, 0.0, 0.0,
            0.0, 125.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 118.0, 0.0, 0.0, 0.0, 114.0, 0.0, 0.0, 0.0,
            110.0, 0.0, 0.0, 0.0, 107.0, 0.0, 0.0, 0.0, 103.0, 0.0, 0.0, 0.0, 100.0, 0.0, 0.0, 0.0
        ]),
        g: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 2.0, 0.0, 0.0, 0.0, 5.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0, 10.0, 0.0,
            0.0, 0.0, 13.0, 0.0, 0.0, 0.0, 16.0, 0.0, 0.0, 0.0, 18.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0,
            24.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 29.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 34.0, 0.0,
            0.0, 0.0, 37.0, 0.0, 0.0, 0.0, 40.0, 0.0, 0.0, 0.0, 42.0, 0.0, 0.0, 0.0, 45.0, 0.0, 0.0, 0.0,
            48.0, 0.0, 0.0, 0.0, 50.0, 0.0, 0.0, 0.0, 53.0, 0.0, 0.0, 0.0, 56.0, 0.0, 0.0, 0.0, 58.0, 0.0,
            0.0, 0.0, 61.0, 0.0, 0.0, 0.0, 64.0, 0.0, 0.0, 0.0, 66.0, 0.0, 0.0, 0.0, 69.0, 0.0, 0.0, 0.0,
            72.0, 0.0, 0.0, 0.0, 74.0, 0.0, 0.0, 0.0, 77.0, 0.0, 0.0, 0.0, 80.0, 0.0, 0.0, 0.0, 82.0, 0.0,
            0.0, 0.0, 85.0, 0.0, 0.0, 0.0, 88.0, 0.0, 0.0, 0.0, 90.0, 0.0, 0.0, 0.0, 93.0, 0.0, 0.0, 0.0,
            96.0, 0.0, 0.0, 0.0, 98.0, 0.0, 0.0, 0.0, 101.0, 0.0, 0.0, 0.0, 104.0, 0.0, 0.0, 0.0, 106.0,
            0.0, 0.0, 0.0, 109.0, 0.0, 0.0, 0.0, 112.0, 0.0, 0.0, 0.0, 114.0, 0.0, 0.0, 0.0, 117.0, 0.0,
            0.0, 0.0, 119.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 124.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0,
            0.0, 129.0, 0.0, 0.0, 0.0, 132.0, 0.0, 0.0, 0.0, 134.0, 0.0, 0.0, 0.0, 137.0, 0.0, 0.0, 0.0,
            139.0, 0.0, 0.0, 0.0, 142.0, 0.0, 0.0, 0.0, 144.0, 0.0, 0.0, 0.0, 147.0, 0.0, 0.0, 0.0, 150.0,
            0.0, 0.0, 0.0, 152.0, 0.0, 0.0, 0.0, 155.0, 0.0, 0.0, 0.0, 157.0, 0.0, 0.0, 0.0, 160.0, 0.0,
            0.0, 0.0, 162.0, 0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 167.0, 0.0, 0.0, 0.0, 170.0, 0.0, 0.0,
            0.0, 172.0, 0.0, 0.0, 0.0, 175.0, 0.0, 0.0, 0.0, 177.0, 0.0, 0.0, 0.0, 180.0, 0.0, 0.0, 0.0,
            182.0, 0.0, 0.0, 0.0, 185.0, 0.0, 0.0, 0.0, 188.0, 0.0, 0.0, 0.0, 190.0, 0.0, 0.0, 0.0, 193.0,
            0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 198.0, 0.0, 0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 203.0, 0.0,
            0.0, 0.0, 205.0, 0.0, 0.0, 0.0, 208.0, 0.0, 0.0, 0.0, 210.0, 0.0, 0.0, 0.0, 213.0, 0.0, 0.0,
            0.0, 215.0, 0.0, 0.0, 0.0, 218.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0,
            221.0, 0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 223.0,
            0.0, 0.0, 0.0, 223.0, 0.0, 0.0, 0.0, 224.0, 0.0, 0.0, 0.0, 224.0, 0.0, 0.0, 0.0, 224.0, 0.0,
            0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 226.0, 0.0, 0.0,
            0.0, 226.0, 0.0, 0.0, 0.0, 227.0, 0.0, 0.0, 0.0, 227.0, 0.0, 0.0, 0.0, 227.0, 0.0, 0.0, 0.0,
            228.0, 0.0, 0.0, 0.0, 228.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0,
            0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 231.0, 0.0,
            0.0, 0.0, 231.0, 0.0, 0.0, 0.0, 232.0, 0.0, 0.0, 0.0, 232.0, 0.0, 0.0, 0.0, 232.0, 0.0, 0.0,
            0.0, 233.0, 0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 234.0, 0.0, 0.0, 0.0,
            234.0, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 236.0,
            0.0, 0.0, 0.0, 236.0, 0.0, 0.0, 0.0, 237.0, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 234.0, 0.0,
            0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 231.0, 0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0,
            0.0, 227.0, 0.0, 0.0, 0.0, 226.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 223.0, 0.0, 0.0, 0.0,
            222.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0, 219.0, 0.0, 0.0, 0.0, 218.0, 0.0, 0.0, 0.0, 217.0,
            0.0, 0.0, 0.0, 215.0, 0.0, 0.0, 0.0, 214.0, 0.0, 0.0, 0.0, 213.0, 0.0, 0.0, 0.0, 211.0, 0.0,
            0.0, 0.0, 210.0, 0.0, 0.0, 0.0, 209.0, 0.0, 0.0, 0.0, 207.0, 0.0, 0.0, 0.0, 206.0, 0.0, 0.0,
            0.0, 205.0, 0.0, 0.0, 0.0, 203.0, 0.0, 0.0, 0.0, 202.0, 0.0, 0.0, 0.0, 201.0, 0.0, 0.0, 0.0,
            199.0, 0.0, 0.0, 0.0, 198.0, 0.0, 0.0, 0.0, 197.0, 0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 194.0,
            0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 190.0, 0.0, 0.0, 0.0, 189.0, 0.0,
            0.0, 0.0, 187.0, 0.0, 0.0, 0.0, 186.0, 0.0, 0.0, 0.0, 185.0, 0.0, 0.0, 0.0, 183.0, 0.0, 0.0,
            0.0, 182.0, 0.0, 0.0, 0.0, 181.0, 0.0, 0.0, 0.0, 180.0, 0.0, 0.0, 0.0, 177.0, 0.0, 0.0, 0.0,
            175.0, 0.0, 0.0, 0.0, 172.0, 0.0, 0.0, 0.0, 170.0, 0.0, 0.0, 0.0, 167.0, 0.0, 0.0, 0.0, 165.0,
            0.0, 0.0, 0.0, 162.0, 0.0, 0.0, 0.0, 160.0, 0.0, 0.0, 0.0, 157.0, 0.0, 0.0, 0.0, 155.0, 0.0,
            0.0, 0.0, 152.0, 0.0, 0.0, 0.0, 150.0, 0.0, 0.0, 0.0, 147.0, 0.0, 0.0, 0.0, 145.0, 0.0, 0.0,
            0.0, 142.0, 0.0, 0.0, 0.0, 140.0, 0.0, 0.0, 0.0, 137.0, 0.0, 0.0, 0.0, 135.0, 0.0, 0.0, 0.0,
            132.0, 0.0, 0.0, 0.0, 130.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 125.0, 0.0, 0.0, 0.0, 122.0,
            0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 117.0, 0.0, 0.0, 0.0, 115.0, 0.0, 0.0, 0.0, 112.0, 0.0,
            0.0, 0.0, 110.0, 0.0, 0.0, 0.0, 107.0, 0.0, 0.0, 0.0, 105.0, 0.0, 0.0, 0.0, 102.0, 0.0, 0.0,
            0.0, 100.0, 0.0, 0.0, 0.0, 97.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0, 0.0, 92.0, 0.0, 0.0, 0.0,
            90.0, 0.0, 0.0, 0.0, 87.0, 0.0, 0.0, 0.0, 85.0, 0.0, 0.0, 0.0, 82.0, 0.0, 0.0, 0.0, 80.0, 0.0,
            0.0, 0.0, 77.0, 0.0, 0.0, 0.0, 75.0, 0.0, 0.0, 0.0, 73.0, 0.0, 0.0, 0.0, 71.0, 0.0, 0.0, 0.0,
            69.0, 0.0, 0.0, 0.0, 68.0, 0.0, 0.0, 0.0, 66.0, 0.0, 0.0, 0.0, 64.0, 0.0, 0.0, 0.0, 62.0, 0.0,
            0.0, 0.0, 61.0, 0.0, 0.0, 0.0, 59.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0,
            54.0, 0.0, 0.0, 0.0, 52.0, 0.0, 0.0, 0.0, 50.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 47.0, 0.0,
            0.0, 0.0, 45.0, 0.0, 0.0, 0.0, 43.0, 0.0, 0.0, 0.0, 41.0, 0.0, 0.0, 0.0, 40.0, 0.0, 0.0, 0.0,
            38.0, 0.0, 0.0, 0.0, 36.0, 0.0, 0.0, 0.0, 34.0, 0.0, 0.0, 0.0, 33.0, 0.0, 0.0, 0.0, 31.0, 0.0,
            0.0, 0.0, 29.0, 0.0, 0.0, 0.0, 27.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 24.0, 0.0, 0.0, 0.0,
            22.0, 0.0, 0.0, 0.0, 20.0, 0.0, 0.0, 0.0, 19.0, 0.0, 0.0, 0.0, 17.0, 0.0, 0.0, 0.0, 15.0, 0.0,
            0.0, 0.0, 13.0, 0.0, 0.0, 0.0, 12.0, 0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0,
            6.0, 0.0, 0.0, 0.0, 5.0, 0.0, 0.0, 0.0, 3.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0
        ]),
        b: new Float32Array([
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 254.0, 0.0, 0.0, 0.0, 253.0, 0.0, 0.0, 0.0, 252.0, 0.0, 0.0, 0.0, 251.0,
            0.0, 0.0, 0.0, 250.0, 0.0, 0.0, 0.0, 249.0, 0.0, 0.0, 0.0, 248.0, 0.0, 0.0, 0.0, 247.0, 0.0,
            0.0, 0.0, 246.0, 0.0, 0.0, 0.0, 245.0, 0.0, 0.0, 0.0, 245.0, 0.0, 0.0, 0.0, 244.0, 0.0, 0.0,
            0.0, 243.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0,
            239.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 237.0, 0.0, 0.0, 0.0, 236.0, 0.0, 0.0, 0.0, 236.0,
            0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 234.0, 0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 232.0, 0.0,
            0.0, 0.0, 231.0, 0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 228.0, 0.0, 0.0,
            0.0, 227.0, 0.0, 0.0, 0.0, 226.0, 0.0, 0.0, 0.0, 226.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0,
            224.0, 0.0, 0.0, 0.0, 223.0, 0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0, 220.0,
            0.0, 0.0, 0.0, 219.0, 0.0, 0.0, 0.0, 218.0, 0.0, 0.0, 0.0, 217.0, 0.0, 0.0, 0.0, 217.0, 0.0,
            0.0, 0.0, 211.0, 0.0, 0.0, 0.0, 206.0, 0.0, 0.0, 0.0, 201.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0,
            0.0, 191.0, 0.0, 0.0, 0.0, 186.0, 0.0, 0.0, 0.0, 181.0, 0.0, 0.0, 0.0, 176.0, 0.0, 0.0, 0.0,
            171.0, 0.0, 0.0, 0.0, 166.0, 0.0, 0.0, 0.0, 161.0, 0.0, 0.0, 0.0, 156.0, 0.0, 0.0, 0.0, 151.0,
            0.0, 0.0, 0.0, 146.0, 0.0, 0.0, 0.0, 141.0, 0.0, 0.0, 0.0, 136.0, 0.0, 0.0, 0.0, 131.0, 0.0,
            0.0, 0.0, 126.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 116.0, 0.0, 0.0, 0.0, 111.0, 0.0, 0.0,
            0.0, 105.0, 0.0, 0.0, 0.0, 100.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0, 0.0, 90.0, 0.0, 0.0, 0.0,
            85.0, 0.0, 0.0, 0.0, 80.0, 0.0, 0.0, 0.0, 75.0, 0.0, 0.0, 0.0, 70.0, 0.0, 0.0, 0.0, 65.0, 0.0,
            0.0, 0.0, 60.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 50.0, 0.0, 0.0, 0.0, 45.0, 0.0, 0.0, 0.0,
            40.0, 0.0, 0.0, 0.0, 35.0, 0.0, 0.0, 0.0, 30.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 20.0, 0.0,
            0.0, 0.0, 15.0, 0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 5.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
        ])
    };
    CUBEHELIX = {
        r: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 3.0, 0.0, 0.0, 0.0, 4.0, 0.0, 0.0, 0.0, 6.0, 0.0, 0.0,
            0.0, 8.0, 0.0, 0.0, 0.0, 9.0, 0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 12.0, 0.0, 0.0, 0.0, 13.0,
            0.0, 0.0, 0.0, 14.0, 0.0, 0.0, 0.0, 15.0, 0.0, 0.0, 0.0, 17.0, 0.0, 0.0, 0.0, 18.0, 0.0, 0.0,
            0.0, 19.0, 0.0, 0.0, 0.0, 20.0, 0.0, 0.0, 0.0, 20.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 22.0,
            0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 24.0, 0.0, 0.0, 0.0, 24.0, 0.0, 0.0,
            0.0, 25.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 26.0,
            0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0,
            0.0, 26.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 26.0,
            0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0,
            0.0, 24.0, 0.0, 0.0, 0.0, 24.0, 0.0, 0.0, 0.0, 24.0, 0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 23.0,
            0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 22.0, 0.0, 0.0, 0.0, 22.0, 0.0, 0.0,
            0.0, 22.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 21.0,
            0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 20.0, 0.0, 0.0, 0.0, 20.0, 0.0, 0.0,
            0.0, 20.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 21.0,
            0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 22.0, 0.0, 0.0, 0.0, 22.0, 0.0, 0.0, 0.0, 22.0, 0.0, 0.0,
            0.0, 23.0, 0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 24.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 26.0,
            0.0, 0.0, 0.0, 27.0, 0.0, 0.0, 0.0, 27.0, 0.0, 0.0, 0.0, 28.0, 0.0, 0.0, 0.0, 30.0, 0.0, 0.0,
            0.0, 31.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 33.0, 0.0, 0.0, 0.0, 35.0, 0.0, 0.0, 0.0, 36.0,
            0.0, 0.0, 0.0, 38.0, 0.0, 0.0, 0.0, 39.0, 0.0, 0.0, 0.0, 41.0, 0.0, 0.0, 0.0, 43.0, 0.0, 0.0,
            0.0, 45.0, 0.0, 0.0, 0.0, 47.0, 0.0, 0.0, 0.0, 49.0, 0.0, 0.0, 0.0, 51.0, 0.0, 0.0, 0.0, 53.0,
            0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0, 0.0, 60.0, 0.0, 0.0, 0.0, 62.0, 0.0, 0.0,
            0.0, 65.0, 0.0, 0.0, 0.0, 67.0, 0.0, 0.0, 0.0, 70.0, 0.0, 0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 75.0,
            0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 81.0, 0.0, 0.0, 0.0, 83.0, 0.0, 0.0, 0.0, 86.0, 0.0, 0.0,
            0.0, 89.0, 0.0, 0.0, 0.0, 92.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0, 0.0, 98.0, 0.0, 0.0, 0.0,
            101.0, 0.0, 0.0, 0.0, 104.0, 0.0, 0.0, 0.0, 107.0, 0.0, 0.0, 0.0, 110.0, 0.0, 0.0, 0.0, 113.0,
            0.0, 0.0, 0.0, 116.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 123.0, 0.0, 0.0, 0.0, 126.0, 0.0,
            0.0, 0.0, 129.0, 0.0, 0.0, 0.0, 132.0, 0.0, 0.0, 0.0, 135.0, 0.0, 0.0, 0.0, 138.0, 0.0, 0.0,
            0.0, 141.0, 0.0, 0.0, 0.0, 144.0, 0.0, 0.0, 0.0, 147.0, 0.0, 0.0, 0.0, 150.0, 0.0, 0.0, 0.0,
            153.0, 0.0, 0.0, 0.0, 155.0, 0.0, 0.0, 0.0, 158.0, 0.0, 0.0, 0.0, 161.0, 0.0, 0.0, 0.0, 164.0,
            0.0, 0.0, 0.0, 166.0, 0.0, 0.0, 0.0, 169.0, 0.0, 0.0, 0.0, 171.0, 0.0, 0.0, 0.0, 174.0, 0.0,
            0.0, 0.0, 176.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0, 0.0, 181.0, 0.0, 0.0, 0.0, 183.0, 0.0, 0.0,
            0.0, 185.0, 0.0, 0.0, 0.0, 187.0, 0.0, 0.0, 0.0, 189.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0,
            193.0, 0.0, 0.0, 0.0, 194.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 198.0, 0.0, 0.0, 0.0, 199.0,
            0.0, 0.0, 0.0, 201.0, 0.0, 0.0, 0.0, 202.0, 0.0, 0.0, 0.0, 203.0, 0.0, 0.0, 0.0, 204.0, 0.0,
            0.0, 0.0, 205.0, 0.0, 0.0, 0.0, 206.0, 0.0, 0.0, 0.0, 207.0, 0.0, 0.0, 0.0, 208.0, 0.0, 0.0,
            0.0, 209.0, 0.0, 0.0, 0.0, 209.0, 0.0, 0.0, 0.0, 210.0, 0.0, 0.0, 0.0, 211.0, 0.0, 0.0, 0.0,
            211.0, 0.0, 0.0, 0.0, 211.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 212.0,
            0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 212.0, 0.0,
            0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 211.0, 0.0, 0.0, 0.0, 211.0, 0.0, 0.0, 0.0, 211.0, 0.0, 0.0,
            0.0, 210.0, 0.0, 0.0, 0.0, 210.0, 0.0, 0.0, 0.0, 210.0, 0.0, 0.0, 0.0, 209.0, 0.0, 0.0, 0.0,
            208.0, 0.0, 0.0, 0.0, 208.0, 0.0, 0.0, 0.0, 207.0, 0.0, 0.0, 0.0, 207.0, 0.0, 0.0, 0.0, 206.0,
            0.0, 0.0, 0.0, 205.0, 0.0, 0.0, 0.0, 205.0, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 203.0, 0.0,
            0.0, 0.0, 203.0, 0.0, 0.0, 0.0, 202.0, 0.0, 0.0, 0.0, 201.0, 0.0, 0.0, 0.0, 201.0, 0.0, 0.0,
            0.0, 200.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 198.0, 0.0, 0.0, 0.0,
            197.0, 0.0, 0.0, 0.0, 197.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 195.0,
            0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 194.0, 0.0, 0.0, 0.0, 194.0, 0.0, 0.0, 0.0, 194.0, 0.0,
            0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0,
            0.0, 193.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0,
            193.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 194.0, 0.0, 0.0, 0.0, 194.0, 0.0, 0.0, 0.0, 195.0,
            0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 197.0, 0.0,
            0.0, 0.0, 198.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 200.0, 0.0, 0.0,
            0.0, 202.0, 0.0, 0.0, 0.0, 203.0, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 205.0, 0.0, 0.0, 0.0,
            206.0, 0.0, 0.0, 0.0, 208.0, 0.0, 0.0, 0.0, 209.0, 0.0, 0.0, 0.0, 210.0, 0.0, 0.0, 0.0, 212.0,
            0.0, 0.0, 0.0, 213.0, 0.0, 0.0, 0.0, 215.0, 0.0, 0.0, 0.0, 217.0, 0.0, 0.0, 0.0, 218.0, 0.0,
            0.0, 0.0, 220.0, 0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 223.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0,
            0.0, 227.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 231.0, 0.0, 0.0, 0.0, 232.0, 0.0, 0.0, 0.0,
            234.0, 0.0, 0.0, 0.0, 236.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 242.0,
            0.0, 0.0, 0.0, 244.0, 0.0, 0.0, 0.0, 245.0, 0.0, 0.0, 0.0, 247.0, 0.0, 0.0, 0.0, 249.0, 0.0,
            0.0, 0.0, 251.0, 0.0, 0.0, 0.0, 253.0, 0.0, 0.0, 0.0, 255.0
        ]),
        g: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 2.0, 0.0, 0.0,
            0.0, 2.0, 0.0, 0.0, 0.0, 3.0, 0.0, 0.0, 0.0, 4.0, 0.0, 0.0, 0.0, 4.0, 0.0, 0.0, 0.0, 5.0, 0.0,
            0.0, 0.0, 6.0, 0.0, 0.0, 0.0, 6.0, 0.0, 0.0, 0.0, 7.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0, 9.0,
            0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 11.0, 0.0, 0.0, 0.0, 11.0, 0.0, 0.0, 0.0, 12.0, 0.0, 0.0,
            0.0, 13.0, 0.0, 0.0, 0.0, 14.0, 0.0, 0.0, 0.0, 15.0, 0.0, 0.0, 0.0, 17.0, 0.0, 0.0, 0.0, 18.0,
            0.0, 0.0, 0.0, 19.0, 0.0, 0.0, 0.0, 20.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 22.0, 0.0, 0.0,
            0.0, 24.0, 0.0, 0.0, 0.0, 25.0, 0.0, 0.0, 0.0, 26.0, 0.0, 0.0, 0.0, 28.0, 0.0, 0.0, 0.0, 29.0,
            0.0, 0.0, 0.0, 31.0, 0.0, 0.0, 0.0, 32.0, 0.0, 0.0, 0.0, 34.0, 0.0, 0.0, 0.0, 35.0, 0.0, 0.0,
            0.0, 37.0, 0.0, 0.0, 0.0, 38.0, 0.0, 0.0, 0.0, 40.0, 0.0, 0.0, 0.0, 41.0, 0.0, 0.0, 0.0, 43.0,
            0.0, 0.0, 0.0, 45.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 50.0, 0.0, 0.0,
            0.0, 52.0, 0.0, 0.0, 0.0, 53.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0, 0.0, 58.0,
            0.0, 0.0, 0.0, 60.0, 0.0, 0.0, 0.0, 62.0, 0.0, 0.0, 0.0, 64.0, 0.0, 0.0, 0.0, 66.0, 0.0, 0.0,
            0.0, 67.0, 0.0, 0.0, 0.0, 69.0, 0.0, 0.0, 0.0, 71.0, 0.0, 0.0, 0.0, 73.0, 0.0, 0.0, 0.0, 74.0,
            0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 79.0, 0.0, 0.0, 0.0, 81.0, 0.0, 0.0,
            0.0, 83.0, 0.0, 0.0, 0.0, 84.0, 0.0, 0.0, 0.0, 86.0, 0.0, 0.0, 0.0, 88.0, 0.0, 0.0, 0.0, 89.0,
            0.0, 0.0, 0.0, 91.0, 0.0, 0.0, 0.0, 92.0, 0.0, 0.0, 0.0, 94.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0,
            0.0, 97.0, 0.0, 0.0, 0.0, 98.0, 0.0, 0.0, 0.0, 99.0, 0.0, 0.0, 0.0, 101.0, 0.0, 0.0, 0.0,
            102.0, 0.0, 0.0, 0.0, 103.0, 0.0, 0.0, 0.0, 104.0, 0.0, 0.0, 0.0, 106.0, 0.0, 0.0, 0.0, 107.0,
            0.0, 0.0, 0.0, 108.0, 0.0, 0.0, 0.0, 109.0, 0.0, 0.0, 0.0, 110.0, 0.0, 0.0, 0.0, 111.0, 0.0,
            0.0, 0.0, 112.0, 0.0, 0.0, 0.0, 113.0, 0.0, 0.0, 0.0, 114.0, 0.0, 0.0, 0.0, 114.0, 0.0, 0.0,
            0.0, 115.0, 0.0, 0.0, 0.0, 116.0, 0.0, 0.0, 0.0, 116.0, 0.0, 0.0, 0.0, 117.0, 0.0, 0.0, 0.0,
            118.0, 0.0, 0.0, 0.0, 118.0, 0.0, 0.0, 0.0, 119.0, 0.0, 0.0, 0.0, 119.0, 0.0, 0.0, 0.0, 120.0,
            0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0,
            0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0,
            0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0,
            122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0,
            0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 122.0, 0.0,
            0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0,
            0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0,
            121.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0,
            0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0, 0.0,
            0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0,
            0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0,
            122.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 123.0, 0.0, 0.0, 0.0, 123.0, 0.0, 0.0, 0.0, 124.0,
            0.0, 0.0, 0.0, 124.0, 0.0, 0.0, 0.0, 125.0, 0.0, 0.0, 0.0, 125.0, 0.0, 0.0, 0.0, 126.0, 0.0,
            0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 128.0, 0.0, 0.0, 0.0, 129.0, 0.0, 0.0,
            0.0, 130.0, 0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 132.0, 0.0, 0.0, 0.0,
            133.0, 0.0, 0.0, 0.0, 135.0, 0.0, 0.0, 0.0, 136.0, 0.0, 0.0, 0.0, 137.0, 0.0, 0.0, 0.0, 138.0,
            0.0, 0.0, 0.0, 139.0, 0.0, 0.0, 0.0, 140.0, 0.0, 0.0, 0.0, 142.0, 0.0, 0.0, 0.0, 143.0, 0.0,
            0.0, 0.0, 144.0, 0.0, 0.0, 0.0, 146.0, 0.0, 0.0, 0.0, 147.0, 0.0, 0.0, 0.0, 149.0, 0.0, 0.0,
            0.0, 150.0, 0.0, 0.0, 0.0, 152.0, 0.0, 0.0, 0.0, 154.0, 0.0, 0.0, 0.0, 155.0, 0.0, 0.0, 0.0,
            157.0, 0.0, 0.0, 0.0, 158.0, 0.0, 0.0, 0.0, 160.0, 0.0, 0.0, 0.0, 162.0, 0.0, 0.0, 0.0, 164.0,
            0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 167.0, 0.0, 0.0, 0.0, 169.0, 0.0, 0.0, 0.0, 171.0, 0.0,
            0.0, 0.0, 172.0, 0.0, 0.0, 0.0, 174.0, 0.0, 0.0, 0.0, 176.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0,
            0.0, 180.0, 0.0, 0.0, 0.0, 182.0, 0.0, 0.0, 0.0, 183.0, 0.0, 0.0, 0.0, 185.0, 0.0, 0.0, 0.0,
            187.0, 0.0, 0.0, 0.0, 189.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 193.0, 0.0, 0.0, 0.0, 194.0,
            0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 198.0, 0.0, 0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 202.0, 0.0,
            0.0, 0.0, 203.0, 0.0, 0.0, 0.0, 205.0, 0.0, 0.0, 0.0, 207.0, 0.0, 0.0, 0.0, 208.0, 0.0, 0.0,
            0.0, 210.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 213.0, 0.0, 0.0, 0.0, 215.0, 0.0, 0.0, 0.0,
            216.0, 0.0, 0.0, 0.0, 218.0, 0.0, 0.0, 0.0, 219.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0, 222.0,
            0.0, 0.0, 0.0, 224.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 226.0, 0.0, 0.0, 0.0, 228.0, 0.0,
            0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 231.0, 0.0, 0.0, 0.0, 232.0, 0.0, 0.0,
            0.0, 233.0, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 236.0, 0.0, 0.0, 0.0, 237.0, 0.0, 0.0, 0.0,
            238.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 241.0,
            0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 244.0, 0.0, 0.0, 0.0, 244.0, 0.0,
            0.0, 0.0, 245.0, 0.0, 0.0, 0.0, 246.0, 0.0, 0.0, 0.0, 247.0, 0.0, 0.0, 0.0, 247.0, 0.0, 0.0,
            0.0, 248.0, 0.0, 0.0, 0.0, 248.0, 0.0, 0.0, 0.0, 249.0, 0.0, 0.0, 0.0, 250.0, 0.0, 0.0, 0.0,
            250.0, 0.0, 0.0, 0.0, 251.0, 0.0, 0.0, 0.0, 251.0, 0.0, 0.0, 0.0, 252.0, 0.0, 0.0, 0.0, 252.0,
            0.0, 0.0, 0.0, 253.0, 0.0, 0.0, 0.0, 253.0, 0.0, 0.0, 0.0, 254.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0
        ]),
        b: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 3.0, 0.0, 0.0, 0.0, 4.0, 0.0, 0.0, 0.0, 6.0, 0.0, 0.0,
            0.0, 8.0, 0.0, 0.0, 0.0, 9.0, 0.0, 0.0, 0.0, 11.0, 0.0, 0.0, 0.0, 13.0, 0.0, 0.0, 0.0, 15.0,
            0.0, 0.0, 0.0, 17.0, 0.0, 0.0, 0.0, 19.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 23.0, 0.0, 0.0,
            0.0, 25.0, 0.0, 0.0, 0.0, 27.0, 0.0, 0.0, 0.0, 29.0, 0.0, 0.0, 0.0, 31.0, 0.0, 0.0, 0.0, 33.0,
            0.0, 0.0, 0.0, 35.0, 0.0, 0.0, 0.0, 37.0, 0.0, 0.0, 0.0, 39.0, 0.0, 0.0, 0.0, 41.0, 0.0, 0.0,
            0.0, 43.0, 0.0, 0.0, 0.0, 45.0, 0.0, 0.0, 0.0, 47.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 50.0,
            0.0, 0.0, 0.0, 52.0, 0.0, 0.0, 0.0, 54.0, 0.0, 0.0, 0.0, 56.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0,
            0.0, 59.0, 0.0, 0.0, 0.0, 60.0, 0.0, 0.0, 0.0, 62.0, 0.0, 0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 65.0,
            0.0, 0.0, 0.0, 66.0, 0.0, 0.0, 0.0, 67.0, 0.0, 0.0, 0.0, 69.0, 0.0, 0.0, 0.0, 70.0, 0.0, 0.0,
            0.0, 71.0, 0.0, 0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 73.0, 0.0, 0.0, 0.0, 74.0, 0.0, 0.0, 0.0, 74.0,
            0.0, 0.0, 0.0, 75.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 77.0, 0.0, 0.0,
            0.0, 77.0, 0.0, 0.0, 0.0, 77.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 78.0,
            0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0,
            0.0, 77.0, 0.0, 0.0, 0.0, 77.0, 0.0, 0.0, 0.0, 77.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 76.0,
            0.0, 0.0, 0.0, 75.0, 0.0, 0.0, 0.0, 75.0, 0.0, 0.0, 0.0, 74.0, 0.0, 0.0, 0.0, 73.0, 0.0, 0.0,
            0.0, 73.0, 0.0, 0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 71.0, 0.0, 0.0, 0.0, 70.0, 0.0, 0.0, 0.0, 69.0,
            0.0, 0.0, 0.0, 68.0, 0.0, 0.0, 0.0, 67.0, 0.0, 0.0, 0.0, 66.0, 0.0, 0.0, 0.0, 66.0, 0.0, 0.0,
            0.0, 65.0, 0.0, 0.0, 0.0, 64.0, 0.0, 0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 61.0, 0.0, 0.0, 0.0, 60.0,
            0.0, 0.0, 0.0, 59.0, 0.0, 0.0, 0.0, 58.0, 0.0, 0.0, 0.0, 58.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0,
            0.0, 56.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 54.0, 0.0, 0.0, 0.0, 53.0, 0.0, 0.0, 0.0, 52.0,
            0.0, 0.0, 0.0, 51.0, 0.0, 0.0, 0.0, 51.0, 0.0, 0.0, 0.0, 50.0, 0.0, 0.0, 0.0, 49.0, 0.0, 0.0,
            0.0, 49.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 47.0, 0.0, 0.0, 0.0, 47.0,
            0.0, 0.0, 0.0, 47.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0,
            0.0, 46.0, 0.0, 0.0, 0.0, 46.0, 0.0, 0.0, 0.0, 47.0, 0.0, 0.0, 0.0, 47.0, 0.0, 0.0, 0.0, 47.0,
            0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 49.0, 0.0, 0.0, 0.0, 50.0, 0.0, 0.0,
            0.0, 50.0, 0.0, 0.0, 0.0, 51.0, 0.0, 0.0, 0.0, 52.0, 0.0, 0.0, 0.0, 53.0, 0.0, 0.0, 0.0, 55.0,
            0.0, 0.0, 0.0, 56.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0, 0.0, 59.0, 0.0, 0.0, 0.0, 60.0, 0.0, 0.0,
            0.0, 62.0, 0.0, 0.0, 0.0, 64.0, 0.0, 0.0, 0.0, 65.0, 0.0, 0.0, 0.0, 67.0, 0.0, 0.0, 0.0, 69.0,
            0.0, 0.0, 0.0, 71.0, 0.0, 0.0, 0.0, 74.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 78.0, 0.0, 0.0,
            0.0, 81.0, 0.0, 0.0, 0.0, 83.0, 0.0, 0.0, 0.0, 86.0, 0.0, 0.0, 0.0, 88.0, 0.0, 0.0, 0.0, 91.0,
            0.0, 0.0, 0.0, 94.0, 0.0, 0.0, 0.0, 96.0, 0.0, 0.0, 0.0, 99.0, 0.0, 0.0, 0.0, 102.0, 0.0, 0.0,
            0.0, 105.0, 0.0, 0.0, 0.0, 108.0, 0.0, 0.0, 0.0, 111.0, 0.0, 0.0, 0.0, 114.0, 0.0, 0.0, 0.0,
            117.0, 0.0, 0.0, 0.0, 120.0, 0.0, 0.0, 0.0, 124.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 130.0,
            0.0, 0.0, 0.0, 133.0, 0.0, 0.0, 0.0, 136.0, 0.0, 0.0, 0.0, 140.0, 0.0, 0.0, 0.0, 143.0, 0.0,
            0.0, 0.0, 146.0, 0.0, 0.0, 0.0, 149.0, 0.0, 0.0, 0.0, 153.0, 0.0, 0.0, 0.0, 156.0, 0.0, 0.0,
            0.0, 159.0, 0.0, 0.0, 0.0, 162.0, 0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 169.0, 0.0, 0.0, 0.0,
            172.0, 0.0, 0.0, 0.0, 175.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0, 0.0, 181.0, 0.0, 0.0, 0.0, 184.0,
            0.0, 0.0, 0.0, 186.0, 0.0, 0.0, 0.0, 189.0, 0.0, 0.0, 0.0, 192.0, 0.0, 0.0, 0.0, 195.0, 0.0,
            0.0, 0.0, 197.0, 0.0, 0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 203.0, 0.0, 0.0, 0.0, 205.0, 0.0, 0.0,
            0.0, 207.0, 0.0, 0.0, 0.0, 210.0, 0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 214.0, 0.0, 0.0, 0.0,
            216.0, 0.0, 0.0, 0.0, 218.0, 0.0, 0.0, 0.0, 220.0, 0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 224.0,
            0.0, 0.0, 0.0, 226.0, 0.0, 0.0, 0.0, 227.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 230.0, 0.0,
            0.0, 0.0, 231.0, 0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 234.0, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0,
            0.0, 236.0, 0.0, 0.0, 0.0, 237.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0,
            239.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0, 0.0, 242.0,
            0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 243.0, 0.0,
            0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0,
            0.0, 243.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0,
            242.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 241.0,
            0.0, 0.0, 0.0, 241.0, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0, 0.0, 240.0, 0.0,
            0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0,
            0.0, 239.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0,
            238.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 238.0,
            0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 239.0, 0.0,
            0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0, 0.0, 240.0, 0.0, 0.0,
            0.0, 241.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0,
            244.0, 0.0, 0.0, 0.0, 245.0, 0.0, 0.0, 0.0, 246.0, 0.0, 0.0, 0.0, 247.0, 0.0, 0.0, 0.0, 248.0,
            0.0, 0.0, 0.0, 249.0, 0.0, 0.0, 0.0, 250.0, 0.0, 0.0, 0.0, 252.0, 0.0, 0.0, 0.0, 253.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0
        ])
    };
    EOSB = {
        r: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 9.0, 0.0, 0.0, 0.0, 18.0,
            0.0, 0.0, 0.0, 27.0, 0.0, 0.0, 0.0, 36.0, 0.0, 0.0, 0.0, 45.0, 0.0, 0.0, 0.0, 49.0, 0.0, 0.0,
            0.0, 57.0, 0.0, 0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 81.0, 0.0, 0.0, 0.0, 91.0, 0.0, 0.0, 0.0,
            100.0, 0.0, 0.0, 0.0, 109.0, 0.0, 0.0, 0.0, 118.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 136.0,
            0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 139.0, 0.0, 0.0, 0.0, 163.0, 0.0, 0.0, 0.0, 173.0, 0.0,
            0.0, 0.0, 182.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 209.0, 0.0, 0.0,
            0.0, 218.0, 0.0, 0.0, 0.0, 227.0, 0.0, 0.0, 0.0, 213.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0,
            0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0,
            0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 253.0, 0.0, 0.0, 0.0, 251.0, 0.0, 0.0, 0.0, 249.0, 0.0,
            0.0, 0.0, 247.0, 0.0, 0.0, 0.0, 245.0, 0.0, 0.0, 0.0, 243.0, 0.0, 0.0, 0.0, 241.0, 0.0, 0.0,
            0.0, 215.0, 0.0, 0.0, 0.0, 214.0, 0.0, 0.0, 0.0, 235.0, 0.0, 0.0, 0.0, 234.0, 0.0, 0.0, 0.0,
            232.0, 0.0, 0.0, 0.0, 230.0, 0.0, 0.0, 0.0, 228.0, 0.0, 0.0, 0.0, 226.0, 0.0, 0.0, 0.0, 224.0,
            0.0, 0.0, 0.0, 222.0, 0.0, 0.0, 0.0, 198.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 216.0, 0.0,
            0.0, 0.0, 215.0, 0.0, 0.0, 0.0, 213.0, 0.0, 0.0, 0.0, 211.0, 0.0, 0.0, 0.0, 209.0, 0.0, 0.0,
            0.0, 207.0, 0.0, 0.0, 0.0, 205.0, 0.0, 0.0, 0.0, 203.0, 0.0, 0.0, 0.0, 181.0, 0.0, 0.0, 0.0,
            179.0, 0.0, 0.0, 0.0, 197.0, 0.0, 0.0, 0.0, 196.0, 0.0, 0.0, 0.0, 194.0, 0.0, 0.0, 0.0, 192.0,
            0.0, 0.0, 0.0, 190.0, 0.0, 0.0, 0.0, 188.0, 0.0, 0.0, 0.0, 186.0, 0.0, 0.0, 0.0, 184.0, 0.0,
            0.0, 0.0, 164.0, 0.0, 0.0, 0.0, 162.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0, 0.0, 176.0, 0.0, 0.0,
            0.0, 175.0, 0.0, 0.0, 0.0, 173.0, 0.0, 0.0, 0.0, 171.0, 0.0, 0.0, 0.0, 169.0, 0.0, 0.0, 0.0,
            167.0, 0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 147.0, 0.0, 0.0, 0.0, 145.0, 0.0, 0.0, 0.0, 159.0,
            0.0, 0.0, 0.0, 157.0, 0.0, 0.0, 0.0, 156.0, 0.0, 0.0, 0.0, 154.0, 0.0, 0.0, 0.0, 152.0, 0.0,
            0.0, 0.0, 150.0, 0.0, 0.0, 0.0, 148.0, 0.0, 0.0, 0.0, 146.0, 0.0, 0.0, 0.0, 130.0, 0.0, 0.0,
            0.0, 128.0, 0.0, 0.0, 0.0, 140.0, 0.0, 0.0, 0.0, 138.0, 0.0, 0.0, 0.0, 137.0, 0.0, 0.0, 0.0,
            135.0, 0.0, 0.0, 0.0, 133.0, 0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 129.0, 0.0, 0.0, 0.0, 127.0,
            0.0, 0.0, 0.0, 113.0, 0.0, 0.0, 0.0, 111.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 119.0, 0.0,
            0.0, 0.0, 117.0, 0.0, 0.0, 0.0, 117.0, 0.0, 0.0, 0.0
        ]),
        g: new Float32Array([
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 7.0,
            0.0, 0.0, 0.0, 15.0, 0.0, 0.0, 0.0, 23.0, 0.0, 0.0, 0.0, 31.0, 0.0, 0.0, 0.0, 39.0, 0.0, 0.0,
            0.0, 47.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0, 0.0, 64.0, 0.0, 0.0, 0.0, 79.0,
            0.0, 0.0, 0.0, 87.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0, 0.0, 103.0, 0.0, 0.0, 0.0, 111.0, 0.0,
            0.0, 0.0, 119.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 135.0, 0.0, 0.0, 0.0, 129.0, 0.0, 0.0,
            0.0, 136.0, 0.0, 0.0, 0.0, 159.0, 0.0, 0.0, 0.0, 167.0, 0.0, 0.0, 0.0, 175.0, 0.0, 0.0, 0.0,
            183.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 207.0, 0.0, 0.0, 0.0, 215.0,
            0.0, 0.0, 0.0, 200.0, 0.0, 0.0, 0.0, 207.0, 0.0, 0.0, 0.0, 239.0, 0.0, 0.0, 0.0, 247.0, 0.0,
            0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0,
            0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 229.0, 0.0,
            0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0,
            0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0,
            255.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 250.0,
            0.0, 0.0, 0.0, 246.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 233.0, 0.0,
            0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 198.0, 0.0, 0.0, 0.0, 195.0, 0.0, 0.0,
            0.0, 212.0, 0.0, 0.0, 0.0, 208.0, 0.0, 0.0, 0.0, 204.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0,
            195.0, 0.0, 0.0, 0.0, 191.0, 0.0, 0.0, 0.0, 187.0, 0.0, 0.0, 0.0, 182.0, 0.0, 0.0, 0.0, 160.0,
            0.0, 0.0, 0.0, 156.0, 0.0, 0.0, 0.0, 169.0, 0.0, 0.0, 0.0, 165.0, 0.0, 0.0, 0.0, 161.0, 0.0,
            0.0, 0.0, 157.0, 0.0, 0.0, 0.0, 153.0, 0.0, 0.0, 0.0, 148.0, 0.0, 0.0, 0.0, 144.0, 0.0, 0.0,
            0.0, 140.0, 0.0, 0.0, 0.0, 122.0, 0.0, 0.0, 0.0, 118.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0,
            125.0, 0.0, 0.0, 0.0, 123.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 119.0, 0.0, 0.0, 0.0, 116.0,
            0.0, 0.0, 0.0, 114.0, 0.0, 0.0, 0.0, 112.0, 0.0, 0.0, 0.0, 99.0, 0.0, 0.0, 0.0, 97.0, 0.0,
            0.0, 0.0, 106.0, 0.0, 0.0, 0.0, 104.0, 0.0, 0.0, 0.0, 102.0, 0.0, 0.0, 0.0, 99.0, 0.0, 0.0,
            0.0, 97.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0, 0.0, 93.0, 0.0, 0.0, 0.0, 91.0, 0.0, 0.0, 0.0, 80.0,
            0.0, 0.0, 0.0, 78.0, 0.0, 0.0, 0.0, 84.0, 0.0, 0.0, 0.0, 82.0, 0.0, 0.0, 0.0, 80.0, 0.0, 0.0,
            0.0, 78.0, 0.0, 0.0, 0.0, 76.0, 0.0, 0.0, 0.0, 74.0, 0.0, 0.0, 0.0, 72.0, 0.0, 0.0, 0.0, 70.0,
            0.0, 0.0, 0.0, 61.0, 0.0, 0.0, 0.0, 59.0, 0.0, 0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 61.0, 0.0, 0.0,
            0.0, 59.0, 0.0, 0.0, 0.0, 57.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 53.0, 0.0, 0.0, 0.0, 50.0,
            0.0, 0.0, 0.0, 48.0, 0.0, 0.0, 0.0, 42.0, 0.0, 0.0, 0.0, 40.0, 0.0, 0.0, 0.0, 42.0, 0.0, 0.0,
            0.0, 40.0, 0.0, 0.0, 0.0, 38.0, 0.0, 0.0, 0.0, 36.0, 0.0, 0.0, 0.0, 33.0, 0.0, 0.0, 0.0, 31.0,
            0.0, 0.0, 0.0, 29.0, 0.0, 0.0, 0.0, 27.0, 0.0, 0.0, 0.0, 22.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0,
            0.0, 21.0, 0.0, 0.0, 0.0, 19.0, 0.0, 0.0, 0.0, 16.0, 0.0, 0.0, 0.0, 14.0, 0.0, 0.0, 0.0, 12.0,
            0.0, 0.0, 0.0, 13.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0, 6.0, 0.0, 0.0, 0.0, 3.0, 0.0, 0.0,
            0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
        ]),
        b: new Float32Array([
            116.0, 0.0, 0.0, 0.0, 121.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 131.0, 0.0, 0.0, 0.0, 136.0,
            0.0, 0.0, 0.0, 140.0, 0.0, 0.0, 0.0, 144.0, 0.0, 0.0, 0.0, 148.0, 0.0, 0.0, 0.0, 153.0, 0.0,
            0.0, 0.0, 157.0, 0.0, 0.0, 0.0, 145.0, 0.0, 0.0, 0.0, 149.0, 0.0, 0.0, 0.0, 170.0, 0.0, 0.0,
            0.0, 174.0, 0.0, 0.0, 0.0, 178.0, 0.0, 0.0, 0.0, 182.0, 0.0, 0.0, 0.0, 187.0, 0.0, 0.0, 0.0,
            191.0, 0.0, 0.0, 0.0, 195.0, 0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 183.0, 0.0, 0.0, 0.0, 187.0,
            0.0, 0.0, 0.0, 212.0, 0.0, 0.0, 0.0, 216.0, 0.0, 0.0, 0.0, 221.0, 0.0, 0.0, 0.0, 225.0, 0.0,
            0.0, 0.0, 229.0, 0.0, 0.0, 0.0, 233.0, 0.0, 0.0, 0.0, 238.0, 0.0, 0.0, 0.0, 242.0, 0.0, 0.0,
            0.0, 221.0, 0.0, 0.0, 0.0, 225.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 247.0, 0.0, 0.0, 0.0,
            239.0, 0.0, 0.0, 0.0, 231.0, 0.0, 0.0, 0.0, 223.0, 0.0, 0.0, 0.0, 215.0, 0.0, 0.0, 0.0, 207.0,
            0.0, 0.0, 0.0, 199.0, 0.0, 0.0, 0.0, 172.0, 0.0, 0.0, 0.0, 164.0, 0.0, 0.0, 0.0, 175.0, 0.0,
            0.0, 0.0, 167.0, 0.0, 0.0, 0.0, 159.0, 0.0, 0.0, 0.0, 151.0, 0.0, 0.0, 0.0, 143.0, 0.0, 0.0,
            0.0, 135.0, 0.0, 0.0, 0.0, 127.0, 0.0, 0.0, 0.0, 119.0, 0.0, 0.0, 0.0, 100.0, 0.0, 0.0, 0.0,
            93.0, 0.0, 0.0, 0.0, 95.0, 0.0, 0.0, 0.0, 87.0, 0.0, 0.0, 0.0, 79.0, 0.0, 0.0, 0.0, 71.0, 0.0,
            0.0, 0.0, 63.0, 0.0, 0.0, 0.0, 55.0, 0.0, 0.0, 0.0, 47.0, 0.0, 0.0, 0.0, 39.0, 0.0, 0.0, 0.0,
            28.0, 0.0, 0.0, 0.0, 21.0, 0.0, 0.0, 0.0, 15.0, 0.0, 0.0, 0.0, 7.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
            0.0, 0.0, 0.0, 0.0, 0.0, 0.0
        ])
    };
}
const colorMap = new ColorMap();
//# sourceMappingURL=ColorMap.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/FoVHelper.js":
/*!*******************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/FoVHelper.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   fovHelper: () => (/* binding */ fovHelper)
/* harmony export */ });
// FoVHelper.ts

class FoVHelper {
    getHiPSNorder(fov) {
        if (fov >= 179)
            return 0;
        if (fov >= 90)
            return 1;
        if (fov >= 30)
            return 2;
        if (fov >= 20)
            return 3;
        if (fov >= 6)
            return 4;
        if (fov >= 3.2)
            return 5;
        if (fov >= 1.6)
            return 6;
        if (fov >= 0.85)
            return 7;
        if (fov >= 0.42)
            return 8;
        if (fov >= 0.21)
            return 9;
        if (fov >= 0.12)
            return 10;
        if (fov >= 0.06)
            return 11;
        if (fov < 0.015)
            return 12;
        return 13;
    }
    getRADegSteps(fov) {
        let raStep;
        let decStep;
        if (fov >= 179) {
            raStep = 10;
            decStep = 10;
        }
        else if (fov >= 25) {
            raStep = 9;
            decStep = 9;
        }
        else if (fov >= 12.5) {
            raStep = 8;
            decStep = 8;
        }
        else if (fov >= 6) {
            raStep = 6;
            decStep = 6;
        }
        else if (fov >= 3.2) {
            raStep = 5;
            decStep = 5;
        }
        else if (fov >= 1.6) {
            raStep = 4;
            decStep = 4;
        }
        else if (fov >= 0.85) {
            raStep = 3;
            decStep = 3;
        }
        else if (fov >= 0.42) {
            raStep = 2;
            decStep = 2;
        }
        else if (fov >= 0.21) {
            raStep = 1;
            decStep = 1;
        }
        else if (fov >= 0.12) {
            raStep = 0.5;
            decStep = 0.5;
        }
        else if (fov >= 0.06) {
            raStep = 0.25;
            decStep = 0.25;
        }
        else {
            raStep = 10;
            decStep = 10;
        }
        return { raStep, decStep };
    }
    getRefOrder(order) {
        switch (order) {
            case 0:
            case 1:
            case 2:
            case 3:
                return order + 6;
            case 4:
            case 5:
            case 6:
            case 7:
                return order + 5;
            case 8:
                return order + 4;
            default:
                return order + 3;
        }
    }
}
const fovHelper = new FoVHelper();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FoVHelper);
//# sourceMappingURL=FoVHelper.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/HiPS.js":
/*!**************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/HiPS.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _AbstractSkyEntity_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AbstractSkyEntity.js */ "../astro-viewer/lib-esm/model/AbstractSkyEntity.js");
/* harmony import */ var _FoVHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FoVHelper.js */ "../astro-viewer/lib-esm/model/hips/FoVHelper.js");
/* harmony import */ var _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileBuffer.js */ "../astro-viewer/lib-esm/model/hips/TileBuffer.js");
/* harmony import */ var _ColorMaps_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ColorMaps.js */ "../astro-viewer/lib-esm/model/ColorMaps.js");
/* harmony import */ var _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shader/HiPSShaderProgram.js */ "../astro-viewer/lib-esm/shader/HiPSShaderProgram.js");
/* harmony import */ var _AncestorTile_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AncestorTile.js */ "../astro-viewer/lib-esm/model/hips/AncestorTile.js");
/* harmony import */ var _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VisibleTilesManager.js */ "../astro-viewer/lib-esm/model/hips/VisibleTilesManager.js");
/* harmony import */ var _AllSky_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AllSky.js */ "../astro-viewer/lib-esm/model/hips/AllSky.js");
/* harmony import */ var _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../grid/HealpixGridSingleton.js */ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/ComputePerspectiveMatrix.js */ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js");

/**
 * @author Fabrizio Giordano (Fab77)
 */











class HiPS extends _AbstractSkyEntity_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
    _ancestorTiles;
    _allSkyTile;
    _format;
    _baseurl;
    _maxorder;
    _minorder;
    _visibleorder = 3;
    _allSky = true;
    samplerIdx = 0;
    colorMapIdx = 0;
    colorMap = _ColorMaps_js__WEBPACK_IMPORTED_MODULE_3__["default"]['native'];
    // exposed read-only helpers
    get maxOrder() { return this._maxorder; }
    get minOrder() { return this._minorder; }
    get baseURL() { return this._baseurl; }
    get format() { return this._format; }
    constructor(radius, position, xrad, yrad, descriptor) {
        super(radius, position, xrad, yrad, descriptor.surveyName, descriptor.isGalactic);
        this.initGL(_Global_js__WEBPACK_IMPORTED_MODULE_9__["default"].gl);
        _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.addHiPS(this);
        // DEBUG logs kept from JS (optional)
        // eslint-disable-next-line no-console
        console.log('HiPS frame ' + descriptor.hipsFrame);
        // eslint-disable-next-line no-console
        console.log('HiPS minOrder ' + descriptor.minOrder);
        this._format = descriptor.imgFormats[0];
        this._baseurl = descriptor.url;
        this._maxorder = descriptor.maxOrder;
        this._minorder = descriptor.minOrder;
        this.initShaders();
        // pick initial order from a starting FoV
        const fov = 180;
        let order = _FoVHelper_js__WEBPACK_IMPORTED_MODULE_1__.fovHelper.getHiPSNorder(fov);
        this._visibleorder = Math.min(order, this._maxorder);
        this._ancestorTiles = [];
        this._allSkyTile = null;
        // auto-detect all-sky: original code forces true
        this._allSky = true;
        if (this._allSky) {
            this._allSkyTile = new _AllSky_js__WEBPACK_IMPORTED_MODULE_7__["default"](this);
        }
        else {
            for (let t = 0; t < 12; t++) {
                this._ancestorTiles.push(new _AncestorTile_js__WEBPACK_IMPORTED_MODULE_5__["default"](t, 0, this));
            }
        }
    }
    changeFormat(format) {
        this._format = format;
        // original code referenced _tileBuffer; if you have one, wire it back.
        // Keeping calls no-op to avoid breaking at runtime if _tileBuffer is undefined.
        // (newVisibleTilesManager + TileBuffer drive the actual tile lifecycle)
        // @ts-ignore
        if (this._tileBuffer?.clearAll)
            this._tileBuffer.clearAll();
        // @ts-ignore
        if (this._tileBuffer)
            this._tileBuffer._format = this._format;
        const pixelByOrder = this.isGalacticHips
            ? _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.galVisibleTilesByOrder
            : _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.visibleTilesByOrder;
        // @ts-ignore
        if (this._tileBuffer?.updateTiles)
            this._tileBuffer.updateTiles(pixelByOrder.pixels, pixelByOrder.order);
    }
    /**
     * Shader colormap switcher
     * 0 -> native
     * 1 -> grayscale
     * 2 -> planck
     * 3 -> cmb
     * 4 -> rainbow
     * 5 -> eosb
     * 6 -> cubehelix
     */
    changeColorMap(colorMap) {
        this.colorMap = colorMap;
        switch (colorMap.name) {
            case 'grayscale':
                this.colorMapIdx = 1;
                _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.setGrayscaleShader();
                break;
            case 'planck':
                this.colorMapIdx = 2;
                _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.setColorMapShader();
                break;
            case 'cmb':
                this.colorMapIdx = 3;
                _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.setColorMapShader();
                break;
            case 'rainbow':
                this.colorMapIdx = 4;
                _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.setColorMapShader();
                break;
            case 'eosb':
                this.colorMapIdx = 5;
                _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.setColorMapShader();
                break;
            case 'cubehelix':
                this.colorMapIdx = 6;
                _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.setColorMapShader();
                break;
            default:
                this.colorMapIdx = 0;
                _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.setNativeShader();
        }
    }
    initShaders() {
        _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.enableProgram();
        this.shaderProgram = _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_4__.hipsShaderProgram.shaderProgram;
    }
    getCurrentHealpixOrder() {
        return this._visibleorder;
    }
    refresh() {
        const fov = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_8__["default"].getMinFoV();
        this._visibleorder = Math.min(_FoVHelper_js__WEBPACK_IMPORTED_MODULE_1__.fovHelper.getHiPSNorder(fov), this._maxorder);
    }
    draw() {
        if (!_Global_js__WEBPACK_IMPORTED_MODULE_9__["default"].camera || _Global_js__WEBPACK_IMPORTED_MODULE_9__["default"].camera.getCameraMatrix() === undefined)
            return;
        this.refresh();
        const vMatrix = _Global_js__WEBPACK_IMPORTED_MODULE_9__["default"].camera.getCameraMatrix();
        const pMatrix = _utils_ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_10__["default"].pMatrix;
        const mMatrix = this.getModelMatrix();
        if (this._allSky && this._allSkyTile) {
            if (this.isGalacticHips) {
                this._allSkyTile.draw(_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.galVisibleTilesByOrder.order, _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.galAncestorsMap, pMatrix, vMatrix, mMatrix, this.colorMapIdx);
            }
            else {
                this._allSkyTile.draw(_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.visibleTilesByOrder.order, _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.ancestorsMap, pMatrix, vMatrix, mMatrix, this.colorMapIdx);
            }
            return;
        }
        // Non all-sky path
        const order = this.isGalacticHips
            ? _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.galVisibleTilesByOrder.order
            : _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.visibleTilesByOrder.order;
        const map = this.isGalacticHips
            ? _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.galAncestorsMap
            : _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_6__.visibleTilesManager.ancestorsMap;
        this._ancestorTiles.forEach((ancestor) => {
            ancestor.draw(order, map, pMatrix, vMatrix, mMatrix, this.colorMapIdx);
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HiPS);
//# sourceMappingURL=HiPS.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/HiPSDescriptor.js":
/*!************************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/HiPSDescriptor.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HiPSDescriptor: () => (/* binding */ HiPSDescriptor)
/* harmony export */ });
// HiPSDescriptor.ts

class HiPSDescriptor {
    _minOrder = 3;
    _imgformats = [];
    _datarange = { min: undefined, max: undefined };
    _maxOrder;
    _tilewidth;
    _hipsFrame;
    _hipsName = 'NONAME';
    _hipsurl;
    _emMin;
    _emMax;
    _isGalctic = false;
    constructor(hipsproperties, hipsurl) {
        this._hipsurl = hipsurl;
        const lines = hipsproperties.split(/\r\n|\n/);
        for (const raw of lines) {
            const line = raw.trim();
            if (!line || line.startsWith('#'))
                continue;
            if (line.startsWith('hips_tile_format') || line.startsWith('format')) {
                // normalize jpeg→jpg
                const list = this.getValue(line)?.replace(/jpeg/gi, 'jpg') ?? '';
                this._imgformats = list.split(/\s+/).filter(Boolean);
            }
            else if (line.startsWith('hips_data_range')) {
                const v = this.getValue(line);
                if (v) {
                    const [minStr, maxStr] = v.split(/\s+/);
                    this._datarange.min = parseFloat(minStr);
                    this._datarange.max = parseFloat(maxStr);
                }
            }
            else if (line.startsWith('hips_tile_width')) {
                const n = Number(this.getValue(line));
                this._tilewidth = Number.isFinite(n) ? n : undefined;
            }
            else if (line.startsWith('hips_order_min')) {
                const n = Number(this.getValue(line));
                this._minOrder = Number.isFinite(n) ? n : this._minOrder;
            }
            else if (line.startsWith('hips_order') || line.startsWith('maxOrder')) {
                const n = Number(this.getValue(line));
                this._maxOrder = Number.isFinite(n) ? n : this._maxOrder;
            }
            else if (line.startsWith('hips_frame') || line.startsWith('frame')) {
                this._hipsFrame = this.getValue(line);
            }
            else if (line.startsWith('obs_collection') || line.startsWith('label')) {
                this._hipsName = this.getValue(line) ?? this._hipsName;
            }
            else if (line.startsWith('em_min')) {
                const n = Number(this.getValue(line));
                this._emMin = Number.isFinite(n) ? n : undefined;
            }
            else if (line.startsWith('em_max')) {
                const n = Number(this.getValue(line));
                this._emMax = Number.isFinite(n) ? n : undefined;
            }
        }
        if (!this._hipsName) {
            console.warn(`[HiPSDescriptor] hipsName not defined in properties of ${this._hipsurl}. Defaulting to 'NONAME'.`);
        }
        if (!this._hipsFrame) {
            console.warn(`[HiPSDescriptor] hips_frame not defined in properties of ${this._hipsurl}. Defaulting to 'equatorial'.`);
            this._hipsFrame = 'equatorial';
        }
        this._isGalctic = this._hipsFrame.toLowerCase().includes('gal');
        if (this._maxOrder === undefined || this._imgformats.length === 0) {
            throw new Error(`[HiPSDescriptor] Invalid properties for ${this._hipsurl}. maxOrder=${this._maxOrder}, imgFormats.length=${this._imgformats.length}`);
        }
    }
    getValue(line) {
        const idx = line.indexOf('=');
        if (idx < 0)
            return undefined;
        return line.slice(idx + 1).trim();
    }
    // --- Getters ---
    get surveyName() {
        return this._hipsName;
    }
    get url() {
        return this._hipsurl;
    }
    get maxOrder() {
        return this._maxOrder;
    }
    get minOrder() {
        return this._minOrder;
    }
    get imgFormats() {
        return this._imgformats;
    }
    get hipsFrame() {
        return this._hipsFrame;
    }
    get isGalactic() {
        return this._isGalctic;
    }
    get emMin() {
        return this._emMin;
    }
    get emMax() {
        return this._emMax;
    }
    get tileWidth() {
        return this._tilewidth;
    }
    get dataRange() {
        return this._datarange;
    }
}
//# sourceMappingURL=HiPSDescriptor.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/Tile.js":
/*!**************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/Tile.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Tile)
/* harmony export */ });
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shader/HiPSShaderProgram.js */ "../astro-viewer/lib-esm/shader/HiPSShaderProgram.js");
/* harmony import */ var _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileBuffer.js */ "../astro-viewer/lib-esm/model/hips/TileBuffer.js");
/* harmony import */ var _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VisibleTilesManager.js */ "../astro-viewer/lib-esm/model/hips/VisibleTilesManager.js");
/* harmony import */ var _FoVHelper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FoVHelper.js */ "../astro-viewer/lib-esm/model/hips/FoVHelper.js");
// Tile.ts





// ------------------------------------------------------------------------
class Tile {
    _hips;
    _tileno;
    _baseurl;
    _order;
    _format;
    _maxorder;
    _isGalacticHips;
    _ready = false;
    _abort = false;
    _image;
    _textureLoaded = false;
    _texture;
    _texurl = '';
    _hipsShaderIndex = 0;
    _cacheTime0;
    _inView = true;
    _amIStillInFoV_requsetID;
    // geometry buffers
    vertexPosition = [];
    vertexPositionBuffer = [];
    vertexIndices = new Uint16Array();
    vertexIndexBuffer;
    opacity = 1.0;
    constructor(tileno, order, hips) {
        this._hips = hips;
        this._tileno = tileno;
        this._format = hips.format;
        this._baseurl = hips.baseURL;
        this._maxorder = hips.maxOrder;
        this._isGalacticHips = hips.isGalacticHips;
        this._order = order;
        this._amIStillInFoV_requsetID = window.setInterval(() => {
            this.amIStillInFoV();
        }, 5000);
        this.initImage();
    }
    destroyIntervals() {
        window.clearInterval(this._amIStillInFoV_requsetID);
    }
    getReadyState() {
        return this._ready;
    }
    get cacheTime0() {
        return this._cacheTime0;
    }
    resetCacheTime0() {
        this._cacheTime0 = undefined;
    }
    setCacheTime0() {
        this._cacheTime0 = new Date().getTime();
    }
    initImage() {
        this._image = new Image();
        const dirnumber = Math.floor(this._tileno / 10000) * 10000;
        this._texurl = `${this._baseurl}/Norder${this._order}/Dir${dirnumber}/Npix${this._tileno}.${this._format}`;
        this._image.onload = () => this.imageLoaded();
        this._image.onerror = () => {
            console.error('File not found?', this._texurl);
            this._ready = false;
            this._abort = true;
            this.destroyIntervals();
        };
        this._image.crossOrigin = 'anonymous';
        this._image.src = this._texurl;
    }
    imageLoaded() {
        this.textureLoaded();
        this.initModelBuffer();
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._image);
        this._textureLoaded = true;
        if (this._textureLoaded)
            this._ready = true;
    }
    textureLoaded() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.enableProgram();
        this._texture = gl.createTexture();
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
        // FIX: use the sampler location we fetched in enableShaders()
        gl.uniform1i(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.sampler, this._hipsShaderIndex);
        if (!gl.isTexture(this._texture)) {
            console.warn('Texture creation failed');
        }
    }
    initModelBuffer() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        this.vertexPosition = [];
        this.vertexPositionBuffer = [];
        this.vertexIndices = new Uint16Array();
        const reforder = _FoVHelper_js__WEBPACK_IMPORTED_MODULE_4__.fovHelper.getRefOrder(this._order);
        const orighealpix = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].getHealpix(this._order);
        const origxyf = orighealpix.nest2xyf(this._tileno);
        const orderjump = reforder - this._order;
        const dxmin = origxyf.ix << orderjump;
        const dxmax = (origxyf.ix << orderjump) + (1 << orderjump);
        const dymin = origxyf.iy << orderjump;
        const dymax = (origxyf.iy << orderjump) + (1 << orderjump);
        const healpix = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].getHealpix(reforder);
        this.setupPositionAndTexture4Quadrant2(dxmin, dxmin + (dxmax - dxmin) / 2, dymin, dymin + (dymax - dymin) / 2, 0, healpix, orderjump, origxyf);
        this.setupPositionAndTexture4Quadrant2(dxmin + (dxmax - dxmin) / 2, dxmax, dymin, dymin + (dymax - dymin) / 2, 1, healpix, orderjump, origxyf);
        this.setupPositionAndTexture4Quadrant2(dxmin, dxmin + (dxmax - dxmin) / 2, dymin + (dymax - dymin) / 2, dymax, 2, healpix, orderjump, origxyf);
        this.setupPositionAndTexture4Quadrant2(dxmin + (dxmax - dxmin) / 2, dxmax, dymin + (dymax - dymin) / 2, dymax, 3, healpix, orderjump, origxyf);
        const pixelsXQuadrant = this.vertexPosition[0].length / 20;
        const idx = this.computeVertexIndices(pixelsXQuadrant);
        // If large, upgrade to Uint32 indices
        if (idx.length > 65535) {
            // Optional: require OES_element_index_uint if you’re still on WebGL1
            this.vertexIndices = new Uint32Array(idx);
        }
        else {
            this.vertexIndices = new Uint16Array(idx);
        }
        this.vertexIndexBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndices, gl.STATIC_DRAW);
    }
    computeVertexIndices(pixelsXQuadrant) {
        const vertexIndices = new Uint32Array(6 * pixelsXQuadrant);
        let baseFaceIndex = 0;
        for (let j = 0; j < pixelsXQuadrant; j++) {
            const b = baseFaceIndex;
            vertexIndices[6 * j] = b;
            vertexIndices[6 * j + 1] = b + 1;
            vertexIndices[6 * j + 2] = b + 2;
            vertexIndices[6 * j + 3] = b + 2;
            vertexIndices[6 * j + 4] = b + 3;
            vertexIndices[6 * j + 5] = b;
            baseFaceIndex += 4;
        }
        return vertexIndices;
    }
    setupPositionAndTexture4Quadrant2(dxmin, dxmax, dymin, dymax, qidx, healpix, orderjump, origxyf) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        this.vertexPosition[qidx] = new Float32Array(20 * (dxmax - dxmin) * (dymax - dymin));
        const step = 1 / (1 << orderjump);
        let p = 0;
        const s_pixel_size = 0;
        const t_pixel_size = 0;
        for (let dx = dxmin; dx < dxmax; dx++) {
            for (let dy = dymin; dy < dymax; dy++) {
                const facesVec3Array = healpix.getPointsForXyfNoStep(dx, dy, origxyf.face);
                const uindex = dy - (origxyf.iy << orderjump);
                const vindex = dx - (origxyf.ix << orderjump);
                // v0
                this.vertexPosition[qidx][20 * p] = facesVec3Array[0].x;
                this.vertexPosition[qidx][20 * p + 1] = facesVec3Array[0].y;
                this.vertexPosition[qidx][20 * p + 2] = facesVec3Array[0].z;
                this.vertexPosition[qidx][20 * p + 3] = step + step * uindex + s_pixel_size;
                this.vertexPosition[qidx][20 * p + 4] = 1 - (step + step * vindex) - t_pixel_size;
                // v1
                this.vertexPosition[qidx][20 * p + 5] = facesVec3Array[1].x;
                this.vertexPosition[qidx][20 * p + 6] = facesVec3Array[1].y;
                this.vertexPosition[qidx][20 * p + 7] = facesVec3Array[1].z;
                this.vertexPosition[qidx][20 * p + 8] = step + step * uindex + s_pixel_size;
                this.vertexPosition[qidx][20 * p + 9] = 1 - step * vindex + t_pixel_size;
                // v2
                this.vertexPosition[qidx][20 * p + 10] = facesVec3Array[2].x;
                this.vertexPosition[qidx][20 * p + 11] = facesVec3Array[2].y;
                this.vertexPosition[qidx][20 * p + 12] = facesVec3Array[2].z;
                this.vertexPosition[qidx][20 * p + 13] = step * uindex - s_pixel_size;
                this.vertexPosition[qidx][20 * p + 14] = 1 - step * vindex + t_pixel_size;
                // v3
                this.vertexPosition[qidx][20 * p + 15] = facesVec3Array[3].x;
                this.vertexPosition[qidx][20 * p + 16] = facesVec3Array[3].y;
                this.vertexPosition[qidx][20 * p + 17] = facesVec3Array[3].z;
                this.vertexPosition[qidx][20 * p + 18] = step * uindex - s_pixel_size;
                this.vertexPosition[qidx][20 * p + 19] = 1 - (step + step * vindex) - t_pixel_size;
                p++;
            }
        }
        this.vertexPositionBuffer[qidx] = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexPositionBuffer[qidx]);
        gl.bufferData(gl.ARRAY_BUFFER, this.vertexPosition[qidx], gl.STATIC_DRAW);
    }
    get inView() {
        return this._inView;
    }
    moveToCache() {
        _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.moveTileToCache(this._tileno, this._order, this._hips);
        this._inView = false;
        this.destroyIntervals();
    }
    amIStillInFoV() {
        if (this._textureLoaded)
            this._ready = true;
        if (this._isGalacticHips) {
            if (_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.galAncestorsMap.has(this._order)) {
                if (!_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.galAncestorsMap.get(this._order).includes(this._tileno)) {
                    this.moveToCache();
                }
                else {
                    this._inView = true;
                }
            }
            if (this._order == _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.visibleOrder) {
                if (!_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.galVisibleTilesByOrder.pixels.includes(this._tileno)) {
                    this.moveToCache();
                }
                else {
                    this._inView = true;
                }
            }
        }
        else {
            if (_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.ancestorsMap.has(this._order)) {
                if (!_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.ancestorsMap.get(this._order).includes(this._tileno)) {
                    this.moveToCache();
                }
                else {
                    this._inView = true;
                }
            }
            if (this._order == _VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.visibleOrder) {
                if (!_VisibleTilesManager_js__WEBPACK_IMPORTED_MODULE_3__.visibleTilesManager.visibleTilesByOrder.pixels.includes(this._tileno)) {
                    this.moveToCache();
                }
                else {
                    this._inView = true;
                }
            }
        }
    }
    draw(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx) {
        if (!this._ready || this._abort)
            return;
        let quadrantsToDraw = new Set([0, 1, 2, 3]);
        if (visibleOrder > this._order && this._order < this._maxorder) {
            const kids = this.drawChildren(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx);
            if (kids)
                quadrantsToDraw = kids;
        }
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        _shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.enableShaders(pMatrix, vMatrix, mMatrix, colorMapIdx);
        // Enable attributes (these locations are retrieved in enableShaders)
        gl.enableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.vertexPositionAttribute);
        gl.enableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureCoordAttribute);
        gl.activeTexture(gl.TEXTURE0 + this._hipsShaderIndex);
        gl.bindTexture(gl.TEXTURE_2D, this._texture);
        gl.uniform1f(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureAlpha, this.opacity);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
        const elemno = this.vertexIndices.length;
        const indexType = this.vertexIndices instanceof Uint32Array ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;
        quadrantsToDraw.forEach((qidx) => {
            gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexPositionBuffer[qidx]);
            gl.vertexAttribPointer(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.vertexPositionAttribute, 3, gl.FLOAT, false, 5 * 4, 0);
            gl.vertexAttribPointer(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureCoordAttribute, 2, gl.FLOAT, false, 5 * 4, 3 * 4);
            gl.drawElements(gl.TRIANGLES, elemno, indexType, 0);
        });
        gl.disableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.vertexPositionAttribute);
        gl.disableVertexAttribArray(_shader_HiPSShaderProgram_js__WEBPACK_IMPORTED_MODULE_1__.hipsShaderProgram.locations.textureCoordAttribute);
    }
    drawChildren(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx) {
        const quadrantsToDraw = new Set([0, 1, 2, 3]);
        const childrenOrder = this._order + 1;
        if (!visibleTilesMap.has(childrenOrder))
            return;
        for (let c = 0; c < 4; c++) {
            const childTileNo = (this._tileno << 2) + c;
            const list = visibleTilesMap.get(childrenOrder);
            if (list.includes(childTileNo)) {
                const childTile = this._isGalacticHips
                    ? _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.getGalTile(childTileNo, childrenOrder, this._hips)
                    : _TileBuffer_js__WEBPACK_IMPORTED_MODULE_2__.newTileBuffer.getTile(childTileNo, childrenOrder, this._hips);
                childTile.draw(visibleOrder, visibleTilesMap, pMatrix, vMatrix, mMatrix, colorMapIdx);
                if (childTile._ready) {
                    quadrantsToDraw.delete(childTileNo - (this._tileno << 2));
                }
            }
        }
        return quadrantsToDraw;
    }
}
//# sourceMappingURL=Tile.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/TileBuffer.js":
/*!********************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/TileBuffer.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ TileBuffer),
/* harmony export */   newTileBuffer: () => (/* binding */ newTileBuffer)
/* harmony export */ });
/* harmony import */ var _Tile_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tile.js */ "../astro-viewer/lib-esm/model/hips/Tile.js");
// TileBuffer.ts
 // adjust if your file is named differently
class TileBuffer {
    // Equatorial
    _tiles;
    _cachedTiles;
    _activeHiPS;
    // Galactic
    _galTiles;
    _galCachedTiles;
    _galActiveHiPS;
    _cacheAliveMilliSeconds;
    _cleanerId;
    constructor(minutesToLiveInCache = 1) {
        this._tiles = new Map();
        this._cachedTiles = new Map();
        this._activeHiPS = new Map();
        this._galTiles = new Map();
        this._galCachedTiles = new Map();
        this._galActiveHiPS = new Map();
        this._cacheAliveMilliSeconds = minutesToLiveInCache * 60 * 1000;
        this._cleanerId = window.setInterval(() => {
            this.cacheCleaner();
        }, 10_000);
    }
    /** Register an equatorial HiPS into the buffer. */
    addHiPS(hips) {
        if (this._activeHiPS.has(hips)) {
            console.error('HiPS already present in TileBuffer');
            return;
        }
        this._activeHiPS.set(hips, new Map());
    }
    /** Register a galactic HiPS into the buffer. */
    addGalHiPS(hips) {
        if (this._galActiveHiPS.has(hips)) {
            console.error('HiPS already present in TileBuffer');
            return;
        }
        this._galActiveHiPS.set(hips, new Map());
    }
    /** Preload/add tile for every registered equatorial HiPS. */
    addTile(order, tileno) {
        for (const hips of this._activeHiPS.keys()) {
            this.getTile(tileno, order, hips);
        }
    }
    /** Preload/add tile for every registered galactic HiPS. */
    addGalTile(order, tileno) {
        for (const hips of this._galActiveHiPS.keys()) {
            this.getGalTile(tileno, order, hips);
        }
    }
    /** Fetch (or create) an equatorial tile, reviving from cache if present. */
    getTile(tileno, order, hips) {
        const tileKey = this.key(order, tileno, hips.baseURL);
        if (!this._tiles.has(tileKey)) {
            if (this._cachedTiles.has(tileKey)) {
                const tile = this._cachedTiles.get(tileKey);
                this._tiles.set(tileKey, tile);
                this._cachedTiles.delete(tileKey);
                tile.resetCacheTime0();
            }
            else {
                const tile = new _Tile_js__WEBPACK_IMPORTED_MODULE_0__["default"](tileno, order, hips);
                this._tiles.set(tileKey, tile);
            }
        }
        return this._tiles.get(tileKey);
    }
    /** Fetch (or create) a galactic tile, reviving from cache if present. */
    getGalTile(tileno, order, hips) {
        const tileKey = this.key(order, tileno, hips.baseURL);
        if (!this._galTiles.has(tileKey)) {
            if (this._galCachedTiles.has(tileKey)) {
                const tile = this._galCachedTiles.get(tileKey);
                this._galTiles.set(tileKey, tile);
                this._galCachedTiles.delete(tileKey);
                tile.resetCacheTime0();
            }
            else {
                const tile = new _Tile_js__WEBPACK_IMPORTED_MODULE_0__["default"](tileno, order, hips);
                this._galTiles.set(tileKey, tile);
            }
        }
        return this._galTiles.get(tileKey);
    }
    /** Move a tile (equatorial or galactic) into cache. */
    moveTileToCache(tileno, order, hips) {
        const tileKey = this.key(order, tileno, hips.baseURL);
        if (this._tiles.has(tileKey)) {
            const tile = this._tiles.get(tileKey);
            tile.setCacheTime0();
            this._cachedTiles.set(tileKey, tile);
            this._tiles.delete(tileKey);
        }
        if (this._galTiles.has(tileKey)) {
            const tile = this._galTiles.get(tileKey);
            tile.setCacheTime0();
            this._galCachedTiles.set(tileKey, tile);
            this._galTiles.delete(tileKey);
        }
    }
    /** Periodically purge stale cached tiles. */
    cacheCleaner() {
        const now = Date.now();
        for (const [tileKey, tile] of this._cachedTiles) {
            const t0 = tile.cacheTime0;
            if (!tile.inView && t0 !== undefined && now - t0 > this._cacheAliveMilliSeconds) {
                tile.destroyIntervals();
                this._cachedTiles.delete(tileKey);
            }
        }
        for (const [tileKey, tile] of this._galCachedTiles) {
            const t0 = tile.cacheTime0;
            if (!tile.inView && t0 !== undefined && now - t0 > this._cacheAliveMilliSeconds) {
                tile.destroyIntervals();
                this._galCachedTiles.delete(tileKey);
            }
        }
    }
    /** Compose a stable key for maps. */
    key(order, tileno, baseURL) {
        return `${order}#${tileno}#${baseURL}`;
    }
    /** Optional: call to stop internal timers if you dispose this buffer. */
    dispose() {
        window.clearInterval(this._cleanerId);
    }
}
// Singleton (kept for compatibility with your original export)
const newTileBuffer = new TileBuffer();
//# sourceMappingURL=TileBuffer.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/model/hips/VisibleTilesManager.js":
/*!*****************************************************************!*\
  !*** ../astro-viewer/lib-esm/model/hips/VisibleTilesManager.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   visibleTilesManager: () => (/* binding */ visibleTilesManager)
/* harmony export */ });
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var healpixjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! healpixjs */ "../astro-viewer/node_modules/healpixjs/lib-esm/index.js");
/* harmony import */ var _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/RayPickingUtils.js */ "../astro-viewer/lib-esm/utils/RayPickingUtils.js");
/* harmony import */ var _TileBuffer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TileBuffer.js */ "../astro-viewer/lib-esm/model/hips/TileBuffer.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec4.js");
/* harmony import */ var _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../grid/HealpixGridSingleton.js */ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js");
/* harmony import */ var _Config_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Config.js */ "../astro-viewer/lib-esm/Config.js");







class VisibleTilesManager {
    _visibleTilesByOrder;
    _ancestorsMap;
    initialised;
    _galVisibleTilesByOrder;
    _galAncestorsMap;
    _galacticMatrixInverted;
    _galacticMatrix;
    insideSphere = _Config_js__WEBPACK_IMPORTED_MODULE_7__.bootSetup.insideSphere;
    constructor() {
        this._visibleTilesByOrder = { pixels: [], order: 0 };
        this._ancestorsMap = new Map();
        this.initialised = false;
        this._galVisibleTilesByOrder = { pixels: [], order: 0 };
        this._galAncestorsMap = new Map();
        // Matrices for galactic <-> equatorial
        this._galacticMatrixInverted = gl_matrix__WEBPACK_IMPORTED_MODULE_4__.create();
        this._galacticMatrix = gl_matrix__WEBPACK_IMPORTED_MODULE_4__.create();
        // From https://observablehq.com/@fil/galactic-rotations (single-precision friendly)
        // This matrix is (galactic -> equatorial); we store its inverse too.
        gl_matrix__WEBPACK_IMPORTED_MODULE_4__.set(this._galacticMatrixInverted, -0.054876, -0.873437, -0.483835, 0, 0.494109, -0.44483, 0.746982, -0, -0.867666, -0.198076, 0.455984, 0, 0, 0, 0, 1);
        gl_matrix__WEBPACK_IMPORTED_MODULE_4__.invert(this._galacticMatrix, this._galacticMatrixInverted);
    }
    init(insideSphere) {
        this.initialised = true;
        this.insideSphere = insideSphere;
        this.computeVisiblePixels();
        // Consider debouncing/throttling in real-time UIs
        setInterval(() => this.computeVisiblePixels(), 500);
    }
    getVisibleOrder() {
        return _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].visibleorder;
    }
    // toggleInsideSphere(){
    //   this.insideSphere = !this.insideSphere
    //   this.computeVisiblePixels();
    // }
    computeVisiblePixels() {
        if (!this.initialised)
            return;
        let order = _grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_6__["default"].visibleorder;
        if (_Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].insideSphere && order < 3) {
            order = 3;
        }
        this._ancestorsMap.set(order, []);
        this._galAncestorsMap.set(order, []);
        let pixels = [];
        let galTiles = [];
        if (order === 0) {
            const geomhealpix = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].getHealpix(0);
            const npix = geomhealpix.getNPix();
            for (let i = 0; i < npix; i++) {
                pixels.push(i);
                this._ancestorsMap.get(order).push(i);
                galTiles.push(i);
                this._galAncestorsMap.get(order).push(i);
            }
        }
        else {
            const geomhealpix = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].getHealpix(order);
            const maxX = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.canvas.width;
            const maxY = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.canvas.height;
            // Sample a grid of screen points, project to the sphere, then to galactic
            for (let i = 0; i <= maxX; i += maxX / 30) {
                for (let j = 0; j <= maxY; j += maxY / 30) {
                    const hit = _utils_RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_2__["default"].getIntersectionPointWithSingleModel(i, j);
                    if (hit.length > 0) {
                        // Equatorial -> Galactic (use _galacticMatrix)
                        const galVec = gl_matrix__WEBPACK_IMPORTED_MODULE_5__.create();
                        gl_matrix__WEBPACK_IMPORTED_MODULE_5__.transformMat4(galVec, [hit[0], hit[1], hit[2], 1], this._galacticMatrix);
                        // Index in galactic HEALPix
                        const galPoint = new healpixjs__WEBPACK_IMPORTED_MODULE_1__.Pointing(new healpixjs__WEBPACK_IMPORTED_MODULE_1__.Vec3(galVec[0], galVec[1], galVec[2]));
                        const galTileNo = geomhealpix.ang2pix(galPoint);
                        // Index in equatorial HEALPix
                        const curPoint = new healpixjs__WEBPACK_IMPORTED_MODULE_1__.Pointing(new healpixjs__WEBPACK_IMPORTED_MODULE_1__.Vec3(hit[0], hit[1], hit[2]));
                        const currPixNo = geomhealpix.ang2pix(curPoint);
                        if (!pixels.includes(currPixNo)) {
                            pixels.push(currPixNo);
                            this._ancestorsMap.get(order).push(currPixNo);
                            _TileBuffer_js__WEBPACK_IMPORTED_MODULE_3__.newTileBuffer.addTile(order, currPixNo);
                        }
                        if (!galTiles.includes(galTileNo)) {
                            galTiles.push(galTileNo);
                            this._galAncestorsMap.get(order).push(galTileNo);
                            _TileBuffer_js__WEBPACK_IMPORTED_MODULE_3__.newTileBuffer.addGalTile(order, galTileNo);
                        }
                    }
                }
            }
        }
        this._visibleTilesByOrder = { pixels: pixels, order: order };
        this._galVisibleTilesByOrder = { pixels: galTiles, order: order };
        // Build ancestor pyramids down to order 0
        for (let o = 1; o < order; o++) {
            const tgtOrder = order - o;
            const list = this._ancestorsMap.get(tgtOrder) ?? [];
            this._ancestorsMap.set(tgtOrder, list);
            for (let p = 0; p < pixels.length; p++) {
                const parent = pixels[p] >> (2 * o);
                if (!list.includes(parent)) {
                    list.push(parent);
                    _TileBuffer_js__WEBPACK_IMPORTED_MODULE_3__.newTileBuffer.addTile(tgtOrder, parent);
                }
            }
        }
        for (let o = 1; o < order; o++) {
            const tgtOrder = order - o;
            const list = this._galAncestorsMap.get(tgtOrder) ?? [];
            this._galAncestorsMap.set(tgtOrder, list);
            for (let p = 0; p < galTiles.length; p++) {
                const parent = galTiles[p] >> (2 * o);
                if (!list.includes(parent)) {
                    list.push(parent);
                    _TileBuffer_js__WEBPACK_IMPORTED_MODULE_3__.newTileBuffer.addGalTile(tgtOrder, parent);
                }
            }
        }
    }
    get visibleTilesByOrder() {
        return this._visibleTilesByOrder;
    }
    get ancestorsMap() {
        return this._ancestorsMap;
    }
    get galVisibleTilesByOrder() {
        return this._galVisibleTilesByOrder;
    }
    get galAncestorsMap() {
        return this._galAncestorsMap;
    }
    get visibleOrder() {
        return this._visibleTilesByOrder.order;
    }
}
const visibleTilesManager = new VisibleTilesManager();
//# sourceMappingURL=VisibleTilesManager.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/shader/GridShaderManager.js":
/*!***********************************************************!*\
  !*** ../astro-viewer/lib-esm/shader/GridShaderManager.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// GridShaderManager.ts

class GridShaderManager {
    static healpixGridVS() {
        return `#version 300 es
        in vec4 aCatPosition;
        uniform mat4 uMVMatrix;
        uniform mat4 uPMatrix;

        void main() {
            gl_Position = uPMatrix * uMVMatrix * aCatPosition;
            gl_PointSize = 7.0;
        }`;
    }
    static healpixGridFS() {
        return `#version 300 es
        precision mediump float;

        uniform vec4 u_fragcolor;
        out vec4 fragColor;

        void main() {
            // fragColor = vec4(1.0, 0.0, 0.0, 1.0);
            fragColor = u_fragcolor;
        }`;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridShaderManager);
//# sourceMappingURL=GridShaderManager.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/shader/HiPSShaderProgram.js":
/*!***********************************************************!*\
  !*** ../astro-viewer/lib-esm/shader/HiPSShaderProgram.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HiPSShaderProgram),
/* harmony export */   hipsShaderProgram: () => (/* binding */ hipsShaderProgram)
/* harmony export */ });
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _ShaderManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ShaderManager.js */ "../astro-viewer/lib-esm/shader/ShaderManager.js");
/* harmony import */ var _model_hips_ColorMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/hips/ColorMap.js */ "../astro-viewer/lib-esm/model/hips/ColorMap.js");
// HiPSShaderProgram.ts



class HiPSShaderProgram {
    _shaderProgram;
    _vertexShader;
    _fragmentShader;
    _UBO_colorMapBuffer = null;
    _UBO_colorMapVariableInfo = {
        r_palette: { index: 0, offset: 0 },
        g_palette: { index: 0, offset: 0 },
        b_palette: { index: 0, offset: 0 }
    };
    gl_uniforms;
    gl_attributes;
    locations;
    constructor() {
        this.gl_uniforms = {
            sampler: 'uSampler0',
            factor: 'uFactor0',
            m_perspective: 'uPMatrix',
            m_model: 'uMMatrix',
            m_view: 'uVMatrix',
            colormapIdx: 'cmapIdx',
            colormap_red: 'r',
            colormap_green: 'g',
            colormap_blue: 'b'
        };
        this.gl_attributes = {
            vertex_pos: 'aVertexPosition',
            text_coords: 'aTextureCoord'
        };
        this.locations = {
            pMatrix: null,
            mMatrix: null,
            vMatrix: null,
            sampler: null,
            textureAlpha: null,
            clorMapIdx: null,
            vertexPositionAttribute: -1,
            textureCoordAttribute: -1
        };
    }
    get shaderProgram() {
        if (!this._shaderProgram) {
            const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
            this._shaderProgram = gl.createProgram();
            this.initShaders();
        }
        ;
        _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.useProgram(this._shaderProgram);
        return this._shaderProgram;
    }
    initShaders() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        const fragmentShaderStr = _ShaderManager_js__WEBPACK_IMPORTED_MODULE_1__["default"].hipsNativeFS();
        this._fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
        gl.shaderSource(this._fragmentShader, fragmentShaderStr);
        gl.compileShader(this._fragmentShader);
        if (!gl.getShaderParameter(this._fragmentShader, gl.COMPILE_STATUS)) {
            alert(gl.getShaderInfoLog(this._fragmentShader) || 'Fragment shader compile error');
            return;
        }
        const vertexShaderStr = _ShaderManager_js__WEBPACK_IMPORTED_MODULE_1__["default"].hipsVS();
        this._vertexShader = gl.createShader(gl.VERTEX_SHADER);
        gl.shaderSource(this._vertexShader, vertexShaderStr);
        gl.compileShader(this._vertexShader);
        if (!gl.getShaderParameter(this._vertexShader, gl.COMPILE_STATUS)) {
            alert(gl.getShaderInfoLog(this._vertexShader) || 'Vertex shader compile error');
            return;
        }
        gl.attachShader(this._shaderProgram, this._vertexShader);
        gl.attachShader(this._shaderProgram, this._fragmentShader);
        gl.linkProgram(this._shaderProgram);
        if (!gl.getProgramParameter(this._shaderProgram, gl.LINK_STATUS)) {
            alert('Could not initialise shaders');
        }
    }
    enableProgram() {
        ;
        _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl.useProgram(this._shaderProgram);
    }
    setGrayscaleShader() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        gl.detachShader(this._shaderProgram, this._fragmentShader);
        const fragmentShaderStr = _ShaderManager_js__WEBPACK_IMPORTED_MODULE_1__["default"].hipsGrayscaleFS();
        this.changeFSShader(fragmentShaderStr);
    }
    setNativeShader() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        gl.detachShader(this._shaderProgram, this._fragmentShader);
        const fragmentShaderStr = _ShaderManager_js__WEBPACK_IMPORTED_MODULE_1__["default"].hipsNativeFS();
        this.changeFSShader(fragmentShaderStr);
    }
    setColorMapShader() {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        gl.detachShader(this._shaderProgram, this._fragmentShader);
        const fragmentShaderStr = _ShaderManager_js__WEBPACK_IMPORTED_MODULE_1__["default"].hipsColorMapFS();
        this.changeFSShader(fragmentShaderStr);
        // UBO discovery
        const blockIndex = gl.getUniformBlockIndex(this._shaderProgram, 'colormap');
        const blockSize = gl.getActiveUniformBlockParameter(this._shaderProgram, blockIndex, gl.UNIFORM_BLOCK_DATA_SIZE);
        const uboVariableNames = ['r_palette', 'g_palette', 'b_palette'];
        const uboVariableIndices = gl.getUniformIndices(this._shaderProgram, uboVariableNames);
        const uboVariableOffsets = gl.getActiveUniforms(this._shaderProgram, uboVariableIndices, gl.UNIFORM_OFFSET);
        this._UBO_colorMapBuffer = gl.createBuffer();
        gl.bindBuffer(gl.UNIFORM_BUFFER, this._UBO_colorMapBuffer);
        // std140 layout: 256 floats each padded to 16 bytes => 4096 bytes per palette, total 12288
        const BYTES = 12288;
        gl.bufferData(gl.UNIFORM_BUFFER, BYTES, gl.STATIC_DRAW);
        gl.bindBuffer(gl.UNIFORM_BUFFER, null);
        gl.bindBufferBase(gl.UNIFORM_BUFFER, 0, this._UBO_colorMapBuffer);
        uboVariableNames.forEach((name, index) => {
            this._UBO_colorMapVariableInfo[name] = {
                index: uboVariableIndices[index],
                offset: uboVariableOffsets[index]
            };
        });
    }
    changeFSShader(fragmentShaderStr) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        this._fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
        gl.shaderSource(this._fragmentShader, fragmentShaderStr);
        gl.compileShader(this._fragmentShader);
        if (!gl.getShaderParameter(this._fragmentShader, gl.COMPILE_STATUS)) {
            alert(gl.getShaderInfoLog(this._fragmentShader) || 'Fragment shader compile error');
            return;
        }
        gl.attachShader(this._shaderProgram, this._fragmentShader);
        gl.linkProgram(this._shaderProgram);
        if (!gl.getProgramParameter(this._shaderProgram, gl.LINK_STATUS)) {
            alert('Could not initialise shaders');
        }
        gl.useProgram(this._shaderProgram);
    }
    enableShaders(pMatrix, vMatrix, mMatrix, colorMapIdx) {
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_0__["default"].gl;
        gl.useProgram(this._shaderProgram);
        this.locations.pMatrix = gl.getUniformLocation(this._shaderProgram, this.gl_uniforms.m_perspective);
        this.locations.mMatrix = gl.getUniformLocation(this._shaderProgram, this.gl_uniforms.m_model);
        this.locations.vMatrix = gl.getUniformLocation(this._shaderProgram, this.gl_uniforms.m_view);
        this.locations.sampler = gl.getUniformLocation(this._shaderProgram, this.gl_uniforms.sampler);
        this.locations.textureAlpha = gl.getUniformLocation(this._shaderProgram, this.gl_uniforms.factor);
        this.locations.clorMapIdx = gl.getUniformLocation(this._shaderProgram, this.gl_uniforms.colormapIdx);
        this.locations.vertexPositionAttribute = gl.getAttribLocation(this._shaderProgram, this.gl_attributes.vertex_pos);
        this.locations.textureCoordAttribute = gl.getAttribLocation(this._shaderProgram, this.gl_attributes.text_coords);
        if (colorMapIdx >= 2) {
            const index = gl.getUniformBlockIndex(this._shaderProgram, 'colormap');
            gl.uniformBlockBinding(this._shaderProgram, index, 0);
            gl.bindBuffer(gl.UNIFORM_BUFFER, this._UBO_colorMapBuffer);
            let currentColorMap;
            if (colorMapIdx === 2)
                currentColorMap = _model_hips_ColorMap_js__WEBPACK_IMPORTED_MODULE_2__.colorMap.PLANCK;
            else if (colorMapIdx === 3)
                currentColorMap = _model_hips_ColorMap_js__WEBPACK_IMPORTED_MODULE_2__.colorMap.CMB;
            else if (colorMapIdx === 4)
                currentColorMap = _model_hips_ColorMap_js__WEBPACK_IMPORTED_MODULE_2__.colorMap.RAINBOW;
            else if (colorMapIdx === 5)
                currentColorMap = _model_hips_ColorMap_js__WEBPACK_IMPORTED_MODULE_2__.colorMap.EOSB;
            else if (colorMapIdx === 6)
                currentColorMap = _model_hips_ColorMap_js__WEBPACK_IMPORTED_MODULE_2__.colorMap.CUBEHELIX;
            if (currentColorMap) {
                // Offsets match std140 padded arrays (0, 4096, 8192)
                gl.bufferSubData(gl.UNIFORM_BUFFER, 0, currentColorMap.r, 0);
                gl.bufferSubData(gl.UNIFORM_BUFFER, 4096, currentColorMap.g, 0);
                gl.bufferSubData(gl.UNIFORM_BUFFER, 8192, currentColorMap.b, 0);
            }
            gl.bindBuffer(gl.UNIFORM_BUFFER, null);
        }
        gl.uniformMatrix4fv(this.locations.mMatrix, false, mMatrix);
        gl.uniformMatrix4fv(this.locations.pMatrix, false, pMatrix);
        gl.uniformMatrix4fv(this.locations.vMatrix, false, vMatrix);
    }
}
const hipsShaderProgram = new HiPSShaderProgram();
//# sourceMappingURL=HiPSShaderProgram.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/shader/ShaderManager.js":
/*!*******************************************************!*\
  !*** ../astro-viewer/lib-esm/shader/ShaderManager.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ShaderManager)
/* harmony export */ });
// ShaderManager.ts
class ShaderManager {
    static catalogueVS() {
        return `#version 300 es
    in vec4 aCatPosition;
    in float a_selected;
    in float a_pointsize;
    in float a_brightness;

    out float v_selected;
    out float v_brightness;
    out lowp vec4 vColor;  // not used

    uniform mat4 uPMatrix;
    uniform mat4 uMVMatrix;

    void main() {

      gl_Position = (uPMatrix * uMVMatrix * aCatPosition);
      gl_PointSize = a_pointsize;
      v_selected = a_selected;
      v_brightness = a_brightness;
    }`;
    }
    static catalogueFS() {
        return `#version 300 es
    precision mediump float;
    
    #ifdef GL_OES_standard_derivatives
    #extension GL_OES_standard_derivatives : enable
    #endif

    // https://www.desultoryquest.com/blog/drawing-anti-aliased-circular-points-using-opengl-slash-webgl/

    // precision mediump float;

    in float v_selected;
    in float v_brightness;

    uniform vec4 u_fragcolor;

    out vec4 fragColor;

    // varying float v_selected;
    // varying float v_brightness;

    const float EPSILON = 1e-10;
    
    vec3 RGBtoHCV(in vec3 rgb) {
      // RGB [0..1] to Hue-Chroma-Value [0..1]
      // Based on work by Sam Hocevar and Emil Persson
      vec4 p = (rgb.g < rgb.b) ? vec4(rgb.bg, -1., 2. / 3.) : vec4(rgb.gb, 0., -1. / 3.);
      vec4 q = (rgb.r < p.x) ? vec4(p.xyw, rgb.r) : vec4(rgb.r, p.yzx);
      float c = q.x - min(q.w, q.y);
      float h = abs((q.w - q.y) / (6. * c + EPSILON) + q.z);
      return vec3(h, c, q.x);
    }

    vec3 RGBtoHSL(in vec3 rgb) {
      // RGB [0..1] to Hue-Saturation-Lightness [0..1]
      vec3 hcv = RGBtoHCV(rgb);
      //vec3 hcv = vec3(1., 1., 1.);
      float z = hcv.z - hcv.y * 0.5;
      float s = hcv.y / (1. - abs(z * 2. - 1.) + EPSILON);
      return vec3(hcv.x, s, z);
    }

    vec3 HUEtoRGB(in float hue){
      // Hue [0..1] to RGB [0..1]
      // See http://www.chilliant.com/rgb2hsv.html
      vec3 rgb = abs(hue * 6. - vec3(3, 2, 4)) * vec3(1, -1, -1) + vec3(-1, 2, 2);
      return clamp(rgb, 0., 1.);
    }

    vec3 HSLtoRGB(in vec3 hsl) {
      // Hue-Saturation-Lightness [0..1] to RGB [0..1]
      vec3 rgb = HUEtoRGB(hsl.x);
      float c = (1. - abs(2. * hsl.z - 1.)) * hsl.y;
      return (rgb - 0.5) * c + hsl.z;
    }
  
    void main() {

      float r = 0.0, delta = 0.0, alpha = 1.0;
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      r = dot(cxy, cxy);
      if (r > 1.0) {
        discard;
      }

      #ifdef GL_OES_standard_derivatives
        delta = fwidth(r);
        alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      #endif

      if (v_selected == 1.0){
        // gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * (alpha);
        fragColor = vec4(1.0, 0.0, 0.0, 1.0) * (alpha);
      } else if (v_selected == 2.0){
        // gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0) * (alpha);
        fragColor = vec4(1.0, 1.0, 0.0, 1.0) * (alpha);
      }else{
        if (r < 0.4) {
          discard;
        }
        if ( v_brightness >= -1.0 && v_brightness <= 1.0) {
          // Round-trip RGB->HSL->RGB with time-dependent lightness
          vec3 hsl = RGBtoHSL(vec3(u_fragcolor));
          //hsl.z = pow(hsl.z, sin(iTime) + 1.5);
          // hsl.z = pow(hsl.z, v_brightness + 1.5);
          hsl.z = pow(hsl.z, v_brightness + 1.5);
          vec3 hslcolor = HSLtoRGB(hsl);
          // gl_FragColor = vec4(hslcolor, u_fragcolor[3]) * (alpha);
          fragColor = vec4(hslcolor, u_fragcolor[3]) * (alpha);
        } else {
          // gl_FragColor = u_fragcolor * (alpha);
          fragColor = u_fragcolor * (alpha);
        }
      }
    }`;
    }
    static footprintVS() {
        return `#version 300 es
    precision highp float;

    layout(location = 0) in vec4 aCatPosition;

    uniform float u_pointsize;
    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    void main() {
      gl_Position = uPMatrix * uMVMatrix * aCatPosition;
      gl_PointSize = u_pointsize;   // Works in WebGL2
    }`;
    }
    static footprintFS() {
        return `#version 300 es
    precision mediump float;

    uniform vec4 u_fragcolor;
    out vec4 fragColor;

    void main() {
      fragColor = u_fragcolor;
    }`;
    }
    static hipsVS() {
        return `#version 300 es
    in vec3 aVertexPosition;
    in vec2 aTextureCoord;

    uniform mat4 uMMatrix;
    uniform mat4 uVMatrix;
    uniform mat4 uPMatrix;

    out vec2 vTextureCoord;

    void main() {
      gl_Position = uPMatrix * uVMatrix * uMMatrix * vec4(aVertexPosition, 1.0);
      vTextureCoord = aTextureCoord;
    }`;
    }
    static hipsNativeFS() {
        return `#version 300 es
    precision mediump float;

    in vec2 vTextureCoord;

    uniform sampler2D uSampler0;
    uniform sampler2D uSampler1;
    uniform sampler2D uSampler2;
    uniform sampler2D uSampler3;
    uniform sampler2D uSampler4;
    uniform sampler2D uSampler5;
    uniform sampler2D uSampler6;
    uniform sampler2D uSampler7;

    uniform float uFactor0;
    uniform float uFactor1;
    uniform float uFactor2;
    uniform float uFactor3;
    uniform float uFactor4;
    uniform float uFactor5;
    uniform float uFactor6;
    uniform float uFactor7;

    out vec4 fragColor;

    void main() {
      vec3 finalColor = vec3(0.0);

      if (uFactor0 >= 0.0){
        vec4 mycolor;
        #if __VERSION__ > 120
          vec4 color0 = texture(uSampler0, vTextureCoord);
        #else
          vec4 color0 = texture2D(uSampler0, vTextureCoord);
        #endif
        mycolor = color0;
        finalColor += mycolor.rgb * uFactor0;
      } else if (uFactor7 >= 0.0){
        finalColor = vec3(1.0, 0.0, 0.0);
      }
      fragColor = vec4(finalColor, 1.0);
    }`;
    }
    static hipsGrayscaleFS() {
        return `#version 300 es
    precision mediump float;

    in vec2 vTextureCoord;

    uniform sampler2D uSampler0;
    uniform sampler2D uSampler1;
    uniform sampler2D uSampler2;
    uniform sampler2D uSampler3;
    uniform sampler2D uSampler4;
    uniform sampler2D uSampler5;
    uniform sampler2D uSampler6;
    uniform sampler2D uSampler7;

    uniform float uFactor0;
    uniform float uFactor1;
    uniform float uFactor2;
    uniform float uFactor3;
    uniform float uFactor4;
    uniform float uFactor5;
    uniform float uFactor6;
    uniform float uFactor7;

    out vec4 fragColor;

    void main() {
      vec3 finalColor = vec3(0.0);

      if (uFactor0 >= 0.0){
        #if __VERSION__ > 120
          vec4 color0 = texture(uSampler0, vTextureCoord);
        #else
          vec4 color0 = texture2D(uSampler0, vTextureCoord);
        #endif
        float gray = 0.21 * color0.r + 0.71 * color0.g + 0.07 * color0.b;
        finalColor = color0.rgb * (1.0 - uFactor0) + vec3(gray) * uFactor0;
      }
      if (uFactor1 >= 0.0){
        #if __VERSION__ > 120
          vec4 color1 = texture(uSampler1, vTextureCoord);
        #else
          vec4 color1 = texture2D(uSampler1, vTextureCoord);
        #endif
        finalColor += color1.rgb * uFactor1;
      }
      if (uFactor2 >= 0.0){
        #if __VERSION__ > 120
          vec4 color2 = texture(uSampler2, vTextureCoord);
        #else
          vec4 color2 = texture2D(uSampler2, vTextureCoord);
        #endif
        finalColor += color2.rgb * uFactor2;
      }
      if (uFactor3 >= 0.0){
        #if __VERSION__ > 120
          vec4 color3 = texture(uSampler3, vTextureCoord);
        #else
          vec4 color3 = texture2D(uSampler3, vTextureCoord);
        #endif
        finalColor += color3.rgb * uFactor3;
      }
      if (uFactor4 >= 0.0){
        #if __VERSION__ > 120
          vec4 color4 = texture(uSampler4, vTextureCoord);
        #else
          vec4 color4 = texture2D(uSampler4, vTextureCoord);
        #endif
        finalColor += color4.rgb * uFactor4;
      }
      if (uFactor5 >= 0.0){
        #if __VERSION__ > 120
          vec4 color5 = texture(uSampler5, vTextureCoord);
        #else
          vec4 color5 = texture2D(uSampler5, vTextureCoord);
        #endif
        finalColor += color5.rgb * uFactor5;
      }
      if (uFactor6 >= 0.0){
        #if __VERSION__ > 120
          vec4 color6 = texture(uSampler6, vTextureCoord);
        #else
          vec4 color6 = texture2D(uSampler6, vTextureCoord);
        #endif
        finalColor += color6.rgb * uFactor6;
      }
      if (uFactor7 >= 0.0){
        #if __VERSION__ > 120
          vec4 color7 = texture(uSampler7, vTextureCoord);
        #else
          vec4 color7 = texture2D(uSampler7, vTextureCoord);
        #endif
        finalColor += color7.rgb * uFactor7;
      }
      fragColor = vec4(finalColor, 1.0);
    }`;
    }
    static hipsColorMapFS() {
        return `#version 300 es
    precision mediump float;

    in vec2 vTextureCoord;

    // UBO
    layout (std140) uniform colormap {
      float r_palette[256];
      float g_palette[256];
      float b_palette[256];
    };

    uniform sampler2D uSampler0;
    uniform float uFactor0;

    out vec4 fragColor;

    void main() {
      #if __VERSION__ > 120
        vec4 color0 = texture(uSampler0, vTextureCoord);
      #else
        vec4 color0 = texture2D(uSampler0, vTextureCoord);
      #endif

      int x = int(color0.r * 255.0);
      float px = r_palette[x] / 256.0;

      int y = int(color0.g * 255.0);
      float py = g_palette[y] / 256.0;

      int z = int(color0.b * 255.0);
      float pz = b_palette[z] / 256.0;

      // uFactor0 reserved for future blending if needed
      fragColor = vec4(px, py, pz, 1.0);
    }`;
    }
}
//# sourceMappingURL=ShaderManager.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js":
/*!*****************************************************************!*\
  !*** ../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");

class ComputePerspectiveMatrixSingleton {
    _pMatrix = null;
    _aspectRatio = 1;
    get pMatrix() {
        return this._pMatrix;
    }
    computePerspectiveMatrix(canvas, camera, fovDeg, nearPlane = 0.1, insideSphere) {
        this._aspectRatio = canvas.width / canvas.height;
        const p = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        let farPlane;
        if (insideSphere) {
            // Inside the sphere: cap slightly beyond radius
            farPlane = 1.1;
        }
        else {
            const camMat = camera.getCameraMatrix();
            const distCamera = -Number(camMat[14]); // camera z translation
            const r = 1; // HiPS sphere radius (inject real value if available)
            // Guard against negative due to rounding/logic
            const c2 = Math.sqrt(Math.max(distCamera ** 2 - r ** 2, 0));
            const beta = Math.atan2(c2, r);
            const cf = c2 * Math.sin(beta);
            farPlane = cf > 0 ? cf : r;
        }
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.perspective(p, (fovDeg * Math.PI) / 180, this._aspectRatio, nearPlane, farPlane);
        this._pMatrix = p;
        return p;
    }
}
const computePerspectiveMatrixSingleton = new ComputePerspectiveMatrixSingleton();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (computePerspectiveMatrixSingleton);
//# sourceMappingURL=ComputePerspectiveMatrix.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/utils/CoordsType.js":
/*!***************************************************!*\
  !*** ../astro-viewer/lib-esm/utils/CoordsType.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CoordsType: () => (/* binding */ CoordsType)
/* harmony export */ });
/**
 * Enum for coordinate types.
 * @author Fabrizio Giordano (Fab77)
 */
var CoordsType;
(function (CoordsType) {
    CoordsType["CARTESIAN"] = "cartesian";
    CoordsType["SPHERICAL"] = "spherical";
    CoordsType["ASTRO"] = "astro";
})(CoordsType || (CoordsType = {}));
// export default CoordsType;
//# sourceMappingURL=CoordsType.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/utils/FoVUtils.js":
/*!*************************************************!*\
  !*** ../astro-viewer/lib-esm/utils/FoVUtils.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FoVUtils: () => (/* binding */ FoVUtils)
/* harmony export */ });
/* harmony import */ var _model_Point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Point.js */ "../astro-viewer/lib-esm/model/Point.js");
/* harmony import */ var _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RayPickingUtils.js */ "../astro-viewer/lib-esm/utils/RayPickingUtils.js");
/* harmony import */ var _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CoordsType.js */ "../astro-viewer/lib-esm/utils/CoordsType.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var _ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ComputePerspectiveMatrix.js */ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js");

/**
 * @author Fabrizio Giordano (Fab)
 */





class FoVUtils {
    /**
     * Return the minimum FoV value between `_fovY_deg` and `_fovX_deg`.
     * (Kept here for parity; this class doesn’t maintain those fields.)
     */
    getMinFoV() {
        return this._fovY_deg <= this._fovX_deg ? this._fovY_deg : this._fovX_deg;
    }
    /**
     * Compute the FoV polygon as a list of Points (clockwise).
     * Uses ray picking + frustum planes against a unit sphere.
     */
    static getFoVPolygon(
    // _pMatrix: ReadonlyMat4 | null,
    camera, canvas, model) {
        // const pMatrix = (computePerspectiveMatrixSingleton.pMatrix ??
        //   _pMatrix) as ReadonlyMat4;
        const pMatrix = _ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_4__["default"].pMatrix;
        const vMatrix = camera.getCameraMatrix();
        const mMatrix = model.getModelMatrix();
        const canvasWidth = canvas.clientWidth;
        const canvasHeight = canvas.clientHeight;
        let points = [];
        // First check: does the sphere cover the whole screen?
        const intersectionWithModel = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(0, 0);
        if (intersectionWithModel.length > 0) {
            // Fully covered → grab corners + midpoints (CASE C)
            const cornersPoints = FoVUtils.getScreenCornersIntersection(pMatrix, camera, canvas);
            points = cornersPoints;
        }
        else {
            // Partial coverage: build frustum planes
            let M = gl_matrix__WEBPACK_IMPORTED_MODULE_3__.create();
            M = gl_matrix__WEBPACK_IMPORTED_MODULE_3__.multiply(M, vMatrix, mMatrix);
            M = gl_matrix__WEBPACK_IMPORTED_MODULE_3__.multiply(M, pMatrix, M);
            const topPlane = [M[3] - M[1], M[7] - M[5], M[11] - M[9], M[15] - M[13]]; // m41-m21, ...
            const bottomPlane = [M[3] + M[1], M[7] + M[5], M[11] + M[9], M[15] + M[13]];
            const rightPlane = [M[3] - M[0], M[7] - M[4], M[11] - M[8], M[15] - M[12]];
            const leftPlane = [M[3] + M[0], M[7] + M[4], M[11] + M[8], M[15] + M[12]];
            const intersectionTopMiddle = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(canvasWidth / 2, 0);
            const intersectionRightMiddle = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(canvasWidth, canvasHeight / 2);
            // CASE A: zoomed out, hemisphere fully visible
            if (intersectionTopMiddle.length === 0 &&
                intersectionRightMiddle.length === 0) {
                const topPoints = FoVUtils.getNearestSpherePoint(topPlane);
                const bottomPoints = FoVUtils.getNearestSpherePoint(bottomPlane);
                const leftPoints = FoVUtils.getNearestSpherePoint(leftPlane);
                const rightPoints = FoVUtils.getNearestSpherePoint(rightPlane);
                const middleLeftTop = FoVUtils.computeMiddlePoint(leftPoints[0], topPoints[0])[0];
                const middleTopRight = FoVUtils.computeMiddlePoint(topPoints[0], rightPoints[0])[0];
                const middleRightBottom = FoVUtils.computeMiddlePoint(rightPoints[0], bottomPoints[0])[0];
                const middleBottomLeft = FoVUtils.computeMiddlePoint(bottomPoints[0], leftPoints[0])[0];
                points.push(topPoints[0], middleTopRight, rightPoints[0], middleRightBottom, bottomPoints[0], middleBottomLeft, leftPoints[0], middleLeftTop);
            }
            // CASE E: no intersection on top/bottom planes
            else if (intersectionTopMiddle.length === 0) {
                const topPoints = FoVUtils.getNearestSpherePoint(topPlane);
                const bottomPoints = FoVUtils.getNearestSpherePoint(bottomPlane);
                const leftPoints = FoVUtils.getFrustumIntersectionWithSphere(M, leftPlane, bottomPlane, topPlane);
                const rightPoints = FoVUtils.getFrustumIntersectionWithSphere(M, rightPlane, topPlane, bottomPlane);
                const middleLeftTop = FoVUtils.computeMiddlePoint(leftPoints[1], topPoints[0])[0];
                const middleTopRight = FoVUtils.computeMiddlePoint(topPoints[0], rightPoints[0])[0];
                const middleRightBottom = FoVUtils.computeMiddlePoint(rightPoints[1], bottomPoints[0])[0];
                const middleBottomLeft = FoVUtils.computeMiddlePoint(bottomPoints[0], leftPoints[0])[0];
                points.push(topPoints[0], middleTopRight, rightPoints[0], rightPoints[1], middleRightBottom, bottomPoints[0], middleBottomLeft, leftPoints[0], leftPoints[1], middleLeftTop);
            }
            // CASE D: no intersection on right/left planes
            else if (intersectionRightMiddle.length === 0) {
                const topPoints = FoVUtils.getFrustumIntersectionWithSphere(M, topPlane, leftPlane, rightPlane);
                const bottomPoints = FoVUtils.getFrustumIntersectionWithSphere(M, bottomPlane, rightPlane, leftPlane);
                const leftPoints = FoVUtils.getNearestSpherePoint(leftPlane);
                const rightPoints = FoVUtils.getNearestSpherePoint(rightPlane);
                const middleLeftTop = FoVUtils.computeMiddlePoint(leftPoints[0], topPoints[0])[0];
                const middleTopRight = FoVUtils.computeMiddlePoint(topPoints[1], rightPoints[0])[0];
                const middleRightBottom = FoVUtils.computeMiddlePoint(rightPoints[0], bottomPoints[0])[0];
                const middleBottomLeft = FoVUtils.computeMiddlePoint(bottomPoints[1], leftPoints[0])[0];
                points.push(topPoints[0], topPoints[1], middleTopRight, rightPoints[0], middleRightBottom, bottomPoints[0], bottomPoints[1], middleBottomLeft, leftPoints[0], middleLeftTop);
            }
            // CASE B: all frustum planes intersect
            else {
                const topPoints = FoVUtils.getFrustumIntersectionWithSphere(M, topPlane, leftPlane, rightPlane);
                const bottomPoints = FoVUtils.getFrustumIntersectionWithSphere(M, bottomPlane, rightPlane, leftPlane);
                const leftPoints = FoVUtils.getFrustumIntersectionWithSphere(M, leftPlane, bottomPlane, topPlane);
                const rightPoints = FoVUtils.getFrustumIntersectionWithSphere(M, rightPlane, topPlane, bottomPlane);
                points.push(topPoints[0], topPoints[1], rightPoints[0], rightPoints[1], bottomPoints[0], bottomPoints[1], leftPoints[0], leftPoints[1]);
            }
        }
        return points;
    }
    /**
     * Ray pick against 8 key screen positions (corners + midpoints).
     * Returns Points in clockwise order starting from top-left.
     */
    static getScreenCornersIntersection(pMatrix, camera, canvas) {
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        const topLeft = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(0, 0);
        const middleTop = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(w / 2, 0);
        const topRight = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(w, 0);
        const middleRight = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(w, h / 2);
        const bottomRight = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(w, h);
        const middleBottom = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(w / 2, h);
        const bottomLeft = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(0, h);
        const middleLeft = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(0, h / 2);
        const out = [];
        const pushIf = (ip) => {
            if (ip.length > 0) {
                out.push(new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x: ip[0], y: ip[1], z: ip[2] }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN));
            }
        };
        pushIf(topLeft);
        pushIf(middleTop);
        pushIf(topRight);
        pushIf(middleRight);
        pushIf(bottomRight);
        pushIf(middleBottom);
        pushIf(bottomLeft);
        pushIf(middleLeft);
        return out;
    }
    /** Returns the center point (in J2000) of the current view as a `Point`. */
    static getCenterJ2000(canvas) {
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        const center = _RayPickingUtils_js__WEBPACK_IMPORTED_MODULE_1__["default"].getIntersectionPointWithSingleModel(w / 2, h / 2);
        return new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x: center[0], y: center[1], z: center[2] }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN);
    }
    /** Middle point on the unit sphere along the arc between two 3D points. */
    static computeMiddlePoint(p1, p2) {
        // midpoint of segment
        const xm = (p1.x + p2.x) / 2;
        const ym = (p1.y + p2.y) / 2;
        const zm = (p1.z + p2.z) / 2;
        // project the midpoint back to unit sphere
        const len = Math.hypot(xm, ym, zm) || 1;
        const x = xm / len;
        const y = ym / len;
        const z = zm / len;
        return [new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x, y, z }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN)];
    }
    /**
     * Nearest intersection point between a frustum plane and the unit sphere,
     * using the plane normal.
     */
    static getNearestSpherePoint(plane) {
        const [A, B, C, D] = plane;
        const R = 1;
        const invLen = 1 / Math.sqrt(A * A + B * B + C * C);
        const t1 = R * invLen;
        const t2 = -R * invLen;
        const P1 = [A * t1, B * t1, C * t1];
        const P2 = [A * t2, B * t2, C * t2];
        const den = Math.sqrt(A * A + B * B + C * C) || 1;
        const dist1 = Math.abs(A * P1[0] + B * P1[1] + C * P1[2] + D) / den;
        const dist2 = Math.abs(A * P2[0] + B * P2[1] + C * P2[2] + D) / den;
        const P = dist1 <= dist2 ? P1 : P2;
        return [new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x: P[0], y: P[1], z: P[2] }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN)];
    }
    /**
     * Intersections between a frustum plane and the unit sphere,
     * computed via two perpendicular planes.
     * Returns two points (first from `plane4Circle_1`, second from `plane4Circle_2`).
     */
    static getFrustumIntersectionWithSphere(_M, plane4Sphere, plane4Circle_1, plane4Circle_2) {
        const [A0, B0, C0, D0] = plane4Sphere;
        // center of the circle (projection of sphere center onto plane)
        const denom0 = (A0 * A0 + B0 * B0 + C0 * C0) || 1;
        const x_c = -(A0 * D0) / denom0;
        const y_c = -(B0 * D0) / denom0;
        const z_c = -(C0 * D0) / denom0;
        const d = Math.abs(D0) / Math.sqrt(denom0); // distance from sphere center (0,0,0)
        const R = 1;
        const out = [];
        if (R > d) {
            const r = Math.sqrt(R * R - d * d);
            const pick = (plane) => {
                const [A, B, C, D] = plane;
                const invLen = 1 / Math.sqrt(A * A + B * B + C * C);
                const t1 = r * invLen;
                const t2 = -r * invLen;
                const P1 = [x_c + A * t1, y_c + B * t1, z_c + C * t1];
                const P2 = [x_c + A * t2, y_c + B * t2, z_c + C * t2];
                const den = Math.sqrt(A * A + B * B + C * C) || 1;
                const dist1 = Math.abs(A * P1[0] + B * P1[1] + C * P1[2] + D) / den;
                const dist2 = Math.abs(A * P2[0] + B * P2[1] + C * P2[2] + D) / den;
                return dist1 <= dist2 ? P1 : P2;
            };
            const P_intersection_1 = pick(plane4Circle_1);
            const P_intersection_2 = pick(plane4Circle_2);
            out.push(new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x: P_intersection_1[0], y: P_intersection_1[1], z: P_intersection_1[2] }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN), new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x: P_intersection_2[0], y: P_intersection_2[1], z: P_intersection_2[2] }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN));
        }
        else if (R === d) {
            // Tangent: both intersections collapse to the circle center on the plane
            out.push(new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x: x_c, y: y_c, z: z_c }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN), new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ x: x_c, y: y_c, z: z_c }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.CARTESIAN));
        }
        else {
            // No intersection; return empty to avoid pushing undefined values
            // console.log('Frustum plane not intersecting the sphere');
        }
        return out;
    }
    /** Build ADQL string from an array of Points (ra,dec pairs). */
    static getAstroFoVPolygon(points) {
        return points.map(p => p.toADQL()).join(',');
    }
}
//# sourceMappingURL=FoVUtils.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/utils/GeomUtils.js":
/*!**************************************************!*\
  !*** ../astro-viewer/lib-esm/utils/GeomUtils.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _model_Point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Point.js */ "../astro-viewer/lib-esm/model/Point.js");
/* harmony import */ var _model_Point2D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Point2D.js */ "../astro-viewer/lib-esm/model/Point2D.js");
/* harmony import */ var _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CoordsType.js */ "../astro-viewer/lib-esm/utils/CoordsType.js");



class GeomUtils {
    // Orthodromic (great-circle) distance in radians
    static orthodromicDistance(p1, p2) {
        return Math.acos(Math.sin(p1.decDeg * Math.PI / 180) * Math.sin(p2.decDeg * Math.PI / 180) +
            Math.cos(p1.decDeg * Math.PI / 180) * Math.cos(p2.decDeg * Math.PI / 180) *
                Math.cos((p2.raDeg - p1.raDeg) * Math.PI / 180));
    }
    /**
     * Decide the 2D projection strategy and pre-project polygons for point-in-polygon tests.
     * Returns the projected polygons + bbox + a flag describing the projection used:
     * 0 → all points in same hemisphere with |Dec| > 10 → stereographic-like projection using x,y from 3D
     * 1 → all points in equatorial belt (|Dec| < 10) → use RA/Dec directly
     * 2 → equatorial belt and polygon crosses RA=0 → shift RA>180 by -360
     */
    static computeSelectionObject(polygons) {
        let poly4selection = [];
        let flag = 0;
        let maxx;
        let maxy;
        let minx;
        let miny;
        const DEC_THRESHOLD = 10;
        //  1 → northern hemisphere (Dec > +10), -1 → southern (Dec < -10), 0 → equatorial belt
        let hemisphere = 0;
        if (polygons[0][0].decDeg >= DEC_THRESHOLD) {
            hemisphere = 1;
        }
        else if (polygons[0][0].decDeg <= -DEC_THRESHOLD) {
            hemisphere = -1;
        }
        else {
            flag = 1;
        }
        // Case flag = 0 → stereographic-like projection using x,y,z from 3D point
        if (flag === 0) {
            const first = GeomUtils.projectIn2D(polygons[0][0]);
            maxx = minx = first.x;
            maxy = miny = first.y;
            for (const currpoly of polygons) {
                const selpoly = [];
                for (const point of currpoly) {
                    // If a point violates the hemisphere constraint, fall back to belt logic
                    if ((point.decDeg > hemisphere * DEC_THRESHOLD && hemisphere === -1) ||
                        (point.decDeg < hemisphere * DEC_THRESHOLD && hemisphere === 1)) {
                        flag = 1;
                        poly4selection = [];
                        break;
                    }
                    const p = GeomUtils.projectIn2D(point);
                    selpoly.push(p);
                    if (p.x > maxx)
                        maxx = p.x;
                    if (p.y > maxy)
                        maxy = p.y;
                    if (p.x < minx)
                        minx = p.x;
                    if (p.y < miny)
                        miny = p.y;
                }
                poly4selection.push(selpoly);
            }
        }
        if (flag === 0) {
            return {
                poly4selection,
                flag,
                maxx: maxx,
                maxy: maxy,
                minx: minx,
                miny: miny,
            };
        }
        // Case flag = 1 or 2 → work directly in (RA,Dec)
        const RA_THRESHOLD = 180;
        let belowThreshold = polygons[0][0].raDeg < RA_THRESHOLD;
        maxx = minx = polygons[0][0].raDeg;
        maxy = miny = polygons[0][0].decDeg;
        for (const currpoly of polygons) {
            const selpoly = [];
            for (const point of currpoly) {
                const p = new _model_Point2D_js__WEBPACK_IMPORTED_MODULE_1__["default"](point.raDeg, point.decDeg);
                selpoly.push(p);
                if (point.raDeg > maxx)
                    maxx = point.raDeg;
                if (point.decDeg > maxy)
                    maxy = point.decDeg;
                if (point.raDeg < minx)
                    minx = point.raDeg;
                if (point.decDeg < miny)
                    miny = point.decDeg;
                // Detect crossing of RA=0 meridian
                if ((point.raDeg >= RA_THRESHOLD && belowThreshold) ||
                    (point.raDeg <= RA_THRESHOLD && !belowThreshold)) {
                    flag = 2;
                    poly4selection = [];
                    break;
                }
            }
            poly4selection.push(selpoly);
        }
        if (flag === 1) {
            return {
                poly4selection,
                flag,
                maxx,
                maxy,
                minx,
                miny,
            };
        }
        // Case flag = 2 → shift RA>180 by -360 to unwrap around RA=0
        let startRA = polygons[0][0].raDeg;
        maxx = startRA >= RA_THRESHOLD ? startRA - 360 : startRA;
        maxy = polygons[0][0].decDeg;
        minx = maxx;
        miny = maxy;
        for (const currpoly of polygons) {
            const selpoly = [];
            for (const point of currpoly) {
                const curra = point.raDeg >= RA_THRESHOLD ? point.raDeg - 360 : point.raDeg;
                if (curra > maxx)
                    maxx = curra;
                if (point.decDeg > maxy)
                    maxy = point.decDeg;
                if (curra < minx)
                    minx = curra;
                if (point.decDeg < miny)
                    miny = point.decDeg;
                selpoly.push(new _model_Point2D_js__WEBPACK_IMPORTED_MODULE_1__["default"](curra, point.decDeg));
            }
            poly4selection.push(selpoly);
        }
        return {
            poly4selection,
            flag,
            maxx,
            maxy,
            minx,
            miny,
        };
    }
    /** Stereographic projection from 3D point on unit sphere onto plane */
    static stereographic(point) {
        const x = Number(point.xyz[0]);
        const y = Number(point.xyz[1]);
        const z = Number(point.xyz[2]);
        return {
            x: (2 * x) / (1 - z),
            y: (2 * y) / (1 - z),
        };
    }
    static projectIn2D(point) {
        const p = GeomUtils.stereographic(point);
        return new _model_Point2D_js__WEBPACK_IMPORTED_MODULE_1__["default"](p.x, p.y);
    }
    /**
     * Robust point-in-polygon (ray casting) using the precomputed selection object.
     * Works with any of the three flags (0,1,2).
     */
    static checkPointInsidePolygon5(selectionObj, point) {
        let p0;
        if (selectionObj.flag === 0) {
            p0 = GeomUtils.projectIn2D(point);
        }
        else if (selectionObj.flag === 1) {
            p0 = new _model_Point2D_js__WEBPACK_IMPORTED_MODULE_1__["default"](point.raDeg, point.decDeg);
        }
        else {
            const RA_THRESHOLD = 180;
            const raShifted = point.raDeg >= RA_THRESHOLD ? point.raDeg - 360 : point.raDeg;
            p0 = new _model_Point2D_js__WEBPACK_IMPORTED_MODULE_1__["default"](raShifted, point.decDeg);
        }
        const p1 = new _model_Point2D_js__WEBPACK_IMPORTED_MODULE_1__["default"](p0.x, p0.y + 2 * Math.abs(selectionObj.maxy - selectionObj.miny));
        // quick reject by bbox
        if (p0.x > selectionObj.maxx ||
            p0.x < selectionObj.minx ||
            p0.y > selectionObj.maxy ||
            p0.y < selectionObj.miny) {
            return false;
        }
        // Ray casting against each sub-polygon
        for (const currpoly of selectionObj.poly4selection) {
            let intersections = 0;
            for (let i = 0; i < currpoly.length - 1; i++) {
                const p2 = currpoly[i];
                const p3 = currpoly[i + 1];
                const denominator = (p3.y - p2.y) * (p1.x - p0.x) - (p3.x - p2.x) * (p1.y - p0.y);
                const numerator01 = (p3.x - p2.x) * (p0.y - p2.y) - (p3.y - p2.y) * (p0.x - p2.x);
                const numerator23 = (p1.x - p0.x) * (p0.y - p2.y) - (p1.y - p0.y) * (p0.x - p2.x);
                if (denominator !== 0) {
                    const lamda01 = numerator01 / denominator;
                    const lambda23 = numerator23 / denominator;
                    if (lamda01 >= 0 && lamda01 <= 1 && lambda23 >= 0 && lambda23 <= 1) {
                        intersections++;
                    }
                }
            }
            // close the polygon: last with first
            {
                const p2 = currpoly[currpoly.length - 1];
                const p3 = currpoly[0];
                const denominator = (p3.y - p2.y) * (p1.x - p0.x) - (p3.x - p2.x) * (p1.y - p0.y);
                const numerator01 = (p3.x - p2.x) * (p0.y - p2.y) - (p3.y - p2.y) * (p0.x - p2.x);
                const numerator23 = (p1.x - p0.x) * (p0.y - p2.y) - (p1.y - p0.y) * (p0.x - p2.x);
                if (denominator !== 0) {
                    const lamda01 = numerator01 / denominator;
                    const lambda23 = numerator23 / denominator;
                    if (lamda01 >= 0 && lamda01 <= 1 && lambda23 >= 0 && lambda23 <= 1) {
                        intersections++;
                    }
                }
            }
            if (intersections % 2 === 1) {
                return true; // inside this subpolygon
            }
        }
        return false;
    }
    // Legacy version kept for reference; now typed and using getters
    static checkPointInsidePolygon4(polygons, point) {
        const p0 = GeomUtils.projectIn2D(point);
        let maxdist = point.raDeg + 15;
        if (maxdist > 360)
            maxdist = point.raDeg - 15;
        const p1point = new _model_Point_js__WEBPACK_IMPORTED_MODULE_0__.Point({ raDeg: maxdist, decDeg: point.decDeg }, _CoordsType_js__WEBPACK_IMPORTED_MODULE_2__.CoordsType.ASTRO);
        const p1 = GeomUtils.projectIn2D(p1point);
        for (const currpoly of polygons) {
            let intersections = 0;
            for (let i = 0; i < currpoly.length - 1; i++) {
                const p2 = GeomUtils.projectIn2D(currpoly[i]);
                const p3 = GeomUtils.projectIn2D(currpoly[i + 1]);
                const denominator = (p3.y - p2.y) * (p1.x - p0.x) - (p3.x - p2.x) * (p1.y - p0.y);
                const numerator01 = (p3.x - p2.x) * (p0.y - p2.y) - (p3.y - p2.y) * (p0.x - p2.x);
                const numerator23 = (p1.x - p0.x) * (p0.y - p2.y) - (p1.y - p0.y) * (p0.x - p2.x);
                if (denominator !== 0) {
                    const lamda01 = numerator01 / denominator;
                    const lambda23 = numerator23 / denominator;
                    if (lamda01 >= 0 && lamda01 <= 1 && lambda23 >= 0 && lambda23 <= 1) {
                        intersections++;
                    }
                }
            }
            {
                const p2 = GeomUtils.projectIn2D(currpoly[currpoly.length - 1]);
                const p3 = GeomUtils.projectIn2D(currpoly[0]);
                const denominator = (p3.y - p2.y) * (p1.x - p0.x) - (p3.x - p2.x) * (p1.y - p0.y);
                const numerator01 = (p3.x - p2.x) * (p0.y - p2.y) - (p3.y - p2.y) * (p0.x - p2.x);
                const numerator23 = (p1.x - p0.x) * (p0.y - p2.y) - (p1.y - p0.y) * (p0.x - p2.x);
                if (denominator !== 0) {
                    const lamda01 = numerator01 / denominator;
                    const lambda23 = numerator23 / denominator;
                    if (lamda01 >= 0 && lamda01 <= 1 && lambda23 >= 0 && lambda23 <= 1) {
                        intersections++;
                    }
                }
            }
            if (intersections % 2 === 1)
                return true;
        }
        return false;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GeomUtils);
//# sourceMappingURL=GeomUtils.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/utils/MouseHelper.js":
/*!****************************************************!*\
  !*** ../astro-viewer/lib-esm/utils/MouseHelper.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js");
/* harmony import */ var healpixjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! healpixjs */ "../astro-viewer/node_modules/healpixjs/lib-esm/index.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "../astro-viewer/lib-esm/utils/Utils.js");
/**
 * @author Fabrizio Giordano (Fab)
 */




function toVec3(p) {
    return Array.isArray(p) ? gl_matrix__WEBPACK_IMPORTED_MODULE_0__.fromValues(p[0], p[1], p[2]) : p;
}
class MouseHelper {
    _xyz = null;
    _raDecDeg = null;
    _phiThetaDeg = null;
    raHMS;
    decDMS;
    /**
     * @param in_xyz [x, y, z]
     * @param in_raDecDeg { ra, dec } in degrees (ICRS/J2000)
     * @param in_phiThetaDeg { phi, theta } in degrees (spherical)
     */
    constructor(in_xyz, in_raDecDeg, in_phiThetaDeg) {
        if (in_xyz != null)
            this._xyz = in_xyz;
        if (in_raDecDeg != null)
            this._raDecDeg = in_raDecDeg;
        if (in_phiThetaDeg != null)
            this._phiThetaDeg = in_phiThetaDeg;
        if (this._raDecDeg) {
            this.raHMS = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.raDegToHMS)(this._raDecDeg.ra);
            this.decDMS = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.decDegToDMS)(this._raDecDeg.dec);
        }
    }
    /** (Formerly `computeNpix256`) Uses global.nsideForSelection. */
    computeNpix() {
        if (!this._xyz)
            return null;
        const hp = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].getHealpix(_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].nsideForSelection);
        const v = new healpixjs__WEBPACK_IMPORTED_MODULE_1__.Vec3(this._xyz[0], this._xyz[1], this._xyz[2]);
        const ptg = new healpixjs__WEBPACK_IMPORTED_MODULE_1__.Pointing(v, false);
        return hp.ang2pix(ptg, false);
    }
    /** Update helper state from a world-space 3D point on the unit sphere. */
    update(mousePoint) {
        const mp = toVec3(mousePoint);
        const sph = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.cartesianToSpherical)(mp);
        const radec = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.sphericalToAstroDeg)(sph.phi, sph.theta);
        this._xyz = [mp[0], mp[1], mp[2]];
        this._phiThetaDeg = sph;
        this._raDecDeg = radec;
        this.raHMS = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.raDegToHMS)(radec.ra);
        this.decDMS = (0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.decDegToDMS)(radec.dec);
    }
    clear() {
        this._xyz = null;
        this._raDecDeg = null;
        this._phiThetaDeg = null;
        this.raHMS = undefined;
        this.decDMS = undefined;
    }
    // --- getters ---
    get xyz() {
        return this._xyz;
    }
    get x() {
        return this._xyz ? this._xyz[0] : null;
    }
    get y() {
        return this._xyz ? this._xyz[1] : null;
    }
    get z() {
        return this._xyz ? this._xyz[2] : null;
    }
    get ra() {
        return this._raDecDeg ? this._raDecDeg.ra : null;
    }
    get dec() {
        return this._raDecDeg ? this._raDecDeg.dec : null;
    }
    get phi() {
        return this._phiThetaDeg ? this._phiThetaDeg.phi : null;
    }
    get theta() {
        return this._phiThetaDeg ? this._phiThetaDeg.theta : null;
    }
    get raDecDeg() {
        return this._raDecDeg;
    }
    get phiThetaDeg() {
        return this._phiThetaDeg;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MouseHelper);
//# sourceMappingURL=MouseHelper.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/utils/RayPickingUtils.js":
/*!********************************************************!*\
  !*** ../astro-viewer/lib-esm/utils/RayPickingUtils.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js");
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js");
/* harmony import */ var _Global_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Global.js */ "../astro-viewer/lib-esm/Global.js");
/* harmony import */ var _ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ComputePerspectiveMatrix.js */ "../astro-viewer/lib-esm/utils/ComputePerspectiveMatrix.js");
/* harmony import */ var _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/grid/HealpixGridSingleton.js */ "../astro-viewer/lib-esm/model/grid/HealpixGridSingleton.js");
/**
 * @author Fabrizio Giordano (Fab)
 */





class RayPickingUtils {
    static lastNearestVisibleObjectIdx = -1;
    /** Get index of the last object found under the mouse (if any). */
    static getNearestVisibleObjectIdx() {
        return this.lastNearestVisibleObjectIdx;
    }
    /**
     * Builds a world-space ray from mouse coords.
     * @param mouseX ClientX (page pixels)
     * @param mouseY ClientY (page pixels)
     * @param pMatrix Projection matrix
     * @returns World-space direction (normalized) as a vec3
     */
    static getRayFromMouse(mouseX, mouseY, pMatrix) {
        if (!_Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera) {
            throw new Error("Camera is not initialized.");
        }
        const vMatrix = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera.getCameraMatrix();
        const gl = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].gl;
        const rect = gl.canvas.getBoundingClientRect();
        const canvasMX = mouseX - rect.left;
        const canvasMY = mouseY - rect.top;
        // viewport → NDC
        const x = (2.0 * canvasMX) / gl.canvas.clientWidth - 1.0;
        const y = 1.0 - (2.0 * canvasMY) / gl.canvas.clientHeight;
        const z = -1.0;
        // NDC → clip
        const rayClip = [x, y, z, 1.0];
        // clip → eye
        const pInv = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(pInv, pMatrix);
        const rayEye4 = [0, 0, 0, 0];
        RayPickingUtils.mat4MultiplyVec4(pInv, rayClip, rayEye4);
        // direction in eye space (z = -1, w = 0)
        const rayEye = [rayEye4[0], rayEye4[1], -1.0, 0.0];
        // eye → world
        const vInv = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_0__.invert(vInv, vMatrix);
        const rayWorld4 = [0, 0, 0, 0];
        RayPickingUtils.mat4MultiplyVec4(vInv, rayEye, rayWorld4);
        const rayWorld = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.fromValues(rayWorld4[0], rayWorld4[1], rayWorld4[2]);
        gl_matrix__WEBPACK_IMPORTED_MODULE_1__.normalize(rayWorld, rayWorld);
        return rayWorld;
    }
    /** a*b (4x4 * vec4) → vec4 (in `out`) */
    static mat4MultiplyVec4(a, b, out) {
        const d = b[0], e = b[1], g = b[2], w = b[3];
        out[0] = a[0] * d + a[4] * e + a[8] * g + a[12] * w;
        out[1] = a[1] * d + a[5] * e + a[9] * g + a[13] * w;
        out[2] = a[2] * d + a[6] * e + a[10] * g + a[14] * w;
        out[3] = a[3] * d + a[7] * e + a[11] * g + a[15] * w;
        return out;
    }
    /**
     * Ray–sphere intersection (world space).
     * @returns distance `t` along the ray to the first hit, or `-1` if no hit.
     */
    static raySphere(rayOrigWorld, rayDirectionWorld) {
        let intersectionDistance = -1;
        const L = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
        gl_matrix__WEBPACK_IMPORTED_MODULE_1__.subtract(L, rayOrigWorld, _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__["default"].center);
        const b = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.dot(rayDirectionWorld, L);
        const c = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.dot(L, L) - _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__["default"].radius * _model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__["default"].radius;
        const disc = b * b - c;
        if (disc > 0.0) {
            const s = Math.sqrt(disc);
            const ta = -b + s;
            const tb = -b - s;
            if (ta < 0.0 && tb < 0.0) {
                // behind camera
            }
            else if (tb < 0.0) {
                intersectionDistance = ta;
            }
            else {
                intersectionDistance = Math.min(ta, tb);
            }
        }
        else if (disc === 0.0) {
            const t = -b; // tangent
            if (t >= 0.0) {
                intersectionDistance = t;
            }
        }
        return intersectionDistance;
    }
    /**
     * Compute intersection with a single model (defaults to the Healpix grid).
     * @returns model-space intersection point (vec3) if hit, otherwise empty array; and the picked model.
     */
    static getIntersectionPointWithSingleModel(mouseX, mouseY) {
        const pMatrix = _ComputePerspectiveMatrix_js__WEBPACK_IMPORTED_MODULE_3__["default"].pMatrix;
        const camera = _Global_js__WEBPACK_IMPORTED_MODULE_2__["default"].camera;
        if (!camera) {
            throw new Error("Camera is not initialized.");
        }
        const rayWorld = RayPickingUtils.getRayFromMouse(mouseX, mouseY, pMatrix);
        const t = RayPickingUtils.raySphere(camera.getCameraPosition(), rayWorld);
        let intersectionModelPoint = [];
        if (t >= 0) {
            // world intersection
            const worldHit = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();
            gl_matrix__WEBPACK_IMPORTED_MODULE_1__.scale(worldHit, rayWorld, t);
            gl_matrix__WEBPACK_IMPORTED_MODULE_1__.add(worldHit, camera.getCameraPosition(), worldHit);
            // world → model
            const worldHit4 = [worldHit[0], worldHit[1], worldHit[2], 1.0];
            const modelHit4 = [0, 0, 0, 0];
            RayPickingUtils.mat4MultiplyVec4(_model_grid_HealpixGridSingleton_js__WEBPACK_IMPORTED_MODULE_4__["default"].getModelMatrixInverse(), worldHit4, modelHit4);
            intersectionModelPoint = [modelHit4[0], modelHit4[1], modelHit4[2]];
        }
        return intersectionModelPoint;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RayPickingUtils);
//# sourceMappingURL=RayPickingUtils.js.map

/***/ }),

/***/ "../astro-viewer/lib-esm/utils/Utils.js":
/*!**********************************************!*\
  !*** ../astro-viewer/lib-esm/utils/Utils.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   astroDegToSpherical: () => (/* binding */ astroDegToSpherical),
/* harmony export */   cartesianToSpherical: () => (/* binding */ cartesianToSpherical),
/* harmony export */   colorHex2RGB: () => (/* binding */ colorHex2RGB),
/* harmony export */   decDegToDMS: () => (/* binding */ decDegToDMS),
/* harmony export */   degToRad: () => (/* binding */ degToRad),
/* harmony export */   raDegToHMS: () => (/* binding */ raDegToHMS),
/* harmony export */   radToDeg: () => (/* binding */ radToDeg),
/* harmony export */   sphericalToAstroDeg: () => (/* binding */ sphericalToAstroDeg),
/* harmony export */   sphericalToCartesian: () => (/* binding */ sphericalToCartesian)
/* harmony export */ });
/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js");
/**
 * @author Fabrizio Giordano (Fab)
 */

// results in degrees
function cartesianToSpherical(xyz) {
    const dotXYZ = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.dot(xyz, xyz);
    const r = Math.sqrt(dotXYZ);
    let theta = Math.acos(xyz[2] / r);
    theta = radToDeg(theta);
    // NB: in atan(y/x) is written with params switched atan2(x, y)
    let phi = Math.atan2(xyz[1], xyz[0]);
    phi = radToDeg(phi);
    if (phi < 0) {
        phi += 360;
    }
    return { phi, theta };
}
function colorHex2RGB(hexColor) {
    const hex1 = hexColor.substring(1, 3);
    const hex2 = hexColor.substring(3, 5);
    const hex3 = hexColor.substring(5, 7);
    const dec1 = parseInt(hex1, 16);
    const dec2 = parseInt(hex2, 16);
    const dec3 = parseInt(hex3, 16);
    const rgb1 = (dec1 / 255).toFixed(2);
    const rgb2 = (dec2 / 255).toFixed(2);
    const rgb3 = (dec3 / 255).toFixed(2);
    return [parseFloat(rgb1), parseFloat(rgb2), parseFloat(rgb3)];
}
function degToRad(degrees) {
    return (degrees / 180) * Math.PI;
}
function radToDeg(radians) {
    return (radians * 180) / Math.PI;
}
function sphericalToAstroDeg(phiDeg, thetaDeg) {
    let raDeg = phiDeg;
    if (raDeg < 0) {
        raDeg += 360;
    }
    const decDeg = 90 - thetaDeg;
    return { ra: raDeg, dec: decDeg };
}
function sphericalToCartesian(phiDeg, thetaDeg, r = 1) {
    const x = r * Math.sin(degToRad(thetaDeg)) * Math.cos(degToRad(phiDeg));
    const y = r * Math.sin(degToRad(thetaDeg)) * Math.sin(degToRad(phiDeg));
    const z = r * Math.cos(degToRad(thetaDeg));
    return [x, y, z];
}
function astroDegToSpherical(raDeg, decDeg) {
    let phiDeg = raDeg;
    if (phiDeg < 0) {
        phiDeg += 360;
    }
    const thetaDeg = 90 - decDeg;
    return { phi: phiDeg, theta: thetaDeg };
}
function raDegToHMS(raDeg) {
    const h = Math.floor(raDeg / 15);
    const m = Math.floor((raDeg / 15 - h) * 60);
    const s = (raDeg / 15 - h - m / 60) * 3600;
    return { h, m, s };
}
function decDegToDMS(decDeg) {
    let sign = 1;
    if (decDeg < 0) {
        sign = -1;
    }
    const decDegAbs = Math.abs(decDeg);
    let d = Math.trunc(decDegAbs);
    const m = Math.trunc((decDegAbs - d) * 60);
    const s = (decDegAbs - d - m / 60) * 3600;
    d = d * sign;
    return { d, m, s };
}
//# sourceMappingURL=Utils.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/gl-matrix/esm/common.js":
/*!************************************************************!*\
  !*** ../astro-viewer/node_modules/gl-matrix/esm/common.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ANGLE_ORDER: () => (/* binding */ ANGLE_ORDER),
/* harmony export */   ARRAY_TYPE: () => (/* binding */ ARRAY_TYPE),
/* harmony export */   EPSILON: () => (/* binding */ EPSILON),
/* harmony export */   RANDOM: () => (/* binding */ RANDOM),
/* harmony export */   equals: () => (/* binding */ equals),
/* harmony export */   round: () => (/* binding */ round),
/* harmony export */   setMatrixArrayType: () => (/* binding */ setMatrixArrayType),
/* harmony export */   toDegree: () => (/* binding */ toDegree),
/* harmony export */   toRadian: () => (/* binding */ toRadian)
/* harmony export */ });
/**
 * Common utilities
 * @module glMatrix
 */

// Configuration Constants
var EPSILON = 0.000001;
var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
var RANDOM = Math.random;
var ANGLE_ORDER = "zyx";

/**
 * Symmetric round
 * see https://www.npmjs.com/package/round-half-up-symmetric#user-content-detailed-background
 *
 * @param {Number} a value to round
 */
function round(a) {
  if (a >= 0) return Math.round(a);
  return a % 0.5 === 0 ? Math.floor(a) : Math.round(a);
}

/**
 * Sets the type of array used when creating new vectors and matrices
 *
 * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array
 */
function setMatrixArrayType(type) {
  ARRAY_TYPE = type;
}
var degree = Math.PI / 180;
var radian = 180 / Math.PI;

/**
 * Convert Degree To Radian
 *
 * @param {Number} a Angle in Degrees
 */
function toRadian(a) {
  return a * degree;
}

/**
 * Convert Radian To Degree
 *
 * @param {Number} a Angle in Radians
 */
function toDegree(a) {
  return a * radian;
}

/**
 * Tests whether or not the arguments have approximately the same value, within an absolute
 * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less
 * than or equal to 1.0, and a relative tolerance is used for larger values)
 *
 * @param {Number} a          The first number to test.
 * @param {Number} b          The second number to test.
 * @param {Number} tolerance  Absolute or relative tolerance (default glMatrix.EPSILON)
 * @returns {Boolean} True if the numbers are approximately equal, false otherwise.
 */
function equals(a, b) {
  var tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EPSILON;
  return Math.abs(a - b) <= tolerance * Math.max(1, Math.abs(a), Math.abs(b));
}

/***/ }),

/***/ "../astro-viewer/node_modules/gl-matrix/esm/mat4.js":
/*!**********************************************************!*\
  !*** ../astro-viewer/node_modules/gl-matrix/esm/mat4.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   adjoint: () => (/* binding */ adjoint),
/* harmony export */   clone: () => (/* binding */ clone),
/* harmony export */   copy: () => (/* binding */ copy),
/* harmony export */   create: () => (/* binding */ create),
/* harmony export */   decompose: () => (/* binding */ decompose),
/* harmony export */   determinant: () => (/* binding */ determinant),
/* harmony export */   equals: () => (/* binding */ equals),
/* harmony export */   exactEquals: () => (/* binding */ exactEquals),
/* harmony export */   frob: () => (/* binding */ frob),
/* harmony export */   fromQuat: () => (/* binding */ fromQuat),
/* harmony export */   fromQuat2: () => (/* binding */ fromQuat2),
/* harmony export */   fromRotation: () => (/* binding */ fromRotation),
/* harmony export */   fromRotationTranslation: () => (/* binding */ fromRotationTranslation),
/* harmony export */   fromRotationTranslationScale: () => (/* binding */ fromRotationTranslationScale),
/* harmony export */   fromRotationTranslationScaleOrigin: () => (/* binding */ fromRotationTranslationScaleOrigin),
/* harmony export */   fromScaling: () => (/* binding */ fromScaling),
/* harmony export */   fromTranslation: () => (/* binding */ fromTranslation),
/* harmony export */   fromValues: () => (/* binding */ fromValues),
/* harmony export */   fromXRotation: () => (/* binding */ fromXRotation),
/* harmony export */   fromYRotation: () => (/* binding */ fromYRotation),
/* harmony export */   fromZRotation: () => (/* binding */ fromZRotation),
/* harmony export */   frustum: () => (/* binding */ frustum),
/* harmony export */   getRotation: () => (/* binding */ getRotation),
/* harmony export */   getScaling: () => (/* binding */ getScaling),
/* harmony export */   getTranslation: () => (/* binding */ getTranslation),
/* harmony export */   identity: () => (/* binding */ identity),
/* harmony export */   invert: () => (/* binding */ invert),
/* harmony export */   lookAt: () => (/* binding */ lookAt),
/* harmony export */   mul: () => (/* binding */ mul),
/* harmony export */   multiply: () => (/* binding */ multiply),
/* harmony export */   multiplyScalar: () => (/* binding */ multiplyScalar),
/* harmony export */   multiplyScalarAndAdd: () => (/* binding */ multiplyScalarAndAdd),
/* harmony export */   ortho: () => (/* binding */ ortho),
/* harmony export */   orthoNO: () => (/* binding */ orthoNO),
/* harmony export */   orthoZO: () => (/* binding */ orthoZO),
/* harmony export */   perspective: () => (/* binding */ perspective),
/* harmony export */   perspectiveFromFieldOfView: () => (/* binding */ perspectiveFromFieldOfView),
/* harmony export */   perspectiveNO: () => (/* binding */ perspectiveNO),
/* harmony export */   perspectiveZO: () => (/* binding */ perspectiveZO),
/* harmony export */   rotate: () => (/* binding */ rotate),
/* harmony export */   rotateX: () => (/* binding */ rotateX),
/* harmony export */   rotateY: () => (/* binding */ rotateY),
/* harmony export */   rotateZ: () => (/* binding */ rotateZ),
/* harmony export */   scale: () => (/* binding */ scale),
/* harmony export */   set: () => (/* binding */ set),
/* harmony export */   str: () => (/* binding */ str),
/* harmony export */   sub: () => (/* binding */ sub),
/* harmony export */   subtract: () => (/* binding */ subtract),
/* harmony export */   targetTo: () => (/* binding */ targetTo),
/* harmony export */   translate: () => (/* binding */ translate),
/* harmony export */   transpose: () => (/* binding */ transpose)
/* harmony export */ });
/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ "../astro-viewer/node_modules/gl-matrix/esm/common.js");


/**
 * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.
 * @module mat4
 */

/**
 * Creates a new identity mat4
 *
 * @returns {mat4} a new 4x4 matrix
 */
function create() {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);
  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
  }
  out[0] = 1;
  out[5] = 1;
  out[10] = 1;
  out[15] = 1;
  return out;
}

/**
 * Creates a new mat4 initialized with values from an existing matrix
 *
 * @param {ReadonlyMat4} a matrix to clone
 * @returns {mat4} a new 4x4 matrix
 */
function clone(a) {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}

/**
 * Copy the values from one mat4 to another
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the source matrix
 * @returns {mat4} out
 */
function copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}

/**
 * Create a new mat4 with the given values
 *
 * @param {Number} m00 Component in column 0, row 0 position (index 0)
 * @param {Number} m01 Component in column 0, row 1 position (index 1)
 * @param {Number} m02 Component in column 0, row 2 position (index 2)
 * @param {Number} m03 Component in column 0, row 3 position (index 3)
 * @param {Number} m10 Component in column 1, row 0 position (index 4)
 * @param {Number} m11 Component in column 1, row 1 position (index 5)
 * @param {Number} m12 Component in column 1, row 2 position (index 6)
 * @param {Number} m13 Component in column 1, row 3 position (index 7)
 * @param {Number} m20 Component in column 2, row 0 position (index 8)
 * @param {Number} m21 Component in column 2, row 1 position (index 9)
 * @param {Number} m22 Component in column 2, row 2 position (index 10)
 * @param {Number} m23 Component in column 2, row 3 position (index 11)
 * @param {Number} m30 Component in column 3, row 0 position (index 12)
 * @param {Number} m31 Component in column 3, row 1 position (index 13)
 * @param {Number} m32 Component in column 3, row 2 position (index 14)
 * @param {Number} m33 Component in column 3, row 3 position (index 15)
 * @returns {mat4} A new mat4
 */
function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}

/**
 * Set the components of a mat4 to the given values
 *
 * @param {mat4} out the receiving matrix
 * @param {Number} m00 Component in column 0, row 0 position (index 0)
 * @param {Number} m01 Component in column 0, row 1 position (index 1)
 * @param {Number} m02 Component in column 0, row 2 position (index 2)
 * @param {Number} m03 Component in column 0, row 3 position (index 3)
 * @param {Number} m10 Component in column 1, row 0 position (index 4)
 * @param {Number} m11 Component in column 1, row 1 position (index 5)
 * @param {Number} m12 Component in column 1, row 2 position (index 6)
 * @param {Number} m13 Component in column 1, row 3 position (index 7)
 * @param {Number} m20 Component in column 2, row 0 position (index 8)
 * @param {Number} m21 Component in column 2, row 1 position (index 9)
 * @param {Number} m22 Component in column 2, row 2 position (index 10)
 * @param {Number} m23 Component in column 2, row 3 position (index 11)
 * @param {Number} m30 Component in column 3, row 0 position (index 12)
 * @param {Number} m31 Component in column 3, row 1 position (index 13)
 * @param {Number} m32 Component in column 3, row 2 position (index 14)
 * @param {Number} m33 Component in column 3, row 3 position (index 15)
 * @returns {mat4} out
 */
function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}

/**
 * Set a mat4 to the identity matrix
 *
 * @param {mat4} out the receiving matrix
 * @returns {mat4} out
 */
function identity(out) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}

/**
 * Transpose the values of a mat4
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the source matrix
 * @returns {mat4} out
 */
function transpose(out, a) {
  // If we are transposing ourselves we can skip a few steps but have to cache some values
  if (out === a) {
    var a01 = a[1],
      a02 = a[2],
      a03 = a[3];
    var a12 = a[6],
      a13 = a[7];
    var a23 = a[11];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a01;
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a02;
    out[9] = a12;
    out[11] = a[14];
    out[12] = a03;
    out[13] = a13;
    out[14] = a23;
  } else {
    out[0] = a[0];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a[1];
    out[5] = a[5];
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a[2];
    out[9] = a[6];
    out[10] = a[10];
    out[11] = a[14];
    out[12] = a[3];
    out[13] = a[7];
    out[14] = a[11];
    out[15] = a[15];
  }
  return out;
}

/**
 * Inverts a mat4
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the source matrix
 * @returns {mat4 | null} out, or null if source matrix is not invertible
 */
function invert(out, a) {
  var a00 = a[0],
    a01 = a[1],
    a02 = a[2],
    a03 = a[3];
  var a10 = a[4],
    a11 = a[5],
    a12 = a[6],
    a13 = a[7];
  var a20 = a[8],
    a21 = a[9],
    a22 = a[10],
    a23 = a[11];
  var a30 = a[12],
    a31 = a[13],
    a32 = a[14],
    a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32;

  // Calculate the determinant
  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  if (!det) {
    return null;
  }
  det = 1.0 / det;
  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
  return out;
}

/**
 * Calculates the adjugate of a mat4
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the source matrix
 * @returns {mat4} out
 */
function adjoint(out, a) {
  var a00 = a[0],
    a01 = a[1],
    a02 = a[2],
    a03 = a[3];
  var a10 = a[4],
    a11 = a[5],
    a12 = a[6],
    a13 = a[7];
  var a20 = a[8],
    a21 = a[9],
    a22 = a[10],
    a23 = a[11];
  var a30 = a[12],
    a31 = a[13],
    a32 = a[14],
    a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32;
  out[0] = a11 * b11 - a12 * b10 + a13 * b09;
  out[1] = a02 * b10 - a01 * b11 - a03 * b09;
  out[2] = a31 * b05 - a32 * b04 + a33 * b03;
  out[3] = a22 * b04 - a21 * b05 - a23 * b03;
  out[4] = a12 * b08 - a10 * b11 - a13 * b07;
  out[5] = a00 * b11 - a02 * b08 + a03 * b07;
  out[6] = a32 * b02 - a30 * b05 - a33 * b01;
  out[7] = a20 * b05 - a22 * b02 + a23 * b01;
  out[8] = a10 * b10 - a11 * b08 + a13 * b06;
  out[9] = a01 * b08 - a00 * b10 - a03 * b06;
  out[10] = a30 * b04 - a31 * b02 + a33 * b00;
  out[11] = a21 * b02 - a20 * b04 - a23 * b00;
  out[12] = a11 * b07 - a10 * b09 - a12 * b06;
  out[13] = a00 * b09 - a01 * b07 + a02 * b06;
  out[14] = a31 * b01 - a30 * b03 - a32 * b00;
  out[15] = a20 * b03 - a21 * b01 + a22 * b00;
  return out;
}

/**
 * Calculates the determinant of a mat4
 *
 * @param {ReadonlyMat4} a the source matrix
 * @returns {Number} determinant of a
 */
function determinant(a) {
  var a00 = a[0],
    a01 = a[1],
    a02 = a[2],
    a03 = a[3];
  var a10 = a[4],
    a11 = a[5],
    a12 = a[6],
    a13 = a[7];
  var a20 = a[8],
    a21 = a[9],
    a22 = a[10],
    a23 = a[11];
  var a30 = a[12],
    a31 = a[13],
    a32 = a[14],
    a33 = a[15];
  var b0 = a00 * a11 - a01 * a10;
  var b1 = a00 * a12 - a02 * a10;
  var b2 = a01 * a12 - a02 * a11;
  var b3 = a20 * a31 - a21 * a30;
  var b4 = a20 * a32 - a22 * a30;
  var b5 = a21 * a32 - a22 * a31;
  var b6 = a00 * b5 - a01 * b4 + a02 * b3;
  var b7 = a10 * b5 - a11 * b4 + a12 * b3;
  var b8 = a20 * b2 - a21 * b1 + a22 * b0;
  var b9 = a30 * b2 - a31 * b1 + a32 * b0;

  // Calculate the determinant
  return a13 * b6 - a03 * b7 + a33 * b8 - a23 * b9;
}

/**
 * Multiplies two mat4s
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the first operand
 * @param {ReadonlyMat4} b the second operand
 * @returns {mat4} out
 */
function multiply(out, a, b) {
  var a00 = a[0],
    a01 = a[1],
    a02 = a[2],
    a03 = a[3];
  var a10 = a[4],
    a11 = a[5],
    a12 = a[6],
    a13 = a[7];
  var a20 = a[8],
    a21 = a[9],
    a22 = a[10],
    a23 = a[11];
  var a30 = a[12],
    a31 = a[13],
    a32 = a[14],
    a33 = a[15];

  // Cache only the current line of the second matrix
  var b0 = b[0],
    b1 = b[1],
    b2 = b[2],
    b3 = b[3];
  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[4];
  b1 = b[5];
  b2 = b[6];
  b3 = b[7];
  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[8];
  b1 = b[9];
  b2 = b[10];
  b3 = b[11];
  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[12];
  b1 = b[13];
  b2 = b[14];
  b3 = b[15];
  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  return out;
}

/**
 * Translate a mat4 by the given vector
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the matrix to translate
 * @param {ReadonlyVec3} v vector to translate by
 * @returns {mat4} out
 */
function translate(out, a, v) {
  var x = v[0],
    y = v[1],
    z = v[2];
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;
  if (a === out) {
    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
  } else {
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    out[0] = a00;
    out[1] = a01;
    out[2] = a02;
    out[3] = a03;
    out[4] = a10;
    out[5] = a11;
    out[6] = a12;
    out[7] = a13;
    out[8] = a20;
    out[9] = a21;
    out[10] = a22;
    out[11] = a23;
    out[12] = a00 * x + a10 * y + a20 * z + a[12];
    out[13] = a01 * x + a11 * y + a21 * z + a[13];
    out[14] = a02 * x + a12 * y + a22 * z + a[14];
    out[15] = a03 * x + a13 * y + a23 * z + a[15];
  }
  return out;
}

/**
 * Scales the mat4 by the dimensions in the given vec3 not using vectorization
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the matrix to scale
 * @param {ReadonlyVec3} v the vec3 to scale the matrix by
 * @returns {mat4} out
 **/
function scale(out, a, v) {
  var x = v[0],
    y = v[1],
    z = v[2];
  out[0] = a[0] * x;
  out[1] = a[1] * x;
  out[2] = a[2] * x;
  out[3] = a[3] * x;
  out[4] = a[4] * y;
  out[5] = a[5] * y;
  out[6] = a[6] * y;
  out[7] = a[7] * y;
  out[8] = a[8] * z;
  out[9] = a[9] * z;
  out[10] = a[10] * z;
  out[11] = a[11] * z;
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}

/**
 * Rotates a mat4 by the given angle around the given axis
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the matrix to rotate
 * @param {Number} rad the angle to rotate the matrix by
 * @param {ReadonlyVec3} axis the axis to rotate around
 * @returns {mat4} out
 */
function rotate(out, a, rad, axis) {
  var x = axis[0],
    y = axis[1],
    z = axis[2];
  var len = Math.sqrt(x * x + y * y + z * z);
  var s, c, t;
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;
  var b00, b01, b02;
  var b10, b11, b12;
  var b20, b21, b22;
  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {
    return null;
  }
  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c;
  a00 = a[0];
  a01 = a[1];
  a02 = a[2];
  a03 = a[3];
  a10 = a[4];
  a11 = a[5];
  a12 = a[6];
  a13 = a[7];
  a20 = a[8];
  a21 = a[9];
  a22 = a[10];
  a23 = a[11];

  // Construct the elements of the rotation matrix
  b00 = x * x * t + c;
  b01 = y * x * t + z * s;
  b02 = z * x * t - y * s;
  b10 = x * y * t - z * s;
  b11 = y * y * t + c;
  b12 = z * y * t + x * s;
  b20 = x * z * t + y * s;
  b21 = y * z * t - x * s;
  b22 = z * z * t + c;

  // Perform rotation-specific matrix multiplication
  out[0] = a00 * b00 + a10 * b01 + a20 * b02;
  out[1] = a01 * b00 + a11 * b01 + a21 * b02;
  out[2] = a02 * b00 + a12 * b01 + a22 * b02;
  out[3] = a03 * b00 + a13 * b01 + a23 * b02;
  out[4] = a00 * b10 + a10 * b11 + a20 * b12;
  out[5] = a01 * b10 + a11 * b11 + a21 * b12;
  out[6] = a02 * b10 + a12 * b11 + a22 * b12;
  out[7] = a03 * b10 + a13 * b11 + a23 * b12;
  out[8] = a00 * b20 + a10 * b21 + a20 * b22;
  out[9] = a01 * b20 + a11 * b21 + a21 * b22;
  out[10] = a02 * b20 + a12 * b21 + a22 * b22;
  out[11] = a03 * b20 + a13 * b21 + a23 * b22;
  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }
  return out;
}

/**
 * Rotates a matrix by the given angle around the X axis
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the matrix to rotate
 * @param {Number} rad the angle to rotate the matrix by
 * @returns {mat4} out
 */
function rotateX(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];
  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }

  // Perform axis-specific matrix multiplication
  out[4] = a10 * c + a20 * s;
  out[5] = a11 * c + a21 * s;
  out[6] = a12 * c + a22 * s;
  out[7] = a13 * c + a23 * s;
  out[8] = a20 * c - a10 * s;
  out[9] = a21 * c - a11 * s;
  out[10] = a22 * c - a12 * s;
  out[11] = a23 * c - a13 * s;
  return out;
}

/**
 * Rotates a matrix by the given angle around the Y axis
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the matrix to rotate
 * @param {Number} rad the angle to rotate the matrix by
 * @returns {mat4} out
 */
function rotateY(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];
  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }

  // Perform axis-specific matrix multiplication
  out[0] = a00 * c - a20 * s;
  out[1] = a01 * c - a21 * s;
  out[2] = a02 * c - a22 * s;
  out[3] = a03 * c - a23 * s;
  out[8] = a00 * s + a20 * c;
  out[9] = a01 * s + a21 * c;
  out[10] = a02 * s + a22 * c;
  out[11] = a03 * s + a23 * c;
  return out;
}

/**
 * Rotates a matrix by the given angle around the Z axis
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the matrix to rotate
 * @param {Number} rad the angle to rotate the matrix by
 * @returns {mat4} out
 */
function rotateZ(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];
  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }

  // Perform axis-specific matrix multiplication
  out[0] = a00 * c + a10 * s;
  out[1] = a01 * c + a11 * s;
  out[2] = a02 * c + a12 * s;
  out[3] = a03 * c + a13 * s;
  out[4] = a10 * c - a00 * s;
  out[5] = a11 * c - a01 * s;
  out[6] = a12 * c - a02 * s;
  out[7] = a13 * c - a03 * s;
  return out;
}

/**
 * Creates a matrix from a vector translation
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.translate(dest, dest, vec);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {ReadonlyVec3} v Translation vector
 * @returns {mat4} out
 */
function fromTranslation(out, v) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}

/**
 * Creates a matrix from a vector scaling
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.scale(dest, dest, vec);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {ReadonlyVec3} v Scaling vector
 * @returns {mat4} out
 */
function fromScaling(out, v) {
  out[0] = v[0];
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = v[1];
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = v[2];
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}

/**
 * Creates a matrix from a given angle around a given axis
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.rotate(dest, dest, rad, axis);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {Number} rad the angle to rotate the matrix by
 * @param {ReadonlyVec3} axis the axis to rotate around
 * @returns {mat4} out
 */
function fromRotation(out, rad, axis) {
  var x = axis[0],
    y = axis[1],
    z = axis[2];
  var len = Math.sqrt(x * x + y * y + z * z);
  var s, c, t;
  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {
    return null;
  }
  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c;

  // Perform rotation-specific matrix multiplication
  out[0] = x * x * t + c;
  out[1] = y * x * t + z * s;
  out[2] = z * x * t - y * s;
  out[3] = 0;
  out[4] = x * y * t - z * s;
  out[5] = y * y * t + c;
  out[6] = z * y * t + x * s;
  out[7] = 0;
  out[8] = x * z * t + y * s;
  out[9] = y * z * t - x * s;
  out[10] = z * z * t + c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}

/**
 * Creates a matrix from the given angle around the X axis
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.rotateX(dest, dest, rad);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {Number} rad the angle to rotate the matrix by
 * @returns {mat4} out
 */
function fromXRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);

  // Perform axis-specific matrix multiplication
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = c;
  out[6] = s;
  out[7] = 0;
  out[8] = 0;
  out[9] = -s;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}

/**
 * Creates a matrix from the given angle around the Y axis
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.rotateY(dest, dest, rad);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {Number} rad the angle to rotate the matrix by
 * @returns {mat4} out
 */
function fromYRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);

  // Perform axis-specific matrix multiplication
  out[0] = c;
  out[1] = 0;
  out[2] = -s;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = s;
  out[9] = 0;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}

/**
 * Creates a matrix from the given angle around the Z axis
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.rotateZ(dest, dest, rad);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {Number} rad the angle to rotate the matrix by
 * @returns {mat4} out
 */
function fromZRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);

  // Perform axis-specific matrix multiplication
  out[0] = c;
  out[1] = s;
  out[2] = 0;
  out[3] = 0;
  out[4] = -s;
  out[5] = c;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}

/**
 * Creates a matrix from a quaternion rotation and vector translation
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.translate(dest, dest, vec);
 *     let quatMat = mat4.create();
 *     mat4.fromQuat(quatMat, quat);
 *     mat4.multiply(dest, dest, quatMat);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {quat} q Rotation quaternion
 * @param {ReadonlyVec3} v Translation vector
 * @returns {mat4} out
 */
function fromRotationTranslation(out, q, v) {
  // Quaternion math
  var x = q[0],
    y = q[1],
    z = q[2],
    w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - (yy + zz);
  out[1] = xy + wz;
  out[2] = xz - wy;
  out[3] = 0;
  out[4] = xy - wz;
  out[5] = 1 - (xx + zz);
  out[6] = yz + wx;
  out[7] = 0;
  out[8] = xz + wy;
  out[9] = yz - wx;
  out[10] = 1 - (xx + yy);
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}

/**
 * Creates a new mat4 from a dual quat.
 *
 * @param {mat4} out Matrix
 * @param {ReadonlyQuat2} a Dual Quaternion
 * @returns {mat4} mat4 receiving operation result
 */
function fromQuat2(out, a) {
  var translation = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);
  var bx = -a[0],
    by = -a[1],
    bz = -a[2],
    bw = a[3],
    ax = a[4],
    ay = a[5],
    az = a[6],
    aw = a[7];
  var magnitude = bx * bx + by * by + bz * bz + bw * bw;
  //Only scale if it makes sense
  if (magnitude > 0) {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
  } else {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
  }
  fromRotationTranslation(out, a, translation);
  return out;
}

/**
 * Returns the translation vector component of a transformation
 *  matrix. If a matrix is built with fromRotationTranslation,
 *  the returned vector will be the same as the translation vector
 *  originally supplied.
 * @param  {vec3} out Vector to receive translation component
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)
 * @return {vec3} out
 */
function getTranslation(out, mat) {
  out[0] = mat[12];
  out[1] = mat[13];
  out[2] = mat[14];
  return out;
}

/**
 * Returns the scaling factor component of a transformation
 *  matrix. If a matrix is built with fromRotationTranslationScale
 *  with a normalized Quaternion parameter, the returned vector will be
 *  the same as the scaling vector
 *  originally supplied.
 * @param  {vec3} out Vector to receive scaling factor component
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)
 * @return {vec3} out
 */
function getScaling(out, mat) {
  var m11 = mat[0];
  var m12 = mat[1];
  var m13 = mat[2];
  var m21 = mat[4];
  var m22 = mat[5];
  var m23 = mat[6];
  var m31 = mat[8];
  var m32 = mat[9];
  var m33 = mat[10];
  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);
  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);
  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);
  return out;
}

/**
 * Returns a quaternion representing the rotational component
 *  of a transformation matrix. If a matrix is built with
 *  fromRotationTranslation, the returned quaternion will be the
 *  same as the quaternion originally supplied.
 * @param {quat} out Quaternion to receive the rotation component
 * @param {ReadonlyMat4} mat Matrix to be decomposed (input)
 * @return {quat} out
 */
function getRotation(out, mat) {
  var scaling = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);
  getScaling(scaling, mat);
  var is1 = 1 / scaling[0];
  var is2 = 1 / scaling[1];
  var is3 = 1 / scaling[2];
  var sm11 = mat[0] * is1;
  var sm12 = mat[1] * is2;
  var sm13 = mat[2] * is3;
  var sm21 = mat[4] * is1;
  var sm22 = mat[5] * is2;
  var sm23 = mat[6] * is3;
  var sm31 = mat[8] * is1;
  var sm32 = mat[9] * is2;
  var sm33 = mat[10] * is3;
  var trace = sm11 + sm22 + sm33;
  var S = 0;
  if (trace > 0) {
    S = Math.sqrt(trace + 1.0) * 2;
    out[3] = 0.25 * S;
    out[0] = (sm23 - sm32) / S;
    out[1] = (sm31 - sm13) / S;
    out[2] = (sm12 - sm21) / S;
  } else if (sm11 > sm22 && sm11 > sm33) {
    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;
    out[3] = (sm23 - sm32) / S;
    out[0] = 0.25 * S;
    out[1] = (sm12 + sm21) / S;
    out[2] = (sm31 + sm13) / S;
  } else if (sm22 > sm33) {
    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;
    out[3] = (sm31 - sm13) / S;
    out[0] = (sm12 + sm21) / S;
    out[1] = 0.25 * S;
    out[2] = (sm23 + sm32) / S;
  } else {
    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;
    out[3] = (sm12 - sm21) / S;
    out[0] = (sm31 + sm13) / S;
    out[1] = (sm23 + sm32) / S;
    out[2] = 0.25 * S;
  }
  return out;
}

/**
 * Decomposes a transformation matrix into its rotation, translation
 * and scale components. Returns only the rotation component
 * @param  {quat} out_r Quaternion to receive the rotation component
 * @param  {vec3} out_t Vector to receive the translation vector
 * @param  {vec3} out_s Vector to receive the scaling factor
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)
 * @returns {quat} out_r
 */
function decompose(out_r, out_t, out_s, mat) {
  out_t[0] = mat[12];
  out_t[1] = mat[13];
  out_t[2] = mat[14];
  var m11 = mat[0];
  var m12 = mat[1];
  var m13 = mat[2];
  var m21 = mat[4];
  var m22 = mat[5];
  var m23 = mat[6];
  var m31 = mat[8];
  var m32 = mat[9];
  var m33 = mat[10];
  out_s[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);
  out_s[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);
  out_s[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);
  var is1 = 1 / out_s[0];
  var is2 = 1 / out_s[1];
  var is3 = 1 / out_s[2];
  var sm11 = m11 * is1;
  var sm12 = m12 * is2;
  var sm13 = m13 * is3;
  var sm21 = m21 * is1;
  var sm22 = m22 * is2;
  var sm23 = m23 * is3;
  var sm31 = m31 * is1;
  var sm32 = m32 * is2;
  var sm33 = m33 * is3;
  var trace = sm11 + sm22 + sm33;
  var S = 0;
  if (trace > 0) {
    S = Math.sqrt(trace + 1.0) * 2;
    out_r[3] = 0.25 * S;
    out_r[0] = (sm23 - sm32) / S;
    out_r[1] = (sm31 - sm13) / S;
    out_r[2] = (sm12 - sm21) / S;
  } else if (sm11 > sm22 && sm11 > sm33) {
    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;
    out_r[3] = (sm23 - sm32) / S;
    out_r[0] = 0.25 * S;
    out_r[1] = (sm12 + sm21) / S;
    out_r[2] = (sm31 + sm13) / S;
  } else if (sm22 > sm33) {
    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;
    out_r[3] = (sm31 - sm13) / S;
    out_r[0] = (sm12 + sm21) / S;
    out_r[1] = 0.25 * S;
    out_r[2] = (sm23 + sm32) / S;
  } else {
    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;
    out_r[3] = (sm12 - sm21) / S;
    out_r[0] = (sm31 + sm13) / S;
    out_r[1] = (sm23 + sm32) / S;
    out_r[2] = 0.25 * S;
  }
  return out_r;
}

/**
 * Creates a matrix from a quaternion rotation, vector translation and vector scale
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.translate(dest, dest, vec);
 *     let quatMat = mat4.create();
 *     mat4.fromQuat(quatMat, quat);
 *     mat4.multiply(dest, dest, quatMat);
 *     mat4.scale(dest, dest, scale)
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {quat} q Rotation quaternion
 * @param {ReadonlyVec3} v Translation vector
 * @param {ReadonlyVec3} s Scaling vector
 * @returns {mat4} out
 */
function fromRotationTranslationScale(out, q, v, s) {
  // Quaternion math
  var x = q[0],
    y = q[1],
    z = q[2],
    w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  out[0] = (1 - (yy + zz)) * sx;
  out[1] = (xy + wz) * sx;
  out[2] = (xz - wy) * sx;
  out[3] = 0;
  out[4] = (xy - wz) * sy;
  out[5] = (1 - (xx + zz)) * sy;
  out[6] = (yz + wx) * sy;
  out[7] = 0;
  out[8] = (xz + wy) * sz;
  out[9] = (yz - wx) * sz;
  out[10] = (1 - (xx + yy)) * sz;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}

/**
 * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin
 * This is equivalent to (but much faster than):
 *
 *     mat4.identity(dest);
 *     mat4.translate(dest, dest, vec);
 *     mat4.translate(dest, dest, origin);
 *     let quatMat = mat4.create();
 *     mat4.fromQuat(quatMat, quat);
 *     mat4.multiply(dest, dest, quatMat);
 *     mat4.scale(dest, dest, scale)
 *     mat4.translate(dest, dest, negativeOrigin);
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {quat} q Rotation quaternion
 * @param {ReadonlyVec3} v Translation vector
 * @param {ReadonlyVec3} s Scaling vector
 * @param {ReadonlyVec3} o The origin vector around which to scale and rotate
 * @returns {mat4} out
 */
function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
  // Quaternion math
  var x = q[0],
    y = q[1],
    z = q[2],
    w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  var ox = o[0];
  var oy = o[1];
  var oz = o[2];
  var out0 = (1 - (yy + zz)) * sx;
  var out1 = (xy + wz) * sx;
  var out2 = (xz - wy) * sx;
  var out4 = (xy - wz) * sy;
  var out5 = (1 - (xx + zz)) * sy;
  var out6 = (yz + wx) * sy;
  var out8 = (xz + wy) * sz;
  var out9 = (yz - wx) * sz;
  var out10 = (1 - (xx + yy)) * sz;
  out[0] = out0;
  out[1] = out1;
  out[2] = out2;
  out[3] = 0;
  out[4] = out4;
  out[5] = out5;
  out[6] = out6;
  out[7] = 0;
  out[8] = out8;
  out[9] = out9;
  out[10] = out10;
  out[11] = 0;
  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
  out[15] = 1;
  return out;
}

/**
 * Calculates a 4x4 matrix from the given quaternion
 *
 * @param {mat4} out mat4 receiving operation result
 * @param {ReadonlyQuat} q Quaternion to create matrix from
 *
 * @returns {mat4} out
 */
function fromQuat(out, q) {
  var x = q[0],
    y = q[1],
    z = q[2],
    w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var yx = y * x2;
  var yy = y * y2;
  var zx = z * x2;
  var zy = z * y2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - yy - zz;
  out[1] = yx + wz;
  out[2] = zx - wy;
  out[3] = 0;
  out[4] = yx - wz;
  out[5] = 1 - xx - zz;
  out[6] = zy + wx;
  out[7] = 0;
  out[8] = zx + wy;
  out[9] = zy - wx;
  out[10] = 1 - xx - yy;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}

/**
 * Generates a frustum matrix with the given bounds
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {Number} left Left bound of the frustum
 * @param {Number} right Right bound of the frustum
 * @param {Number} bottom Bottom bound of the frustum
 * @param {Number} top Top bound of the frustum
 * @param {Number} near Near bound of the frustum
 * @param {Number} far Far bound of the frustum
 * @returns {mat4} out
 */
function frustum(out, left, right, bottom, top, near, far) {
  var rl = 1 / (right - left);
  var tb = 1 / (top - bottom);
  var nf = 1 / (near - far);
  out[0] = near * 2 * rl;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = near * 2 * tb;
  out[6] = 0;
  out[7] = 0;
  out[8] = (right + left) * rl;
  out[9] = (top + bottom) * tb;
  out[10] = (far + near) * nf;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[14] = far * near * 2 * nf;
  out[15] = 0;
  return out;
}

/**
 * Generates a perspective projection matrix with the given bounds.
 * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],
 * which matches WebGL/OpenGL's clip volume.
 * Passing null/undefined/no value for far will generate infinite projection matrix.
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {number} fovy Vertical field of view in radians
 * @param {number} aspect Aspect ratio. typically viewport width/height
 * @param {number} near Near bound of the frustum
 * @param {number} far Far bound of the frustum, can be null or Infinity
 * @returns {mat4} out
 */
function perspectiveNO(out, fovy, aspect, near, far) {
  var f = 1.0 / Math.tan(fovy / 2);
  out[0] = f / aspect;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = f;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[15] = 0;
  if (far != null && far !== Infinity) {
    var nf = 1 / (near - far);
    out[10] = (far + near) * nf;
    out[14] = 2 * far * near * nf;
  } else {
    out[10] = -1;
    out[14] = -2 * near;
  }
  return out;
}

/**
 * Alias for {@link mat4.perspectiveNO}
 * @function
 */
var perspective = perspectiveNO;

/**
 * Generates a perspective projection matrix suitable for WebGPU with the given bounds.
 * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],
 * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.
 * Passing null/undefined/no value for far will generate infinite projection matrix.
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {number} fovy Vertical field of view in radians
 * @param {number} aspect Aspect ratio. typically viewport width/height
 * @param {number} near Near bound of the frustum
 * @param {number} far Far bound of the frustum, can be null or Infinity
 * @returns {mat4} out
 */
function perspectiveZO(out, fovy, aspect, near, far) {
  var f = 1.0 / Math.tan(fovy / 2);
  out[0] = f / aspect;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = f;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[15] = 0;
  if (far != null && far !== Infinity) {
    var nf = 1 / (near - far);
    out[10] = far * nf;
    out[14] = far * near * nf;
  } else {
    out[10] = -1;
    out[14] = -near;
  }
  return out;
}

/**
 * Generates a perspective projection matrix with the given field of view.
 * This is primarily useful for generating projection matrices to be used
 * with the still experiemental WebVR API.
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees
 * @param {number} near Near bound of the frustum
 * @param {number} far Far bound of the frustum
 * @returns {mat4} out
 */
function perspectiveFromFieldOfView(out, fov, near, far) {
  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);
  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);
  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);
  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);
  var xScale = 2.0 / (leftTan + rightTan);
  var yScale = 2.0 / (upTan + downTan);
  out[0] = xScale;
  out[1] = 0.0;
  out[2] = 0.0;
  out[3] = 0.0;
  out[4] = 0.0;
  out[5] = yScale;
  out[6] = 0.0;
  out[7] = 0.0;
  out[8] = -((leftTan - rightTan) * xScale * 0.5);
  out[9] = (upTan - downTan) * yScale * 0.5;
  out[10] = far / (near - far);
  out[11] = -1.0;
  out[12] = 0.0;
  out[13] = 0.0;
  out[14] = far * near / (near - far);
  out[15] = 0.0;
  return out;
}

/**
 * Generates a orthogonal projection matrix with the given bounds.
 * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],
 * which matches WebGL/OpenGL's clip volume.
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {number} left Left bound of the frustum
 * @param {number} right Right bound of the frustum
 * @param {number} bottom Bottom bound of the frustum
 * @param {number} top Top bound of the frustum
 * @param {number} near Near bound of the frustum
 * @param {number} far Far bound of the frustum
 * @returns {mat4} out
 */
function orthoNO(out, left, right, bottom, top, near, far) {
  var lr = 1 / (left - right);
  var bt = 1 / (bottom - top);
  var nf = 1 / (near - far);
  out[0] = -2 * lr;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = -2 * bt;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 2 * nf;
  out[11] = 0;
  out[12] = (left + right) * lr;
  out[13] = (top + bottom) * bt;
  out[14] = (far + near) * nf;
  out[15] = 1;
  return out;
}

/**
 * Alias for {@link mat4.orthoNO}
 * @function
 */
var ortho = orthoNO;

/**
 * Generates a orthogonal projection matrix with the given bounds.
 * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],
 * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {number} left Left bound of the frustum
 * @param {number} right Right bound of the frustum
 * @param {number} bottom Bottom bound of the frustum
 * @param {number} top Top bound of the frustum
 * @param {number} near Near bound of the frustum
 * @param {number} far Far bound of the frustum
 * @returns {mat4} out
 */
function orthoZO(out, left, right, bottom, top, near, far) {
  var lr = 1 / (left - right);
  var bt = 1 / (bottom - top);
  var nf = 1 / (near - far);
  out[0] = -2 * lr;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = -2 * bt;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = nf;
  out[11] = 0;
  out[12] = (left + right) * lr;
  out[13] = (top + bottom) * bt;
  out[14] = near * nf;
  out[15] = 1;
  return out;
}

/**
 * Generates a look-at matrix with the given eye position, focal point, and up axis.
 * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {ReadonlyVec3} eye Position of the viewer
 * @param {ReadonlyVec3} center Point the viewer is looking at
 * @param {ReadonlyVec3} up vec3 pointing up
 * @returns {mat4} out
 */
function lookAt(out, eye, center, up) {
  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;
  var eyex = eye[0];
  var eyey = eye[1];
  var eyez = eye[2];
  var upx = up[0];
  var upy = up[1];
  var upz = up[2];
  var centerx = center[0];
  var centery = center[1];
  var centerz = center[2];
  if (Math.abs(eyex - centerx) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyey - centery) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyez - centerz) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {
    return identity(out);
  }
  z0 = eyex - centerx;
  z1 = eyey - centery;
  z2 = eyez - centerz;
  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);
  z0 *= len;
  z1 *= len;
  z2 *= len;
  x0 = upy * z2 - upz * z1;
  x1 = upz * z0 - upx * z2;
  x2 = upx * z1 - upy * z0;
  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);
  if (!len) {
    x0 = 0;
    x1 = 0;
    x2 = 0;
  } else {
    len = 1 / len;
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }
  y0 = z1 * x2 - z2 * x1;
  y1 = z2 * x0 - z0 * x2;
  y2 = z0 * x1 - z1 * x0;
  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);
  if (!len) {
    y0 = 0;
    y1 = 0;
    y2 = 0;
  } else {
    len = 1 / len;
    y0 *= len;
    y1 *= len;
    y2 *= len;
  }
  out[0] = x0;
  out[1] = y0;
  out[2] = z0;
  out[3] = 0;
  out[4] = x1;
  out[5] = y1;
  out[6] = z1;
  out[7] = 0;
  out[8] = x2;
  out[9] = y2;
  out[10] = z2;
  out[11] = 0;
  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
  out[15] = 1;
  return out;
}

/**
 * Generates a matrix that makes something look at something else.
 *
 * @param {mat4} out mat4 frustum matrix will be written into
 * @param {ReadonlyVec3} eye Position of the viewer
 * @param {ReadonlyVec3} target Point the viewer is looking at
 * @param {ReadonlyVec3} up vec3 pointing up
 * @returns {mat4} out
 */
function targetTo(out, eye, target, up) {
  var eyex = eye[0],
    eyey = eye[1],
    eyez = eye[2],
    upx = up[0],
    upy = up[1],
    upz = up[2];
  var z0 = eyex - target[0],
    z1 = eyey - target[1],
    z2 = eyez - target[2];
  var len = z0 * z0 + z1 * z1 + z2 * z2;
  if (len > 0) {
    len = 1 / Math.sqrt(len);
    z0 *= len;
    z1 *= len;
    z2 *= len;
  }
  var x0 = upy * z2 - upz * z1,
    x1 = upz * z0 - upx * z2,
    x2 = upx * z1 - upy * z0;
  len = x0 * x0 + x1 * x1 + x2 * x2;
  if (len > 0) {
    len = 1 / Math.sqrt(len);
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }
  out[0] = x0;
  out[1] = x1;
  out[2] = x2;
  out[3] = 0;
  out[4] = z1 * x2 - z2 * x1;
  out[5] = z2 * x0 - z0 * x2;
  out[6] = z0 * x1 - z1 * x0;
  out[7] = 0;
  out[8] = z0;
  out[9] = z1;
  out[10] = z2;
  out[11] = 0;
  out[12] = eyex;
  out[13] = eyey;
  out[14] = eyez;
  out[15] = 1;
  return out;
}

/**
 * Returns a string representation of a mat4
 *
 * @param {ReadonlyMat4} a matrix to represent as a string
 * @returns {String} string representation of the matrix
 */
function str(a) {
  return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
}

/**
 * Returns Frobenius norm of a mat4
 *
 * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of
 * @returns {Number} Frobenius norm
 */
function frob(a) {
  return Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2] + a[3] * a[3] + a[4] * a[4] + a[5] * a[5] + a[6] * a[6] + a[7] * a[7] + a[8] * a[8] + a[9] * a[9] + a[10] * a[10] + a[11] * a[11] + a[12] * a[12] + a[13] * a[13] + a[14] * a[14] + a[15] * a[15]);
}

/**
 * Adds two mat4's
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the first operand
 * @param {ReadonlyMat4} b the second operand
 * @returns {mat4} out
 */
function add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  out[3] = a[3] + b[3];
  out[4] = a[4] + b[4];
  out[5] = a[5] + b[5];
  out[6] = a[6] + b[6];
  out[7] = a[7] + b[7];
  out[8] = a[8] + b[8];
  out[9] = a[9] + b[9];
  out[10] = a[10] + b[10];
  out[11] = a[11] + b[11];
  out[12] = a[12] + b[12];
  out[13] = a[13] + b[13];
  out[14] = a[14] + b[14];
  out[15] = a[15] + b[15];
  return out;
}

/**
 * Subtracts matrix b from matrix a
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the first operand
 * @param {ReadonlyMat4} b the second operand
 * @returns {mat4} out
 */
function subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  out[3] = a[3] - b[3];
  out[4] = a[4] - b[4];
  out[5] = a[5] - b[5];
  out[6] = a[6] - b[6];
  out[7] = a[7] - b[7];
  out[8] = a[8] - b[8];
  out[9] = a[9] - b[9];
  out[10] = a[10] - b[10];
  out[11] = a[11] - b[11];
  out[12] = a[12] - b[12];
  out[13] = a[13] - b[13];
  out[14] = a[14] - b[14];
  out[15] = a[15] - b[15];
  return out;
}

/**
 * Multiply each element of the matrix by a scalar.
 *
 * @param {mat4} out the receiving matrix
 * @param {ReadonlyMat4} a the matrix to scale
 * @param {Number} b amount to scale the matrix's elements by
 * @returns {mat4} out
 */
function multiplyScalar(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  out[3] = a[3] * b;
  out[4] = a[4] * b;
  out[5] = a[5] * b;
  out[6] = a[6] * b;
  out[7] = a[7] * b;
  out[8] = a[8] * b;
  out[9] = a[9] * b;
  out[10] = a[10] * b;
  out[11] = a[11] * b;
  out[12] = a[12] * b;
  out[13] = a[13] * b;
  out[14] = a[14] * b;
  out[15] = a[15] * b;
  return out;
}

/**
 * Adds two mat4's after multiplying each element of the second operand by a scalar value.
 *
 * @param {mat4} out the receiving vector
 * @param {ReadonlyMat4} a the first operand
 * @param {ReadonlyMat4} b the second operand
 * @param {Number} scale the amount to scale b's elements by before adding
 * @returns {mat4} out
 */
function multiplyScalarAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  out[3] = a[3] + b[3] * scale;
  out[4] = a[4] + b[4] * scale;
  out[5] = a[5] + b[5] * scale;
  out[6] = a[6] + b[6] * scale;
  out[7] = a[7] + b[7] * scale;
  out[8] = a[8] + b[8] * scale;
  out[9] = a[9] + b[9] * scale;
  out[10] = a[10] + b[10] * scale;
  out[11] = a[11] + b[11] * scale;
  out[12] = a[12] + b[12] * scale;
  out[13] = a[13] + b[13] * scale;
  out[14] = a[14] + b[14] * scale;
  out[15] = a[15] + b[15] * scale;
  return out;
}

/**
 * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)
 *
 * @param {ReadonlyMat4} a The first matrix.
 * @param {ReadonlyMat4} b The second matrix.
 * @returns {Boolean} True if the matrices are equal, false otherwise.
 */
function exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
}

/**
 * Returns whether or not the matrices have approximately the same elements in the same position.
 *
 * @param {ReadonlyMat4} a The first matrix.
 * @param {ReadonlyMat4} b The second matrix.
 * @returns {Boolean} True if the matrices are equal, false otherwise.
 */
function equals(a, b) {
  var a0 = a[0],
    a1 = a[1],
    a2 = a[2],
    a3 = a[3];
  var a4 = a[4],
    a5 = a[5],
    a6 = a[6],
    a7 = a[7];
  var a8 = a[8],
    a9 = a[9],
    a10 = a[10],
    a11 = a[11];
  var a12 = a[12],
    a13 = a[13],
    a14 = a[14],
    a15 = a[15];
  var b0 = b[0],
    b1 = b[1],
    b2 = b[2],
    b3 = b[3];
  var b4 = b[4],
    b5 = b[5],
    b6 = b[6],
    b7 = b[7];
  var b8 = b[8],
    b9 = b[9],
    b10 = b[10],
    b11 = b[11];
  var b12 = b[12],
    b13 = b[13],
    b14 = b[14],
    b15 = b[15];
  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));
}

/**
 * Alias for {@link mat4.multiply}
 * @function
 */
var mul = multiply;

/**
 * Alias for {@link mat4.subtract}
 * @function
 */
var sub = subtract;

/***/ }),

/***/ "../astro-viewer/node_modules/gl-matrix/esm/vec3.js":
/*!**********************************************************!*\
  !*** ../astro-viewer/node_modules/gl-matrix/esm/vec3.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   angle: () => (/* binding */ angle),
/* harmony export */   bezier: () => (/* binding */ bezier),
/* harmony export */   ceil: () => (/* binding */ ceil),
/* harmony export */   clone: () => (/* binding */ clone),
/* harmony export */   copy: () => (/* binding */ copy),
/* harmony export */   create: () => (/* binding */ create),
/* harmony export */   cross: () => (/* binding */ cross),
/* harmony export */   dist: () => (/* binding */ dist),
/* harmony export */   distance: () => (/* binding */ distance),
/* harmony export */   div: () => (/* binding */ div),
/* harmony export */   divide: () => (/* binding */ divide),
/* harmony export */   dot: () => (/* binding */ dot),
/* harmony export */   equals: () => (/* binding */ equals),
/* harmony export */   exactEquals: () => (/* binding */ exactEquals),
/* harmony export */   floor: () => (/* binding */ floor),
/* harmony export */   forEach: () => (/* binding */ forEach),
/* harmony export */   fromValues: () => (/* binding */ fromValues),
/* harmony export */   hermite: () => (/* binding */ hermite),
/* harmony export */   inverse: () => (/* binding */ inverse),
/* harmony export */   len: () => (/* binding */ len),
/* harmony export */   length: () => (/* binding */ length),
/* harmony export */   lerp: () => (/* binding */ lerp),
/* harmony export */   max: () => (/* binding */ max),
/* harmony export */   min: () => (/* binding */ min),
/* harmony export */   mul: () => (/* binding */ mul),
/* harmony export */   multiply: () => (/* binding */ multiply),
/* harmony export */   negate: () => (/* binding */ negate),
/* harmony export */   normalize: () => (/* binding */ normalize),
/* harmony export */   random: () => (/* binding */ random),
/* harmony export */   rotateX: () => (/* binding */ rotateX),
/* harmony export */   rotateY: () => (/* binding */ rotateY),
/* harmony export */   rotateZ: () => (/* binding */ rotateZ),
/* harmony export */   round: () => (/* binding */ round),
/* harmony export */   scale: () => (/* binding */ scale),
/* harmony export */   scaleAndAdd: () => (/* binding */ scaleAndAdd),
/* harmony export */   set: () => (/* binding */ set),
/* harmony export */   slerp: () => (/* binding */ slerp),
/* harmony export */   sqrDist: () => (/* binding */ sqrDist),
/* harmony export */   sqrLen: () => (/* binding */ sqrLen),
/* harmony export */   squaredDistance: () => (/* binding */ squaredDistance),
/* harmony export */   squaredLength: () => (/* binding */ squaredLength),
/* harmony export */   str: () => (/* binding */ str),
/* harmony export */   sub: () => (/* binding */ sub),
/* harmony export */   subtract: () => (/* binding */ subtract),
/* harmony export */   transformMat3: () => (/* binding */ transformMat3),
/* harmony export */   transformMat4: () => (/* binding */ transformMat4),
/* harmony export */   transformQuat: () => (/* binding */ transformQuat),
/* harmony export */   zero: () => (/* binding */ zero)
/* harmony export */ });
/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ "../astro-viewer/node_modules/gl-matrix/esm/common.js");


/**
 * 3 Dimensional Vector
 * @module vec3
 */

/**
 * Creates a new, empty vec3
 *
 * @returns {vec3} a new 3D vector
 */
function create() {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);
  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
  }
  return out;
}

/**
 * Creates a new vec3 initialized with values from an existing vector
 *
 * @param {ReadonlyVec3} a vector to clone
 * @returns {vec3} a new 3D vector
 */
function clone(a) {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}

/**
 * Calculates the length of a vec3
 *
 * @param {ReadonlyVec3} a vector to calculate length of
 * @returns {Number} length of a
 */
function length(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return Math.sqrt(x * x + y * y + z * z);
}

/**
 * Creates a new vec3 initialized with the given values
 *
 * @param {Number} x X component
 * @param {Number} y Y component
 * @param {Number} z Z component
 * @returns {vec3} a new 3D vector
 */
function fromValues(x, y, z) {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}

/**
 * Copy the values from one vec3 to another
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the source vector
 * @returns {vec3} out
 */
function copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}

/**
 * Set the components of a vec3 to the given values
 *
 * @param {vec3} out the receiving vector
 * @param {Number} x X component
 * @param {Number} y Y component
 * @param {Number} z Z component
 * @returns {vec3} out
 */
function set(out, x, y, z) {
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}

/**
 * Adds two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {vec3} out
 */
function add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  return out;
}

/**
 * Subtracts vector b from vector a
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {vec3} out
 */
function subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  return out;
}

/**
 * Multiplies two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {vec3} out
 */
function multiply(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  out[2] = a[2] * b[2];
  return out;
}

/**
 * Divides two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {vec3} out
 */
function divide(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  out[2] = a[2] / b[2];
  return out;
}

/**
 * Math.ceil the components of a vec3
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a vector to ceil
 * @returns {vec3} out
 */
function ceil(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  out[2] = Math.ceil(a[2]);
  return out;
}

/**
 * Math.floor the components of a vec3
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a vector to floor
 * @returns {vec3} out
 */
function floor(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  out[2] = Math.floor(a[2]);
  return out;
}

/**
 * Returns the minimum of two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {vec3} out
 */
function min(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  out[2] = Math.min(a[2], b[2]);
  return out;
}

/**
 * Returns the maximum of two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {vec3} out
 */
function max(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  out[2] = Math.max(a[2], b[2]);
  return out;
}

/**
 * symmetric round the components of a vec3
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a vector to round
 * @returns {vec3} out
 */
function round(out, a) {
  out[0] = _common_js__WEBPACK_IMPORTED_MODULE_0__.round(a[0]);
  out[1] = _common_js__WEBPACK_IMPORTED_MODULE_0__.round(a[1]);
  out[2] = _common_js__WEBPACK_IMPORTED_MODULE_0__.round(a[2]);
  return out;
}

/**
 * Scales a vec3 by a scalar number
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the vector to scale
 * @param {Number} b amount to scale the vector by
 * @returns {vec3} out
 */
function scale(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  return out;
}

/**
 * Adds two vec3's after scaling the second operand by a scalar value
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @param {Number} scale the amount to scale b by before adding
 * @returns {vec3} out
 */
function scaleAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  return out;
}

/**
 * Calculates the euclidian distance between two vec3's
 *
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {Number} distance between a and b
 */
function distance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return Math.sqrt(x * x + y * y + z * z);
}

/**
 * Calculates the squared euclidian distance between two vec3's
 *
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {Number} squared distance between a and b
 */
function squaredDistance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return x * x + y * y + z * z;
}

/**
 * Calculates the squared length of a vec3
 *
 * @param {ReadonlyVec3} a vector to calculate squared length of
 * @returns {Number} squared length of a
 */
function squaredLength(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return x * x + y * y + z * z;
}

/**
 * Negates the components of a vec3
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a vector to negate
 * @returns {vec3} out
 */
function negate(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  out[2] = -a[2];
  return out;
}

/**
 * Returns the inverse of the components of a vec3
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a vector to invert
 * @returns {vec3} out
 */
function inverse(out, a) {
  out[0] = 1.0 / a[0];
  out[1] = 1.0 / a[1];
  out[2] = 1.0 / a[2];
  return out;
}

/**
 * Normalize a vec3
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a vector to normalize
 * @returns {vec3} out
 */
function normalize(out, a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var len = x * x + y * y + z * z;
  if (len > 0) {
    //TODO: evaluate use of glm_invsqrt here?
    len = 1 / Math.sqrt(len);
  }
  out[0] = a[0] * len;
  out[1] = a[1] * len;
  out[2] = a[2] * len;
  return out;
}

/**
 * Calculates the dot product of two vec3's
 *
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {Number} dot product of a and b
 */
function dot(a, b) {
  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
}

/**
 * Computes the cross product of two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @returns {vec3} out
 */
function cross(out, a, b) {
  var ax = a[0],
    ay = a[1],
    az = a[2];
  var bx = b[0],
    by = b[1],
    bz = b[2];
  out[0] = ay * bz - az * by;
  out[1] = az * bx - ax * bz;
  out[2] = ax * by - ay * bx;
  return out;
}

/**
 * Performs a linear interpolation between two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs
 * @returns {vec3} out
 */
function lerp(out, a, b, t) {
  var ax = a[0];
  var ay = a[1];
  var az = a[2];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  out[2] = az + t * (b[2] - az);
  return out;
}

/**
 * Performs a spherical linear interpolation between two vec3's
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs
 * @returns {vec3} out
 */
function slerp(out, a, b, t) {
  var angle = Math.acos(Math.min(Math.max(dot(a, b), -1), 1));
  var sinTotal = Math.sin(angle);
  var ratioA = Math.sin((1 - t) * angle) / sinTotal;
  var ratioB = Math.sin(t * angle) / sinTotal;
  out[0] = ratioA * a[0] + ratioB * b[0];
  out[1] = ratioA * a[1] + ratioB * b[1];
  out[2] = ratioA * a[2] + ratioB * b[2];
  return out;
}

/**
 * Performs a hermite interpolation with two control points
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @param {ReadonlyVec3} c the third operand
 * @param {ReadonlyVec3} d the fourth operand
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs
 * @returns {vec3} out
 */
function hermite(out, a, b, c, d, t) {
  var factorTimes2 = t * t;
  var factor1 = factorTimes2 * (2 * t - 3) + 1;
  var factor2 = factorTimes2 * (t - 2) + t;
  var factor3 = factorTimes2 * (t - 1);
  var factor4 = factorTimes2 * (3 - 2 * t);
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}

/**
 * Performs a bezier interpolation with two control points
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the first operand
 * @param {ReadonlyVec3} b the second operand
 * @param {ReadonlyVec3} c the third operand
 * @param {ReadonlyVec3} d the fourth operand
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs
 * @returns {vec3} out
 */
function bezier(out, a, b, c, d, t) {
  var inverseFactor = 1 - t;
  var inverseFactorTimesTwo = inverseFactor * inverseFactor;
  var factorTimes2 = t * t;
  var factor1 = inverseFactorTimesTwo * inverseFactor;
  var factor2 = 3 * t * inverseFactorTimesTwo;
  var factor3 = 3 * factorTimes2 * inverseFactor;
  var factor4 = factorTimes2 * t;
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}

/**
 * Generates a random vector with the given scale
 *
 * @param {vec3} out the receiving vector
 * @param {Number} [scale] Length of the resulting vector. If omitted, a unit vector will be returned
 * @returns {vec3} out
 */
function random(out, scale) {
  scale = scale === undefined ? 1.0 : scale;
  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;
  var z = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 - 1.0;
  var zScale = Math.sqrt(1.0 - z * z) * scale;
  out[0] = Math.cos(r) * zScale;
  out[1] = Math.sin(r) * zScale;
  out[2] = z * scale;
  return out;
}

/**
 * Transforms the vec3 with a mat4.
 * 4th vector component is implicitly '1'
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the vector to transform
 * @param {ReadonlyMat4} m matrix to transform with
 * @returns {vec3} out
 */
function transformMat4(out, a, m) {
  var x = a[0],
    y = a[1],
    z = a[2];
  var w = m[3] * x + m[7] * y + m[11] * z + m[15];
  w = w || 1.0;
  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
  return out;
}

/**
 * Transforms the vec3 with a mat3.
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the vector to transform
 * @param {ReadonlyMat3} m the 3x3 matrix to transform with
 * @returns {vec3} out
 */
function transformMat3(out, a, m) {
  var x = a[0],
    y = a[1],
    z = a[2];
  out[0] = x * m[0] + y * m[3] + z * m[6];
  out[1] = x * m[1] + y * m[4] + z * m[7];
  out[2] = x * m[2] + y * m[5] + z * m[8];
  return out;
}

/**
 * Transforms the vec3 with a quat
 * Can also be used for dual quaternions. (Multiply it with the real part)
 *
 * @param {vec3} out the receiving vector
 * @param {ReadonlyVec3} a the vector to transform
 * @param {ReadonlyQuat} q normalized quaternion to transform with
 * @returns {vec3} out
 */
function transformQuat(out, a, q) {
  // Fast Vector Rotation using Quaternions by Robert Eisele
  // https://raw.org/proof/vector-rotation-using-quaternions/

  var qx = q[0],
    qy = q[1],
    qz = q[2],
    qw = q[3];
  var vx = a[0],
    vy = a[1],
    vz = a[2];

  // t = q x v
  var tx = qy * vz - qz * vy;
  var ty = qz * vx - qx * vz;
  var tz = qx * vy - qy * vx;

  // t = 2t
  tx = tx + tx;
  ty = ty + ty;
  tz = tz + tz;

  // v + w t + q x t
  out[0] = vx + qw * tx + qy * tz - qz * ty;
  out[1] = vy + qw * ty + qz * tx - qx * tz;
  out[2] = vz + qw * tz + qx * ty - qy * tx;
  return out;
}

/**
 * Rotate a 3D vector around the x-axis
 * @param {vec3} out The receiving vec3
 * @param {ReadonlyVec3} a The vec3 point to rotate
 * @param {ReadonlyVec3} b The origin of the rotation
 * @param {Number} rad The angle of rotation in radians
 * @returns {vec3} out
 */
function rotateX(out, a, b, rad) {
  var p = [],
    r = [];
  //Translate point to the origin
  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2];

  //perform rotation
  r[0] = p[0];
  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);

  //translate to correct position
  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}

/**
 * Rotate a 3D vector around the y-axis
 * @param {vec3} out The receiving vec3
 * @param {ReadonlyVec3} a The vec3 point to rotate
 * @param {ReadonlyVec3} b The origin of the rotation
 * @param {Number} rad The angle of rotation in radians
 * @returns {vec3} out
 */
function rotateY(out, a, b, rad) {
  var p = [],
    r = [];
  //Translate point to the origin
  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2];

  //perform rotation
  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
  r[1] = p[1];
  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);

  //translate to correct position
  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}

/**
 * Rotate a 3D vector around the z-axis
 * @param {vec3} out The receiving vec3
 * @param {ReadonlyVec3} a The vec3 point to rotate
 * @param {ReadonlyVec3} b The origin of the rotation
 * @param {Number} rad The angle of rotation in radians
 * @returns {vec3} out
 */
function rotateZ(out, a, b, rad) {
  var p = [],
    r = [];
  //Translate point to the origin
  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2];

  //perform rotation
  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
  r[2] = p[2];

  //translate to correct position
  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}

/**
 * Get the angle between two 3D vectors
 * @param {ReadonlyVec3} a The first operand
 * @param {ReadonlyVec3} b The second operand
 * @returns {Number} The angle in radians
 */
function angle(a, b) {
  var ax = a[0],
    ay = a[1],
    az = a[2],
    bx = b[0],
    by = b[1],
    bz = b[2],
    mag = Math.sqrt((ax * ax + ay * ay + az * az) * (bx * bx + by * by + bz * bz)),
    cosine = mag && dot(a, b) / mag;
  return Math.acos(Math.min(Math.max(cosine, -1), 1));
}

/**
 * Set the components of a vec3 to zero
 *
 * @param {vec3} out the receiving vector
 * @returns {vec3} out
 */
function zero(out) {
  out[0] = 0.0;
  out[1] = 0.0;
  out[2] = 0.0;
  return out;
}

/**
 * Returns a string representation of a vector
 *
 * @param {ReadonlyVec3} a vector to represent as a string
 * @returns {String} string representation of the vector
 */
function str(a) {
  return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
}

/**
 * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)
 *
 * @param {ReadonlyVec3} a The first vector.
 * @param {ReadonlyVec3} b The second vector.
 * @returns {Boolean} True if the vectors are equal, false otherwise.
 */
function exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
}

/**
 * Returns whether or not the vectors have approximately the same elements in the same position.
 *
 * @param {ReadonlyVec3} a The first vector.
 * @param {ReadonlyVec3} b The second vector.
 * @returns {Boolean} True if the vectors are equal, false otherwise.
 */
function equals(a, b) {
  var a0 = a[0],
    a1 = a[1],
    a2 = a[2];
  var b0 = b[0],
    b1 = b[1],
    b2 = b[2];
  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));
}

/**
 * Alias for {@link vec3.subtract}
 * @function
 */
var sub = subtract;

/**
 * Alias for {@link vec3.multiply}
 * @function
 */
var mul = multiply;

/**
 * Alias for {@link vec3.divide}
 * @function
 */
var div = divide;

/**
 * Alias for {@link vec3.distance}
 * @function
 */
var dist = distance;

/**
 * Alias for {@link vec3.squaredDistance}
 * @function
 */
var sqrDist = squaredDistance;

/**
 * Alias for {@link vec3.length}
 * @function
 */
var len = length;

/**
 * Alias for {@link vec3.squaredLength}
 * @function
 */
var sqrLen = squaredLength;

/**
 * Perform some operation over an array of vec3s.
 *
 * @param {Array} a the array of vectors to iterate over
 * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed
 * @param {Number} offset Number of elements to skip at the beginning of the array
 * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array
 * @param {Function} fn Function to call for each vector in the array
 * @param {Object} [arg] additional argument to pass to fn
 * @returns {Array} a
 * @function
 */
var forEach = function () {
  var vec = create();
  return function (a, stride, offset, count, fn, arg) {
    var i, l;
    if (!stride) {
      stride = 3;
    }
    if (!offset) {
      offset = 0;
    }
    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }
    for (i = offset; i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      vec[2] = a[i + 2];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
      a[i + 2] = vec[2];
    }
    return a;
  };
}();

/***/ }),

/***/ "../astro-viewer/node_modules/gl-matrix/esm/vec4.js":
/*!**********************************************************!*\
  !*** ../astro-viewer/node_modules/gl-matrix/esm/vec4.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   ceil: () => (/* binding */ ceil),
/* harmony export */   clone: () => (/* binding */ clone),
/* harmony export */   copy: () => (/* binding */ copy),
/* harmony export */   create: () => (/* binding */ create),
/* harmony export */   cross: () => (/* binding */ cross),
/* harmony export */   dist: () => (/* binding */ dist),
/* harmony export */   distance: () => (/* binding */ distance),
/* harmony export */   div: () => (/* binding */ div),
/* harmony export */   divide: () => (/* binding */ divide),
/* harmony export */   dot: () => (/* binding */ dot),
/* harmony export */   equals: () => (/* binding */ equals),
/* harmony export */   exactEquals: () => (/* binding */ exactEquals),
/* harmony export */   floor: () => (/* binding */ floor),
/* harmony export */   forEach: () => (/* binding */ forEach),
/* harmony export */   fromValues: () => (/* binding */ fromValues),
/* harmony export */   inverse: () => (/* binding */ inverse),
/* harmony export */   len: () => (/* binding */ len),
/* harmony export */   length: () => (/* binding */ length),
/* harmony export */   lerp: () => (/* binding */ lerp),
/* harmony export */   max: () => (/* binding */ max),
/* harmony export */   min: () => (/* binding */ min),
/* harmony export */   mul: () => (/* binding */ mul),
/* harmony export */   multiply: () => (/* binding */ multiply),
/* harmony export */   negate: () => (/* binding */ negate),
/* harmony export */   normalize: () => (/* binding */ normalize),
/* harmony export */   random: () => (/* binding */ random),
/* harmony export */   round: () => (/* binding */ round),
/* harmony export */   scale: () => (/* binding */ scale),
/* harmony export */   scaleAndAdd: () => (/* binding */ scaleAndAdd),
/* harmony export */   set: () => (/* binding */ set),
/* harmony export */   sqrDist: () => (/* binding */ sqrDist),
/* harmony export */   sqrLen: () => (/* binding */ sqrLen),
/* harmony export */   squaredDistance: () => (/* binding */ squaredDistance),
/* harmony export */   squaredLength: () => (/* binding */ squaredLength),
/* harmony export */   str: () => (/* binding */ str),
/* harmony export */   sub: () => (/* binding */ sub),
/* harmony export */   subtract: () => (/* binding */ subtract),
/* harmony export */   transformMat4: () => (/* binding */ transformMat4),
/* harmony export */   transformQuat: () => (/* binding */ transformQuat),
/* harmony export */   zero: () => (/* binding */ zero)
/* harmony export */ });
/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ "../astro-viewer/node_modules/gl-matrix/esm/common.js");


/**
 * 4 Dimensional Vector
 * @module vec4
 */

/**
 * Creates a new, empty vec4
 *
 * @returns {vec4} a new 4D vector
 */
function create() {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);
  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
  }
  return out;
}

/**
 * Creates a new vec4 initialized with values from an existing vector
 *
 * @param {ReadonlyVec4} a vector to clone
 * @returns {vec4} a new 4D vector
 */
function clone(a) {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  return out;
}

/**
 * Creates a new vec4 initialized with the given values
 *
 * @param {Number} x X component
 * @param {Number} y Y component
 * @param {Number} z Z component
 * @param {Number} w W component
 * @returns {vec4} a new 4D vector
 */
function fromValues(x, y, z, w) {
  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);
  out[0] = x;
  out[1] = y;
  out[2] = z;
  out[3] = w;
  return out;
}

/**
 * Copy the values from one vec4 to another
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the source vector
 * @returns {vec4} out
 */
function copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  return out;
}

/**
 * Set the components of a vec4 to the given values
 *
 * @param {vec4} out the receiving vector
 * @param {Number} x X component
 * @param {Number} y Y component
 * @param {Number} z Z component
 * @param {Number} w W component
 * @returns {vec4} out
 */
function set(out, x, y, z, w) {
  out[0] = x;
  out[1] = y;
  out[2] = z;
  out[3] = w;
  return out;
}

/**
 * Adds two vec4's
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {vec4} out
 */
function add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  out[3] = a[3] + b[3];
  return out;
}

/**
 * Subtracts vector b from vector a
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {vec4} out
 */
function subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  out[3] = a[3] - b[3];
  return out;
}

/**
 * Multiplies two vec4's
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {vec4} out
 */
function multiply(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  out[2] = a[2] * b[2];
  out[3] = a[3] * b[3];
  return out;
}

/**
 * Divides two vec4's
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {vec4} out
 */
function divide(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  out[2] = a[2] / b[2];
  out[3] = a[3] / b[3];
  return out;
}

/**
 * Math.ceil the components of a vec4
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a vector to ceil
 * @returns {vec4} out
 */
function ceil(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  out[2] = Math.ceil(a[2]);
  out[3] = Math.ceil(a[3]);
  return out;
}

/**
 * Math.floor the components of a vec4
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a vector to floor
 * @returns {vec4} out
 */
function floor(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  out[2] = Math.floor(a[2]);
  out[3] = Math.floor(a[3]);
  return out;
}

/**
 * Returns the minimum of two vec4's
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {vec4} out
 */
function min(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  out[2] = Math.min(a[2], b[2]);
  out[3] = Math.min(a[3], b[3]);
  return out;
}

/**
 * Returns the maximum of two vec4's
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {vec4} out
 */
function max(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  out[2] = Math.max(a[2], b[2]);
  out[3] = Math.max(a[3], b[3]);
  return out;
}

/**
 * symmetric round the components of a vec4
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a vector to round
 * @returns {vec4} out
 */
function round(out, a) {
  out[0] = _common_js__WEBPACK_IMPORTED_MODULE_0__.round(a[0]);
  out[1] = _common_js__WEBPACK_IMPORTED_MODULE_0__.round(a[1]);
  out[2] = _common_js__WEBPACK_IMPORTED_MODULE_0__.round(a[2]);
  out[3] = _common_js__WEBPACK_IMPORTED_MODULE_0__.round(a[3]);
  return out;
}

/**
 * Scales a vec4 by a scalar number
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the vector to scale
 * @param {Number} b amount to scale the vector by
 * @returns {vec4} out
 */
function scale(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  out[3] = a[3] * b;
  return out;
}

/**
 * Adds two vec4's after scaling the second operand by a scalar value
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @param {Number} scale the amount to scale b by before adding
 * @returns {vec4} out
 */
function scaleAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  out[3] = a[3] + b[3] * scale;
  return out;
}

/**
 * Calculates the euclidian distance between two vec4's
 *
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {Number} distance between a and b
 */
function distance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  var w = b[3] - a[3];
  return Math.sqrt(x * x + y * y + z * z + w * w);
}

/**
 * Calculates the squared euclidian distance between two vec4's
 *
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {Number} squared distance between a and b
 */
function squaredDistance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  var w = b[3] - a[3];
  return x * x + y * y + z * z + w * w;
}

/**
 * Calculates the length of a vec4
 *
 * @param {ReadonlyVec4} a vector to calculate length of
 * @returns {Number} length of a
 */
function length(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var w = a[3];
  return Math.sqrt(x * x + y * y + z * z + w * w);
}

/**
 * Calculates the squared length of a vec4
 *
 * @param {ReadonlyVec4} a vector to calculate squared length of
 * @returns {Number} squared length of a
 */
function squaredLength(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var w = a[3];
  return x * x + y * y + z * z + w * w;
}

/**
 * Negates the components of a vec4
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a vector to negate
 * @returns {vec4} out
 */
function negate(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  out[2] = -a[2];
  out[3] = -a[3];
  return out;
}

/**
 * Returns the inverse of the components of a vec4
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a vector to invert
 * @returns {vec4} out
 */
function inverse(out, a) {
  out[0] = 1.0 / a[0];
  out[1] = 1.0 / a[1];
  out[2] = 1.0 / a[2];
  out[3] = 1.0 / a[3];
  return out;
}

/**
 * Normalize a vec4
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a vector to normalize
 * @returns {vec4} out
 */
function normalize(out, a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var w = a[3];
  var len = x * x + y * y + z * z + w * w;
  if (len > 0) {
    len = 1 / Math.sqrt(len);
  }
  out[0] = x * len;
  out[1] = y * len;
  out[2] = z * len;
  out[3] = w * len;
  return out;
}

/**
 * Calculates the dot product of two vec4's
 *
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @returns {Number} dot product of a and b
 */
function dot(a, b) {
  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
}

/**
 * Returns the cross-product of three vectors in a 4-dimensional space
 *
 * @param {ReadonlyVec4} out the receiving vector
 * @param {ReadonlyVec4} u the first vector
 * @param {ReadonlyVec4} v the second vector
 * @param {ReadonlyVec4} w the third vector
 * @returns {vec4} result
 */
function cross(out, u, v, w) {
  var A = v[0] * w[1] - v[1] * w[0],
    B = v[0] * w[2] - v[2] * w[0],
    C = v[0] * w[3] - v[3] * w[0],
    D = v[1] * w[2] - v[2] * w[1],
    E = v[1] * w[3] - v[3] * w[1],
    F = v[2] * w[3] - v[3] * w[2];
  var G = u[0];
  var H = u[1];
  var I = u[2];
  var J = u[3];
  out[0] = H * F - I * E + J * D;
  out[1] = -(G * F) + I * C - J * B;
  out[2] = G * E - H * C + J * A;
  out[3] = -(G * D) + H * B - I * A;
  return out;
}

/**
 * Performs a linear interpolation between two vec4's
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the first operand
 * @param {ReadonlyVec4} b the second operand
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs
 * @returns {vec4} out
 */
function lerp(out, a, b, t) {
  var ax = a[0];
  var ay = a[1];
  var az = a[2];
  var aw = a[3];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  out[2] = az + t * (b[2] - az);
  out[3] = aw + t * (b[3] - aw);
  return out;
}

/**
 * Generates a random vector with the given scale
 *
 * @param {vec4} out the receiving vector
 * @param {Number} [scale] Length of the resulting vector. If omitted, a unit vector will be returned
 * @returns {vec4} out
 */
function random(out, scale) {
  scale = scale === undefined ? 1.0 : scale;

  // Marsaglia, George. Choosing a Point from the Surface of a
  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.
  // http://projecteuclid.org/euclid.aoms/1177692644;
  var v1, v2, v3, v4;
  var s1, s2;
  var rand;
  rand = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();
  v1 = rand * 2 - 1;
  v2 = (4 * _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() - 2) * Math.sqrt(rand * -rand + rand);
  s1 = v1 * v1 + v2 * v2;
  rand = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM();
  v3 = rand * 2 - 1;
  v4 = (4 * _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() - 2) * Math.sqrt(rand * -rand + rand);
  s2 = v3 * v3 + v4 * v4;
  var d = Math.sqrt((1 - s1) / s2);
  out[0] = scale * v1;
  out[1] = scale * v2;
  out[2] = scale * v3 * d;
  out[3] = scale * v4 * d;
  return out;
}

/**
 * Transforms the vec4 with a mat4.
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the vector to transform
 * @param {ReadonlyMat4} m matrix to transform with
 * @returns {vec4} out
 */
function transformMat4(out, a, m) {
  var x = a[0],
    y = a[1],
    z = a[2],
    w = a[3];
  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;
  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;
  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;
  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;
  return out;
}

/**
 * Transforms the vec4 with a quat
 *
 * @param {vec4} out the receiving vector
 * @param {ReadonlyVec4} a the vector to transform
 * @param {ReadonlyQuat} q normalized quaternion to transform with
 * @returns {vec4} out
 */
function transformQuat(out, a, q) {
  // Fast Vector Rotation using Quaternions by Robert Eisele
  // https://raw.org/proof/vector-rotation-using-quaternions/

  var qx = q[0],
    qy = q[1],
    qz = q[2],
    qw = q[3];
  var vx = a[0],
    vy = a[1],
    vz = a[2];

  // t = q x v
  var tx = qy * vz - qz * vy;
  var ty = qz * vx - qx * vz;
  var tz = qx * vy - qy * vx;

  // t = 2t
  tx = tx + tx;
  ty = ty + ty;
  tz = tz + tz;

  // v + w t + q x t
  out[0] = vx + qw * tx + qy * tz - qz * ty;
  out[1] = vy + qw * ty + qz * tx - qx * tz;
  out[2] = vz + qw * tz + qx * ty - qy * tx;
  out[3] = a[3];
  return out;
}

/**
 * Set the components of a vec4 to zero
 *
 * @param {vec4} out the receiving vector
 * @returns {vec4} out
 */
function zero(out) {
  out[0] = 0.0;
  out[1] = 0.0;
  out[2] = 0.0;
  out[3] = 0.0;
  return out;
}

/**
 * Returns a string representation of a vector
 *
 * @param {ReadonlyVec4} a vector to represent as a string
 * @returns {String} string representation of the vector
 */
function str(a) {
  return "vec4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
}

/**
 * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)
 *
 * @param {ReadonlyVec4} a The first vector.
 * @param {ReadonlyVec4} b The second vector.
 * @returns {Boolean} True if the vectors are equal, false otherwise.
 */
function exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
}

/**
 * Returns whether or not the vectors have approximately the same elements in the same position.
 *
 * @param {ReadonlyVec4} a The first vector.
 * @param {ReadonlyVec4} b The second vector.
 * @returns {Boolean} True if the vectors are equal, false otherwise.
 */
function equals(a, b) {
  var a0 = a[0],
    a1 = a[1],
    a2 = a[2],
    a3 = a[3];
  var b0 = b[0],
    b1 = b[1],
    b2 = b[2],
    b3 = b[3];
  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));
}

/**
 * Alias for {@link vec4.subtract}
 * @function
 */
var sub = subtract;

/**
 * Alias for {@link vec4.multiply}
 * @function
 */
var mul = multiply;

/**
 * Alias for {@link vec4.divide}
 * @function
 */
var div = divide;

/**
 * Alias for {@link vec4.distance}
 * @function
 */
var dist = distance;

/**
 * Alias for {@link vec4.squaredDistance}
 * @function
 */
var sqrDist = squaredDistance;

/**
 * Alias for {@link vec4.length}
 * @function
 */
var len = length;

/**
 * Alias for {@link vec4.squaredLength}
 * @function
 */
var sqrLen = squaredLength;

/**
 * Perform some operation over an array of vec4s.
 *
 * @param {Array} a the array of vectors to iterate over
 * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed
 * @param {Number} offset Number of elements to skip at the beginning of the array
 * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array
 * @param {Function} fn Function to call for each vector in the array
 * @param {Object} [arg] additional argument to pass to fn
 * @returns {Array} a
 * @function
 */
var forEach = function () {
  var vec = create();
  return function (a, stride, offset, count, fn, arg) {
    var i, l;
    if (!stride) {
      stride = 4;
    }
    if (!offset) {
      offset = 0;
    }
    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }
    for (i = offset; i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      vec[2] = a[i + 2];
      vec[3] = a[i + 3];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
      a[i + 2] = vec[2];
      a[i + 3] = vec[3];
    }
    return a;
  };
}();

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/CircleFinder.js":
/*!**********************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/CircleFinder.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CircleFinder: () => (/* binding */ CircleFinder)
/* harmony export */ });
/* harmony import */ var _Vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vec3.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Vec3.js");

class CircleFinder {
    /**
     * @param point: Vec3
     */
    constructor(point) {
        let np = point.length;
        //HealpixUtils.check(np>=2,"too few points");
        if (!(np >= 2)) {
            console.log("too few points");
            return;
        }
        this.center = point[0].add(point[1]);
        this.center.normalize();
        this.cosrad = point[0].dot(this.center);
        for (let i = 2; i < np; ++i) {
            if (point[i].dot(this.center) < this.cosrad) { // point outside the current circle
                this.getCircle(point, i);
            }
        }
    }
    ;
    /**
     * @parm point: Vec3
     * @param q: int
     */
    getCircle(point, q) {
        this.center = point[0].add(point[q]);
        this.center.normalize();
        this.cosrad = point[0].dot(this.center);
        for (let i = 1; i < q; ++i) {
            if (point[i].dot(this.center) < this.cosrad) { // point outside the current circle
                this.getCircle2(point, i, q);
            }
        }
    }
    ;
    /**
     * @parm point: Vec3
     * @param q1: int
     * @param q2: int
     */
    getCircle2(point, q1, q2) {
        this.center = point[q1].add(point[q2]);
        this.center.normalize();
        this.cosrad = point[q1].dot(this.center);
        for (let i = 0; i < q1; ++i) {
            if (point[i].dot(this.center) < this.cosrad) { // point outside the current circle
                this.center = (point[q1].sub(point[i])).cross(point[q2].sub(point[i]));
                this.center.normalize();
                this.cosrad = point[i].dot(this.center);
                if (this.cosrad < 0) {
                    this.center.flip();
                    this.cosrad = -this.cosrad;
                }
            }
        }
    }
    ;
    getCenter() {
        return new _Vec3_js__WEBPACK_IMPORTED_MODULE_0__.Vec3(this.center.x, this.center.y, this.center.z);
    }
    getCosrad() {
        return this.cosrad;
    }
    ;
}
//# sourceMappingURL=CircleFinder.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Constants.js":
/*!*******************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Constants.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Constants: () => (/* binding */ Constants)
/* harmony export */ });
class Constants {
}
//	static halfpi = Math.PI/2.;
Constants.halfpi = 1.5707963267948966;
Constants.inv_halfpi = 2. / Math.PI;
/** The Constant twopi. */
Constants.twopi = 2 * Math.PI;
Constants.inv_twopi = 1. / (2 * Math.PI);
//# sourceMappingURL=Constants.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Fxyf.js":
/*!**************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Fxyf.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fxyf: () => (/* binding */ Fxyf)
/* harmony export */ });
/* harmony import */ var _Hploc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Hploc.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Hploc.js");
/**
 * Partial porting to Javascript of Fxyf.java from Healpix3.30
 */

class Fxyf {
    constructor(x, y, f) {
        this.fx = x;
        this.fy = y;
        this.face = f;
        // coordinate of the lowest corner of each face
        this.jrll = new Uint8Array([2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4]);
        this.jpll = new Uint8Array([1, 3, 5, 7, 0, 2, 4, 6, 1, 3, 5, 7]);
        this.halfpi = Math.PI / 2.;
    }
    toHploc() {
        let loc = new _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc();
        let jr = this.jrll[this.face] - this.fx - this.fy;
        let nr;
        if (jr < 1) {
            nr = jr;
            let tmp = nr * nr / 3.;
            loc.z = 1 - tmp;
            if (loc.z > 0.99) {
                loc.sth = Math.sqrt(tmp * (2.0 - tmp));
                loc.have_sth = true;
            }
        }
        else if (jr > 3) {
            nr = 4 - jr;
            let tmp = nr * nr / 3.;
            loc.z = tmp - 1;
            if (loc.z < -0.99) {
                loc.sth = Math.sqrt(tmp * (2.0 - tmp));
                loc.have_sth = true;
            }
        }
        else {
            nr = 1;
            loc.z = (2 - jr) * 2.0 / 3.;
        }
        let tmp = this.jpll[this.face] * nr + this.fx - this.fy;
        if (tmp < 0) {
            tmp += 8;
        }
        if (tmp >= 8) {
            tmp -= 8;
        }
        loc.phi = (nr < 1e-15) ? 0 : (0.5 * this.halfpi * tmp) / nr;
        return loc;
    }
    ;
    toVec3() {
        return this.toHploc().toVec3();
    }
    ;
}
//# sourceMappingURL=Fxyf.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Healpix.js":
/*!*****************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Healpix.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Healpix: () => (/* binding */ Healpix)
/* harmony export */ });
/* harmony import */ var _CircleFinder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CircleFinder.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/CircleFinder.js");
/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Constants.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Constants.js");
/* harmony import */ var _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Fxyf.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Fxyf.js");
/* harmony import */ var _Hploc_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Hploc.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Hploc.js");
/* harmony import */ var _Pointing_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Pointing.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Pointing.js");
/* harmony import */ var _pstack_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pstack.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/pstack.js");
/* harmony import */ var _RangeSet_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RangeSet.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/RangeSet.js");
/* harmony import */ var _Vec3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Vec3.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Vec3.js");
/* harmony import */ var _Xyf_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Xyf.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Xyf.js");
/* harmony import */ var _Zphi_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Zphi.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Zphi.js");











/**
 * Partial porting to Javascript of HealpixBase.java from Healpix3.30
 */
// import Fxyf from './Fxyf.js';
// import Hploc from './Hploc.js';
// import Xyf from './Xyf.js';
// import Vec3 from './Vec3.js';
// import Pointing from './Pointing.js';
// import CircleFinder from './CircleFinder.js';
// import Zphi from './Zphi.js';
// import pstack from './pstack.js';
// import Constants from './Constants.js';
// import RangeSet from './RangeSet.js';
class Healpix {
    constructor(nside_in) {
        this.order_max = 29;
        this.inv_halfpi = 2.0 / Math.PI;
        this.twothird = 2.0 / 3.;
        // console.log("twothird "+this.twothird);
        // this.ns_max=1L<<order_max;
        this.ns_max = Math.pow(2, this.order_max);
        this.ctab = new Uint16Array([
            0, 1, 256, 257, 2, 3, 258, 259, 512, 513, 768, 769, 514, 515, 770, 771, 4, 5, 260, 261, 6, 7, 262,
            263, 516, 517, 772, 773, 518, 519, 774, 775, 1024, 1025, 1280, 1281, 1026, 1027, 1282, 1283,
            1536, 1537, 1792, 1793, 1538, 1539, 1794, 1795, 1028, 1029, 1284, 1285, 1030, 1031, 1286,
            1287, 1540, 1541, 1796, 1797, 1542, 1543, 1798, 1799, 8, 9, 264, 265, 10, 11, 266, 267, 520,
            521, 776, 777, 522, 523, 778, 779, 12, 13, 268, 269, 14, 15, 270, 271, 524, 525, 780, 781, 526,
            527, 782, 783, 1032, 1033, 1288, 1289, 1034, 1035, 1290, 1291, 1544, 1545, 1800, 1801, 1546,
            1547, 1802, 1803, 1036, 1037, 1292, 1293, 1038, 1039, 1294, 1295, 1548, 1549, 1804, 1805,
            1550, 1551, 1806, 1807, 2048, 2049, 2304, 2305, 2050, 2051, 2306, 2307, 2560, 2561, 2816,
            2817, 2562, 2563, 2818, 2819, 2052, 2053, 2308, 2309, 2054, 2055, 2310, 2311, 2564, 2565,
            2820, 2821, 2566, 2567, 2822, 2823, 3072, 3073, 3328, 3329, 3074, 3075, 3330, 3331, 3584,
            3585, 3840, 3841, 3586, 3587, 3842, 3843, 3076, 3077, 3332, 3333, 3078, 3079, 3334, 3335,
            3588, 3589, 3844, 3845, 3590, 3591, 3846, 3847, 2056, 2057, 2312, 2313, 2058, 2059, 2314,
            2315, 2568, 2569, 2824, 2825, 2570, 2571, 2826, 2827, 2060, 2061, 2316, 2317, 2062, 2063,
            2318, 2319, 2572, 2573, 2828, 2829, 2574, 2575, 2830, 2831, 3080, 3081, 3336, 3337, 3082,
            3083, 3338, 3339, 3592, 3593, 3848, 3849, 3594, 3595, 3850, 3851, 3084, 3085, 3340, 3341,
            3086, 3087, 3342, 3343, 3596, 3597, 3852, 3853, 3598, 3599, 3854, 3855
        ]);
        this.utab = new Uint16Array([0, 1, 4, 5, 16, 17, 20, 21, 64, 65, 68, 69, 80, 81, 84, 85, 256, 257, 260, 261, 272, 273, 276, 277,
            320, 321, 324, 325, 336, 337, 340, 341, 1024, 1025, 1028, 1029, 1040, 1041, 1044, 1045, 1088,
            1089, 1092, 1093, 1104, 1105, 1108, 1109, 1280, 1281, 1284, 1285, 1296, 1297, 1300, 1301,
            1344, 1345, 1348, 1349, 1360, 1361, 1364, 1365, 4096, 4097, 4100, 4101, 4112, 4113, 4116,
            4117, 4160, 4161, 4164, 4165, 4176, 4177, 4180, 4181, 4352, 4353, 4356, 4357, 4368, 4369,
            4372, 4373, 4416, 4417, 4420, 4421, 4432, 4433, 4436, 4437, 5120, 5121, 5124, 5125, 5136,
            5137, 5140, 5141, 5184, 5185, 5188, 5189, 5200, 5201, 5204, 5205, 5376, 5377, 5380, 5381,
            5392, 5393, 5396, 5397, 5440, 5441, 5444, 5445, 5456, 5457, 5460, 5461, 16384, 16385, 16388,
            16389, 16400, 16401, 16404, 16405, 16448, 16449, 16452, 16453, 16464, 16465, 16468, 16469,
            16640, 16641, 16644, 16645, 16656, 16657, 16660, 16661, 16704, 16705, 16708, 16709, 16720,
            16721, 16724, 16725, 17408, 17409, 17412, 17413, 17424, 17425, 17428, 17429, 17472, 17473,
            17476, 17477, 17488, 17489, 17492, 17493, 17664, 17665, 17668, 17669, 17680, 17681, 17684,
            17685, 17728, 17729, 17732, 17733, 17744, 17745, 17748, 17749, 20480, 20481, 20484, 20485,
            20496, 20497, 20500, 20501, 20544, 20545, 20548, 20549, 20560, 20561, 20564, 20565, 20736,
            20737, 20740, 20741, 20752, 20753, 20756, 20757, 20800, 20801, 20804, 20805, 20816, 20817,
            20820, 20821, 21504, 21505, 21508, 21509, 21520, 21521, 21524, 21525, 21568, 21569, 21572,
            21573, 21584, 21585, 21588, 21589, 21760, 21761, 21764, 21765, 21776, 21777, 21780, 21781,
            21824, 21825, 21828, 21829, 21840, 21841, 21844, 21845]);
        this.jrll = new Int16Array([2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4]);
        this.jpll = new Int16Array([1, 3, 5, 7, 0, 2, 4, 6, 1, 3, 5, 7]);
        this.xoffset = new Int16Array([-1, -1, 0, 1, 1, 1, 0, -1]);
        this.yoffset = new Int16Array([0, 1, 1, 1, 0, -1, -1, -1]);
        this.facearray = [
            new Int16Array([8, 9, 10, 11, -1, -1, -1, -1, 10, 11, 8, 9]),
            new Int16Array([5, 6, 7, 4, 8, 9, 10, 11, 9, 10, 11, 8]),
            new Int16Array([-1, -1, -1, -1, 5, 6, 7, 4, -1, -1, -1, -1]),
            new Int16Array([4, 5, 6, 7, 11, 8, 9, 10, 11, 8, 9, 10]),
            new Int16Array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]),
            new Int16Array([1, 2, 3, 0, 0, 1, 2, 3, 5, 6, 7, 4]),
            new Int16Array([-1, -1, -1, -1, 7, 4, 5, 6, -1, -1, -1, -1]),
            new Int16Array([3, 0, 1, 2, 3, 0, 1, 2, 4, 5, 6, 7]),
            new Int16Array([2, 3, 0, 1, -1, -1, -1, -1, 0, 1, 2, 3]) // N
        ];
        // questo forse deve essere un UInt8Array. Viene usato da neighbours
        this.swaparray = [
            new Int16Array([0, 0, 3]),
            new Int16Array([0, 0, 6]),
            new Int16Array([0, 0, 0]),
            new Int16Array([0, 0, 5]),
            new Int16Array([0, 0, 0]),
            new Int16Array([5, 0, 0]),
            new Int16Array([0, 0, 0]),
            new Int16Array([6, 0, 0]),
            new Int16Array([3, 0, 0]) // N
        ];
        if (nside_in <= this.ns_max && nside_in > 0) {
            this.nside = nside_in;
            this.npface = this.nside * this.nside;
            this.npix = 12 * this.npface;
            this.order = this.nside2order(this.nside);
            this.nl2 = 2 * this.nside;
            this.nl3 = 3 * this.nside;
            this.nl4 = 4 * this.nside;
            this.fact2 = 4.0 / this.npix;
            this.fact1 = (this.nside << 1) * this.fact2;
            this.ncap = 2 * this.nside * (this.nside - 1); // pixels in each polar cap
            // console.log("order: "+this.order);
            // console.log("nside: "+this.nside);
        }
        this.bn = [];
        this.mpr = [];
        this.cmpr = [];
        this.smpr = [];
        // TODO INFINITE LOOP!!!!!! FIX ITTTTTTTTTT
        // TODO INFINITE LOOP!!!!!! FIX ITTTTTTTTTT
        // TODO INFINITE LOOP!!!!!! FIX ITTTTTTTTTT
        // TODO INFINITE LOOP!!!!!! FIX ITTTTTTTTTT
        // TODO INFINITE LOOP!!!!!! FIX ITTTTTTTTTT
        // TODO INFINITE LOOP!!!!!! FIX ITTTTTTTTTT
        // TODO INFINITE LOOP!!!!!! FIX ITTTTTTTTTT
        // Uncaught RangeError: Maximum call stack size exceeded
        // MOVED TO computeBn()
        //        for (let i=0; i <= this.order_max; ++i) {
        //        	this.bn[i]=new Healpix(1<<i);
        //        	this.mpr[i]=bn[i].maxPixrad();
        //        	this.cmpr[i]=Math.cos(mpr[i]);
        //        	this.smpr[i]=Math.sin(mpr[i]);
        //        }
    }
    computeBn() {
        for (let i = 0; i <= this.order_max; ++i) {
            this.bn[i] = new Healpix(1 << i);
            this.mpr[i] = this.bn[i].maxPixrad();
            this.cmpr[i] = _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.cos(this.mpr[i]);
            this.smpr[i] = _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.sin(this.mpr[i]);
        }
    }
    getNPix() {
        return this.npix;
    }
    ;
    getBoundaries(pix) {
        let points = new Array();
        let xyf = this.nest2xyf(pix);
        let dc = 0.5 / this.nside;
        let xc = (xyf.ix + 0.5) / this.nside;
        let yc = (xyf.iy + 0.5) / this.nside;
        points[0] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc, yc + dc, xyf.face).toVec3();
        points[1] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc, yc + dc, xyf.face).toVec3();
        points[2] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc, yc - dc, xyf.face).toVec3();
        points[3] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc, yc - dc, xyf.face).toVec3();
        return points;
    }
    ;
    /** Returns a set of points along the boundary of the given pixel.
     * Step 1 gives 4 points on the corners. The first point corresponds
     * to the northernmost corner, the subsequent points follow the pixel
     * boundary through west, south and east corners.
     *
     * @param pix pixel index number
     * @param step the number of returned points is 4*step
     * @return {@link Vec3} for each point
     */
    getBoundariesWithStep(pix, step) {
        // var points = new Array(); 
        let points = new Array();
        let xyf = this.nest2xyf(pix);
        let dc = 0.5 / this.nside;
        let xc = (xyf.ix + 0.5) / this.nside;
        let yc = (xyf.iy + 0.5) / this.nside;
        let d = 1.0 / (this.nside * step);
        for (let i = 0; i < step; i++) {
            points[i] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc - i * d, yc + dc, xyf.face).toVec3();
            points[i + step] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc, yc + dc - i * d, xyf.face).toVec3();
            points[i + 2 * step] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc + i * d, yc - dc, xyf.face).toVec3();
            points[i + 3 * step] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc, yc - dc + i * d, xyf.face).toVec3();
        }
        return points;
    }
    ;
    getPointsForXyfNoStep(x, y, face) {
        // let nside = Math.pow(2, this.order);
        let points = new Array();
        let xyf = new _Xyf_js__WEBPACK_IMPORTED_MODULE_8__.Xyf(x, y, face);
        let dc = 0.5 / this.nside;
        let xc = (xyf.ix + 0.5) / this.nside;
        let yc = (xyf.iy + 0.5) / this.nside;
        points[0] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc, yc + dc, xyf.face).toVec3();
        points[1] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc, yc + dc, xyf.face).toVec3();
        points[2] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc, yc - dc, xyf.face).toVec3();
        points[3] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc, yc - dc, xyf.face).toVec3();
        return points;
    }
    getPointsForXyf(x, y, step, face) {
        let nside = step * Math.pow(2, this.order);
        let points = new Array();
        let xyf = new _Xyf_js__WEBPACK_IMPORTED_MODULE_8__.Xyf(x, y, face);
        let dc = 0.5 / nside;
        let xc = (xyf.ix + 0.5) / nside;
        let yc = (xyf.iy + 0.5) / nside;
        points[0] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc, yc + dc, xyf.face).toVec3();
        points[1] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc, yc + dc, xyf.face).toVec3();
        points[2] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc - dc, yc - dc, xyf.face).toVec3();
        points[3] = new _Fxyf_js__WEBPACK_IMPORTED_MODULE_2__.Fxyf(xc + dc, yc - dc, xyf.face).toVec3();
        return points;
    }
    /** Returns the neighboring pixels of ipix.
    This method works in both RING and NEST schemes, but is
    considerably faster in the NEST scheme.
    @param ipix the requested pixel number.
    @return array with indices of the neighboring pixels.
      The returned array contains (in this order)
      the pixel numbers of the SW, W, NW, N, NE, E, SE and S neighbor
      of ipix. If a neighbor does not exist (this can only happen
      for the W, N, E and S neighbors), its entry is set to -1. */
    neighbours(ipix) {
        let result = new Int32Array(8);
        let xyf = this.nest2xyf(ipix);
        let ix = xyf.ix;
        let iy = xyf.iy;
        let face_num = xyf.face;
        var nsm1 = this.nside - 1;
        if ((ix > 0) && (ix < nsm1) && (iy > 0) && (iy < nsm1)) {
            let fpix = Math.floor(face_num << (2 * this.order));
            let px0 = this.spread_bits(ix);
            let py0 = this.spread_bits(iy) << 1;
            let pxp = this.spread_bits(ix + 1);
            let pyp = this.spread_bits(iy + 1) << 1;
            let pxm = this.spread_bits(ix - 1);
            let pym = this.spread_bits(iy - 1) << 1;
            result[0] = fpix + pxm + py0;
            result[1] = fpix + pxm + pyp;
            result[2] = fpix + px0 + pyp;
            result[3] = fpix + pxp + pyp;
            result[4] = fpix + pxp + py0;
            result[5] = fpix + pxp + pym;
            result[6] = fpix + px0 + pym;
            result[7] = fpix + pxm + pym;
        }
        else {
            for (let i = 0; i < 8; ++i) {
                let x = ix + this.xoffset[i];
                let y = iy + this.yoffset[i];
                let nbnum = 4;
                if (x < 0) {
                    x += this.nside;
                    nbnum -= 1;
                }
                else if (x >= this.nside) {
                    x -= this.nside;
                    nbnum += 1;
                }
                if (y < 0) {
                    y += this.nside;
                    nbnum -= 3;
                }
                else if (y >= this.nside) {
                    y -= this.nside;
                    nbnum += 3;
                }
                let f = this.facearray[nbnum][face_num];
                if (f >= 0) {
                    let bits = this.swaparray[nbnum][face_num >>> 2];
                    if ((bits & 1) > 0) {
                        x = Math.floor(this.nside - x - 1);
                    }
                    if ((bits & 2) > 0) {
                        y = Math.floor(this.nside - y - 1);
                    }
                    if ((bits & 4) > 0) {
                        let tint = x;
                        x = y;
                        y = tint;
                    }
                    result[i] = this.xyf2nest(x, y, f);
                }
                else {
                    result[i] = -1;
                }
            }
        }
        return result;
    }
    ;
    nside2order(nside) {
        return ((nside & (nside - 1)) != 0) ? -1 : Math.log2(nside);
    }
    ;
    nest2xyf(ipix) {
        let pix = Math.floor(ipix & (this.npface - 1));
        let xyf = new _Xyf_js__WEBPACK_IMPORTED_MODULE_8__.Xyf(this.compress_bits(pix), this.compress_bits(pix >> 1), Math.floor((ipix >> (2 * this.order))));
        return xyf;
    }
    ;
    xyf2nest(ix, iy, face_num) {
        return Math.floor(face_num << (2 * this.order))
            + this.spread_bits(ix) + (this.spread_bits(iy) << 1);
    }
    ;
    loc2pix(hploc) {
        let z = hploc.z;
        let phi = hploc.phi;
        let za = Math.abs(z);
        let tt = this.fmodulo((phi * this.inv_halfpi), 4.0); // in [0,4)
        let pixNo;
        if (za <= this.twothird) { // Equatorial region
            let temp1 = this.nside * (0.5 + tt);
            let temp2 = this.nside * (z * 0.75);
            let jp = Math.floor(temp1 - temp2); // index of ascending edge line
            let jm = Math.floor(temp1 + temp2); // index of descending edge line
            let ifp = Math.floor(jp >>> this.order); // in {0,4}
            let ifm = Math.floor(jm >>> this.order);
            let face_num = Math.floor((ifp == ifm) ? (ifp | 4) : ((ifp < ifm) ? ifp : (ifm + 8)));
            let ix = Math.floor(jm & (this.nside - 1));
            let iy = Math.floor(this.nside - (jp & (this.nside - 1)) - 1);
            pixNo = this.xyf2nest(ix, iy, face_num);
        }
        else { // polar region, za > 2/3
            let ntt = Math.min(3, Math.floor(tt));
            let tp = tt - ntt;
            let tmp = ((za < 0.99) || (!hploc.have_sth)) ?
                this.nside * Math.sqrt(3 * (1 - za)) :
                this.nside * hploc.sth / Math.sqrt((1.0 + za) / 3.);
            let jp = Math.floor(tp * tmp); // increasing edge line index
            let jm = Math.floor((1.0 - tp) * tmp); // decreasing edge line index
            if (jp >= this.nside) {
                jp = this.nside - 1; // for points too close to the boundary
            }
            if (jm >= this.nside) {
                jm = this.nside - 1;
            }
            if (z >= 0) {
                pixNo = this.xyf2nest(Math.floor(this.nside - jm - 1), Math.floor(this.nside - jp - 1), ntt);
            }
            else {
                pixNo = this.xyf2nest(Math.floor(jp), Math.floor(jm), ntt + 8);
            }
        }
        return pixNo;
    }
    ;
    /** Returns the normalized 3-vector corresponding to the center of the
    supplied pixel.
    @param pix long the requested pixel number.
    @return the pixel's center coordinates. */
    pix2vec(pix) {
        return this.pix2loc(pix).toVec3();
    }
    ;
    /** Returns the Zphi corresponding to the center of the supplied pixel.
     @param pix the requested pixel number.
     @return the pixel's center coordinates. */
    pix2zphi(pix) {
        return this.pix2loc(pix).toZphi();
    }
    pix2ang(pix, mirror) {
        return this.pix2loc(pix).toPointing(mirror);
    }
    /**
     * @param pix long
     * @return Hploc
     */
    pix2loc(pix) {
        let loc = new _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc(undefined);
        let xyf = this.nest2xyf(pix);
        let jr = ((this.jrll[xyf.face]) << this.order) - xyf.ix - xyf.iy - 1;
        let nr;
        if (jr < this.nside) {
            nr = jr;
            let tmp = (nr * nr) * this.fact2;
            loc.z = 1 - tmp;
            if (loc.z > 0.99) {
                loc.sth = Math.sqrt(tmp * (2. - tmp));
                loc.have_sth = true;
            }
        }
        else if (jr > this.nl3) {
            nr = this.nl4 - jr;
            let tmp = (nr * nr) * this.fact2;
            loc.z = tmp - 1;
            if (loc.z < -0.99) {
                loc.sth = Math.sqrt(tmp * (2. - tmp));
                loc.have_sth = true;
            }
        }
        else {
            nr = this.nside;
            loc.z = (this.nl2 - jr) * this.fact1;
        }
        let tmp = (this.jpll[xyf.face]) * nr + xyf.ix - xyf.iy;
        //      	assert(tmp<8*nr); // must not happen
        if (tmp < 0) {
            tmp += 8 * nr;
        }
        loc.phi = (nr == this.nside) ? 0.75 * _Constants_js__WEBPACK_IMPORTED_MODULE_1__.Constants.halfpi * tmp * this.fact1 : (0.5 * _Constants_js__WEBPACK_IMPORTED_MODULE_1__.Constants.halfpi * tmp) / nr;
        // loc.setPhi((nr == this.nside) ? 0.75 * Constants.halfpi * tmp * this.fact1 : (0.5 * Constants.halfpi * tmp)/nr);
        return loc;
    }
    ;
    za2vec(z, a) {
        const sin_theta = Math.sqrt(1 - z * z);
        const X = sin_theta * Math.cos(a);
        const Y = sin_theta * Math.sin(a);
        return new _Vec3_js__WEBPACK_IMPORTED_MODULE_7__.Vec3(X, Y, z);
    }
    ang2vec(theta, phi) {
        const z = Math.cos(theta);
        return this.za2vec(z, phi);
    }
    vec2ang(v) {
        const { z, a } = this.vec2za(v.getX(), v.getY(), v.getZ());
        return { theta: Math.acos(z), phi: a };
    }
    vec2za(X, Y, z) {
        const r2 = X * X + Y * Y;
        if (r2 == 0)
            return { z: z < 0 ? -1 : 1, a: 0 };
        else {
            const PI2 = Math.PI / 2;
            const a = (Math.atan2(Y, X) + PI2) % PI2;
            z /= Math.sqrt(z * z + r2);
            return { z, a };
        }
    }
    ang2pix(ptg, mirror) {
        return this.loc2pix(new _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc(ptg));
    }
    ;
    fmodulo(v1, v2) {
        if (v1 >= 0) {
            return (v1 < v2) ? v1 : v1 % v2;
        }
        var tmp = v1 % v2 + v2;
        return (tmp === v2) ? 0.0 : tmp;
    }
    ;
    compress_bits(v) {
        var raw = Math.floor((v & 0x5555)) | Math.floor(((v & 0x55550000) >>> 15));
        var compressed = this.ctab[raw & 0xff] | (this.ctab[raw >>> 8] << 4);
        return compressed;
    }
    ;
    spread_bits(v) {
        return Math.floor(this.utab[v & 0xff]) | Math.floor((this.utab[(v >>> 8) & 0xff] << 16))
            | Math.floor((this.utab[(v >>> 16) & 0xff] << 32)) | Math.floor((this.utab[(v >>> 24) & 0xff] << 48));
    }
    ;
    /**
     * Returns a range set of pixels that overlap with the convex polygon
     * defined by the {@code vertex} array.
     * <p>
     * This method is more efficient in the RING scheme.
     * <p>
     * This method may return some pixels which don't overlap with the polygon
     * at all. The higher {@code fact} is chosen, the fewer false positives are
     * returned, at the cost of increased run time.
     *
     * @param vertex
     *            an array containing the vertices of the requested convex
     *            polygon.
     * @param fact
     *            The overlapping test will be done at the resolution
     *            {@code fact*nside}. For NESTED ordering, {@code fact} must be
     *            a power of 2, else it can be any positive integer. A typical
     *            choice would be 4.
     * @return the requested set of pixel number ranges
     */
    queryPolygonInclusive(vertex, fact) {
        let inclusive = (fact != 0);
        let nv = vertex.length;
        //        let ncirc = inclusive ? nv+1 : nv;
        if (!(nv >= 3)) {
            console.log("not enough vertices in polygon");
            return;
        }
        let vv = new Array();
        for (let i = 0; i < nv; ++i) {
            vv[i] = _Vec3_js__WEBPACK_IMPORTED_MODULE_7__.Vec3.pointing2Vec3(vertex[i]);
        }
        let normal = new Array();
        let flip = 0;
        let index = 0;
        let back = false;
        while (index < vv.length) {
            let first = vv[index];
            let medium = null;
            let last = null;
            if (index == vv.length - 1) {
                last = vv[1];
                medium = vv[0];
            }
            else if (index == vv.length - 2) {
                last = vv[0];
                medium = vv[index + 1];
            }
            else {
                medium = vv[index + 1];
                last = vv[index + 2];
            }
            normal[index] = first.cross(medium).norm();
            let hnd = normal[index].dot(last);
            if (index == 0) {
                flip = (hnd < 0.) ? -1 : 1;
                let tmp = new _Pointing_js__WEBPACK_IMPORTED_MODULE_4__.Pointing(first); // TODO not used
                back = false;
            }
            else {
                let flipThnd = flip * hnd;
                if (flipThnd < 0) {
                    let tmp = new _Pointing_js__WEBPACK_IMPORTED_MODULE_4__.Pointing(medium);
                    vv.splice(index + 1, 1);
                    normal.splice(index, 1);
                    back = true;
                    index -= 1;
                    continue;
                }
                else {
                    let tmp = new _Pointing_js__WEBPACK_IMPORTED_MODULE_4__.Pointing(first);
                    back = false;
                }
            }
            normal[index].scale(flip);
            index += 1;
        }
        nv = vv.length;
        let ncirc = inclusive ? nv + 1 : nv;
        let rad = new Array(ncirc);
        rad = rad.fill(_Constants_js__WEBPACK_IMPORTED_MODULE_1__.Constants.halfpi);
        //        rad = rad.fill(1.5707963267948966);
        //        let p = "1.5707963267948966";
        //        rad = rad.fill(parseFloat(p));
        if (inclusive) {
            let cf = new _CircleFinder_js__WEBPACK_IMPORTED_MODULE_0__.CircleFinder(vv);
            normal[nv] = cf.getCenter();
            rad[nv] = _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.acos(cf.getCosrad());
        }
        return this.queryMultiDisc(normal, rad, fact);
    }
    ;
    /**
     * For NEST schema only
     *
     * @param normal:
     *            Vec3[]
     * @param rad:
     *            Float32Array
     * @param fact:
     *            The overlapping test will be done at the resolution
     *            {@code fact*nside}. For NESTED ordering, {@code fact} must be
     *            a power of 2, else it can be any positive integer. A typical
     *            choice would be 4.
     * @return RangeSet the requested set of pixel number ranges
     */
    queryMultiDisc(norm, rad, fact) {
        this.computeBn();
        let inclusive = (fact != 0);
        let nv = norm.length;
        // HealpixUtils.check(nv==rad.lengt0,"inconsistent input arrays");
        if (!(nv == rad.length)) {
            console.error("inconsistent input arrays");
            return;
        }
        let res = new _RangeSet_js__WEBPACK_IMPORTED_MODULE_6__.RangeSet(4 << 1);
        // Removed code for Scheme.RING
        let oplus = 0;
        if (inclusive) {
            if (!(Math.pow(2, this.order_max - this.order) >= fact)) {
                console.error("invalid oversampling factor");
            }
            if (!((fact & (fact - 1)) == 0)) {
                console.error("oversampling factor must be a power of 2");
            }
            oplus = this.ilog2(fact);
        }
        let omax = this.order + oplus; // the order up to which we test
        // TODO: ignore all disks with radius>=pi
        //        let crlimit = new Float32Array[omax+1][nv][3];
        let crlimit = new Array(omax + 1);
        let o;
        let i;
        for (o = 0; o <= omax; ++o) { // prepare data at the required orders
            crlimit[o] = new Array(nv);
            let dr = this.bn[o].maxPixrad(); // safety distance
            for (i = 0; i < nv; ++i) {
                crlimit[o][i] = new Float64Array(3);
                crlimit[o][i][0] = (rad[i] + dr > Math.PI) ? -1 : _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.cos(rad[i] + dr);
                crlimit[o][i][1] = (o == 0) ? _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.cos(rad[i]) : crlimit[0][i][1];
                crlimit[o][i][2] = (rad[i] - dr < 0.) ? 1. : _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.cos(rad[i] - dr);
            }
        }
        let stk = new _pstack_js__WEBPACK_IMPORTED_MODULE_5__.pstack(12 + 3 * omax);
        for (let i = 0; i < 12; i++) { // insert the 12 base pixels in reverse
            // order
            stk.push(11 - i, 0);
        }
        while (stk.size() > 0) { // as long as there are pixels on the stack
            // pop current pixel number and order from the stack
            let pix = stk.ptop();
            let o = stk.otop();
            stk.pop();
            let pv = this.bn[o].pix2vec(pix);
            let zone = 3;
            for (let i = 0; (i < nv) && (zone > 0); ++i) {
                let crad = pv.dot(norm[i]);
                for (let iz = 0; iz < zone; ++iz) {
                    if (crad < crlimit[o][i][iz]) {
                        zone = iz;
                    }
                }
            }
            if (zone > 0) {
                this.check_pixel(o, omax, zone, res, pix, stk, inclusive);
            }
        }
        return res;
    }
    ;
    /** Integer base 2 logarithm.
    @param arg
    @return the largest integer {@code n} that fulfills {@code 2^n<=arg}.
    For negative arguments and zero, 0 is returned. */
    ilog2(arg) {
        let max = Math.max(arg, 1);
        return 31 - Math.clz32(max);
    }
    ;
    /** Computes the cosine of the angular distance between two z, phi positions
      on the unit sphere. */
    cosdist_zphi(z1, phi1, z2, phi2) {
        return z1 * z2 + _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.cos(phi1 - phi2) * Math.sqrt((1.0 - z1 * z1) * (1.0 - z2 * z2));
    }
    /**
     * @param int o
     * @param int omax
     * @param int zone
     * @param RangeSet pixset
     * @param long pix
     * @param pstack stk
     * @param boolean inclusive
     */
    check_pixel(o, omax, zone, pixset, pix, stk, inclusive) {
        if (zone == 0)
            return;
        if (o < this.order) {
            if (zone >= 3) { // output all subpixels
                let sdist = 2 * (this.order - o); // the "bit-shift distance" between map orders
                pixset.append1(pix << sdist, ((pix + 1) << sdist));
            }
            else { // (zone>=1)
                for (let i = 0; i < 4; ++i) {
                    stk.push(4 * pix + 3 - i, o + 1); // add children
                }
            }
        }
        else if (o > this.order) { // this implies that inclusive==true
            if (zone >= 2) { // pixel center in shape
                pixset.append(pix >>> (2 * (o - this.order))); // output the parent pixel at order
                stk.popToMark(); // unwind the stack
            }
            else { // (zone>=1): pixel center in safety range
                if (o < omax) { // check sublevels
                    for (let i = 0; i < 4; ++i) { // add children in reverse order
                        stk.push(4 * pix + 3 - i, o + 1); // add children
                    }
                }
                else { // at resolution limit
                    pixset.append(pix >>> (2 * (o - this.order))); // output the parent pixel at order
                    stk.popToMark(); // unwind the stack
                }
            }
        }
        else { // o==order
            if (zone >= 2) {
                pixset.append(pix);
            }
            else if (inclusive) { // and (zone>=1)
                if (this.order < omax) { // check sublevels
                    stk.mark(); // remember current stack position
                    for (let i = 0; i < 4; ++i) { // add children in reverse order
                        stk.push(4 * pix + 3 - i, o + 1); // add children
                    }
                }
                else { // at resolution limit
                    pixset.append(pix); // output the pixel
                }
            }
        }
    }
    /** Returns the maximum angular distance between a pixel center and its
    corners.
    @return maximum angular distance between a pixel center and its
      corners. */
    maxPixrad() {
        let zphia = new _Zphi_js__WEBPACK_IMPORTED_MODULE_9__.Zphi(2. / 3., Math.PI / this.nl4);
        let xyz1 = this.convertZphi2xyz(zphia);
        let va = new _Vec3_js__WEBPACK_IMPORTED_MODULE_7__.Vec3(xyz1[0], xyz1[1], xyz1[2]);
        let t1 = 1. - 1. / this.nside;
        t1 *= t1;
        let zphib = new _Zphi_js__WEBPACK_IMPORTED_MODULE_9__.Zphi(1 - t1 / 3, 0);
        let xyz2 = this.convertZphi2xyz(zphib);
        let vb = new _Vec3_js__WEBPACK_IMPORTED_MODULE_7__.Vec3(xyz2[0], xyz2[1], xyz2[2]);
        return va.angle(vb);
    }
    ;
    /**
     * this is a workaround replacing the Vec3(Zphi) constructor.
     */
    convertZphi2xyz(zphi) {
        let sth = Math.sqrt((1.0 - zphi.z) * (1.0 + zphi.z));
        let x = sth * _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.cos(zphi.phi);
        let y = sth * _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.sin(zphi.phi);
        let z = zphi.z;
        return [x, y, z];
    }
    ;
    /** Returns a range set of pixels which overlap with a given disk. <p>
      This method is more efficient in the RING scheme. <p>
      This method may return some pixels which don't overlap with
      the polygon at all. The higher {@code fact} is chosen, the fewer false
      positives are returned, at the cost of increased run time.
      @param ptg the angular coordinates of the disk center
      @param radius the radius (in radians) of the disk
      @param fact The overlapping test will be done at the resolution
        {@code fact*nside}. For NESTED ordering, {@code fact} must be a power
        of 2, else it can be any positive integer. A typical choice would be 4.
      @return the requested set of pixel number ranges  */
    queryDiscInclusive(ptg, radius, fact) {
        this.computeBn();
        let inclusive = (fact != 0);
        let pixset = new _RangeSet_js__WEBPACK_IMPORTED_MODULE_6__.RangeSet();
        if (radius >= Math.PI) { // disk covers the whole sphere
            pixset.append1(0, this.npix);
            return pixset;
        }
        let oplus = 0;
        if (inclusive) {
            // HealpixUtils.check ((1L<<order_max)>=fact,"invalid oversampling factor");
            if (!((fact & (fact - 1)) == 0)) {
                console.error("oversampling factor must be a power of 2");
            }
            oplus = this.ilog2(fact);
        }
        let omax = Math.min(this.order_max, this.order + oplus); // the order up to which we test
        let vptg = _Vec3_js__WEBPACK_IMPORTED_MODULE_7__.Vec3.pointing2Vec3(ptg);
        let crpdr = new Array(omax + 1);
        let crmdr = new Array(omax + 1);
        let cosrad = _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.cos(radius);
        let sinrad = _Hploc_js__WEBPACK_IMPORTED_MODULE_3__.Hploc.sin(radius);
        for (let o = 0; o <= omax; o++) { // prepare data at the required orders
            let dr = this.mpr[o]; // safety distance
            let cdr = this.cmpr[o];
            let sdr = this.smpr[o];
            crpdr[o] = (radius + dr > Math.PI) ? -1. : cosrad * cdr - sinrad * sdr;
            crmdr[o] = (radius - dr < 0.) ? 1. : cosrad * cdr + sinrad * sdr;
        }
        let stk = new _pstack_js__WEBPACK_IMPORTED_MODULE_5__.pstack(12 + 3 * omax);
        for (let i = 0; i < 12; i++) { // insert the 12 base pixels in reverse order
            stk.push(11 - i, 0);
        }
        while (stk.size() > 0) { // as long as there are pixels on the stack
            // pop current pixel number and order from the stack
            let pix = stk.ptop();
            let curro = stk.otop();
            stk.pop();
            let pos = this.bn[curro].pix2zphi(pix);
            // cosine of angular distance between pixel center and disk center
            let cangdist = this.cosdist_zphi(vptg.z, ptg.phi, pos.z, pos.phi);
            if (cangdist > crpdr[curro]) {
                let zone = (cangdist < cosrad) ? 1 : ((cangdist <= crmdr[curro]) ? 2 : 3);
                this.check_pixel(curro, omax, zone, pixset, pix, stk, inclusive);
            }
        }
        return pixset;
    }
}
//# sourceMappingURL=Healpix.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Hploc.js":
/*!***************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Hploc.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Hploc: () => (/* binding */ Hploc)
/* harmony export */ });
/* harmony import */ var _Pointing_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Pointing.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Pointing.js");
/* harmony import */ var _Vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vec3.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Vec3.js");
/* harmony import */ var _Zphi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Zphi.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Zphi.js");



class Hploc {
    constructor(ptg) {
        Hploc.PI4_A = 0.7853981554508209228515625;
        Hploc.PI4_B = 0.794662735614792836713604629039764404296875e-8;
        Hploc.PI4_C = 0.306161699786838294306516483068750264552437361480769e-16;
        Hploc.M_1_PI = 0.3183098861837906715377675267450287;
        if (ptg) {
            this.sth = 0.0;
            this.have_sth = false;
            this.z = Hploc.cos(ptg.theta);
            this._phi = ptg.phi;
            if (Math.abs(this.z) > 0.99) {
                this.sth = Hploc.sin(ptg.theta);
                this.have_sth = true;
            }
        }
    }
    setZ(z) {
        this.z = z;
    }
    ;
    get phi() {
        return this._phi;
    }
    ;
    set phi(phi) {
        this._phi = phi;
    }
    ;
    setSth(sth) {
        this.sth = sth;
    }
    ;
    toPointing(mirror) {
        const st = this.have_sth ? this.sth : Math.sqrt((1.0 - this.z) * (1.0 + this.z));
        return new _Pointing_js__WEBPACK_IMPORTED_MODULE_0__.Pointing(null, false, Hploc.atan2(st, this.z), this._phi);
    }
    toVec3() {
        var st = this.have_sth ? this.sth : Math.sqrt((1.0 - this.z) * (1.0 + this.z));
        var vector = new _Vec3_js__WEBPACK_IMPORTED_MODULE_1__.Vec3(st * Hploc.cos(this.phi), st * Hploc.sin(this.phi), this.z);
        // var vector = new Vec3(st*Math.cos(this.phi),st*Math.sin(this.phi),this.z);
        return vector;
    }
    ;
    toZphi() {
        return new _Zphi_js__WEBPACK_IMPORTED_MODULE_2__.Zphi(this.z, this.phi);
    }
    static sin(d) {
        let u = d * Hploc.M_1_PI;
        let q = Math.floor(u < 0 ? u - 0.5 : u + 0.5);
        let x = 4.0 * q;
        d -= x * Hploc.PI4_A;
        d -= x * Hploc.PI4_B;
        d -= x * Hploc.PI4_C;
        if ((q & 1) != 0) {
            d = -d;
        }
        return this.sincoshelper(d);
    }
    ;
    static cos(d) {
        //		let u = d * Hploc.M_1_PI - 0.5;
        let u = d * Hploc.M_1_PI - 0.5;
        //		u -= 0.5;
        let q = 1 + 2 * Math.floor(u < 0 ? u - 0.5 : u + 0.5);
        let x = 2.0 * q;
        let t = x * Hploc.PI4_A;
        d = d - t;
        d -= x * Hploc.PI4_B;
        d -= x * Hploc.PI4_C;
        if ((q & 2) == 0) {
            d = -d;
        }
        return Hploc.sincoshelper(d);
    }
    ;
    static sincoshelper(d) {
        let s = d * d;
        let u = -7.97255955009037868891952e-18;
        u = u * s + 2.81009972710863200091251e-15;
        u = u * s - 7.64712219118158833288484e-13;
        u = u * s + 1.60590430605664501629054e-10;
        u = u * s - 2.50521083763502045810755e-08;
        u = u * s + 2.75573192239198747630416e-06;
        u = u * s - 0.000198412698412696162806809;
        u = u * s + 0.00833333333333332974823815;
        u = u * s - 0.166666666666666657414808;
        return s * u * d + d;
    }
    ;
    /** This method calculates the arc sine of x in radians. The return
    value is in the range [-pi/2, pi/2]. The results may have
    maximum error of 3 ulps. */
    static asin(d) {
        return Hploc.mulsign(Hploc.atan2k(Math.abs(d), Math.sqrt((1 + d) * (1 - d))), d);
    }
    ;
    /** This method calculates the arc cosine of x in radians. The
        return value is in the range [0, pi]. The results may have
        maximum error of 3 ulps. */
    static acos(d) {
        return Hploc.mulsign(Hploc.atan2k(Math.sqrt((1 + d) * (1 - d)), Math.abs(d)), d) + (d < 0 ? Math.PI : 0);
    }
    ;
    static mulsign(x, y) {
        let sign = Hploc.copySign(1, y);
        return sign * x;
    }
    ;
    static copySign(magnitude, sign) {
        return sign < 0 ? -Math.abs(magnitude) : Math.abs(magnitude);
        // let finalsign = 1;
        // if (Object.is(finalsign , -0)){
        // 	sign = -1;
        // }else if (Object.is(finalsign , 0)){
        // 	sign = 1;
        // }else {
        // 	sign = Math.sign(finalsign);
        // }
        // return finalsign * magnitude;
    }
    static atanhelper(s) {
        let t = s * s;
        let u = -1.88796008463073496563746e-05;
        u = u * t + (0.000209850076645816976906797);
        u = u * t + (-0.00110611831486672482563471);
        u = u * t + (0.00370026744188713119232403);
        u = u * t + (-0.00889896195887655491740809);
        u = u * t + (0.016599329773529201970117);
        u = u * t + (-0.0254517624932312641616861);
        u = u * t + (0.0337852580001353069993897);
        u = u * t + (-0.0407629191276836500001934);
        u = u * t + (0.0466667150077840625632675);
        u = u * t + (-0.0523674852303482457616113);
        u = u * t + (0.0587666392926673580854313);
        u = u * t + (-0.0666573579361080525984562);
        u = u * t + (0.0769219538311769618355029);
        u = u * t + (-0.090908995008245008229153);
        u = u * t + (0.111111105648261418443745);
        u = u * t + (-0.14285714266771329383765);
        u = u * t + (0.199999999996591265594148);
        u = u * t + (-0.333333333333311110369124);
        return u * t * s + s;
    }
    ;
    static atan2k(y, x) {
        let q = 0.;
        if (x < 0) {
            x = -x;
            q = -2.;
        }
        if (y > x) {
            let t = x;
            x = y;
            y = -t;
            q += 1.;
        }
        return Hploc.atanhelper(y / x) + q * (Math.PI / 2);
    }
    ;
    /** This method calculates the arc tangent of y/x in radians, using
    the signs of the two arguments to determine the quadrant of the
    result. The results may have maximum error of 2 ulps. */
    static atan2(y, x) {
        let r = Hploc.atan2k(Math.abs(y), x);
        r = Hploc.mulsign(r, x);
        if (Hploc.isinf(x) || x == 0) {
            r = Math.PI / 2 - (Hploc.isinf(x) ? (Hploc.copySign(1, x) * (Math.PI / 2)) : 0);
        }
        if (Hploc.isinf(y)) {
            r = Math.PI / 2 - (Hploc.isinf(x) ? (Hploc.copySign(1, x) * (Math.PI * 1 / 4)) : 0);
        }
        if (y == 0) {
            r = (Hploc.copySign(1, x) == -1 ? Math.PI : 0);
        }
        return Hploc.isnan(x) || Hploc.isnan(y) ? NaN : Hploc.mulsign(r, y);
    }
    ;
    /** Checks if the argument is a NaN or not. */
    static isnan(d) {
        return d != d;
    }
    ;
    /** Checks if the argument is either positive or negative infinity. */
    static isinf(d) {
        return Math.abs(d) === +Infinity;
    }
    ;
}
Hploc.PI4_A = 0.7853981554508209228515625;
Hploc.PI4_B = 0.794662735614792836713604629039764404296875e-8;
Hploc.PI4_C = 0.306161699786838294306516483068750264552437361480769e-16;
Hploc.M_1_PI = 0.3183098861837906715377675267450287;
//# sourceMappingURL=Hploc.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Pointing.js":
/*!******************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Pointing.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Pointing: () => (/* binding */ Pointing)
/* harmony export */ });
/* harmony import */ var _Hploc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Hploc.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Hploc.js");

class Pointing {
    /**
     *
     * @param {*} vec3 Vec3.js
     * @param {*} mirror
     * @param {*} in_theta radians
     * @param {*} in_phi radians
     */
    constructor(vec3, mirror, in_theta, in_phi) {
        if (vec3 != null) {
            this.theta = _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.atan2(Math.sqrt(vec3.x * vec3.x + vec3.y * vec3.y), vec3.z);
            if (mirror) {
                this.phi = -_Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.atan2(vec3.y, vec3.x);
            }
            else {
                this.phi = _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.atan2(vec3.y, vec3.x);
            }
            if (this.phi < 0.0) {
                this.phi = this.phi + 2 * Math.PI;
            }
            if (this.phi >= 2 * Math.PI) {
                this.phi = this.phi - 2 * Math.PI;
            }
        }
        else {
            this.theta = in_theta;
            this.phi = in_phi;
        }
    }
}
//# sourceMappingURL=Pointing.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/RangeSet.js":
/*!******************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/RangeSet.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RangeSet: () => (/* binding */ RangeSet)
/* harmony export */ });
class RangeSet {
    /**
     * @param int cap: initial capacity
     */
    constructor(cap) {
        if (cap < 0)
            console.error("capacity must be positive");
        this.r = new Int32Array(cap << 1);
        this.sz = 0;
    }
    ;
    /** Append a single-value range to the object.
    @param val value to append */
    append(val) {
        this.append1(val, val + 1);
    }
    ;
    /** Append a range to the object.
   @param a first long in range
   @param b one-after-last long in range */
    append1(a, b) {
        if (a >= b)
            return;
        if ((this.sz > 0) && (a <= this.r[this.sz - 1])) {
            if (a < this.r[this.sz - 2])
                console.error("bad append operation");
            if (b > this.r[this.sz - 1])
                this.r[this.sz - 1] = b;
            return;
        }
        // this.ensureCapacity(this.sz+2);
        let cap = this.sz + 2;
        if (this.r.length < cap) {
            let newsize = Math.max(2 * this.r.length, cap);
            let rnew = new Int32Array(newsize);
            rnew.set(this.r);
            this.r = rnew;
        }
        this.r[this.sz] = a;
        this.r[this.sz + 1] = b;
        this.sz += 2;
    }
    ;
    /** Make sure the object can hold at least the given number of entries.
     * @param cap int
     * */
    ensureCapacity(cap) {
        if (this.r.length < cap)
            this.resize(Math.max(2 * this.r.length, cap));
    }
    ;
    /**
     * @param newsize int
     */
    resize(newsize) {
        if (newsize < this.sz)
            console.error("requested array size too small");
        if (newsize == this.r.length)
            return;
        let rnew = new Int32Array(newsize);
        let sliced = this.r.slice(0, this.sz + 1);
        //		this.arrayCopy(this.r, 0, rnew, 0, this.sz);
        this.r = sliced;
    }
    ;
}
//# sourceMappingURL=RangeSet.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Vec3.js":
/*!**************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Vec3.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Vec3: () => (/* binding */ Vec3)
/* harmony export */ });
/* harmony import */ var _Hploc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Hploc.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Hploc.js");
/* harmony import */ var _Pointing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pointing.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Pointing.js");
/**
 * Partial porting to Javascript of Vec3.java from Healpix3.30
 */


class Vec3 {
    constructor(in_x, in_y, in_z) {
        if (in_x instanceof _Pointing_js__WEBPACK_IMPORTED_MODULE_1__.Pointing) {
            let ptg = in_x;
            let sth = _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.sin(ptg.theta);
            this.x = sth * _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.cos(ptg.phi);
            this.y = sth * _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.sin(ptg.phi);
            this.z = _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.cos(ptg.theta);
        }
        else {
            this.x = in_x;
            this.y = in_y;
            this.z = in_z;
        }
    }
    getX() {
        return this.x;
    }
    ;
    getY() {
        return this.y;
    }
    ;
    getZ() {
        return this.z;
    }
    ;
    /** Scale the vector by a given factor
    @param n the scale factor */
    scale(n) {
        this.x *= n;
        this.y *= n;
        this.z *= n;
    }
    ;
    /** Vector cross product.
    @param v another vector
    @return the vector cross product between this vector and {@code v} */
    cross(v) {
        return new Vec3(this.y * v.z - v.y * this.z, this.z * v.x - v.z * this.x, this.x * v.y - v.x * this.y);
    }
    ;
    /** Vector addition
        * @param v the vector to be added
        * @return addition result */
    add(v) {
        return new Vec3(this.x + v.x, this.y + v.y, this.z + v.z);
    }
    ;
    /** Normalize the vector */
    normalize() {
        let d = 1. / this.length();
        this.x *= d;
        this.y *= d;
        this.z *= d;
    }
    ;
    /** Return normalized vector */
    norm() {
        let d = 1. / this.length();
        return new Vec3(this.x * d, this.y * d, this.z * d);
    }
    ;
    /** Vector length
    @return the length of the vector. */
    length() {
        return Math.sqrt(this.lengthSquared());
    }
    ;
    /** Squared vector length
        @return the squared length of the vector. */
    lengthSquared() {
        return this.x * this.x + this.y * this.y + this.z * this.z;
    }
    ;
    /** Computes the dot product of the this vector and {@code v1}.
     * @param v1 another vector
     * @return dot product */
    dot(v1) {
        return this.x * v1.x + this.y * v1.y + this.z * v1.z;
    }
    ;
    /** Vector subtraction
     * @param v the vector to be subtracted
     * @return subtraction result */
    sub(v) {
        return new Vec3(this.x - v.x, this.y - v.y, this.z - v.z);
    }
    ;
    /** Angle between two vectors.
    @param v1 another vector
    @return the angle in radians between this vector and {@code v1};
      constrained to the range [0,PI]. */
    angle(v1) {
        return _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.atan2(this.cross(v1).length(), this.dot(v1));
    }
    /** Invert the signs of all components */
    flip() {
        this.x *= -1.0;
        this.y *= -1.0;
        this.z *= -1.0;
    }
    static pointing2Vec3(pointing) {
        let sth = _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.sin(pointing.theta);
        let x = sth * _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.cos(pointing.phi);
        let y = sth * _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.sin(pointing.phi);
        let z = _Hploc_js__WEBPACK_IMPORTED_MODULE_0__.Hploc.cos(pointing.theta);
        return new Vec3(x, y, z);
    }
    ;
}
//# sourceMappingURL=Vec3.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Xyf.js":
/*!*************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Xyf.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Xyf: () => (/* binding */ Xyf)
/* harmony export */ });
/**
 * Partial porting to Javascript of Xyf.java from Healpix3.30
 */
class Xyf {
    constructor(x, y, f) {
        this.ix = x;
        this.iy = y;
        this.face = f;
    }
}
//# sourceMappingURL=Xyf.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/Zphi.js":
/*!**************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/Zphi.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Zphi: () => (/* binding */ Zphi)
/* harmony export */ });
class Zphi {
    /** Creation from individual components */
    constructor(z_, phi_) {
        this.z = z_;
        this.phi = phi_;
    }
    ;
}
//# sourceMappingURL=Zphi.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/index.js":
/*!***************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CircleFinder: () => (/* reexport safe */ _CircleFinder_js__WEBPACK_IMPORTED_MODULE_2__.CircleFinder),
/* harmony export */   Constants: () => (/* reexport safe */ _Constants_js__WEBPACK_IMPORTED_MODULE_0__.Constants),
/* harmony export */   Fxyf: () => (/* reexport safe */ _Fxyf_js__WEBPACK_IMPORTED_MODULE_3__.Fxyf),
/* harmony export */   Healpix: () => (/* reexport safe */ _Healpix_js__WEBPACK_IMPORTED_MODULE_4__.Healpix),
/* harmony export */   Hploc: () => (/* reexport safe */ _Hploc_js__WEBPACK_IMPORTED_MODULE_10__.Hploc),
/* harmony export */   Pointing: () => (/* reexport safe */ _Pointing_js__WEBPACK_IMPORTED_MODULE_5__.Pointing),
/* harmony export */   RangeSet: () => (/* reexport safe */ _RangeSet_js__WEBPACK_IMPORTED_MODULE_6__.RangeSet),
/* harmony export */   Vec3: () => (/* reexport safe */ _Vec3_js__WEBPACK_IMPORTED_MODULE_7__.Vec3),
/* harmony export */   Xyf: () => (/* reexport safe */ _Xyf_js__WEBPACK_IMPORTED_MODULE_8__.Xyf),
/* harmony export */   Zphi: () => (/* reexport safe */ _Zphi_js__WEBPACK_IMPORTED_MODULE_9__.Zphi),
/* harmony export */   pstack: () => (/* reexport safe */ _pstack_js__WEBPACK_IMPORTED_MODULE_1__.pstack)
/* harmony export */ });
/* harmony import */ var _Constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Constants.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Constants.js");
/* harmony import */ var _pstack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pstack.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/pstack.js");
/* harmony import */ var _CircleFinder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CircleFinder.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/CircleFinder.js");
/* harmony import */ var _Fxyf_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Fxyf.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Fxyf.js");
/* harmony import */ var _Healpix_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Healpix.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Healpix.js");
/* harmony import */ var _Pointing_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Pointing.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Pointing.js");
/* harmony import */ var _RangeSet_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RangeSet.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/RangeSet.js");
/* harmony import */ var _Vec3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Vec3.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Vec3.js");
/* harmony import */ var _Xyf_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Xyf.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Xyf.js");
/* harmony import */ var _Zphi_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Zphi.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Zphi.js");
/* harmony import */ var _Hploc_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Hploc.js */ "../astro-viewer/node_modules/healpixjs/lib-esm/Hploc.js");











//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../astro-viewer/node_modules/healpixjs/lib-esm/pstack.js":
/*!****************************************************************!*\
  !*** ../astro-viewer/node_modules/healpixjs/lib-esm/pstack.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   pstack: () => (/* binding */ pstack)
/* harmony export */ });
class pstack {
    /** Creation from individual components */
    constructor(sz) {
        this.p = new Array(sz);
        this.o = new Int32Array(sz);
        this.s = 0;
        this.m = 0;
    }
    ;
    /**
     * @param p long
     * @param o int
     */
    push(p_, o_) {
        this.p[this.s] = p_;
        this.o[this.s] = o_;
        ++this.s;
    }
    ;
    pop() {
        --this.s;
    }
    ;
    popToMark() {
        this.s = this.m;
    }
    ;
    size() {
        return this.s;
    }
    ;
    mark() {
        this.m = this.s;
    }
    ;
    otop() {
        return this.o[this.s - 1];
    }
    ;
    ptop() {
        return this.p[this.s - 1];
    }
    ;
}
//# sourceMappingURL=pstack.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/css-tag.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/css-tag.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CSSResult: () => (/* binding */ CSSResult),
/* harmony export */   adoptStyles: () => (/* binding */ adoptStyles),
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   getCompatibleStyle: () => (/* binding */ getCompatibleStyle),
/* harmony export */   supportsAdoptingStyleSheets: () => (/* binding */ supportsAdoptingStyleSheets),
/* harmony export */   unsafeCSS: () => (/* binding */ unsafeCSS)
/* harmony export */ });
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const NODE_MODE = false;
// Allows minifiers to rename references to globalThis
const global = globalThis;
/**
 * Whether the current browser supports `adoptedStyleSheets`.
 */
const supportsAdoptingStyleSheets = global.ShadowRoot &&
    (global.ShadyCSS === undefined || global.ShadyCSS.nativeShadow) &&
    'adoptedStyleSheets' in Document.prototype &&
    'replace' in CSSStyleSheet.prototype;
const constructionToken = Symbol();
const cssTagCache = new WeakMap();
/**
 * A container for a string of CSS text, that may be used to create a CSSStyleSheet.
 *
 * CSSResult is the return value of `css`-tagged template literals and
 * `unsafeCSS()`. In order to ensure that CSSResults are only created via the
 * `css` tag and `unsafeCSS()`, CSSResult cannot be constructed directly.
 */
class CSSResult {
    constructor(cssText, strings, safeToken) {
        // This property needs to remain unminified.
        this['_$cssResult$'] = true;
        if (safeToken !== constructionToken) {
            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');
        }
        this.cssText = cssText;
        this._strings = strings;
    }
    // This is a getter so that it's lazy. In practice, this means stylesheets
    // are not created until the first element instance is made.
    get styleSheet() {
        // If `supportsAdoptingStyleSheets` is true then we assume CSSStyleSheet is
        // constructable.
        let styleSheet = this._styleSheet;
        const strings = this._strings;
        if (supportsAdoptingStyleSheets && styleSheet === undefined) {
            const cacheable = strings !== undefined && strings.length === 1;
            if (cacheable) {
                styleSheet = cssTagCache.get(strings);
            }
            if (styleSheet === undefined) {
                (this._styleSheet = styleSheet = new CSSStyleSheet()).replaceSync(this.cssText);
                if (cacheable) {
                    cssTagCache.set(strings, styleSheet);
                }
            }
        }
        return styleSheet;
    }
    toString() {
        return this.cssText;
    }
}
const textFromCSSResult = (value) => {
    // This property needs to remain unminified.
    if (value['_$cssResult$'] === true) {
        return value.cssText;
    }
    else if (typeof value === 'number') {
        return value;
    }
    else {
        throw new Error(`Value passed to 'css' function must be a 'css' function result: ` +
            `${value}. Use 'unsafeCSS' to pass non-literal values, but take care ` +
            `to ensure page security.`);
    }
};
/**
 * Wrap a value for interpolation in a {@linkcode css} tagged template literal.
 *
 * This is unsafe because untrusted CSS text can be used to phone home
 * or exfiltrate data to an attacker controlled site. Take care to only use
 * this with trusted input.
 */
const unsafeCSS = (value) => new CSSResult(typeof value === 'string' ? value : String(value), undefined, constructionToken);
/**
 * A template literal tag which can be used with LitElement's
 * {@linkcode LitElement.styles} property to set element styles.
 *
 * For security reasons, only literal string values and number may be used in
 * embedded expressions. To incorporate non-literal values {@linkcode unsafeCSS}
 * may be used inside an expression.
 */
const css = (strings, ...values) => {
    const cssText = strings.length === 1
        ? strings[0]
        : values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);
    return new CSSResult(cssText, strings, constructionToken);
};
/**
 * Applies the given styles to a `shadowRoot`. When Shadow DOM is
 * available but `adoptedStyleSheets` is not, styles are appended to the
 * `shadowRoot` to [mimic the native feature](https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets).
 * Note, when shimming is used, any styles that are subsequently placed into
 * the shadowRoot should be placed *before* any shimmed adopted styles. This
 * will match spec behavior that gives adopted sheets precedence over styles in
 * shadowRoot.
 */
const adoptStyles = (renderRoot, styles) => {
    if (supportsAdoptingStyleSheets) {
        renderRoot.adoptedStyleSheets = styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);
    }
    else {
        for (const s of styles) {
            const style = document.createElement('style');
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            const nonce = global['litNonce'];
            if (nonce !== undefined) {
                style.setAttribute('nonce', nonce);
            }
            style.textContent = s.cssText;
            renderRoot.appendChild(style);
        }
    }
};
const cssResultFromStyleSheet = (sheet) => {
    let cssText = '';
    for (const rule of sheet.cssRules) {
        cssText += rule.cssText;
    }
    return unsafeCSS(cssText);
};
const getCompatibleStyle = supportsAdoptingStyleSheets ||
    (NODE_MODE && global.CSSStyleSheet === undefined)
    ? (s) => s
    : (s) => s instanceof CSSStyleSheet ? cssResultFromStyleSheet(s) : s;
//# sourceMappingURL=css-tag.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/base.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/base.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   desc: () => (/* binding */ desc)
/* harmony export */ });
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * Wraps up a few best practices when returning a property descriptor from a
 * decorator.
 *
 * Marks the defined property as configurable, and enumerable, and handles
 * the case where we have a busted Reflect.decorate zombiefill (e.g. in Angular
 * apps).
 *
 * @internal
 */
const desc = (obj, name, descriptor) => {
    // For backwards compatibility, we keep them configurable and enumerable.
    descriptor.configurable = true;
    descriptor.enumerable = true;
    if (
    // We check for Reflect.decorate each time, in case the zombiefill
    // is applied via lazy loading some Angular code.
    Reflect.decorate &&
        typeof name !== 'object') {
        // If we're called as a legacy decorator, and Reflect.decorate is present
        // then we have no guarantees that the returned descriptor will be
        // defined on the class, so we must apply it directly ourselves.
        Object.defineProperty(obj, name, descriptor);
    }
    return descriptor;
};
//# sourceMappingURL=base.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/custom-element.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/custom-element.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   customElement: () => (/* binding */ customElement)
/* harmony export */ });
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * Class decorator factory that defines the decorated class as a custom element.
 *
 * ```js
 * @customElement('my-element')
 * class MyElement extends LitElement {
 *   render() {
 *     return html``;
 *   }
 * }
 * ```
 * @category Decorator
 * @param tagName The tag name of the custom element to define.
 */
const customElement = (tagName) => (classOrTarget, context) => {
    if (context !== undefined) {
        context.addInitializer(() => {
            customElements.define(tagName, classOrTarget);
        });
    }
    else {
        customElements.define(tagName, classOrTarget);
    }
};
//# sourceMappingURL=custom-element.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/event-options.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/event-options.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   eventOptions: () => (/* binding */ eventOptions)
/* harmony export */ });
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * Adds event listener options to a method used as an event listener in a
 * lit-html template.
 *
 * @param options An object that specifies event listener options as accepted by
 * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.
 *
 * Current browsers support the `capture`, `passive`, and `once` options. See:
 * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters
 *
 * ```ts
 * class MyElement {
 *   clicked = false;
 *
 *   render() {
 *     return html`
 *       <div @click=${this._onClick}>
 *         <button></button>
 *       </div>
 *     `;
 *   }
 *
 *   @eventOptions({capture: true})
 *   _onClick(e) {
 *     this.clicked = true;
 *   }
 * }
 * ```
 * @category Decorator
 */
function eventOptions(options) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    return ((protoOrValue, nameOrContext) => {
        const method = typeof protoOrValue === 'function'
            ? protoOrValue
            : protoOrValue[nameOrContext];
        Object.assign(method, options);
    });
}
//# sourceMappingURL=event-options.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/property.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/property.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   property: () => (/* binding */ property),
/* harmony export */   standardProperty: () => (/* binding */ standardProperty)
/* harmony export */ });
/* harmony import */ var _reactive_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../reactive-element.js */ "./node_modules/@lit/reactive-element/development/reactive-element.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/*
 * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all
 * property decorators (but not class decorators) in this file that have
 * an @ExportDecoratedItems annotation must be defined as a regular function,
 * not an arrow function.
 */

const DEV_MODE = true;
let issueWarning;
if (DEV_MODE) {
    // Ensure warnings are issued only 1x, even if multiple versions of Lit
    // are loaded.
    globalThis.litIssuedWarnings ??= new Set();
    /**
     * Issue a warning if we haven't already, based either on `code` or `warning`.
     * Warnings are disabled automatically only by `warning`; disabling via `code`
     * can be done by users.
     */
    issueWarning = (code, warning) => {
        warning += ` See https://lit.dev/msg/${code} for more information.`;
        if (!globalThis.litIssuedWarnings.has(warning) &&
            !globalThis.litIssuedWarnings.has(code)) {
            console.warn(warning);
            globalThis.litIssuedWarnings.add(warning);
        }
    };
}
const legacyProperty = (options, proto, name) => {
    const hasOwnProperty = proto.hasOwnProperty(name);
    proto.constructor.createProperty(name, options);
    // For accessors (which have a descriptor on the prototype) we need to
    // return a descriptor, otherwise TypeScript overwrites the descriptor we
    // define in createProperty() with the original descriptor. We don't do this
    // for fields, which don't have a descriptor, because this could overwrite
    // descriptor defined by other decorators.
    return hasOwnProperty
        ? Object.getOwnPropertyDescriptor(proto, name)
        : undefined;
};
// This is duplicated from a similar variable in reactive-element.ts, but
// actually makes sense to have this default defined with the decorator, so
// that different decorators could have different defaults.
const defaultPropertyDeclaration = {
    attribute: true,
    type: String,
    converter: _reactive_element_js__WEBPACK_IMPORTED_MODULE_0__.defaultConverter,
    reflect: false,
    hasChanged: _reactive_element_js__WEBPACK_IMPORTED_MODULE_0__.notEqual,
};
/**
 * Wraps a class accessor or setter so that `requestUpdate()` is called with the
 * property name and old value when the accessor is set.
 */
const standardProperty = (options = defaultPropertyDeclaration, target, context) => {
    const { kind, metadata } = context;
    if (DEV_MODE && metadata == null) {
        issueWarning('missing-class-metadata', `The class ${target} is missing decorator metadata. This ` +
            `could mean that you're using a compiler that supports decorators ` +
            `but doesn't support decorator metadata, such as TypeScript 5.1. ` +
            `Please update your compiler.`);
    }
    // Store the property options
    let properties = globalThis.litPropertyMetadata.get(metadata);
    if (properties === undefined) {
        globalThis.litPropertyMetadata.set(metadata, (properties = new Map()));
    }
    if (kind === 'setter') {
        options = Object.create(options);
        options.wrapped = true;
    }
    properties.set(context.name, options);
    if (kind === 'accessor') {
        // Standard decorators cannot dynamically modify the class, so we can't
        // replace a field with accessors. The user must use the new `accessor`
        // keyword instead.
        const { name } = context;
        return {
            set(v) {
                const oldValue = target.get.call(this);
                target.set.call(this, v);
                this.requestUpdate(name, oldValue, options);
            },
            init(v) {
                if (v !== undefined) {
                    this._$changeProperty(name, undefined, options, v);
                }
                return v;
            },
        };
    }
    else if (kind === 'setter') {
        const { name } = context;
        return function (value) {
            const oldValue = this[name];
            target.call(this, value);
            this.requestUpdate(name, oldValue, options);
        };
    }
    throw new Error(`Unsupported decorator location: ${kind}`);
};
/**
 * A class field or accessor decorator which creates a reactive property that
 * reflects a corresponding attribute value. When a decorated property is set
 * the element will update and render. A {@linkcode PropertyDeclaration} may
 * optionally be supplied to configure property features.
 *
 * This decorator should only be used for public fields. As public fields,
 * properties should be considered as primarily settable by element users,
 * either via attribute or the property itself.
 *
 * Generally, properties that are changed by the element should be private or
 * protected fields and should use the {@linkcode state} decorator.
 *
 * However, sometimes element code does need to set a public property. This
 * should typically only be done in response to user interaction, and an event
 * should be fired informing the user; for example, a checkbox sets its
 * `checked` property when clicked and fires a `changed` event. Mutating public
 * properties should typically not be done for non-primitive (object or array)
 * properties. In other cases when an element needs to manage state, a private
 * property decorated via the {@linkcode state} decorator should be used. When
 * needed, state properties can be initialized via public properties to
 * facilitate complex interactions.
 *
 * ```ts
 * class MyElement {
 *   @property({ type: Boolean })
 *   clicked = false;
 * }
 * ```
 * @category Decorator
 * @ExportDecoratedItems
 */
function property(options) {
    return (protoOrTarget, nameOrContext
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    ) => {
        return (typeof nameOrContext === 'object'
            ? standardProperty(options, protoOrTarget, nameOrContext)
            : legacyProperty(options, protoOrTarget, nameOrContext));
    };
}
//# sourceMappingURL=property.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/query-all.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/query-all.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryAll: () => (/* binding */ queryAll)
/* harmony export */ });
/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ "./node_modules/@lit/reactive-element/development/decorators/base.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */

// Shared fragment used to generate empty NodeLists when a render root is
// undefined
let fragment;
/**
 * A property decorator that converts a class property into a getter
 * that executes a querySelectorAll on the element's renderRoot.
 *
 * @param selector A DOMString containing one or more selectors to match.
 *
 * See:
 * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll
 *
 * ```ts
 * class MyElement {
 *   @queryAll('div')
 *   divs: NodeListOf<HTMLDivElement>;
 *
 *   render() {
 *     return html`
 *       <div id="first"></div>
 *       <div id="second"></div>
 *     `;
 *   }
 * }
 * ```
 * @category Decorator
 */
function queryAll(selector) {
    return ((obj, name) => {
        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {
            get() {
                const container = this.renderRoot ?? (fragment ??= document.createDocumentFragment());
                return container.querySelectorAll(selector);
            },
        });
    });
}
//# sourceMappingURL=query-all.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/query-assigned-elements.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/query-assigned-elements.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryAssignedElements: () => (/* binding */ queryAssignedElements)
/* harmony export */ });
/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ "./node_modules/@lit/reactive-element/development/decorators/base.js");
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */

/**
 * A property decorator that converts a class property into a getter that
 * returns the `assignedElements` of the given `slot`. Provides a declarative
 * way to use
 * [`HTMLSlotElement.assignedElements`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement/assignedElements).
 *
 * Can be passed an optional {@linkcode QueryAssignedElementsOptions} object.
 *
 * Example usage:
 * ```ts
 * class MyElement {
 *   @queryAssignedElements({ slot: 'list' })
 *   listItems!: Array<HTMLElement>;
 *   @queryAssignedElements()
 *   unnamedSlotEls!: Array<HTMLElement>;
 *
 *   render() {
 *     return html`
 *       <slot name="list"></slot>
 *       <slot></slot>
 *     `;
 *   }
 * }
 * ```
 *
 * Note, the type of this property should be annotated as `Array<HTMLElement>`.
 *
 * @category Decorator
 */
function queryAssignedElements(options) {
    return ((obj, name) => {
        const { slot, selector } = options ?? {};
        const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;
        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {
            get() {
                const slotEl = this.renderRoot?.querySelector(slotSelector);
                const elements = slotEl?.assignedElements(options) ?? [];
                return (selector === undefined
                    ? elements
                    : elements.filter((node) => node.matches(selector)));
            },
        });
    });
}
//# sourceMappingURL=query-assigned-elements.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/query-assigned-nodes.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/query-assigned-nodes.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryAssignedNodes: () => (/* binding */ queryAssignedNodes)
/* harmony export */ });
/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ "./node_modules/@lit/reactive-element/development/decorators/base.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */

/**
 * A property decorator that converts a class property into a getter that
 * returns the `assignedNodes` of the given `slot`.
 *
 * Can be passed an optional {@linkcode QueryAssignedNodesOptions} object.
 *
 * Example usage:
 * ```ts
 * class MyElement {
 *   @queryAssignedNodes({slot: 'list', flatten: true})
 *   listItems!: Array<Node>;
 *
 *   render() {
 *     return html`
 *       <slot name="list"></slot>
 *     `;
 *   }
 * }
 * ```
 *
 * Note the type of this property should be annotated as `Array<Node>`. Use the
 * queryAssignedElements decorator to list only elements, and optionally filter
 * the element list using a CSS selector.
 *
 * @category Decorator
 */
function queryAssignedNodes(options) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    return ((obj, name) => {
        const { slot } = options ?? {};
        const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;
        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {
            get() {
                const slotEl = this.renderRoot?.querySelector(slotSelector);
                return (slotEl?.assignedNodes(options) ?? []);
            },
        });
    });
}
//# sourceMappingURL=query-assigned-nodes.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/query-async.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/query-async.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryAsync: () => (/* binding */ queryAsync)
/* harmony export */ });
/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ "./node_modules/@lit/reactive-element/development/decorators/base.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */

// Note, in the future, we may extend this decorator to support the use case
// where the queried element may need to do work to become ready to interact
// with (e.g. load some implementation code). If so, we might elect to
// add a second argument defining a function that can be run to make the
// queried element loaded/updated/ready.
/**
 * A property decorator that converts a class property into a getter that
 * returns a promise that resolves to the result of a querySelector on the
 * element's renderRoot done after the element's `updateComplete` promise
 * resolves. When the queried property may change with element state, this
 * decorator can be used instead of requiring users to await the
 * `updateComplete` before accessing the property.
 *
 * @param selector A DOMString containing one or more selectors to match.
 *
 * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector
 *
 * ```ts
 * class MyElement {
 *   @queryAsync('#first')
 *   first: Promise<HTMLDivElement>;
 *
 *   render() {
 *     return html`
 *       <div id="first"></div>
 *       <div id="second"></div>
 *     `;
 *   }
 * }
 *
 * // external usage
 * async doSomethingWithFirst() {
 *  (await aMyElement.first).doSomething();
 * }
 * ```
 * @category Decorator
 */
function queryAsync(selector) {
    return ((obj, name) => {
        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {
            async get() {
                await this.updateComplete;
                return this.renderRoot?.querySelector(selector) ?? null;
            },
        });
    });
}
//# sourceMappingURL=query-async.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/query.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/query.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   query: () => (/* binding */ query)
/* harmony export */ });
/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ "./node_modules/@lit/reactive-element/development/decorators/base.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */

const DEV_MODE = true;
let issueWarning;
if (DEV_MODE) {
    // Ensure warnings are issued only 1x, even if multiple versions of Lit
    // are loaded.
    globalThis.litIssuedWarnings ??= new Set();
    /**
     * Issue a warning if we haven't already, based either on `code` or `warning`.
     * Warnings are disabled automatically only by `warning`; disabling via `code`
     * can be done by users.
     */
    issueWarning = (code, warning) => {
        warning += code
            ? ` See https://lit.dev/msg/${code} for more information.`
            : '';
        if (!globalThis.litIssuedWarnings.has(warning) &&
            !globalThis.litIssuedWarnings.has(code)) {
            console.warn(warning);
            globalThis.litIssuedWarnings.add(warning);
        }
    };
}
/**
 * A property decorator that converts a class property into a getter that
 * executes a querySelector on the element's renderRoot.
 *
 * @param selector A DOMString containing one or more selectors to match.
 * @param cache An optional boolean which when true performs the DOM query only
 *     once and caches the result.
 *
 * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector
 *
 * ```ts
 * class MyElement {
 *   @query('#first')
 *   first: HTMLDivElement;
 *
 *   render() {
 *     return html`
 *       <div id="first"></div>
 *       <div id="second"></div>
 *     `;
 *   }
 * }
 * ```
 * @category Decorator
 */
function query(selector, cache) {
    return ((protoOrTarget, nameOrContext, descriptor) => {
        const doQuery = (el) => {
            const result = (el.renderRoot?.querySelector(selector) ?? null);
            if (DEV_MODE && result === null && cache && !el.hasUpdated) {
                const name = typeof nameOrContext === 'object'
                    ? nameOrContext.name
                    : nameOrContext;
                issueWarning('', `@query'd field ${JSON.stringify(String(name))} with the 'cache' ` +
                    `flag set for selector '${selector}' has been accessed before ` +
                    `the first update and returned null. This is expected if the ` +
                    `renderRoot tree has not been provided beforehand (e.g. via ` +
                    `Declarative Shadow DOM). Therefore the value hasn't been cached.`);
            }
            // TODO: if we want to allow users to assert that the query will never
            // return null, we need a new option and to throw here if the result
            // is null.
            return result;
        };
        if (cache) {
            // Accessors to wrap from either:
            //   1. The decorator target, in the case of standard decorators
            //   2. The property descriptor, in the case of experimental decorators
            //      on auto-accessors.
            //   3. Functions that access our own cache-key property on the instance,
            //      in the case of experimental decorators on fields.
            const { get, set } = typeof nameOrContext === 'object'
                ? protoOrTarget
                : descriptor ??
                    (() => {
                        const key = DEV_MODE
                            ? Symbol(`${String(nameOrContext)} (@query() cache)`)
                            : Symbol();
                        return {
                            get() {
                                return this[key];
                            },
                            set(v) {
                                this[key] = v;
                            },
                        };
                    })();
            return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(protoOrTarget, nameOrContext, {
                get() {
                    let result = get.call(this);
                    if (result === undefined) {
                        result = doQuery(this);
                        if (result !== null || this.hasUpdated) {
                            set.call(this, result);
                        }
                    }
                    return result;
                },
            });
        }
        else {
            // This object works as the return type for both standard and
            // experimental decorators.
            return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(protoOrTarget, nameOrContext, {
                get() {
                    return doQuery(this);
                },
            });
        }
    });
}
//# sourceMappingURL=query.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/decorators/state.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/decorators/state.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   state: () => (/* binding */ state)
/* harmony export */ });
/* harmony import */ var _property_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./property.js */ "./node_modules/@lit/reactive-element/development/decorators/property.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/*
 * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all
 * property decorators (but not class decorators) in this file that have
 * an @ExportDecoratedItems annotation must be defined as a regular function,
 * not an arrow function.
 */

/**
 * Declares a private or protected reactive property that still triggers
 * updates to the element when it changes. It does not reflect from the
 * corresponding attribute.
 *
 * Properties declared this way must not be used from HTML or HTML templating
 * systems, they're solely for properties internal to the element. These
 * properties may be renamed by optimization tools like closure compiler.
 * @category Decorator
 */
function state(options) {
    return (0,_property_js__WEBPACK_IMPORTED_MODULE_0__.property)({
        ...options,
        // Add both `state` and `attribute` because we found a third party
        // controller that is keying off of PropertyOptions.state to determine
        // whether a field is a private internal property or not.
        state: true,
        attribute: false,
    });
}
//# sourceMappingURL=state.js.map

/***/ }),

/***/ "./node_modules/@lit/reactive-element/development/reactive-element.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@lit/reactive-element/development/reactive-element.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CSSResult: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.CSSResult),
/* harmony export */   ReactiveElement: () => (/* binding */ ReactiveElement),
/* harmony export */   adoptStyles: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.adoptStyles),
/* harmony export */   css: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.css),
/* harmony export */   defaultConverter: () => (/* binding */ defaultConverter),
/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle),
/* harmony export */   notEqual: () => (/* binding */ notEqual),
/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.supportsAdoptingStyleSheets),
/* harmony export */   unsafeCSS: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)
/* harmony export */ });
/* harmony import */ var _css_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css-tag.js */ "./node_modules/@lit/reactive-element/development/css-tag.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * Use this module if you want to create your own base class extending
 * {@link ReactiveElement}.
 * @packageDocumentation
 */

// In the Node build, this import will be injected by Rollup:
// import {HTMLElement, customElements} from '@lit-labs/ssr-dom-shim';

// TODO (justinfagnani): Add `hasOwn` here when we ship ES2022
const { is, defineProperty, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols, getPrototypeOf, } = Object;
const NODE_MODE = false;
// Lets a minifier replace globalThis references with a minified name
const global = globalThis;
if (NODE_MODE) {
    global.customElements ??= customElements;
}
const DEV_MODE = true;
let issueWarning;
const trustedTypes = global
    .trustedTypes;
// Temporary workaround for https://crbug.com/993268
// Currently, any attribute starting with "on" is considered to be a
// TrustedScript source. Such boolean attributes must be set to the equivalent
// trusted emptyScript value.
const emptyStringForBooleanAttribute = trustedTypes
    ? trustedTypes.emptyScript
    : '';
const polyfillSupport = DEV_MODE
    ? global.reactiveElementPolyfillSupportDevMode
    : global.reactiveElementPolyfillSupport;
if (DEV_MODE) {
    // Ensure warnings are issued only 1x, even if multiple versions of Lit
    // are loaded.
    global.litIssuedWarnings ??= new Set();
    /**
     * Issue a warning if we haven't already, based either on `code` or `warning`.
     * Warnings are disabled automatically only by `warning`; disabling via `code`
     * can be done by users.
     */
    issueWarning = (code, warning) => {
        warning += ` See https://lit.dev/msg/${code} for more information.`;
        if (!global.litIssuedWarnings.has(warning) &&
            !global.litIssuedWarnings.has(code)) {
            console.warn(warning);
            global.litIssuedWarnings.add(warning);
        }
    };
    queueMicrotask(() => {
        issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);
        // Issue polyfill support warning.
        if (global.ShadyDOM?.inUse && polyfillSupport === undefined) {
            issueWarning('polyfill-support-missing', `Shadow DOM is being polyfilled via \`ShadyDOM\` but ` +
                `the \`polyfill-support\` module has not been loaded.`);
        }
    });
}
/**
 * Useful for visualizing and logging insights into what the Lit template system is doing.
 *
 * Compiled out of prod mode builds.
 */
const debugLogEvent = DEV_MODE
    ? (event) => {
        const shouldEmit = global
            .emitLitDebugLogEvents;
        if (!shouldEmit) {
            return;
        }
        global.dispatchEvent(new CustomEvent('lit-debug', {
            detail: event,
        }));
    }
    : undefined;
/*
 * When using Closure Compiler, JSCompiler_renameProperty(property, object) is
 * replaced at compile time by the munged name for object[property]. We cannot
 * alias this function, so we have to use a small shim that has the same
 * behavior when not compiling.
 */
/*@__INLINE__*/
const JSCompiler_renameProperty = (prop, _obj) => prop;
const defaultConverter = {
    toAttribute(value, type) {
        switch (type) {
            case Boolean:
                value = value ? emptyStringForBooleanAttribute : null;
                break;
            case Object:
            case Array:
                // if the value is `null` or `undefined` pass this through
                // to allow removing/no change behavior.
                value = value == null ? value : JSON.stringify(value);
                break;
        }
        return value;
    },
    fromAttribute(value, type) {
        let fromValue = value;
        switch (type) {
            case Boolean:
                fromValue = value !== null;
                break;
            case Number:
                fromValue = value === null ? null : Number(value);
                break;
            case Object:
            case Array:
                // Do *not* generate exception when invalid JSON is set as elements
                // don't normally complain on being mis-configured.
                // TODO(sorvell): Do generate exception in *dev mode*.
                try {
                    // Assert to adhere to Bazel's "must type assert JSON parse" rule.
                    fromValue = JSON.parse(value);
                }
                catch (e) {
                    fromValue = null;
                }
                break;
        }
        return fromValue;
    },
};
/**
 * Change function that returns true if `value` is different from `oldValue`.
 * This method is used as the default for a property's `hasChanged` function.
 */
const notEqual = (value, old) => !is(value, old);
const defaultPropertyDeclaration = {
    attribute: true,
    type: String,
    converter: defaultConverter,
    reflect: false,
    useDefault: false,
    hasChanged: notEqual,
};
// Ensure metadata is enabled. TypeScript does not polyfill
// Symbol.metadata, so we must ensure that it exists.
Symbol.metadata ??= Symbol('metadata');
// Map from a class's metadata object to property options
// Note that we must use nullish-coalescing assignment so that we only use one
// map even if we load multiple version of this module.
global.litPropertyMetadata ??= new WeakMap();
/**
 * Base element class which manages element properties and attributes. When
 * properties change, the `update` method is asynchronously called. This method
 * should be supplied by subclasses to render updates as desired.
 * @noInheritDoc
 */
class ReactiveElement
// In the Node build, this `extends` clause will be substituted with
// `(globalThis.HTMLElement ?? HTMLElement)`.
//
// This way, we will first prefer any global `HTMLElement` polyfill that the
// user has assigned, and then fall back to the `HTMLElement` shim which has
// been imported (see note at the top of this file about how this import is
// generated by Rollup). Note that the `HTMLElement` variable has been
// shadowed by this import, so it no longer refers to the global.
 extends HTMLElement {
    /**
     * Adds an initializer function to the class that is called during instance
     * construction.
     *
     * This is useful for code that runs against a `ReactiveElement`
     * subclass, such as a decorator, that needs to do work for each
     * instance, such as setting up a `ReactiveController`.
     *
     * ```ts
     * const myDecorator = (target: typeof ReactiveElement, key: string) => {
     *   target.addInitializer((instance: ReactiveElement) => {
     *     // This is run during construction of the element
     *     new MyController(instance);
     *   });
     * }
     * ```
     *
     * Decorating a field will then cause each instance to run an initializer
     * that adds a controller:
     *
     * ```ts
     * class MyElement extends LitElement {
     *   @myDecorator foo;
     * }
     * ```
     *
     * Initializers are stored per-constructor. Adding an initializer to a
     * subclass does not add it to a superclass. Since initializers are run in
     * constructors, initializers will run in order of the class hierarchy,
     * starting with superclasses and progressing to the instance's class.
     *
     * @nocollapse
     */
    static addInitializer(initializer) {
        this.__prepare();
        (this._initializers ??= []).push(initializer);
    }
    /**
     * Returns a list of attributes corresponding to the registered properties.
     * @nocollapse
     * @category attributes
     */
    static get observedAttributes() {
        // Ensure we've created all properties
        this.finalize();
        // this.__attributeToPropertyMap is only undefined after finalize() in
        // ReactiveElement itself. ReactiveElement.observedAttributes is only
        // accessed with ReactiveElement as the receiver when a subclass or mixin
        // calls super.observedAttributes
        return (this.__attributeToPropertyMap && [...this.__attributeToPropertyMap.keys()]);
    }
    /**
     * Creates a property accessor on the element prototype if one does not exist
     * and stores a {@linkcode PropertyDeclaration} for the property with the
     * given options. The property setter calls the property's `hasChanged`
     * property option or uses a strict identity check to determine whether or not
     * to request an update.
     *
     * This method may be overridden to customize properties; however,
     * when doing so, it's important to call `super.createProperty` to ensure
     * the property is setup correctly. This method calls
     * `getPropertyDescriptor` internally to get a descriptor to install.
     * To customize what properties do when they are get or set, override
     * `getPropertyDescriptor`. To customize the options for a property,
     * implement `createProperty` like this:
     *
     * ```ts
     * static createProperty(name, options) {
     *   options = Object.assign(options, {myOption: true});
     *   super.createProperty(name, options);
     * }
     * ```
     *
     * @nocollapse
     * @category properties
     */
    static createProperty(name, options = defaultPropertyDeclaration) {
        // If this is a state property, force the attribute to false.
        if (options.state) {
            options.attribute = false;
        }
        this.__prepare();
        // Whether this property is wrapping accessors.
        // Helps control the initial value change and reflection logic.
        if (this.prototype.hasOwnProperty(name)) {
            options = Object.create(options);
            options.wrapped = true;
        }
        this.elementProperties.set(name, options);
        if (!options.noAccessor) {
            const key = DEV_MODE
                ? // Use Symbol.for in dev mode to make it easier to maintain state
                    // when doing HMR.
                    Symbol.for(`${String(name)} (@property() cache)`)
                : Symbol();
            const descriptor = this.getPropertyDescriptor(name, key, options);
            if (descriptor !== undefined) {
                defineProperty(this.prototype, name, descriptor);
            }
        }
    }
    /**
     * Returns a property descriptor to be defined on the given named property.
     * If no descriptor is returned, the property will not become an accessor.
     * For example,
     *
     * ```ts
     * class MyElement extends LitElement {
     *   static getPropertyDescriptor(name, key, options) {
     *     const defaultDescriptor =
     *         super.getPropertyDescriptor(name, key, options);
     *     const setter = defaultDescriptor.set;
     *     return {
     *       get: defaultDescriptor.get,
     *       set(value) {
     *         setter.call(this, value);
     *         // custom action.
     *       },
     *       configurable: true,
     *       enumerable: true
     *     }
     *   }
     * }
     * ```
     *
     * @nocollapse
     * @category properties
     */
    static getPropertyDescriptor(name, key, options) {
        const { get, set } = getOwnPropertyDescriptor(this.prototype, name) ?? {
            get() {
                return this[key];
            },
            set(v) {
                this[key] = v;
            },
        };
        if (DEV_MODE && get == null) {
            if ('value' in (getOwnPropertyDescriptor(this.prototype, name) ?? {})) {
                throw new Error(`Field ${JSON.stringify(String(name))} on ` +
                    `${this.name} was declared as a reactive property ` +
                    `but it's actually declared as a value on the prototype. ` +
                    `Usually this is due to using @property or @state on a method.`);
            }
            issueWarning('reactive-property-without-getter', `Field ${JSON.stringify(String(name))} on ` +
                `${this.name} was declared as a reactive property ` +
                `but it does not have a getter. This will be an error in a ` +
                `future version of Lit.`);
        }
        return {
            get,
            set(value) {
                const oldValue = get?.call(this);
                set?.call(this, value);
                this.requestUpdate(name, oldValue, options);
            },
            configurable: true,
            enumerable: true,
        };
    }
    /**
     * Returns the property options associated with the given property.
     * These options are defined with a `PropertyDeclaration` via the `properties`
     * object or the `@property` decorator and are registered in
     * `createProperty(...)`.
     *
     * Note, this method should be considered "final" and not overridden. To
     * customize the options for a given property, override
     * {@linkcode createProperty}.
     *
     * @nocollapse
     * @final
     * @category properties
     */
    static getPropertyOptions(name) {
        return this.elementProperties.get(name) ?? defaultPropertyDeclaration;
    }
    /**
     * Initializes static own properties of the class used in bookkeeping
     * for element properties, initializers, etc.
     *
     * Can be called multiple times by code that needs to ensure these
     * properties exist before using them.
     *
     * This method ensures the superclass is finalized so that inherited
     * property metadata can be copied down.
     * @nocollapse
     */
    static __prepare() {
        if (this.hasOwnProperty(JSCompiler_renameProperty('elementProperties', this))) {
            // Already prepared
            return;
        }
        // Finalize any superclasses
        const superCtor = getPrototypeOf(this);
        superCtor.finalize();
        // Create own set of initializers for this class if any exist on the
        // superclass and copy them down. Note, for a small perf boost, avoid
        // creating initializers unless needed.
        if (superCtor._initializers !== undefined) {
            this._initializers = [...superCtor._initializers];
        }
        // Initialize elementProperties from the superclass
        this.elementProperties = new Map(superCtor.elementProperties);
    }
    /**
     * Finishes setting up the class so that it's ready to be registered
     * as a custom element and instantiated.
     *
     * This method is called by the ReactiveElement.observedAttributes getter.
     * If you override the observedAttributes getter, you must either call
     * super.observedAttributes to trigger finalization, or call finalize()
     * yourself.
     *
     * @nocollapse
     */
    static finalize() {
        if (this.hasOwnProperty(JSCompiler_renameProperty('finalized', this))) {
            return;
        }
        this.finalized = true;
        this.__prepare();
        // Create properties from the static properties block:
        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {
            const props = this.properties;
            const propKeys = [
                ...getOwnPropertyNames(props),
                ...getOwnPropertySymbols(props),
            ];
            for (const p of propKeys) {
                this.createProperty(p, props[p]);
            }
        }
        // Create properties from standard decorator metadata:
        const metadata = this[Symbol.metadata];
        if (metadata !== null) {
            const properties = litPropertyMetadata.get(metadata);
            if (properties !== undefined) {
                for (const [p, options] of properties) {
                    this.elementProperties.set(p, options);
                }
            }
        }
        // Create the attribute-to-property map
        this.__attributeToPropertyMap = new Map();
        for (const [p, options] of this.elementProperties) {
            const attr = this.__attributeNameForProperty(p, options);
            if (attr !== undefined) {
                this.__attributeToPropertyMap.set(attr, p);
            }
        }
        this.elementStyles = this.finalizeStyles(this.styles);
        if (DEV_MODE) {
            if (this.hasOwnProperty('createProperty')) {
                issueWarning('no-override-create-property', 'Overriding ReactiveElement.createProperty() is deprecated. ' +
                    'The override will not be called with standard decorators');
            }
            if (this.hasOwnProperty('getPropertyDescriptor')) {
                issueWarning('no-override-get-property-descriptor', 'Overriding ReactiveElement.getPropertyDescriptor() is deprecated. ' +
                    'The override will not be called with standard decorators');
            }
        }
    }
    /**
     * Takes the styles the user supplied via the `static styles` property and
     * returns the array of styles to apply to the element.
     * Override this method to integrate into a style management system.
     *
     * Styles are deduplicated preserving the _last_ instance in the list. This
     * is a performance optimization to avoid duplicated styles that can occur
     * especially when composing via subclassing. The last item is kept to try
     * to preserve the cascade order with the assumption that it's most important
     * that last added styles override previous styles.
     *
     * @nocollapse
     * @category styles
     */
    static finalizeStyles(styles) {
        const elementStyles = [];
        if (Array.isArray(styles)) {
            // Dedupe the flattened array in reverse order to preserve the last items.
            // Casting to Array<unknown> works around TS error that
            // appears to come from trying to flatten a type CSSResultArray.
            const set = new Set(styles.flat(Infinity).reverse());
            // Then preserve original order by adding the set items in reverse order.
            for (const s of set) {
                elementStyles.unshift((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle)(s));
            }
        }
        else if (styles !== undefined) {
            elementStyles.push((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle)(styles));
        }
        return elementStyles;
    }
    /**
     * Returns the property name for the given attribute `name`.
     * @nocollapse
     */
    static __attributeNameForProperty(name, options) {
        const attribute = options.attribute;
        return attribute === false
            ? undefined
            : typeof attribute === 'string'
                ? attribute
                : typeof name === 'string'
                    ? name.toLowerCase()
                    : undefined;
    }
    constructor() {
        super();
        this.__instanceProperties = undefined;
        /**
         * True if there is a pending update as a result of calling `requestUpdate()`.
         * Should only be read.
         * @category updates
         */
        this.isUpdatePending = false;
        /**
         * Is set to `true` after the first update. The element code cannot assume
         * that `renderRoot` exists before the element `hasUpdated`.
         * @category updates
         */
        this.hasUpdated = false;
        /**
         * Name of currently reflecting property
         */
        this.__reflectingProperty = null;
        this.__initialize();
    }
    /**
     * Internal only override point for customizing work done when elements
     * are constructed.
     */
    __initialize() {
        this.__updatePromise = new Promise((res) => (this.enableUpdating = res));
        this._$changedProperties = new Map();
        // This enqueues a microtask that must run before the first update, so it
        // must be called before requestUpdate()
        this.__saveInstanceProperties();
        // ensures first update will be caught by an early access of
        // `updateComplete`
        this.requestUpdate();
        this.constructor._initializers?.forEach((i) => i(this));
    }
    /**
     * Registers a `ReactiveController` to participate in the element's reactive
     * update cycle. The element automatically calls into any registered
     * controllers during its lifecycle callbacks.
     *
     * If the element is connected when `addController()` is called, the
     * controller's `hostConnected()` callback will be immediately called.
     * @category controllers
     */
    addController(controller) {
        (this.__controllers ??= new Set()).add(controller);
        // If a controller is added after the element has been connected,
        // call hostConnected. Note, re-using existence of `renderRoot` here
        // (which is set in connectedCallback) to avoid the need to track a
        // first connected state.
        if (this.renderRoot !== undefined && this.isConnected) {
            controller.hostConnected?.();
        }
    }
    /**
     * Removes a `ReactiveController` from the element.
     * @category controllers
     */
    removeController(controller) {
        this.__controllers?.delete(controller);
    }
    /**
     * Fixes any properties set on the instance before upgrade time.
     * Otherwise these would shadow the accessor and break these properties.
     * The properties are stored in a Map which is played back after the
     * constructor runs.
     */
    __saveInstanceProperties() {
        const instanceProperties = new Map();
        const elementProperties = this.constructor
            .elementProperties;
        for (const p of elementProperties.keys()) {
            if (this.hasOwnProperty(p)) {
                instanceProperties.set(p, this[p]);
                delete this[p];
            }
        }
        if (instanceProperties.size > 0) {
            this.__instanceProperties = instanceProperties;
        }
    }
    /**
     * Returns the node into which the element should render and by default
     * creates and returns an open shadowRoot. Implement to customize where the
     * element's DOM is rendered. For example, to render into the element's
     * childNodes, return `this`.
     *
     * @return Returns a node into which to render.
     * @category rendering
     */
    createRenderRoot() {
        const renderRoot = this.shadowRoot ??
            this.attachShadow(this.constructor.shadowRootOptions);
        (0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.adoptStyles)(renderRoot, this.constructor.elementStyles);
        return renderRoot;
    }
    /**
     * On first connection, creates the element's renderRoot, sets up
     * element styling, and enables updating.
     * @category lifecycle
     */
    connectedCallback() {
        // Create renderRoot before controllers `hostConnected`
        this.renderRoot ??=
            this.createRenderRoot();
        this.enableUpdating(true);
        this.__controllers?.forEach((c) => c.hostConnected?.());
    }
    /**
     * Note, this method should be considered final and not overridden. It is
     * overridden on the element instance with a function that triggers the first
     * update.
     * @category updates
     */
    enableUpdating(_requestedUpdate) { }
    /**
     * Allows for `super.disconnectedCallback()` in extensions while
     * reserving the possibility of making non-breaking feature additions
     * when disconnecting at some point in the future.
     * @category lifecycle
     */
    disconnectedCallback() {
        this.__controllers?.forEach((c) => c.hostDisconnected?.());
    }
    /**
     * Synchronizes property values when attributes change.
     *
     * Specifically, when an attribute is set, the corresponding property is set.
     * You should rarely need to implement this callback. If this method is
     * overridden, `super.attributeChangedCallback(name, _old, value)` must be
     * called.
     *
     * See [responding to attribute changes](https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements#responding_to_attribute_changes)
     * on MDN for more information about the `attributeChangedCallback`.
     * @category attributes
     */
    attributeChangedCallback(name, _old, value) {
        this._$attributeToProperty(name, value);
    }
    __propertyToAttribute(name, value) {
        const elemProperties = this.constructor.elementProperties;
        const options = elemProperties.get(name);
        const attr = this.constructor.__attributeNameForProperty(name, options);
        if (attr !== undefined && options.reflect === true) {
            const converter = options.converter?.toAttribute !==
                undefined
                ? options.converter
                : defaultConverter;
            const attrValue = converter.toAttribute(value, options.type);
            if (DEV_MODE &&
                this.constructor.enabledWarnings.includes('migration') &&
                attrValue === undefined) {
                issueWarning('undefined-attribute-value', `The attribute value for the ${name} property is ` +
                    `undefined on element ${this.localName}. The attribute will be ` +
                    `removed, but in the previous version of \`ReactiveElement\`, ` +
                    `the attribute would not have changed.`);
            }
            // Track if the property is being reflected to avoid
            // setting the property again via `attributeChangedCallback`. Note:
            // 1. this takes advantage of the fact that the callback is synchronous.
            // 2. will behave incorrectly if multiple attributes are in the reaction
            // stack at time of calling. However, since we process attributes
            // in `update` this should not be possible (or an extreme corner case
            // that we'd like to discover).
            // mark state reflecting
            this.__reflectingProperty = name;
            if (attrValue == null) {
                this.removeAttribute(attr);
            }
            else {
                this.setAttribute(attr, attrValue);
            }
            // mark state not reflecting
            this.__reflectingProperty = null;
        }
    }
    /** @internal */
    _$attributeToProperty(name, value) {
        const ctor = this.constructor;
        // Note, hint this as an `AttributeMap` so closure clearly understands
        // the type; it has issues with tracking types through statics
        const propName = ctor.__attributeToPropertyMap.get(name);
        // Use tracking info to avoid reflecting a property value to an attribute
        // if it was just set because the attribute changed.
        if (propName !== undefined && this.__reflectingProperty !== propName) {
            const options = ctor.getPropertyOptions(propName);
            const converter = typeof options.converter === 'function'
                ? { fromAttribute: options.converter }
                : options.converter?.fromAttribute !== undefined
                    ? options.converter
                    : defaultConverter;
            // mark state reflecting
            this.__reflectingProperty = propName;
            const convertedValue = converter.fromAttribute(value, options.type);
            this[propName] =
                convertedValue ??
                    this.__defaultValues?.get(propName) ??
                    // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    convertedValue;
            // mark state not reflecting
            this.__reflectingProperty = null;
        }
    }
    /**
     * Requests an update which is processed asynchronously. This should be called
     * when an element should update based on some state not triggered by setting
     * a reactive property. In this case, pass no arguments. It should also be
     * called when manually implementing a property setter. In this case, pass the
     * property `name` and `oldValue` to ensure that any configured property
     * options are honored.
     *
     * @param name name of requesting property
     * @param oldValue old value of requesting property
     * @param options property options to use instead of the previously
     *     configured options
     * @category updates
     */
    requestUpdate(name, oldValue, options) {
        // If we have a property key, perform property update steps.
        if (name !== undefined) {
            if (DEV_MODE && name instanceof Event) {
                issueWarning(``, `The requestUpdate() method was called with an Event as the property name. This is probably a mistake caused by binding this.requestUpdate as an event listener. Instead bind a function that will call it with no arguments: () => this.requestUpdate()`);
            }
            const ctor = this.constructor;
            const newValue = this[name];
            options ??= ctor.getPropertyOptions(name);
            const changed = (options.hasChanged ?? notEqual)(newValue, oldValue) ||
                // When there is no change, check a corner case that can occur when
                // 1. there's a initial value which was not reflected
                // 2. the property is subsequently set to this value.
                // For example, `prop: {useDefault: true, reflect: true}`
                // and el.prop = 'foo'. This should be considered a change if the
                // attribute is not set because we will now reflect the property to the attribute.
                (options.useDefault &&
                    options.reflect &&
                    newValue === this.__defaultValues?.get(name) &&
                    !this.hasAttribute(ctor.__attributeNameForProperty(name, options)));
            if (changed) {
                this._$changeProperty(name, oldValue, options);
            }
            else {
                // Abort the request if the property should not be considered changed.
                return;
            }
        }
        if (this.isUpdatePending === false) {
            this.__updatePromise = this.__enqueueUpdate();
        }
    }
    /**
     * @internal
     */
    _$changeProperty(name, oldValue, { useDefault, reflect, wrapped }, initializeValue) {
        // Record default value when useDefault is used. This allows us to
        // restore this value when the attribute is removed.
        if (useDefault && !(this.__defaultValues ??= new Map()).has(name)) {
            this.__defaultValues.set(name, initializeValue ?? oldValue ?? this[name]);
            // if this is not wrapping an accessor, it must be an initial setting
            // and in this case we do not want to record the change or reflect.
            if (wrapped !== true || initializeValue !== undefined) {
                return;
            }
        }
        // TODO (justinfagnani): Create a benchmark of Map.has() + Map.set(
        // vs just Map.set()
        if (!this._$changedProperties.has(name)) {
            // On the initial change, the old value should be `undefined`, except
            // with `useDefault`
            if (!this.hasUpdated && !useDefault) {
                oldValue = undefined;
            }
            this._$changedProperties.set(name, oldValue);
        }
        // Add to reflecting properties set.
        // Note, it's important that every change has a chance to add the
        // property to `__reflectingProperties`. This ensures setting
        // attribute + property reflects correctly.
        if (reflect === true && this.__reflectingProperty !== name) {
            (this.__reflectingProperties ??= new Set()).add(name);
        }
    }
    /**
     * Sets up the element to asynchronously update.
     */
    async __enqueueUpdate() {
        this.isUpdatePending = true;
        try {
            // Ensure any previous update has resolved before updating.
            // This `await` also ensures that property changes are batched.
            await this.__updatePromise;
        }
        catch (e) {
            // Refire any previous errors async so they do not disrupt the update
            // cycle. Errors are refired so developers have a chance to observe
            // them, and this can be done by implementing
            // `window.onunhandledrejection`.
            Promise.reject(e);
        }
        const result = this.scheduleUpdate();
        // If `scheduleUpdate` returns a Promise, we await it. This is done to
        // enable coordinating updates with a scheduler. Note, the result is
        // checked to avoid delaying an additional microtask unless we need to.
        if (result != null) {
            await result;
        }
        return !this.isUpdatePending;
    }
    /**
     * Schedules an element update. You can override this method to change the
     * timing of updates by returning a Promise. The update will await the
     * returned Promise, and you should resolve the Promise to allow the update
     * to proceed. If this method is overridden, `super.scheduleUpdate()`
     * must be called.
     *
     * For instance, to schedule updates to occur just before the next frame:
     *
     * ```ts
     * override protected async scheduleUpdate(): Promise<unknown> {
     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));
     *   super.scheduleUpdate();
     * }
     * ```
     * @category updates
     */
    scheduleUpdate() {
        const result = this.performUpdate();
        if (DEV_MODE &&
            this.constructor.enabledWarnings.includes('async-perform-update') &&
            typeof result?.then ===
                'function') {
            issueWarning('async-perform-update', `Element ${this.localName} returned a Promise from performUpdate(). ` +
                `This behavior is deprecated and will be removed in a future ` +
                `version of ReactiveElement.`);
        }
        return result;
    }
    /**
     * Performs an element update. Note, if an exception is thrown during the
     * update, `firstUpdated` and `updated` will not be called.
     *
     * Call `performUpdate()` to immediately process a pending update. This should
     * generally not be needed, but it can be done in rare cases when you need to
     * update synchronously.
     *
     * @category updates
     */
    performUpdate() {
        // Abort any update if one is not pending when this is called.
        // This can happen if `performUpdate` is called early to "flush"
        // the update.
        if (!this.isUpdatePending) {
            return;
        }
        debugLogEvent?.({ kind: 'update' });
        if (!this.hasUpdated) {
            // Create renderRoot before first update. This occurs in `connectedCallback`
            // but is done here to support out of tree calls to `enableUpdating`/`performUpdate`.
            this.renderRoot ??=
                this.createRenderRoot();
            if (DEV_MODE) {
                // Produce warning if any reactive properties on the prototype are
                // shadowed by class fields. Instance fields set before upgrade are
                // deleted by this point, so any own property is caused by class field
                // initialization in the constructor.
                const ctor = this.constructor;
                const shadowedProperties = [...ctor.elementProperties.keys()].filter((p) => this.hasOwnProperty(p) && p in getPrototypeOf(this));
                if (shadowedProperties.length) {
                    throw new Error(`The following properties on element ${this.localName} will not ` +
                        `trigger updates as expected because they are set using class ` +
                        `fields: ${shadowedProperties.join(', ')}. ` +
                        `Native class fields and some compiled output will overwrite ` +
                        `accessors used for detecting changes. See ` +
                        `https://lit.dev/msg/class-field-shadowing ` +
                        `for more information.`);
                }
            }
            // Mixin instance properties once, if they exist.
            if (this.__instanceProperties) {
                // TODO (justinfagnani): should we use the stored value? Could a new value
                // have been set since we stored the own property value?
                for (const [p, value] of this.__instanceProperties) {
                    this[p] = value;
                }
                this.__instanceProperties = undefined;
            }
            // Trigger initial value reflection and populate the initial
            // `changedProperties` map, but only for the case of properties created
            // via `createProperty` on accessors, which will not have already
            // populated the `changedProperties` map since they are not set.
            // We can't know if these accessors had initializers, so we just set
            // them anyway - a difference from experimental decorators on fields and
            // standard decorators on auto-accessors.
            // For context see:
            // https://github.com/lit/lit/pull/4183#issuecomment-1711959635
            const elementProperties = this.constructor
                .elementProperties;
            if (elementProperties.size > 0) {
                for (const [p, options] of elementProperties) {
                    const { wrapped } = options;
                    const value = this[p];
                    if (wrapped === true &&
                        !this._$changedProperties.has(p) &&
                        value !== undefined) {
                        this._$changeProperty(p, undefined, options, value);
                    }
                }
            }
        }
        let shouldUpdate = false;
        const changedProperties = this._$changedProperties;
        try {
            shouldUpdate = this.shouldUpdate(changedProperties);
            if (shouldUpdate) {
                this.willUpdate(changedProperties);
                this.__controllers?.forEach((c) => c.hostUpdate?.());
                this.update(changedProperties);
            }
            else {
                this.__markUpdated();
            }
        }
        catch (e) {
            // Prevent `firstUpdated` and `updated` from running when there's an
            // update exception.
            shouldUpdate = false;
            // Ensure element can accept additional updates after an exception.
            this.__markUpdated();
            throw e;
        }
        // The update is no longer considered pending and further updates are now allowed.
        if (shouldUpdate) {
            this._$didUpdate(changedProperties);
        }
    }
    /**
     * Invoked before `update()` to compute values needed during the update.
     *
     * Implement `willUpdate` to compute property values that depend on other
     * properties and are used in the rest of the update process.
     *
     * ```ts
     * willUpdate(changedProperties) {
     *   // only need to check changed properties for an expensive computation.
     *   if (changedProperties.has('firstName') || changedProperties.has('lastName')) {
     *     this.sha = computeSHA(`${this.firstName} ${this.lastName}`);
     *   }
     * }
     *
     * render() {
     *   return html`SHA: ${this.sha}`;
     * }
     * ```
     *
     * @category updates
     */
    willUpdate(_changedProperties) { }
    // Note, this is an override point for polyfill-support.
    // @internal
    _$didUpdate(changedProperties) {
        this.__controllers?.forEach((c) => c.hostUpdated?.());
        if (!this.hasUpdated) {
            this.hasUpdated = true;
            this.firstUpdated(changedProperties);
        }
        this.updated(changedProperties);
        if (DEV_MODE &&
            this.isUpdatePending &&
            this.constructor.enabledWarnings.includes('change-in-update')) {
            issueWarning('change-in-update', `Element ${this.localName} scheduled an update ` +
                `(generally because a property was set) ` +
                `after an update completed, causing a new update to be scheduled. ` +
                `This is inefficient and should be avoided unless the next update ` +
                `can only be scheduled as a side effect of the previous update.`);
        }
    }
    __markUpdated() {
        this._$changedProperties = new Map();
        this.isUpdatePending = false;
    }
    /**
     * Returns a Promise that resolves when the element has completed updating.
     * The Promise value is a boolean that is `true` if the element completed the
     * update without triggering another update. The Promise result is `false` if
     * a property was set inside `updated()`. If the Promise is rejected, an
     * exception was thrown during the update.
     *
     * To await additional asynchronous work, override the `getUpdateComplete`
     * method. For example, it is sometimes useful to await a rendered element
     * before fulfilling this Promise. To do this, first await
     * `super.getUpdateComplete()`, then any subsequent state.
     *
     * @return A promise of a boolean that resolves to true if the update completed
     *     without triggering another update.
     * @category updates
     */
    get updateComplete() {
        return this.getUpdateComplete();
    }
    /**
     * Override point for the `updateComplete` promise.
     *
     * It is not safe to override the `updateComplete` getter directly due to a
     * limitation in TypeScript which means it is not possible to call a
     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target
     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).
     * This method should be overridden instead. For example:
     *
     * ```ts
     * class MyElement extends LitElement {
     *   override async getUpdateComplete() {
     *     const result = await super.getUpdateComplete();
     *     await this._myChild.updateComplete;
     *     return result;
     *   }
     * }
     * ```
     *
     * @return A promise of a boolean that resolves to true if the update completed
     *     without triggering another update.
     * @category updates
     */
    getUpdateComplete() {
        return this.__updatePromise;
    }
    /**
     * Controls whether or not `update()` should be called when the element requests
     * an update. By default, this method always returns `true`, but this can be
     * customized to control when to update.
     *
     * @param _changedProperties Map of changed properties with old values
     * @category updates
     */
    shouldUpdate(_changedProperties) {
        return true;
    }
    /**
     * Updates the element. This method reflects property values to attributes.
     * It can be overridden to render and keep updated element DOM.
     * Setting properties inside this method will *not* trigger
     * another update.
     *
     * @param _changedProperties Map of changed properties with old values
     * @category updates
     */
    update(_changedProperties) {
        // The forEach() expression will only run when __reflectingProperties is
        // defined, and it returns undefined, setting __reflectingProperties to
        // undefined
        this.__reflectingProperties &&= this.__reflectingProperties.forEach((p) => this.__propertyToAttribute(p, this[p]));
        this.__markUpdated();
    }
    /**
     * Invoked whenever the element is updated. Implement to perform
     * post-updating tasks via DOM APIs, for example, focusing an element.
     *
     * Setting properties inside this method will trigger the element to update
     * again after this update cycle completes.
     *
     * @param _changedProperties Map of changed properties with old values
     * @category updates
     */
    updated(_changedProperties) { }
    /**
     * Invoked when the element is first updated. Implement to perform one time
     * work on the element after update.
     *
     * ```ts
     * firstUpdated() {
     *   this.renderRoot.getElementById('my-text-area').focus();
     * }
     * ```
     *
     * Setting properties inside this method will trigger the element to update
     * again after this update cycle completes.
     *
     * @param _changedProperties Map of changed properties with old values
     * @category updates
     */
    firstUpdated(_changedProperties) { }
}
/**
 * Memoized list of all element styles.
 * Created lazily on user subclasses when finalizing the class.
 * @nocollapse
 * @category styles
 */
ReactiveElement.elementStyles = [];
/**
 * Options used when calling `attachShadow`. Set this property to customize
 * the options for the shadowRoot; for example, to create a closed
 * shadowRoot: `{mode: 'closed'}`.
 *
 * Note, these options are used in `createRenderRoot`. If this method
 * is customized, options should be respected if possible.
 * @nocollapse
 * @category rendering
 */
ReactiveElement.shadowRootOptions = { mode: 'open' };
// Assigned here to work around a jscompiler bug with static fields
// when compiling to ES5.
// https://github.com/google/closure-compiler/issues/3177
ReactiveElement[JSCompiler_renameProperty('elementProperties', ReactiveElement)] = new Map();
ReactiveElement[JSCompiler_renameProperty('finalized', ReactiveElement)] = new Map();
// Apply polyfills if available
polyfillSupport?.({ ReactiveElement });
// Dev mode warnings...
if (DEV_MODE) {
    // Default warning set.
    ReactiveElement.enabledWarnings = [
        'change-in-update',
        'async-perform-update',
    ];
    const ensureOwnWarnings = function (ctor) {
        if (!ctor.hasOwnProperty(JSCompiler_renameProperty('enabledWarnings', ctor))) {
            ctor.enabledWarnings = ctor.enabledWarnings.slice();
        }
    };
    ReactiveElement.enableWarning = function (warning) {
        ensureOwnWarnings(this);
        if (!this.enabledWarnings.includes(warning)) {
            this.enabledWarnings.push(warning);
        }
    };
    ReactiveElement.disableWarning = function (warning) {
        ensureOwnWarnings(this);
        const i = this.enabledWarnings.indexOf(warning);
        if (i >= 0) {
            this.enabledWarnings.splice(i, 1);
        }
    };
}
// IMPORTANT: do not change the property name or the assignment expression.
// This line will be used in regexes to search for ReactiveElement usage.
(global.reactiveElementVersions ??= []).push('2.1.1');
if (DEV_MODE && global.reactiveElementVersions.length > 1) {
    queueMicrotask(() => {
        issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +
            `is not recommended.`);
    });
}
//# sourceMappingURL=reactive-element.js.map

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/styles/global.css":
/*!*********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/styles/global.css ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `html, body { 
  height: 100%; 
  margin: 0; 
  color: rgb(4, 82, 117)
}

astro-app { display: grid; grid-template-rows: 40px 1fr; height: 100vh; }

/* The WebGL canvas */
#astrocanvas {
  position: absolute;
  top: 40px;
  left: 0; right: 0; bottom: 0;
  display: block;
  width: 100%;
  /* height: calc(100vh - 40px); */
}
`, "",{"version":3,"sources":["webpack://./src/styles/global.css"],"names":[],"mappings":"AAAA;EACE,YAAY;EACZ,SAAS;EACT;AACF;;AAEA,YAAY,aAAa,EAAE,4BAA4B,EAAE,aAAa,EAAE;;AAExE,qBAAqB;AACrB;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO,EAAE,QAAQ,EAAE,SAAS;EAC5B,cAAc;EACd,WAAW;EACX,gCAAgC;AAClC","sourcesContent":["html, body { \n  height: 100%; \n  margin: 0; \n  color: rgb(4, 82, 117)\n}\n\nastro-app { display: grid; grid-template-rows: 40px 1fr; height: 100vh; }\n\n/* The WebGL canvas */\n#astrocanvas {\n  position: absolute;\n  top: 40px;\n  left: 0; right: 0; bottom: 0;\n  display: block;\n  width: 100%;\n  /* height: calc(100vh - 40px); */\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/lit-element/development/lit-element.js":
/*!*************************************************************!*\
  !*** ./node_modules/lit-element/development/lit-element.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CSSResult: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.CSSResult),
/* harmony export */   LitElement: () => (/* binding */ LitElement),
/* harmony export */   ReactiveElement: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement),
/* harmony export */   _$LE: () => (/* binding */ _$LE),
/* harmony export */   _$LH: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__._$LH),
/* harmony export */   adoptStyles: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.adoptStyles),
/* harmony export */   css: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.css),
/* harmony export */   defaultConverter: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.defaultConverter),
/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle),
/* harmony export */   html: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.html),
/* harmony export */   mathml: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.mathml),
/* harmony export */   noChange: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange),
/* harmony export */   notEqual: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.notEqual),
/* harmony export */   nothing: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.nothing),
/* harmony export */   render: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.render),
/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.supportsAdoptingStyleSheets),
/* harmony export */   svg: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.svg),
/* harmony export */   unsafeCSS: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)
/* harmony export */ });
/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ "./node_modules/@lit/reactive-element/development/reactive-element.js");
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * The main LitElement module, which defines the {@linkcode LitElement} base
 * class and related APIs.
 *
 * LitElement components can define a template and a set of observed
 * properties. Changing an observed property triggers a re-render of the
 * element.
 *
 * Import {@linkcode LitElement} and {@linkcode html} from this module to
 * create a component:
 *
 *  ```js
 * import {LitElement, html} from 'lit-element';
 *
 * class MyElement extends LitElement {
 *
 *   // Declare observed properties
 *   static get properties() {
 *     return {
 *       adjective: {}
 *     }
 *   }
 *
 *   constructor() {
 *     this.adjective = 'awesome';
 *   }
 *
 *   // Define the element's template
 *   render() {
 *     return html`<p>your ${adjective} template here</p>`;
 *   }
 * }
 *
 * customElements.define('my-element', MyElement);
 * ```
 *
 * `LitElement` extends {@linkcode ReactiveElement} and adds lit-html
 * templating. The `ReactiveElement` class is provided for users that want to
 * build their own custom element base classes that don't use lit-html.
 *
 * @packageDocumentation
 */




/*
 * When using Closure Compiler, JSCompiler_renameProperty(property, object) is
 * replaced at compile time by the munged name for object[property]. We cannot
 * alias this function, so we have to use a small shim that has the same
 * behavior when not compiling.
 */
/*@__INLINE__*/
const JSCompiler_renameProperty = (prop, _obj) => prop;
const DEV_MODE = true;
// Allows minifiers to rename references to globalThis
const global = globalThis;
let issueWarning;
if (DEV_MODE) {
    // Ensure warnings are issued only 1x, even if multiple versions of Lit
    // are loaded.
    global.litIssuedWarnings ??= new Set();
    /**
     * Issue a warning if we haven't already, based either on `code` or `warning`.
     * Warnings are disabled automatically only by `warning`; disabling via `code`
     * can be done by users.
     */
    issueWarning = (code, warning) => {
        warning += ` See https://lit.dev/msg/${code} for more information.`;
        if (!global.litIssuedWarnings.has(warning) &&
            !global.litIssuedWarnings.has(code)) {
            console.warn(warning);
            global.litIssuedWarnings.add(warning);
        }
    };
}
/**
 * Base element class that manages element properties and attributes, and
 * renders a lit-html template.
 *
 * To define a component, subclass `LitElement` and implement a
 * `render` method to provide the component's template. Define properties
 * using the {@linkcode LitElement.properties properties} property or the
 * {@linkcode property} decorator.
 */
class LitElement extends _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement {
    constructor() {
        super(...arguments);
        /**
         * @category rendering
         */
        this.renderOptions = { host: this };
        this.__childPart = undefined;
    }
    /**
     * @category rendering
     */
    createRenderRoot() {
        const renderRoot = super.createRenderRoot();
        // When adoptedStyleSheets are shimmed, they are inserted into the
        // shadowRoot by createRenderRoot. Adjust the renderBefore node so that
        // any styles in Lit content render before adoptedStyleSheets. This is
        // important so that adoptedStyleSheets have precedence over styles in
        // the shadowRoot.
        this.renderOptions.renderBefore ??= renderRoot.firstChild;
        return renderRoot;
    }
    /**
     * Updates the element. This method reflects property values to attributes
     * and calls `render` to render DOM via lit-html. Setting properties inside
     * this method will *not* trigger another update.
     * @param changedProperties Map of changed properties with old values
     * @category updates
     */
    update(changedProperties) {
        // Setting properties in `render` should not trigger an update. Since
        // updates are allowed after super.update, it's important to call `render`
        // before that.
        const value = this.render();
        if (!this.hasUpdated) {
            this.renderOptions.isConnected = this.isConnected;
        }
        super.update(changedProperties);
        this.__childPart = (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.render)(value, this.renderRoot, this.renderOptions);
    }
    /**
     * Invoked when the component is added to the document's DOM.
     *
     * In `connectedCallback()` you should setup tasks that should only occur when
     * the element is connected to the document. The most common of these is
     * adding event listeners to nodes external to the element, like a keydown
     * event handler added to the window.
     *
     * ```ts
     * connectedCallback() {
     *   super.connectedCallback();
     *   addEventListener('keydown', this._handleKeydown);
     * }
     * ```
     *
     * Typically, anything done in `connectedCallback()` should be undone when the
     * element is disconnected, in `disconnectedCallback()`.
     *
     * @category lifecycle
     */
    connectedCallback() {
        super.connectedCallback();
        this.__childPart?.setConnected(true);
    }
    /**
     * Invoked when the component is removed from the document's DOM.
     *
     * This callback is the main signal to the element that it may no longer be
     * used. `disconnectedCallback()` should ensure that nothing is holding a
     * reference to the element (such as event listeners added to nodes external
     * to the element), so that it is free to be garbage collected.
     *
     * ```ts
     * disconnectedCallback() {
     *   super.disconnectedCallback();
     *   window.removeEventListener('keydown', this._handleKeydown);
     * }
     * ```
     *
     * An element may be re-connected after being disconnected.
     *
     * @category lifecycle
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.__childPart?.setConnected(false);
    }
    /**
     * Invoked on each update to perform rendering tasks. This method may return
     * any value renderable by lit-html's `ChildPart` - typically a
     * `TemplateResult`. Setting properties inside this method will *not* trigger
     * the element to update.
     * @category rendering
     */
    render() {
        return lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange;
    }
}
// This property needs to remain unminified.
LitElement['_$litElement$'] = true;
/**
 * Ensure this class is marked as `finalized` as an optimization ensuring
 * it will not needlessly try to `finalize`.
 *
 * Note this property name is a string to prevent breaking Closure JS Compiler
 * optimizations. See @lit/reactive-element for more information.
 */
LitElement[JSCompiler_renameProperty('finalized', LitElement)] = true;
// Install hydration if available
global.litElementHydrateSupport?.({ LitElement });
// Apply polyfills if available
const polyfillSupport = DEV_MODE
    ? global.litElementPolyfillSupportDevMode
    : global.litElementPolyfillSupport;
polyfillSupport?.({ LitElement });
/**
 * END USERS SHOULD NOT RELY ON THIS OBJECT.
 *
 * Private exports for use by other Lit packages, not intended for use by
 * external users.
 *
 * We currently do not make a mangled rollup build of the lit-ssr code. In order
 * to keep a number of (otherwise private) top-level exports  mangled in the
 * client side code, we export a _$LE object containing those members (or
 * helper methods for accessing private fields of those members), and then
 * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the
 * client-side code is being used in `dev` mode or `prod` mode.
 *
 * This has a unique name, to disambiguate it from private exports in
 * lit-html, since this module re-exports all of lit-html.
 *
 * @private
 */
const _$LE = {
    _$attributeToProperty: (el, name, value) => {
        // eslint-disable-next-line
        el._$attributeToProperty(name, value);
    },
    // eslint-disable-next-line
    _$changedProperties: (el) => el._$changedProperties,
};
// IMPORTANT: do not change the property name or the assignment expression.
// This line will be used in regexes to search for LitElement usage.
(global.litElementVersions ??= []).push('4.2.1');
if (DEV_MODE && global.litElementVersions.length > 1) {
    queueMicrotask(() => {
        issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +
            `is not recommended.`);
    });
}
//# sourceMappingURL=lit-element.js.map

/***/ }),

/***/ "./node_modules/lit-html/development/is-server.js":
/*!********************************************************!*\
  !*** ./node_modules/lit-html/development/is-server.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isServer: () => (/* binding */ isServer)
/* harmony export */ });
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @fileoverview
 *
 * This file exports a boolean const whose value will depend on what environment
 * the module is being imported from.
 */
const NODE_MODE = false;
/**
 * A boolean that will be `true` in server environments like Node, and `false`
 * in browser environments. Note that your server environment or toolchain must
 * support the `"node"` export condition for this to be `true`.
 *
 * This can be used when authoring components to change behavior based on
 * whether or not the component is executing in an SSR context.
 */
const isServer = NODE_MODE;
//# sourceMappingURL=is-server.js.map

/***/ }),

/***/ "./node_modules/lit-html/development/lit-html.js":
/*!*******************************************************!*\
  !*** ./node_modules/lit-html/development/lit-html.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _$LH: () => (/* binding */ _$LH),
/* harmony export */   html: () => (/* binding */ html),
/* harmony export */   mathml: () => (/* binding */ mathml),
/* harmony export */   noChange: () => (/* binding */ noChange),
/* harmony export */   nothing: () => (/* binding */ nothing),
/* harmony export */   render: () => (/* binding */ render),
/* harmony export */   svg: () => (/* binding */ svg)
/* harmony export */ });
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const DEV_MODE = true;
const ENABLE_EXTRA_SECURITY_HOOKS = true;
const ENABLE_SHADYDOM_NOPATCH = true;
const NODE_MODE = false;
// Allows minifiers to rename references to globalThis
const global = globalThis;
/**
 * Useful for visualizing and logging insights into what the Lit template system is doing.
 *
 * Compiled out of prod mode builds.
 */
const debugLogEvent = DEV_MODE
    ? (event) => {
        const shouldEmit = global
            .emitLitDebugLogEvents;
        if (!shouldEmit) {
            return;
        }
        global.dispatchEvent(new CustomEvent('lit-debug', {
            detail: event,
        }));
    }
    : undefined;
// Used for connecting beginRender and endRender events when there are nested
// renders when errors are thrown preventing an endRender event from being
// called.
let debugLogRenderId = 0;
let issueWarning;
if (DEV_MODE) {
    global.litIssuedWarnings ??= new Set();
    /**
     * Issue a warning if we haven't already, based either on `code` or `warning`.
     * Warnings are disabled automatically only by `warning`; disabling via `code`
     * can be done by users.
     */
    issueWarning = (code, warning) => {
        warning += code
            ? ` See https://lit.dev/msg/${code} for more information.`
            : '';
        if (!global.litIssuedWarnings.has(warning) &&
            !global.litIssuedWarnings.has(code)) {
            console.warn(warning);
            global.litIssuedWarnings.add(warning);
        }
    };
    queueMicrotask(() => {
        issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);
    });
}
const wrap = ENABLE_SHADYDOM_NOPATCH &&
    global.ShadyDOM?.inUse &&
    global.ShadyDOM?.noPatch === true
    ? global.ShadyDOM.wrap
    : (node) => node;
const trustedTypes = global.trustedTypes;
/**
 * Our TrustedTypePolicy for HTML which is declared using the html template
 * tag function.
 *
 * That HTML is a developer-authored constant, and is parsed with innerHTML
 * before any untrusted expressions have been mixed in. Therefor it is
 * considered safe by construction.
 */
const policy = trustedTypes
    ? trustedTypes.createPolicy('lit-html', {
        createHTML: (s) => s,
    })
    : undefined;
const identityFunction = (value) => value;
const noopSanitizer = (_node, _name, _type) => identityFunction;
/** Sets the global sanitizer factory. */
const setSanitizer = (newSanitizer) => {
    if (!ENABLE_EXTRA_SECURITY_HOOKS) {
        return;
    }
    if (sanitizerFactoryInternal !== noopSanitizer) {
        throw new Error(`Attempted to overwrite existing lit-html security policy.` +
            ` setSanitizeDOMValueFactory should be called at most once.`);
    }
    sanitizerFactoryInternal = newSanitizer;
};
/**
 * Only used in internal tests, not a part of the public API.
 */
const _testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {
    sanitizerFactoryInternal = noopSanitizer;
};
const createSanitizer = (node, name, type) => {
    return sanitizerFactoryInternal(node, name, type);
};
// Added to an attribute name to mark the attribute as bound so we can find
// it easily.
const boundAttributeSuffix = '$lit$';
// This marker is used in many syntactic positions in HTML, so it must be
// a valid element name and attribute name. We don't support dynamic names (yet)
// but this at least ensures that the parse tree is closer to the template
// intention.
const marker = `lit$${Math.random().toFixed(9).slice(2)}$`;
// String used to tell if a comment is a marker comment
const markerMatch = '?' + marker;
// Text used to insert a comment marker node. We use processing instruction
// syntax because it's slightly smaller, but parses as a comment node.
const nodeMarker = `<${markerMatch}>`;
const d = NODE_MODE && global.document === undefined
    ? {
        createTreeWalker() {
            return {};
        },
    }
    : document;
// Creates a dynamic marker. We never have to search for these in the DOM.
const createMarker = () => d.createComment('');
const isPrimitive = (value) => value === null || (typeof value != 'object' && typeof value != 'function');
const isArray = Array.isArray;
const isIterable = (value) => isArray(value) ||
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    typeof value?.[Symbol.iterator] === 'function';
const SPACE_CHAR = `[ \t\n\f\r]`;
const ATTR_VALUE_CHAR = `[^ \t\n\f\r"'\`<>=]`;
const NAME_CHAR = `[^\\s"'>=/]`;
// These regexes represent the five parsing states that we care about in the
// Template's HTML scanner. They match the *end* of the state they're named
// after.
// Depending on the match, we transition to a new state. If there's no match,
// we stay in the same state.
// Note that the regexes are stateful. We utilize lastIndex and sync it
// across the multiple regexes used. In addition to the five regexes below
// we also dynamically create a regex to find the matching end tags for raw
// text elements.
/**
 * End of text is: `<` followed by:
 *   (comment start) or (tag) or (dynamic tag binding)
 */
const textEndRegex = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g;
const COMMENT_START = 1;
const TAG_NAME = 2;
const DYNAMIC_TAG_NAME = 3;
const commentEndRegex = /-->/g;
/**
 * Comments not started with <!--, like </{, can be ended by a single `>`
 */
const comment2EndRegex = />/g;
/**
 * The tagEnd regex matches the end of the "inside an opening" tag syntax
 * position. It either matches a `>`, an attribute-like sequence, or the end
 * of the string after a space (attribute-name position ending).
 *
 * See attributes in the HTML spec:
 * https://www.w3.org/TR/html5/syntax.html#elements-attributes
 *
 * " \t\n\f\r" are HTML space characters:
 * https://infra.spec.whatwg.org/#ascii-whitespace
 *
 * So an attribute is:
 *  * The name: any character except a whitespace character, ("), ('), ">",
 *    "=", or "/". Note: this is different from the HTML spec which also excludes control characters.
 *  * Followed by zero or more space characters
 *  * Followed by "="
 *  * Followed by zero or more space characters
 *  * Followed by:
 *    * Any character except space, ('), ("), "<", ">", "=", (`), or
 *    * (") then any non-("), or
 *    * (') then any non-(')
 */
const tagEndRegex = new RegExp(`>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|("|')|))|$)`, 'g');
const ENTIRE_MATCH = 0;
const ATTRIBUTE_NAME = 1;
const SPACES_AND_EQUALS = 2;
const QUOTE_CHAR = 3;
const singleQuoteAttrEndRegex = /'/g;
const doubleQuoteAttrEndRegex = /"/g;
/**
 * Matches the raw text elements.
 *
 * Comments are not parsed within raw text elements, so we need to search their
 * text content for marker strings.
 */
const rawTextElement = /^(?:script|style|textarea|title)$/i;
/** TemplateResult types */
const HTML_RESULT = 1;
const SVG_RESULT = 2;
const MATHML_RESULT = 3;
// TemplatePart types
// IMPORTANT: these must match the values in PartType
const ATTRIBUTE_PART = 1;
const CHILD_PART = 2;
const PROPERTY_PART = 3;
const BOOLEAN_ATTRIBUTE_PART = 4;
const EVENT_PART = 5;
const ELEMENT_PART = 6;
const COMMENT_PART = 7;
/**
 * Generates a template literal tag function that returns a TemplateResult with
 * the given result type.
 */
const tag = (type) => (strings, ...values) => {
    // Warn against templates octal escape sequences
    // We do this here rather than in render so that the warning is closer to the
    // template definition.
    if (DEV_MODE && strings.some((s) => s === undefined)) {
        console.warn('Some template strings are undefined.\n' +
            'This is probably caused by illegal octal escape sequences.');
    }
    if (DEV_MODE) {
        // Import static-html.js results in a circular dependency which g3 doesn't
        // handle. Instead we know that static values must have the field
        // `_$litStatic$`.
        if (values.some((val) => val?.['_$litStatic$'])) {
            issueWarning('', `Static values 'literal' or 'unsafeStatic' cannot be used as values to non-static templates.\n` +
                `Please use the static 'html' tag function. See https://lit.dev/docs/templates/expressions/#static-expressions`);
        }
    }
    return {
        // This property needs to remain unminified.
        ['_$litType$']: type,
        strings,
        values,
    };
};
/**
 * Interprets a template literal as an HTML template that can efficiently
 * render to and update a container.
 *
 * ```ts
 * const header = (title: string) => html`<h1>${title}</h1>`;
 * ```
 *
 * The `html` tag returns a description of the DOM to render as a value. It is
 * lazy, meaning no work is done until the template is rendered. When rendering,
 * if a template comes from the same expression as a previously rendered result,
 * it's efficiently updated instead of replaced.
 */
const html = tag(HTML_RESULT);
/**
 * Interprets a template literal as an SVG fragment that can efficiently render
 * to and update a container.
 *
 * ```ts
 * const rect = svg`<rect width="10" height="10"></rect>`;
 *
 * const myImage = html`
 *   <svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">
 *     ${rect}
 *   </svg>`;
 * ```
 *
 * The `svg` *tag function* should only be used for SVG fragments, or elements
 * that would be contained **inside** an `<svg>` HTML element. A common error is
 * placing an `<svg>` *element* in a template tagged with the `svg` tag
 * function. The `<svg>` element is an HTML element and should be used within a
 * template tagged with the {@linkcode html} tag function.
 *
 * In LitElement usage, it's invalid to return an SVG fragment from the
 * `render()` method, as the SVG fragment will be contained within the element's
 * shadow root and thus not be properly contained within an `<svg>` HTML
 * element.
 */
const svg = tag(SVG_RESULT);
/**
 * Interprets a template literal as MathML fragment that can efficiently render
 * to and update a container.
 *
 * ```ts
 * const num = mathml`<mn>1</mn>`;
 *
 * const eq = html`
 *   <math>
 *     ${num}
 *   </math>`;
 * ```
 *
 * The `mathml` *tag function* should only be used for MathML fragments, or
 * elements that would be contained **inside** a `<math>` HTML element. A common
 * error is placing a `<math>` *element* in a template tagged with the `mathml`
 * tag function. The `<math>` element is an HTML element and should be used
 * within a template tagged with the {@linkcode html} tag function.
 *
 * In LitElement usage, it's invalid to return an MathML fragment from the
 * `render()` method, as the MathML fragment will be contained within the
 * element's shadow root and thus not be properly contained within a `<math>`
 * HTML element.
 */
const mathml = tag(MATHML_RESULT);
/**
 * A sentinel value that signals that a value was handled by a directive and
 * should not be written to the DOM.
 */
const noChange = Symbol.for('lit-noChange');
/**
 * A sentinel value that signals a ChildPart to fully clear its content.
 *
 * ```ts
 * const button = html`${
 *  user.isAdmin
 *    ? html`<button>DELETE</button>`
 *    : nothing
 * }`;
 * ```
 *
 * Prefer using `nothing` over other falsy values as it provides a consistent
 * behavior between various expression binding contexts.
 *
 * In child expressions, `undefined`, `null`, `''`, and `nothing` all behave the
 * same and render no nodes. In attribute expressions, `nothing` _removes_ the
 * attribute, while `undefined` and `null` will render an empty string. In
 * property expressions `nothing` becomes `undefined`.
 */
const nothing = Symbol.for('lit-nothing');
/**
 * The cache of prepared templates, keyed by the tagged TemplateStringsArray
 * and _not_ accounting for the specific template tag used. This means that
 * template tags cannot be dynamic - they must statically be one of html, svg,
 * or attr. This restriction simplifies the cache lookup, which is on the hot
 * path for rendering.
 */
const templateCache = new WeakMap();
const walker = d.createTreeWalker(d, 129 /* NodeFilter.SHOW_{ELEMENT|COMMENT} */);
let sanitizerFactoryInternal = noopSanitizer;
function trustFromTemplateString(tsa, stringFromTSA) {
    // A security check to prevent spoofing of Lit template results.
    // In the future, we may be able to replace this with Array.isTemplateObject,
    // though we might need to make that check inside of the html and svg
    // functions, because precompiled templates don't come in as
    // TemplateStringArray objects.
    if (!isArray(tsa) || !tsa.hasOwnProperty('raw')) {
        let message = 'invalid template strings array';
        if (DEV_MODE) {
            message = `
          Internal Error: expected template strings to be an array
          with a 'raw' field. Faking a template strings array by
          calling html or svg like an ordinary function is effectively
          the same as calling unsafeHtml and can lead to major security
          issues, e.g. opening your code up to XSS attacks.
          If you're using the html or svg tagged template functions normally
          and still seeing this error, please file a bug at
          https://github.com/lit/lit/issues/new?template=bug_report.md
          and include information about your build tooling, if any.
        `
                .trim()
                .replace(/\n */g, '\n');
        }
        throw new Error(message);
    }
    return policy !== undefined
        ? policy.createHTML(stringFromTSA)
        : stringFromTSA;
}
/**
 * Returns an HTML string for the given TemplateStringsArray and result type
 * (HTML or SVG), along with the case-sensitive bound attribute names in
 * template order. The HTML contains comment markers denoting the `ChildPart`s
 * and suffixes on bound attributes denoting the `AttributeParts`.
 *
 * @param strings template strings array
 * @param type HTML or SVG
 * @return Array containing `[html, attrNames]` (array returned for terseness,
 *     to avoid object fields since this code is shared with non-minified SSR
 *     code)
 */
const getTemplateHtml = (strings, type) => {
    // Insert makers into the template HTML to represent the position of
    // bindings. The following code scans the template strings to determine the
    // syntactic position of the bindings. They can be in text position, where
    // we insert an HTML comment, attribute value position, where we insert a
    // sentinel string and re-write the attribute name, or inside a tag where
    // we insert the sentinel string.
    const l = strings.length - 1;
    // Stores the case-sensitive bound attribute names in the order of their
    // parts. ElementParts are also reflected in this array as undefined
    // rather than a string, to disambiguate from attribute bindings.
    const attrNames = [];
    let html = type === SVG_RESULT ? '<svg>' : type === MATHML_RESULT ? '<math>' : '';
    // When we're inside a raw text tag (not it's text content), the regex
    // will still be tagRegex so we can find attributes, but will switch to
    // this regex when the tag ends.
    let rawTextEndRegex;
    // The current parsing state, represented as a reference to one of the
    // regexes
    let regex = textEndRegex;
    for (let i = 0; i < l; i++) {
        const s = strings[i];
        // The index of the end of the last attribute name. When this is
        // positive at end of a string, it means we're in an attribute value
        // position and need to rewrite the attribute name.
        // We also use a special value of -2 to indicate that we encountered
        // the end of a string in attribute name position.
        let attrNameEndIndex = -1;
        let attrName;
        let lastIndex = 0;
        let match;
        // The conditions in this loop handle the current parse state, and the
        // assignments to the `regex` variable are the state transitions.
        while (lastIndex < s.length) {
            // Make sure we start searching from where we previously left off
            regex.lastIndex = lastIndex;
            match = regex.exec(s);
            if (match === null) {
                break;
            }
            lastIndex = regex.lastIndex;
            if (regex === textEndRegex) {
                if (match[COMMENT_START] === '!--') {
                    regex = commentEndRegex;
                }
                else if (match[COMMENT_START] !== undefined) {
                    // We started a weird comment, like </{
                    regex = comment2EndRegex;
                }
                else if (match[TAG_NAME] !== undefined) {
                    if (rawTextElement.test(match[TAG_NAME])) {
                        // Record if we encounter a raw-text element. We'll switch to
                        // this regex at the end of the tag.
                        rawTextEndRegex = new RegExp(`</${match[TAG_NAME]}`, 'g');
                    }
                    regex = tagEndRegex;
                }
                else if (match[DYNAMIC_TAG_NAME] !== undefined) {
                    if (DEV_MODE) {
                        throw new Error('Bindings in tag names are not supported. Please use static templates instead. ' +
                            'See https://lit.dev/docs/templates/expressions/#static-expressions');
                    }
                    regex = tagEndRegex;
                }
            }
            else if (regex === tagEndRegex) {
                if (match[ENTIRE_MATCH] === '>') {
                    // End of a tag. If we had started a raw-text element, use that
                    // regex
                    regex = rawTextEndRegex ?? textEndRegex;
                    // We may be ending an unquoted attribute value, so make sure we
                    // clear any pending attrNameEndIndex
                    attrNameEndIndex = -1;
                }
                else if (match[ATTRIBUTE_NAME] === undefined) {
                    // Attribute name position
                    attrNameEndIndex = -2;
                }
                else {
                    attrNameEndIndex = regex.lastIndex - match[SPACES_AND_EQUALS].length;
                    attrName = match[ATTRIBUTE_NAME];
                    regex =
                        match[QUOTE_CHAR] === undefined
                            ? tagEndRegex
                            : match[QUOTE_CHAR] === '"'
                                ? doubleQuoteAttrEndRegex
                                : singleQuoteAttrEndRegex;
                }
            }
            else if (regex === doubleQuoteAttrEndRegex ||
                regex === singleQuoteAttrEndRegex) {
                regex = tagEndRegex;
            }
            else if (regex === commentEndRegex || regex === comment2EndRegex) {
                regex = textEndRegex;
            }
            else {
                // Not one of the five state regexes, so it must be the dynamically
                // created raw text regex and we're at the close of that element.
                regex = tagEndRegex;
                rawTextEndRegex = undefined;
            }
        }
        if (DEV_MODE) {
            // If we have a attrNameEndIndex, which indicates that we should
            // rewrite the attribute name, assert that we're in a valid attribute
            // position - either in a tag, or a quoted attribute value.
            console.assert(attrNameEndIndex === -1 ||
                regex === tagEndRegex ||
                regex === singleQuoteAttrEndRegex ||
                regex === doubleQuoteAttrEndRegex, 'unexpected parse state B');
        }
        // We have four cases:
        //  1. We're in text position, and not in a raw text element
        //     (regex === textEndRegex): insert a comment marker.
        //  2. We have a non-negative attrNameEndIndex which means we need to
        //     rewrite the attribute name to add a bound attribute suffix.
        //  3. We're at the non-first binding in a multi-binding attribute, use a
        //     plain marker.
        //  4. We're somewhere else inside the tag. If we're in attribute name
        //     position (attrNameEndIndex === -2), add a sequential suffix to
        //     generate a unique attribute name.
        // Detect a binding next to self-closing tag end and insert a space to
        // separate the marker from the tag end:
        const end = regex === tagEndRegex && strings[i + 1].startsWith('/>') ? ' ' : '';
        html +=
            regex === textEndRegex
                ? s + nodeMarker
                : attrNameEndIndex >= 0
                    ? (attrNames.push(attrName),
                        s.slice(0, attrNameEndIndex) +
                            boundAttributeSuffix +
                            s.slice(attrNameEndIndex)) +
                        marker +
                        end
                    : s + marker + (attrNameEndIndex === -2 ? i : end);
    }
    const htmlResult = html +
        (strings[l] || '<?>') +
        (type === SVG_RESULT ? '</svg>' : type === MATHML_RESULT ? '</math>' : '');
    // Returned as an array for terseness
    return [trustFromTemplateString(strings, htmlResult), attrNames];
};
class Template {
    constructor(
    // This property needs to remain unminified.
    { strings, ['_$litType$']: type }, options) {
        this.parts = [];
        let node;
        let nodeIndex = 0;
        let attrNameIndex = 0;
        const partCount = strings.length - 1;
        const parts = this.parts;
        // Create template element
        const [html, attrNames] = getTemplateHtml(strings, type);
        this.el = Template.createElement(html, options);
        walker.currentNode = this.el.content;
        // Re-parent SVG or MathML nodes into template root
        if (type === SVG_RESULT || type === MATHML_RESULT) {
            const wrapper = this.el.content.firstChild;
            wrapper.replaceWith(...wrapper.childNodes);
        }
        // Walk the template to find binding markers and create TemplateParts
        while ((node = walker.nextNode()) !== null && parts.length < partCount) {
            if (node.nodeType === 1) {
                if (DEV_MODE) {
                    const tag = node.localName;
                    // Warn if `textarea` includes an expression and throw if `template`
                    // does since these are not supported. We do this by checking
                    // innerHTML for anything that looks like a marker. This catches
                    // cases like bindings in textarea there markers turn into text nodes.
                    if (/^(?:textarea|template)$/i.test(tag) &&
                        node.innerHTML.includes(marker)) {
                        const m = `Expressions are not supported inside \`${tag}\` ` +
                            `elements. See https://lit.dev/msg/expression-in-${tag} for more ` +
                            `information.`;
                        if (tag === 'template') {
                            throw new Error(m);
                        }
                        else
                            issueWarning('', m);
                    }
                }
                // TODO (justinfagnani): for attempted dynamic tag names, we don't
                // increment the bindingIndex, and it'll be off by 1 in the element
                // and off by two after it.
                if (node.hasAttributes()) {
                    for (const name of node.getAttributeNames()) {
                        if (name.endsWith(boundAttributeSuffix)) {
                            const realName = attrNames[attrNameIndex++];
                            const value = node.getAttribute(name);
                            const statics = value.split(marker);
                            const m = /([.?@])?(.*)/.exec(realName);
                            parts.push({
                                type: ATTRIBUTE_PART,
                                index: nodeIndex,
                                name: m[2],
                                strings: statics,
                                ctor: m[1] === '.'
                                    ? PropertyPart
                                    : m[1] === '?'
                                        ? BooleanAttributePart
                                        : m[1] === '@'
                                            ? EventPart
                                            : AttributePart,
                            });
                            node.removeAttribute(name);
                        }
                        else if (name.startsWith(marker)) {
                            parts.push({
                                type: ELEMENT_PART,
                                index: nodeIndex,
                            });
                            node.removeAttribute(name);
                        }
                    }
                }
                // TODO (justinfagnani): benchmark the regex against testing for each
                // of the 3 raw text element names.
                if (rawTextElement.test(node.tagName)) {
                    // For raw text elements we need to split the text content on
                    // markers, create a Text node for each segment, and create
                    // a TemplatePart for each marker.
                    const strings = node.textContent.split(marker);
                    const lastIndex = strings.length - 1;
                    if (lastIndex > 0) {
                        node.textContent = trustedTypes
                            ? trustedTypes.emptyScript
                            : '';
                        // Generate a new text node for each literal section
                        // These nodes are also used as the markers for child parts
                        for (let i = 0; i < lastIndex; i++) {
                            node.append(strings[i], createMarker());
                            // Walk past the marker node we just added
                            walker.nextNode();
                            parts.push({ type: CHILD_PART, index: ++nodeIndex });
                        }
                        // Note because this marker is added after the walker's current
                        // node, it will be walked to in the outer loop (and ignored), so
                        // we don't need to adjust nodeIndex here
                        node.append(strings[lastIndex], createMarker());
                    }
                }
            }
            else if (node.nodeType === 8) {
                const data = node.data;
                if (data === markerMatch) {
                    parts.push({ type: CHILD_PART, index: nodeIndex });
                }
                else {
                    let i = -1;
                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {
                        // Comment node has a binding marker inside, make an inactive part
                        // The binding won't work, but subsequent bindings will
                        parts.push({ type: COMMENT_PART, index: nodeIndex });
                        // Move to the end of the match
                        i += marker.length - 1;
                    }
                }
            }
            nodeIndex++;
        }
        if (DEV_MODE) {
            // If there was a duplicate attribute on a tag, then when the tag is
            // parsed into an element the attribute gets de-duplicated. We can detect
            // this mismatch if we haven't precisely consumed every attribute name
            // when preparing the template. This works because `attrNames` is built
            // from the template string and `attrNameIndex` comes from processing the
            // resulting DOM.
            if (attrNames.length !== attrNameIndex) {
                throw new Error(`Detected duplicate attribute bindings. This occurs if your template ` +
                    `has duplicate attributes on an element tag. For example ` +
                    `"<input ?disabled=\${true} ?disabled=\${false}>" contains a ` +
                    `duplicate "disabled" attribute. The error was detected in ` +
                    `the following template: \n` +
                    '`' +
                    strings.join('${...}') +
                    '`');
            }
        }
        // We could set walker.currentNode to another node here to prevent a memory
        // leak, but every time we prepare a template, we immediately render it
        // and re-use the walker in new TemplateInstance._clone().
        debugLogEvent &&
            debugLogEvent({
                kind: 'template prep',
                template: this,
                clonableTemplate: this.el,
                parts: this.parts,
                strings,
            });
    }
    // Overridden via `litHtmlPolyfillSupport` to provide platform support.
    /** @nocollapse */
    static createElement(html, _options) {
        const el = d.createElement('template');
        el.innerHTML = html;
        return el;
    }
}
function resolveDirective(part, value, parent = part, attributeIndex) {
    // Bail early if the value is explicitly noChange. Note, this means any
    // nested directive is still attached and is not run.
    if (value === noChange) {
        return value;
    }
    let currentDirective = attributeIndex !== undefined
        ? parent.__directives?.[attributeIndex]
        : parent.__directive;
    const nextDirectiveConstructor = isPrimitive(value)
        ? undefined
        : // This property needs to remain unminified.
            value['_$litDirective$'];
    if (currentDirective?.constructor !== nextDirectiveConstructor) {
        // This property needs to remain unminified.
        currentDirective?.['_$notifyDirectiveConnectionChanged']?.(false);
        if (nextDirectiveConstructor === undefined) {
            currentDirective = undefined;
        }
        else {
            currentDirective = new nextDirectiveConstructor(part);
            currentDirective._$initialize(part, parent, attributeIndex);
        }
        if (attributeIndex !== undefined) {
            (parent.__directives ??= [])[attributeIndex] =
                currentDirective;
        }
        else {
            parent.__directive = currentDirective;
        }
    }
    if (currentDirective !== undefined) {
        value = resolveDirective(part, currentDirective._$resolve(part, value.values), currentDirective, attributeIndex);
    }
    return value;
}
/**
 * An updateable instance of a Template. Holds references to the Parts used to
 * update the template instance.
 */
class TemplateInstance {
    constructor(template, parent) {
        this._$parts = [];
        /** @internal */
        this._$disconnectableChildren = undefined;
        this._$template = template;
        this._$parent = parent;
    }
    // Called by ChildPart parentNode getter
    get parentNode() {
        return this._$parent.parentNode;
    }
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        return this._$parent._$isConnected;
    }
    // This method is separate from the constructor because we need to return a
    // DocumentFragment and we don't want to hold onto it with an instance field.
    _clone(options) {
        const { el: { content }, parts: parts, } = this._$template;
        const fragment = (options?.creationScope ?? d).importNode(content, true);
        walker.currentNode = fragment;
        let node = walker.nextNode();
        let nodeIndex = 0;
        let partIndex = 0;
        let templatePart = parts[0];
        while (templatePart !== undefined) {
            if (nodeIndex === templatePart.index) {
                let part;
                if (templatePart.type === CHILD_PART) {
                    part = new ChildPart(node, node.nextSibling, this, options);
                }
                else if (templatePart.type === ATTRIBUTE_PART) {
                    part = new templatePart.ctor(node, templatePart.name, templatePart.strings, this, options);
                }
                else if (templatePart.type === ELEMENT_PART) {
                    part = new ElementPart(node, this, options);
                }
                this._$parts.push(part);
                templatePart = parts[++partIndex];
            }
            if (nodeIndex !== templatePart?.index) {
                node = walker.nextNode();
                nodeIndex++;
            }
        }
        // We need to set the currentNode away from the cloned tree so that we
        // don't hold onto the tree even if the tree is detached and should be
        // freed.
        walker.currentNode = d;
        return fragment;
    }
    _update(values) {
        let i = 0;
        for (const part of this._$parts) {
            if (part !== undefined) {
                debugLogEvent &&
                    debugLogEvent({
                        kind: 'set part',
                        part,
                        value: values[i],
                        valueIndex: i,
                        values,
                        templateInstance: this,
                    });
                if (part.strings !== undefined) {
                    part._$setValue(values, part, i);
                    // The number of values the part consumes is part.strings.length - 1
                    // since values are in between template spans. We increment i by 1
                    // later in the loop, so increment it by part.strings.length - 2 here
                    i += part.strings.length - 2;
                }
                else {
                    part._$setValue(values[i]);
                }
            }
            i++;
        }
    }
}
class ChildPart {
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        // ChildParts that are not at the root should always be created with a
        // parent; only RootChildNode's won't, so they return the local isConnected
        // state
        return this._$parent?._$isConnected ?? this.__isConnected;
    }
    constructor(startNode, endNode, parent, options) {
        this.type = CHILD_PART;
        this._$committedValue = nothing;
        // The following fields will be patched onto ChildParts when required by
        // AsyncDirective
        /** @internal */
        this._$disconnectableChildren = undefined;
        this._$startNode = startNode;
        this._$endNode = endNode;
        this._$parent = parent;
        this.options = options;
        // Note __isConnected is only ever accessed on RootParts (i.e. when there is
        // no _$parent); the value on a non-root-part is "don't care", but checking
        // for parent would be more code
        this.__isConnected = options?.isConnected ?? true;
        if (ENABLE_EXTRA_SECURITY_HOOKS) {
            // Explicitly initialize for consistent class shape.
            this._textSanitizer = undefined;
        }
    }
    /**
     * The parent node into which the part renders its content.
     *
     * A ChildPart's content consists of a range of adjacent child nodes of
     * `.parentNode`, possibly bordered by 'marker nodes' (`.startNode` and
     * `.endNode`).
     *
     * - If both `.startNode` and `.endNode` are non-null, then the part's content
     * consists of all siblings between `.startNode` and `.endNode`, exclusively.
     *
     * - If `.startNode` is non-null but `.endNode` is null, then the part's
     * content consists of all siblings following `.startNode`, up to and
     * including the last child of `.parentNode`. If `.endNode` is non-null, then
     * `.startNode` will always be non-null.
     *
     * - If both `.endNode` and `.startNode` are null, then the part's content
     * consists of all child nodes of `.parentNode`.
     */
    get parentNode() {
        let parentNode = wrap(this._$startNode).parentNode;
        const parent = this._$parent;
        if (parent !== undefined &&
            parentNode?.nodeType === 11 /* Node.DOCUMENT_FRAGMENT */) {
            // If the parentNode is a DocumentFragment, it may be because the DOM is
            // still in the cloned fragment during initial render; if so, get the real
            // parentNode the part will be committed into by asking the parent.
            parentNode = parent.parentNode;
        }
        return parentNode;
    }
    /**
     * The part's leading marker node, if any. See `.parentNode` for more
     * information.
     */
    get startNode() {
        return this._$startNode;
    }
    /**
     * The part's trailing marker node, if any. See `.parentNode` for more
     * information.
     */
    get endNode() {
        return this._$endNode;
    }
    _$setValue(value, directiveParent = this) {
        if (DEV_MODE && this.parentNode === null) {
            throw new Error(`This \`ChildPart\` has no \`parentNode\` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's \`innerHTML\` or \`textContent\` can do this.`);
        }
        value = resolveDirective(this, value, directiveParent);
        if (isPrimitive(value)) {
            // Non-rendering child values. It's important that these do not render
            // empty text nodes to avoid issues with preventing default <slot>
            // fallback content.
            if (value === nothing || value == null || value === '') {
                if (this._$committedValue !== nothing) {
                    debugLogEvent &&
                        debugLogEvent({
                            kind: 'commit nothing to child',
                            start: this._$startNode,
                            end: this._$endNode,
                            parent: this._$parent,
                            options: this.options,
                        });
                    this._$clear();
                }
                this._$committedValue = nothing;
            }
            else if (value !== this._$committedValue && value !== noChange) {
                this._commitText(value);
            }
            // This property needs to remain unminified.
        }
        else if (value['_$litType$'] !== undefined) {
            this._commitTemplateResult(value);
        }
        else if (value.nodeType !== undefined) {
            if (DEV_MODE && this.options?.host === value) {
                this._commitText(`[probable mistake: rendered a template's host in itself ` +
                    `(commonly caused by writing \${this} in a template]`);
                console.warn(`Attempted to render the template host`, value, `inside itself. This is almost always a mistake, and in dev mode `, `we render some warning text. In production however, we'll `, `render it, which will usually result in an error, and sometimes `, `in the element disappearing from the DOM.`);
                return;
            }
            this._commitNode(value);
        }
        else if (isIterable(value)) {
            this._commitIterable(value);
        }
        else {
            // Fallback, will render the string representation
            this._commitText(value);
        }
    }
    _insert(node) {
        return wrap(wrap(this._$startNode).parentNode).insertBefore(node, this._$endNode);
    }
    _commitNode(value) {
        if (this._$committedValue !== value) {
            this._$clear();
            if (ENABLE_EXTRA_SECURITY_HOOKS &&
                sanitizerFactoryInternal !== noopSanitizer) {
                const parentNodeName = this._$startNode.parentNode?.nodeName;
                if (parentNodeName === 'STYLE' || parentNodeName === 'SCRIPT') {
                    let message = 'Forbidden';
                    if (DEV_MODE) {
                        if (parentNodeName === 'STYLE') {
                            message =
                                `Lit does not support binding inside style nodes. ` +
                                    `This is a security risk, as style injection attacks can ` +
                                    `exfiltrate data and spoof UIs. ` +
                                    `Consider instead using css\`...\` literals ` +
                                    `to compose styles, and do dynamic styling with ` +
                                    `css custom properties, ::parts, <slot>s, ` +
                                    `and by mutating the DOM rather than stylesheets.`;
                        }
                        else {
                            message =
                                `Lit does not support binding inside script nodes. ` +
                                    `This is a security risk, as it could allow arbitrary ` +
                                    `code execution.`;
                        }
                    }
                    throw new Error(message);
                }
            }
            debugLogEvent &&
                debugLogEvent({
                    kind: 'commit node',
                    start: this._$startNode,
                    parent: this._$parent,
                    value: value,
                    options: this.options,
                });
            this._$committedValue = this._insert(value);
        }
    }
    _commitText(value) {
        // If the committed value is a primitive it means we called _commitText on
        // the previous render, and we know that this._$startNode.nextSibling is a
        // Text node. We can now just replace the text content (.data) of the node.
        if (this._$committedValue !== nothing &&
            isPrimitive(this._$committedValue)) {
            const node = wrap(this._$startNode).nextSibling;
            if (ENABLE_EXTRA_SECURITY_HOOKS) {
                if (this._textSanitizer === undefined) {
                    this._textSanitizer = createSanitizer(node, 'data', 'property');
                }
                value = this._textSanitizer(value);
            }
            debugLogEvent &&
                debugLogEvent({
                    kind: 'commit text',
                    node,
                    value,
                    options: this.options,
                });
            node.data = value;
        }
        else {
            if (ENABLE_EXTRA_SECURITY_HOOKS) {
                const textNode = d.createTextNode('');
                this._commitNode(textNode);
                // When setting text content, for security purposes it matters a lot
                // what the parent is. For example, <style> and <script> need to be
                // handled with care, while <span> does not. So first we need to put a
                // text node into the document, then we can sanitize its content.
                if (this._textSanitizer === undefined) {
                    this._textSanitizer = createSanitizer(textNode, 'data', 'property');
                }
                value = this._textSanitizer(value);
                debugLogEvent &&
                    debugLogEvent({
                        kind: 'commit text',
                        node: textNode,
                        value,
                        options: this.options,
                    });
                textNode.data = value;
            }
            else {
                this._commitNode(d.createTextNode(value));
                debugLogEvent &&
                    debugLogEvent({
                        kind: 'commit text',
                        node: wrap(this._$startNode).nextSibling,
                        value,
                        options: this.options,
                    });
            }
        }
        this._$committedValue = value;
    }
    _commitTemplateResult(result) {
        // This property needs to remain unminified.
        const { values, ['_$litType$']: type } = result;
        // If $litType$ is a number, result is a plain TemplateResult and we get
        // the template from the template cache. If not, result is a
        // CompiledTemplateResult and _$litType$ is a CompiledTemplate and we need
        // to create the <template> element the first time we see it.
        const template = typeof type === 'number'
            ? this._$getTemplate(result)
            : (type.el === undefined &&
                (type.el = Template.createElement(trustFromTemplateString(type.h, type.h[0]), this.options)),
                type);
        if (this._$committedValue?._$template === template) {
            debugLogEvent &&
                debugLogEvent({
                    kind: 'template updating',
                    template,
                    instance: this._$committedValue,
                    parts: this._$committedValue._$parts,
                    options: this.options,
                    values,
                });
            this._$committedValue._update(values);
        }
        else {
            const instance = new TemplateInstance(template, this);
            const fragment = instance._clone(this.options);
            debugLogEvent &&
                debugLogEvent({
                    kind: 'template instantiated',
                    template,
                    instance,
                    parts: instance._$parts,
                    options: this.options,
                    fragment,
                    values,
                });
            instance._update(values);
            debugLogEvent &&
                debugLogEvent({
                    kind: 'template instantiated and updated',
                    template,
                    instance,
                    parts: instance._$parts,
                    options: this.options,
                    fragment,
                    values,
                });
            this._commitNode(fragment);
            this._$committedValue = instance;
        }
    }
    // Overridden via `litHtmlPolyfillSupport` to provide platform support.
    /** @internal */
    _$getTemplate(result) {
        let template = templateCache.get(result.strings);
        if (template === undefined) {
            templateCache.set(result.strings, (template = new Template(result)));
        }
        return template;
    }
    _commitIterable(value) {
        // For an Iterable, we create a new InstancePart per item, then set its
        // value to the item. This is a little bit of overhead for every item in
        // an Iterable, but it lets us recurse easily and efficiently update Arrays
        // of TemplateResults that will be commonly returned from expressions like:
        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.
        // If value is an array, then the previous render was of an
        // iterable and value will contain the ChildParts from the previous
        // render. If value is not an array, clear this part and make a new
        // array for ChildParts.
        if (!isArray(this._$committedValue)) {
            this._$committedValue = [];
            this._$clear();
        }
        // Lets us keep track of how many items we stamped so we can clear leftover
        // items from a previous render
        const itemParts = this._$committedValue;
        let partIndex = 0;
        let itemPart;
        for (const item of value) {
            if (partIndex === itemParts.length) {
                // If no existing part, create a new one
                // TODO (justinfagnani): test perf impact of always creating two parts
                // instead of sharing parts between nodes
                // https://github.com/lit/lit/issues/1266
                itemParts.push((itemPart = new ChildPart(this._insert(createMarker()), this._insert(createMarker()), this, this.options)));
            }
            else {
                // Reuse an existing part
                itemPart = itemParts[partIndex];
            }
            itemPart._$setValue(item);
            partIndex++;
        }
        if (partIndex < itemParts.length) {
            // itemParts always have end nodes
            this._$clear(itemPart && wrap(itemPart._$endNode).nextSibling, partIndex);
            // Truncate the parts array so _value reflects the current state
            itemParts.length = partIndex;
        }
    }
    /**
     * Removes the nodes contained within this Part from the DOM.
     *
     * @param start Start node to clear from, for clearing a subset of the part's
     *     DOM (used when truncating iterables)
     * @param from  When `start` is specified, the index within the iterable from
     *     which ChildParts are being removed, used for disconnecting directives
     *     in those Parts.
     *
     * @internal
     */
    _$clear(start = wrap(this._$startNode).nextSibling, from) {
        this._$notifyConnectionChanged?.(false, true, from);
        while (start !== this._$endNode) {
            // The non-null assertion is safe because if _$startNode.nextSibling is
            // null, then _$endNode is also null, and we would not have entered this
            // loop.
            const n = wrap(start).nextSibling;
            wrap(start).remove();
            start = n;
        }
    }
    /**
     * Implementation of RootPart's `isConnected`. Note that this method
     * should only be called on `RootPart`s (the `ChildPart` returned from a
     * top-level `render()` call). It has no effect on non-root ChildParts.
     * @param isConnected Whether to set
     * @internal
     */
    setConnected(isConnected) {
        if (this._$parent === undefined) {
            this.__isConnected = isConnected;
            this._$notifyConnectionChanged?.(isConnected);
        }
        else if (DEV_MODE) {
            throw new Error('part.setConnected() may only be called on a ' +
                'RootPart returned from render().');
        }
    }
}
class AttributePart {
    get tagName() {
        return this.element.tagName;
    }
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        return this._$parent._$isConnected;
    }
    constructor(element, name, strings, parent, options) {
        this.type = ATTRIBUTE_PART;
        /** @internal */
        this._$committedValue = nothing;
        /** @internal */
        this._$disconnectableChildren = undefined;
        this.element = element;
        this.name = name;
        this._$parent = parent;
        this.options = options;
        if (strings.length > 2 || strings[0] !== '' || strings[1] !== '') {
            this._$committedValue = new Array(strings.length - 1).fill(new String());
            this.strings = strings;
        }
        else {
            this._$committedValue = nothing;
        }
        if (ENABLE_EXTRA_SECURITY_HOOKS) {
            this._sanitizer = undefined;
        }
    }
    /**
     * Sets the value of this part by resolving the value from possibly multiple
     * values and static strings and committing it to the DOM.
     * If this part is single-valued, `this._strings` will be undefined, and the
     * method will be called with a single value argument. If this part is
     * multi-value, `this._strings` will be defined, and the method is called
     * with the value array of the part's owning TemplateInstance, and an offset
     * into the value array from which the values should be read.
     * This method is overloaded this way to eliminate short-lived array slices
     * of the template instance values, and allow a fast-path for single-valued
     * parts.
     *
     * @param value The part value, or an array of values for multi-valued parts
     * @param valueIndex the index to start reading values from. `undefined` for
     *   single-valued parts
     * @param noCommit causes the part to not commit its value to the DOM. Used
     *   in hydration to prime attribute parts with their first-rendered value,
     *   but not set the attribute, and in SSR to no-op the DOM operation and
     *   capture the value for serialization.
     *
     * @internal
     */
    _$setValue(value, directiveParent = this, valueIndex, noCommit) {
        const strings = this.strings;
        // Whether any of the values has changed, for dirty-checking
        let change = false;
        if (strings === undefined) {
            // Single-value binding case
            value = resolveDirective(this, value, directiveParent, 0);
            change =
                !isPrimitive(value) ||
                    (value !== this._$committedValue && value !== noChange);
            if (change) {
                this._$committedValue = value;
            }
        }
        else {
            // Interpolation case
            const values = value;
            value = strings[0];
            let i, v;
            for (i = 0; i < strings.length - 1; i++) {
                v = resolveDirective(this, values[valueIndex + i], directiveParent, i);
                if (v === noChange) {
                    // If the user-provided value is `noChange`, use the previous value
                    v = this._$committedValue[i];
                }
                change ||=
                    !isPrimitive(v) || v !== this._$committedValue[i];
                if (v === nothing) {
                    value = nothing;
                }
                else if (value !== nothing) {
                    value += (v ?? '') + strings[i + 1];
                }
                // We always record each value, even if one is `nothing`, for future
                // change detection.
                this._$committedValue[i] = v;
            }
        }
        if (change && !noCommit) {
            this._commitValue(value);
        }
    }
    /** @internal */
    _commitValue(value) {
        if (value === nothing) {
            wrap(this.element).removeAttribute(this.name);
        }
        else {
            if (ENABLE_EXTRA_SECURITY_HOOKS) {
                if (this._sanitizer === undefined) {
                    this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'attribute');
                }
                value = this._sanitizer(value ?? '');
            }
            debugLogEvent &&
                debugLogEvent({
                    kind: 'commit attribute',
                    element: this.element,
                    name: this.name,
                    value,
                    options: this.options,
                });
            wrap(this.element).setAttribute(this.name, (value ?? ''));
        }
    }
}
class PropertyPart extends AttributePart {
    constructor() {
        super(...arguments);
        this.type = PROPERTY_PART;
    }
    /** @internal */
    _commitValue(value) {
        if (ENABLE_EXTRA_SECURITY_HOOKS) {
            if (this._sanitizer === undefined) {
                this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'property');
            }
            value = this._sanitizer(value);
        }
        debugLogEvent &&
            debugLogEvent({
                kind: 'commit property',
                element: this.element,
                name: this.name,
                value,
                options: this.options,
            });
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.element[this.name] = value === nothing ? undefined : value;
    }
}
class BooleanAttributePart extends AttributePart {
    constructor() {
        super(...arguments);
        this.type = BOOLEAN_ATTRIBUTE_PART;
    }
    /** @internal */
    _commitValue(value) {
        debugLogEvent &&
            debugLogEvent({
                kind: 'commit boolean attribute',
                element: this.element,
                name: this.name,
                value: !!(value && value !== nothing),
                options: this.options,
            });
        wrap(this.element).toggleAttribute(this.name, !!value && value !== nothing);
    }
}
class EventPart extends AttributePart {
    constructor(element, name, strings, parent, options) {
        super(element, name, strings, parent, options);
        this.type = EVENT_PART;
        if (DEV_MODE && this.strings !== undefined) {
            throw new Error(`A \`<${element.localName}>\` has a \`@${name}=...\` listener with ` +
                'invalid content. Event listeners in templates must have exactly ' +
                'one expression and no surrounding text.');
        }
    }
    // EventPart does not use the base _$setValue/_resolveValue implementation
    // since the dirty checking is more complex
    /** @internal */
    _$setValue(newListener, directiveParent = this) {
        newListener =
            resolveDirective(this, newListener, directiveParent, 0) ?? nothing;
        if (newListener === noChange) {
            return;
        }
        const oldListener = this._$committedValue;
        // If the new value is nothing or any options change we have to remove the
        // part as a listener.
        const shouldRemoveListener = (newListener === nothing && oldListener !== nothing) ||
            newListener.capture !==
                oldListener.capture ||
            newListener.once !==
                oldListener.once ||
            newListener.passive !==
                oldListener.passive;
        // If the new value is not nothing and we removed the listener, we have
        // to add the part as a listener.
        const shouldAddListener = newListener !== nothing &&
            (oldListener === nothing || shouldRemoveListener);
        debugLogEvent &&
            debugLogEvent({
                kind: 'commit event listener',
                element: this.element,
                name: this.name,
                value: newListener,
                options: this.options,
                removeListener: shouldRemoveListener,
                addListener: shouldAddListener,
                oldListener,
            });
        if (shouldRemoveListener) {
            this.element.removeEventListener(this.name, this, oldListener);
        }
        if (shouldAddListener) {
            this.element.addEventListener(this.name, this, newListener);
        }
        this._$committedValue = newListener;
    }
    handleEvent(event) {
        if (typeof this._$committedValue === 'function') {
            this._$committedValue.call(this.options?.host ?? this.element, event);
        }
        else {
            this._$committedValue.handleEvent(event);
        }
    }
}
class ElementPart {
    constructor(element, parent, options) {
        this.element = element;
        this.type = ELEMENT_PART;
        /** @internal */
        this._$disconnectableChildren = undefined;
        this._$parent = parent;
        this.options = options;
    }
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        return this._$parent._$isConnected;
    }
    _$setValue(value) {
        debugLogEvent &&
            debugLogEvent({
                kind: 'commit to element binding',
                element: this.element,
                value,
                options: this.options,
            });
        resolveDirective(this, value);
    }
}
/**
 * END USERS SHOULD NOT RELY ON THIS OBJECT.
 *
 * Private exports for use by other Lit packages, not intended for use by
 * external users.
 *
 * We currently do not make a mangled rollup build of the lit-ssr code. In order
 * to keep a number of (otherwise private) top-level exports mangled in the
 * client side code, we export a _$LH object containing those members (or
 * helper methods for accessing private fields of those members), and then
 * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the
 * client-side code is being used in `dev` mode or `prod` mode.
 *
 * This has a unique name, to disambiguate it from private exports in
 * lit-element, which re-exports all of lit-html.
 *
 * @private
 */
const _$LH = {
    // Used in lit-ssr
    _boundAttributeSuffix: boundAttributeSuffix,
    _marker: marker,
    _markerMatch: markerMatch,
    _HTML_RESULT: HTML_RESULT,
    _getTemplateHtml: getTemplateHtml,
    // Used in tests and private-ssr-support
    _TemplateInstance: TemplateInstance,
    _isIterable: isIterable,
    _resolveDirective: resolveDirective,
    _ChildPart: ChildPart,
    _AttributePart: AttributePart,
    _BooleanAttributePart: BooleanAttributePart,
    _EventPart: EventPart,
    _PropertyPart: PropertyPart,
    _ElementPart: ElementPart,
};
// Apply polyfills if available
const polyfillSupport = DEV_MODE
    ? global.litHtmlPolyfillSupportDevMode
    : global.litHtmlPolyfillSupport;
polyfillSupport?.(Template, ChildPart);
// IMPORTANT: do not change the property name or the assignment expression.
// This line will be used in regexes to search for lit-html usage.
(global.litHtmlVersions ??= []).push('3.3.1');
if (DEV_MODE && global.litHtmlVersions.length > 1) {
    queueMicrotask(() => {
        issueWarning('multiple-versions', `Multiple versions of Lit loaded. ` +
            `Loading multiple versions is not recommended.`);
    });
}
/**
 * Renders a value, usually a lit-html TemplateResult, to the container.
 *
 * This example renders the text "Hello, Zoe!" inside a paragraph tag, appending
 * it to the container `document.body`.
 *
 * ```js
 * import {html, render} from 'lit';
 *
 * const name = "Zoe";
 * render(html`<p>Hello, ${name}!</p>`, document.body);
 * ```
 *
 * @param value Any [renderable
 *   value](https://lit.dev/docs/templates/expressions/#child-expressions),
 *   typically a {@linkcode TemplateResult} created by evaluating a template tag
 *   like {@linkcode html} or {@linkcode svg}.
 * @param container A DOM container to render to. The first render will append
 *   the rendered value to the container, and subsequent renders will
 *   efficiently update the rendered value if the same result type was
 *   previously rendered there.
 * @param options See {@linkcode RenderOptions} for options documentation.
 * @see
 * {@link https://lit.dev/docs/libraries/standalone-templates/#rendering-lit-html-templates| Rendering Lit HTML Templates}
 */
const render = (value, container, options) => {
    if (DEV_MODE && container == null) {
        // Give a clearer error message than
        //     Uncaught TypeError: Cannot read properties of null (reading
        //     '_$litPart$')
        // which reads like an internal Lit error.
        throw new TypeError(`The container to render into may not be ${container}`);
    }
    const renderId = DEV_MODE ? debugLogRenderId++ : 0;
    const partOwnerNode = options?.renderBefore ?? container;
    // This property needs to remain unminified.
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    let part = partOwnerNode['_$litPart$'];
    debugLogEvent &&
        debugLogEvent({
            kind: 'begin render',
            id: renderId,
            value,
            container,
            options,
            part,
        });
    if (part === undefined) {
        const endNode = options?.renderBefore ?? null;
        // This property needs to remain unminified.
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        partOwnerNode['_$litPart$'] = part = new ChildPart(container.insertBefore(createMarker(), endNode), endNode, undefined, options ?? {});
    }
    part._$setValue(value);
    debugLogEvent &&
        debugLogEvent({
            kind: 'end render',
            id: renderId,
            value,
            container,
            options,
            part,
        });
    return part;
};
if (ENABLE_EXTRA_SECURITY_HOOKS) {
    render.setSanitizer = setSanitizer;
    render.createSanitizer = createSanitizer;
    if (DEV_MODE) {
        render._testOnlyClearSanitizerFactoryDoNotCallOrElse =
            _testOnlyClearSanitizerFactoryDoNotCallOrElse;
    }
}
//# sourceMappingURL=lit-html.js.map

/***/ }),

/***/ "./node_modules/lit/decorators.js":
/*!****************************************!*\
  !*** ./node_modules/lit/decorators.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   customElement: () => (/* reexport safe */ _lit_reactive_element_decorators_custom_element_js__WEBPACK_IMPORTED_MODULE_0__.customElement),
/* harmony export */   eventOptions: () => (/* reexport safe */ _lit_reactive_element_decorators_event_options_js__WEBPACK_IMPORTED_MODULE_3__.eventOptions),
/* harmony export */   property: () => (/* reexport safe */ _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property),
/* harmony export */   query: () => (/* reexport safe */ _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__.query),
/* harmony export */   queryAll: () => (/* reexport safe */ _lit_reactive_element_decorators_query_all_js__WEBPACK_IMPORTED_MODULE_5__.queryAll),
/* harmony export */   queryAssignedElements: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__.queryAssignedElements),
/* harmony export */   queryAssignedNodes: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__.queryAssignedNodes),
/* harmony export */   queryAsync: () => (/* reexport safe */ _lit_reactive_element_decorators_query_async_js__WEBPACK_IMPORTED_MODULE_6__.queryAsync),
/* harmony export */   standardProperty: () => (/* reexport safe */ _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.standardProperty),
/* harmony export */   state: () => (/* reexport safe */ _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__.state)
/* harmony export */ });
/* harmony import */ var _lit_reactive_element_decorators_custom_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element/decorators/custom-element.js */ "./node_modules/@lit/reactive-element/development/decorators/custom-element.js");
/* harmony import */ var _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lit/reactive-element/decorators/property.js */ "./node_modules/@lit/reactive-element/development/decorators/property.js");
/* harmony import */ var _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lit/reactive-element/decorators/state.js */ "./node_modules/@lit/reactive-element/development/decorators/state.js");
/* harmony import */ var _lit_reactive_element_decorators_event_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lit/reactive-element/decorators/event-options.js */ "./node_modules/@lit/reactive-element/development/decorators/event-options.js");
/* harmony import */ var _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lit/reactive-element/decorators/query.js */ "./node_modules/@lit/reactive-element/development/decorators/query.js");
/* harmony import */ var _lit_reactive_element_decorators_query_all_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-all.js */ "./node_modules/@lit/reactive-element/development/decorators/query-all.js");
/* harmony import */ var _lit_reactive_element_decorators_query_async_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-async.js */ "./node_modules/@lit/reactive-element/development/decorators/query-async.js");
/* harmony import */ var _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-elements.js */ "./node_modules/@lit/reactive-element/development/decorators/query-assigned-elements.js");
/* harmony import */ var _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-nodes.js */ "./node_modules/@lit/reactive-element/development/decorators/query-assigned-nodes.js");

//# sourceMappingURL=decorators.js.map


/***/ }),

/***/ "./node_modules/lit/index.js":
/*!***********************************!*\
  !*** ./node_modules/lit/index.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CSSResult: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.CSSResult),
/* harmony export */   LitElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.LitElement),
/* harmony export */   ReactiveElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.ReactiveElement),
/* harmony export */   _$LE: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LE),
/* harmony export */   _$LH: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LH),
/* harmony export */   adoptStyles: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.adoptStyles),
/* harmony export */   css: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.css),
/* harmony export */   defaultConverter: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.defaultConverter),
/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.getCompatibleStyle),
/* harmony export */   html: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.html),
/* harmony export */   isServer: () => (/* reexport safe */ lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__.isServer),
/* harmony export */   mathml: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.mathml),
/* harmony export */   noChange: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.noChange),
/* harmony export */   notEqual: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.notEqual),
/* harmony export */   nothing: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.nothing),
/* harmony export */   render: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.render),
/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.supportsAdoptingStyleSheets),
/* harmony export */   svg: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.svg),
/* harmony export */   unsafeCSS: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.unsafeCSS)
/* harmony export */ });
/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ "./node_modules/@lit/reactive-element/development/reactive-element.js");
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/* harmony import */ var lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-element/lit-element.js */ "./node_modules/lit-element/development/lit-element.js");
/* harmony import */ var lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/is-server.js */ "./node_modules/lit-html/development/is-server.js");

//# sourceMappingURL=index.js.map


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {



var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/bus.ts":
/*!********************!*\
  !*** ./src/bus.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bus: () => (/* binding */ bus),
/* harmony export */   cid: () => (/* binding */ cid)
/* harmony export */ });
class TypedBus {
    constructor() {
        this.handlers = new Map();
    }
    on(type, fn) {
        if (!this.handlers.has(type))
            this.handlers.set(type, new Set());
        this.handlers.get(type).add(fn);
        return () => this.off(type, fn);
    }
    once(type, fn) {
        const off = this.on(type, (payload) => {
            off();
            fn(payload);
        });
        return off;
    }
    off(type, fn) {
        this.handlers.get(type)?.delete(fn);
    }
    emit(type, payload) {
        const fns = this.handlers.get(type);
        if (!fns || fns.size === 0)
            return;
        // Copy to avoid mutation during iteration
        for (const fn of Array.from(fns)) {
            try {
                fn(payload);
            }
            catch (err) {
                // Keep other listeners running even if one fails
                // eslint-disable-next-line no-console
                console.error(`[bus.emit] listener error for "${String(type)}":`, err);
            }
        }
    }
    // Promise-based convenience (resolves on next matching event)
    waitFor(type) {
        return new Promise(resolve => {
            const off = this.on(type, (payload) => {
                off();
                resolve(payload);
            });
        });
    }
    // Optional: clear all listeners (use carefully)
    clear() {
        this.handlers.clear();
    }
}
const bus = new TypedBus();
const cid = () => Math.random().toString(36).slice(2);
// Re-export types so other modules can `import { bus, type BusEvents } from 'src/bus'`
// export * from './events';


/***/ }),

/***/ "./src/components/astro-viewer/AstroViewer.ts":
/*!****************************************************!*\
  !*** ./src/components/astro-viewer/AstroViewer.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AstroViewer: () => (/* binding */ AstroViewer)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ "./node_modules/lit/decorators.js");
/* harmony import */ var _AstroViewerController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AstroViewerController */ "./src/components/astro-viewer/AstroViewerController.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



const stateAny = lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state;
let AstroViewer = class AstroViewer extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {
    static { this.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `
    :host {
      display: block;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
    }

    .root {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }`; }
    constructor() {
        super();
        this.astroState = {
            centralRADeg: 0,
            centralDecDeg: 0,
            fov: 0,
            equatorialGridVisible: false,
            healpixGridVisible: false,
            insideSphere: false,
            mouseRADeg: undefined,
            mouseDecDeg: undefined
        };
        // Unique id per instance (no decorator needed)
        this.canvasId = `astro-canvas-${crypto.randomUUID()}`;
        this.controller = new _AstroViewerController__WEBPACK_IMPORTED_MODULE_2__.AstroViewerController(this.astroState);
    }
    firstUpdated() {
        // here DOM is ready → you can init WebGL with the canvas
        const canvas = this.renderRoot.querySelector(`#${this.canvasId}`);
        if (!canvas)
            return;
        if (!this.controller)
            return;
        this.controller.init(this.canvasId);
    }
    render() {
        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `
      <div class="root">
        <span>ASTRO VIEWER</span>
        <canvas id=${this.canvasId}></canvas>
      </div>
    `;
    }
};
__decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ attribute: false })
], AstroViewer.prototype, "astroState", void 0);
AstroViewer = __decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)('astro-viewer')
], AstroViewer);



/***/ }),

/***/ "./src/components/astro-viewer/AstroViewerController.ts":
/*!**************************************************************!*\
  !*** ./src/components/astro-viewer/AstroViewerController.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AstroViewerController: () => (/* binding */ AstroViewerController)
/* harmony export */ });
/* harmony import */ var _astro_lib_wrapper_AstroLibAdapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./astro-lib-wrapper/AstroLibAdapter */ "./src/components/astro-viewer/astro-lib-wrapper/AstroLibAdapter.ts");
/* harmony import */ var _astro_lib_wrapper_AstroLibController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./astro-lib-wrapper/AstroLibController */ "./src/components/astro-viewer/astro-lib-wrapper/AstroLibController.ts");


class AstroViewerController {
    constructor(astroState) {
        this.canvasId = null;
        this.astroState = astroState;
    }
    init(canvasId) {
        this.canvasId = canvasId;
        if (!this.canvasId)
            return;
        const astroLibAPI = new _astro_lib_wrapper_AstroLibAdapter__WEBPACK_IMPORTED_MODULE_0__.AstroLibAdapter(this.canvasId); // tweak if your adapter differs
        const astroLibController = new _astro_lib_wrapper_AstroLibController__WEBPACK_IMPORTED_MODULE_1__.AstroLibController(astroLibAPI);
        astroLibController.mount();
    }
}


/***/ }),

/***/ "./src/components/astro-viewer/astro-lib-wrapper/AstroLibAdapter.ts":
/*!**************************************************************************!*\
  !*** ./src/components/astro-viewer/astro-lib-wrapper/AstroLibAdapter.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AstroLibAdapter: () => (/* binding */ AstroLibAdapter)
/* harmony export */ });
/* harmony import */ var astroviewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! astroviewer */ "../astro-viewer/lib-esm/AstroViewer.js");

class AstroLibAdapter {
    constructor(canvasDomId) {
        this._initialised = false;
        this.listeners = new Set();
        // ---- IAstroViewerAPI implementation ----
        this.version = 'dev';
        this.init(canvasDomId);
        this.lastFov = this.getState().fov;
        this.notify();
    }
    init(canvasDomId) {
        if (this._initialised)
            return;
        (async () => {
            try {
                // TODO add canvas id to the constructor of AstroViewer();
                this.viewer = new astroviewer__WEBPACK_IMPORTED_MODULE_0__.AstroViewer(canvasDomId);
                const baseUrl = this.viewer.getDefaultHiPSURL();
                const hipsUrl = baseUrl.endsWith('/') ? baseUrl : baseUrl + '/';
                this.viewer.loadHiPS(hipsUrl);
                this.viewer.run();
                this.lastFov = this.viewer?.getFoV().minFoV;
                this.lastCentralRADeg = this.viewer?.getCenterCoordinates()?.astroDeg.ra;
                this.lastCentralDecDeg = this.viewer?.getCenterCoordinates()?.astroDeg.dec;
                this.lastMouseRADeg = this.viewer?.getCoordinatesFromMouse()?.astroDeg.ra;
                this.lastMouseDecDeg = this.viewer?.getCoordinatesFromMouse()?.astroDeg.dec;
                const canvas = document.getElementById(canvasDomId);
                canvas?.addEventListener('cameraChanged', (ev) => {
                    // console.log(ev)
                    const { fovDeg, position, vMatrix, pMatrix, timestamp, centralPoint, mouseHoverPoint } = ev.detail;
                    this.notifyIfChanged();
                });
                this._initialised = true;
            }
            catch (e) {
                console.error('AstroViewer boot failed:', e);
            }
        })();
    }
    requireViewer() {
        const v = this.viewer;
        if (!v)
            throw new Error("astro-viewer is undefined");
        return v; // Now typed as non-null in the caller via local const
    }
    requireCatalogueGL(e) {
        const gl = e.astroviewerGlObj;
        if (!gl)
            throw new Error("AstroEntity has no GL object");
        if (gl._kind !== "CatalogueGL") {
            throw new Error("Expected a CatalogueGL, got a FootprintSetGL");
        }
        return gl;
    }
    requireFootprintSetGL(e) {
        const gl = e.astroviewerGlObj;
        if (!gl)
            throw new Error("AstroEntity has no GL object");
        if (gl._kind !== "FootprintSetGL") {
            throw new Error("Expected a CatalogueGL, got a FootprintSetGL");
        }
        return gl;
    }
    changeCatalogueRA(catalogue, metadataColumnName) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        const updated = viewer.changeCatalogueRA(catGL, metadataColumnName);
        catalogue.astroviewerGlObj = updated;
        return catalogue;
    }
    changeCatalogueDec(catalogue, metadataColumnName) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        const updated = viewer.changeCatalogueDec(catGL, metadataColumnName);
        catalogue.astroviewerGlObj = updated;
        return catalogue;
    }
    changeCatalogueColor(catalogue, hexColor) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        const updated = viewer.changeCatalogueColor(catGL, hexColor);
        catalogue.astroviewerGlObj = updated;
        return catalogue;
    }
    setCatalogueShapeHue(catalogue, metadataColumnName) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        const updated = viewer.setCatalogueShapeHue(catGL, metadataColumnName);
        catalogue.astroviewerGlObj = updated;
        return catalogue;
    }
    setCatalogueShapeSize(catalogue, metadataColumnName) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        const updated = viewer.setCatalogueShapeSize(catGL, metadataColumnName);
        catalogue.astroviewerGlObj = updated;
        return catalogue;
    }
    hideCatalogue(catalogue, show) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        viewer.hideCatalogue(catGL, show);
    }
    removeCatalogue(catalogue) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        viewer.deleteCatalogue(catGL);
    }
    goto(ra, dec, fov) {
        const viewer = this.requireViewer();
        viewer.goTo(ra, dec);
    }
    toggleHealpixGrid(on) {
        const viewer = this.requireViewer();
        viewer.toggleHealpixGrid();
    }
    toggleEquatorialGrid(on) {
        const viewer = this.requireViewer();
        viewer.toggleEquatorialGrid();
    }
    toggleInsideSphere(on) {
        const viewer = this.requireViewer();
        viewer.toggleInsideSphere();
    }
    async showCatalogue(catalogue) {
        const viewer = this.requireViewer();
        const catGL = this.requireCatalogueGL(catalogue);
        viewer.showCatalogue(catGL);
    }
    async showFootprintSet(fset) {
        const viewer = this.requireViewer();
        const fsetGL = this.requireFootprintSetGL(fset);
        viewer.showFootprintSet(fsetGL);
    }
    setFoV(fov) {
        throw new Error('Method not implemented.');
    }
    getFoVPolygon() {
        const viewer = this.requireViewer();
        return viewer.getFoVPolygon();
    }
    getCenterCoordinates() {
        const viewer = this.requireViewer();
        return viewer.getCenterCoordinates();
    }
    getFoV() {
        const viewer = this.requireViewer();
        return viewer.getFoV();
    }
    getState() {
        const viewer = this.requireViewer();
        const center = viewer.getCenterCoordinates();
        const fov = this.viewer?.getFoV().minFoV;
        const equatorialGridVisible = (viewer.isEquatorialGridVisible() && true) ?? false;
        const healpixGridVisible = (viewer.isHealpixGridVisible() && true) ?? false;
        const insideSphere = (viewer.getInsideSphere() && true) ?? false;
        const mouseDecDeg = viewer.getCoordinatesFromMouse()?.astroDeg.dec;
        const mouseRADeg = viewer.getCoordinatesFromMouse()?.astroDeg.ra;
        if (!center || !fov)
            return {
                centralRADeg: 0,
                centralDecDeg: 0,
                fov: 0,
                equatorialGridVisible: equatorialGridVisible,
                healpixGridVisible: healpixGridVisible,
                insideSphere: insideSphere,
                mouseRADeg: undefined,
                mouseDecDeg: undefined
            };
        return {
            centralRADeg: center.astroDeg.ra,
            centralDecDeg: center.astroDeg.dec,
            fov: fov,
            equatorialGridVisible: equatorialGridVisible,
            healpixGridVisible: healpixGridVisible,
            insideSphere: insideSphere,
            mouseRADeg: mouseRADeg,
            mouseDecDeg: mouseDecDeg
        };
    }
    onStateChanged(cb) {
        // save callback cb function 
        this.listeners.add(cb);
        // retruns a function that when called removes the callback
        return () => this.listeners.delete(cb);
    }
    // ---- helpers ----
    notify() {
        const s = this.getState();
        this.listeners.forEach(fn => fn(s));
    }
    notifyIfChanged() {
        const fov = this.getState().fov;
        // Throttle: only emit if FoV actually changed (tolerance avoids spam)
        if (Number.isFinite(fov) && Math.abs(fov - this.lastFov) > 1e-3) {
            this.lastFov = fov;
            this.notify();
        }
        const centralRADeg = this.getState().centralRADeg;
        const centralDecDeg = this.getState().centralDecDeg;
        if (centralDecDeg && centralRADeg) {
            if (!this.lastCentralDecDeg) {
                this.lastCentralDecDeg = centralDecDeg;
            }
            if (!this.lastCentralRADeg) {
                this.lastCentralRADeg = centralRADeg;
            }
            // Throttle: only emit if central point actually changed (tolerance avoids spam)
            if ((Number.isFinite(centralDecDeg) && Math.abs(centralDecDeg - this.lastCentralDecDeg) > 1e-3) ||
                (Number.isFinite(centralRADeg) && Math.abs(centralRADeg - this.lastCentralRADeg) > 1e-3)) {
                this.lastCentralDecDeg = centralDecDeg;
                this.lastCentralRADeg = centralRADeg;
                this.notify();
            }
        }
        const mouseRADeg = this.getState().mouseRADeg;
        const mouseDecDeg = this.getState().mouseDecDeg;
        if (mouseRADeg && mouseDecDeg) {
            if (!this.lastMouseDecDeg) {
                this.lastMouseDecDeg = mouseDecDeg;
            }
            if (!this.lastMouseRADeg) {
                this.lastMouseRADeg = mouseRADeg;
            }
            // Throttle: only emit if mouse hover point actually changed (tolerance avoids spam)
            if ((Number.isFinite(mouseDecDeg) && Math.abs(mouseDecDeg - this.lastMouseDecDeg) > 1e-3) ||
                (Number.isFinite(mouseRADeg) && Math.abs(mouseRADeg - this.lastMouseRADeg) > 1e-3)) {
                this.lastMouseDecDeg = mouseDecDeg;
                this.lastMouseRADeg = mouseRADeg;
                this.notify();
            }
        }
    }
}


/***/ }),

/***/ "./src/components/astro-viewer/astro-lib-wrapper/AstroLibController.ts":
/*!*****************************************************************************!*\
  !*** ./src/components/astro-viewer/astro-lib-wrapper/AstroLibController.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AstroLibController: () => (/* binding */ AstroLibController)
/* harmony export */ });
/* harmony import */ var _bus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../bus */ "./src/bus.ts");
/* harmony import */ var astroviewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! astroviewer */ "../astro-viewer/lib-esm/model/Point.js");
/* harmony import */ var astroviewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! astroviewer */ "../astro-viewer/lib-esm/utils/CoordsType.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../events */ "./src/events.ts");
/* harmony import */ var _stores_DataProviderStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../stores/DataProviderStore */ "./src/stores/DataProviderStore.ts");




class AstroLibController {
    constructor(api) {
        this.api = api;
    }
    mount() {
        // Commands
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on('astro.goto', ({ ra, dec, fov }) => this.api.goto(ra, dec, fov));
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on('astro.toggle.healpix', ({ on }) => this.api.toggleHealpixGrid(on));
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on('astro.toggle.equatorial', ({ on }) => this.api.toggleEquatorialGrid(on));
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on('astro.toggle.insideSphere', ({ on }) => this.api.toggleInsideSphere(on));
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on('astro.set.fov', ({ fov }) => this.api.setFoV(fov));
        // Queries
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_STATE_GET_req, ({ cid }) => {
            const state = this.api.getState();
            _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_STATE_GET_res, { cid, state });
        });
        // Catalogue Plots
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_CATALOGUE_req, async ({ cid, dataProvider, catalogue }) => {
            try {
                const fovPolygon = this.api.getFoVPolygon();
                dataProvider.queryCatalogueByFoV(catalogue.astroviewerGlObj, fovPolygon);
                await this.api.showCatalogue(catalogue);
                const payload = {
                    dataProvider: dataProvider,
                    catalogue: catalogue
                };
                _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_CATALOGUE_res, { cid, ok: true, payload });
                // bus.emit('tap:catalogueSelected', { ...payload });
            }
            catch (e) {
                _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_CATALOGUE_res, { cid, ok: false, error: e?.message ?? String(e) });
            }
        });
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_META_RA_CHANGED, ({ catalogue, column }) => {
            _stores_DataProviderStore__WEBPACK_IMPORTED_MODULE_4__.dataProviderStore.removeFromActiveCatalogues(catalogue);
            catalogue = this.api.changeCatalogueRA(catalogue, column); // <-- delegate to your viewer API here
            _stores_DataProviderStore__WEBPACK_IMPORTED_MODULE_4__.dataProviderStore.addToActiveCatalogues(catalogue);
        });
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_META_DEC_CHANGED, ({ catalogue, column }) => {
            _stores_DataProviderStore__WEBPACK_IMPORTED_MODULE_4__.dataProviderStore.removeFromActiveCatalogues(catalogue);
            catalogue = this.api.changeCatalogueDec(catalogue, column);
            _stores_DataProviderStore__WEBPACK_IMPORTED_MODULE_4__.dataProviderStore.addToActiveCatalogues(catalogue);
        });
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_META_HUE_CHANGED, ({ catalogue, column }) => {
            // dataProviderStore.removeFromActiveCatalogues(catalogue)
            catalogue = this.api.setCatalogueShapeHue(catalogue, column);
            // dataProviderStore.addToActiveCatalogues(catalogue)
        });
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_META_SIZE_CHANGED, ({ catalogue, column }) => {
            // dataProviderStore.removeFromActiveCatalogues(catalogue)
            catalogue = this.api.setCatalogueShapeSize(catalogue, column);
            // dataProviderStore.addToActiveCatalogues(catalogue)
        });
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_META_COLOR_CHANGED, ({ catalogue, hexColor }) => {
            _stores_DataProviderStore__WEBPACK_IMPORTED_MODULE_4__.dataProviderStore.removeFromActiveCatalogues(catalogue);
            catalogue = this.api.changeCatalogueColor(catalogue, hexColor);
            _stores_DataProviderStore__WEBPACK_IMPORTED_MODULE_4__.dataProviderStore.addToActiveCatalogues(catalogue);
        });
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_CATALOGUE_SHOW, ({ catalogue, isVisible }) => {
            this.api.hideCatalogue(catalogue, isVisible);
        });
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_CATALOGUE_REMOVE, ({ catalogue }) => {
            this.api.removeCatalogue(catalogue);
        });
        // Footprintset Plots
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.on(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_FOOTPRINTSET_req, async ({ cid, dataProvider, footprintSet }) => {
            try {
                const fovPolygon = this.api.getFoVPolygon();
                const radiusDeg = this.api.getFoV().minFoV / 2;
                const centralPoint = this.api.getCenterCoordinates();
                if (!centralPoint?.astroDeg)
                    throw new Error(`No central point retrieved`);
                const point = new astroviewer__WEBPACK_IMPORTED_MODULE_1__.Point({ raDeg: centralPoint?.astroDeg.ra, decDeg: centralPoint?.astroDeg.dec }, astroviewer__WEBPACK_IMPORTED_MODULE_2__.CoordsType.ASTRO);
                dataProvider.queryFootprintSetByFov(footprintSet.astroviewerGlObj, fovPolygon, point, radiusDeg);
                await this.api.showFootprintSet(footprintSet);
                const payload = {
                    dataProvider: dataProvider,
                    footprintSet: footprintSet
                };
                _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_FOOTPRINTSET_res, { cid, ok: true, payload });
                // bus.emit('tap:footprintsetSelected', { ...payload });
            }
            catch (e) {
                _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_PLOT_FOOTPRINTSET_res, { cid, ok: false, error: e?.message ?? String(e) });
            }
        });
        // Broadcast
        this.api.onStateChanged?.((state) => _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_STATE_CHANGED, { state }));
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_READY, { version: this.api.version ?? '0.0.0' });
        const state = this.api.getState();
        _bus__WEBPACK_IMPORTED_MODULE_0__.bus.emit(_events__WEBPACK_IMPORTED_MODULE_3__.EVT_ASTRO_STATE_CHANGED, { state });
    }
}


/***/ }),

/***/ "./src/components/dynamic-container/DinamicContainer.ts":
/*!**************************************************************!*\
  !*** ./src/components/dynamic-container/DinamicContainer.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DinamicContainer: () => (/* binding */ DinamicContainer)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ "./node_modules/lit/decorators.js");
/* harmony import */ var _DinamicContainerController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DinamicContainerController */ "./src/components/dynamic-container/DinamicContainerController.ts");
/* harmony import */ var _astro_viewer_AstroViewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../astro-viewer/AstroViewer */ "./src/components/astro-viewer/AstroViewer.ts");
/* harmony import */ var _table_viewer_TableViewer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../table-viewer/TableViewer */ "./src/components/table-viewer/TableViewer.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
// dinamic-container.ts





const stateAny = lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state;
let DinamicContainer = class DinamicContainer extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {
    static { this.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `
    :host {
      display: block;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
    }

    .root {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .panel {
      position: relative;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      overflow: hidden;
    }

    .leaf {
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #ddd;
      background: #fafafa;
    }

    .leaf.has-widget {
      padding: 0;
    }

    .split.horizontal {
      display: flex;
      flex-direction: column;
    }

    .split.vertical {
      display: flex;
      flex-direction: row;
    }

    .child {
      flex: 1;
      min-width: 0;
      min-height: 0;
    }

    .plus-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid rgba(46, 204, 113, 0.2);   /* visible outline */
      background: transparent;     /* transparent by default */
      color: rgba(46, 204, 113, 0.2);              /* green + icon */
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: none;
      transition:
        background-color 0.2s ease,
        color 0.2s ease,
        box-shadow 0.2s ease,
        transform 0.15s ease;
    }

    /* Hover → solid */
    .plus-btn:hover {
      background: #2ecc71;   /* solid green */
      color: #fff;           /* white + icon */
      box-shadow: 0 0 10px rgba(46, 204, 113, 0.4);
      transform: scale(1.05);
    }

    /* Pressed */
    .plus-btn:active {
      background: #28b862;
      transform: scale(0.97);
    }

    /* Icone sui bordi */
    .edge-plus {
      position: absolute;
      z-index: 10;
    }

    .edge-plus.top {
      top: 4px;
      left: 50%;
      transform: translateX(-50%);
    }

    .edge-plus.right {
      right: 4px;
      top: 50%;
      transform: translateY(-50%);
    }

    .edge-plus.bottom {
      bottom: 4px;
      left: 50%;
      transform: translateX(-50%);
    }

    .edge-plus.left {
      left: 4px;
      top: 50%;
      transform: translateY(-50%);
    }

    .center-plus {
      /* per il pannello vuoto iniziale */
    }

    /* Widget container */
    .widget-wrapper {
      width: 100%;
      height: 100%;
    }

    /* Overlay menu */
    .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }

    .overlay-content {
      background: #ffffff;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
      min-width: 260px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .overlay-content h3 {
      margin: 0;
      font-size: 16px;
    }

    .overlay-content select {
      padding: 6px 8px;
      font-size: 14px;
    }

    .overlay-actions {
      display: flex;
      gap: 8px;
      justify-content: flex-end;
    }

    .btn {
      padding: 6px 12px;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      font-size: 14px;
    }

    .btn.primary {
      background: #2ecc71;
      color: #fff;
    }

    .btn.secondary {
      background: #eee;
      color: #333;
    }

    .split.horizontal {
    display: flex;
    flex-direction: column;
  }

  .split.vertical {
    display: flex;
    flex-direction: row;
  }

  .child {
    min-width: 0;
    min-height: 0;
    overflow: hidden;
  }

  .divider {
    background: #ccc;
    flex: 0 0 auto;
    z-index: 20;
  }

  .divider.vertical {
    width: 4px;
    cursor: col-resize;
  }

  .divider.horizontal {
    height: 4px;
    cursor: row-resize;
  }
  `; }
    constructor() {
        super();
        this.model = null;
        this.menuPanelId = null;
        this.menuPosition = null;
        this.menuSelection = '';
        // drag state (no need to be reactive)
        this.draggingSplitId = null;
        this.draggingOrientation = null;
        this.dragStartPos = 0;
        this.dragStartRatio = 0;
        this.dragContainerSize = 0;
        // keep stable references for window listeners
        this.handleWindowMouseMove = (e) => this.onWindowMouseMove(e);
        this.handleWindowMouseUp = (e) => this.onWindowMouseUp(e);
        this.controller = new _DinamicContainerController__WEBPACK_IMPORTED_MODULE_2__.DinamicContainerController((root) => {
            this.model = root;
        });
        this.model = this.controller.getRoot();
    }
    disconnectedCallback() {
        super.disconnectedCallback();
        // cleanup in case of unmount while dragging
        window.removeEventListener('mousemove', this.handleWindowMouseMove);
        window.removeEventListener('mouseup', this.handleWindowMouseUp);
    }
    // ========== RENDER ==========
    render() {
        console.log('[DinamicContainer.render] model =', this.model);
        if (!this.model) {
            return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<div class="root"></div>`;
        }
        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `
      <div class="root">
        ${this.renderPanel(this.model)}
        ${this.renderOverlay()}
      </div>
    `;
    }
    renderPanel(node) {
        if (node.kind === 'leaf') {
            return this.renderLeaf(node);
        }
        return this.renderSplit(node);
    }
    renderLeaf(leaf) {
        const hasWidget = !!leaf.widgetType;
        if (!hasWidget) {
            // Stato iniziale: solo icona verde centrale
            return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `
        <div class="panel leaf">
          <button
            class="plus-btn center-plus"
            @click=${() => this.openMenu(leaf.id, 'center')}
          >
            +
          </button>
        </div>
      `;
        }
        // Leaf con widget + 4 icone sui bordi
        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `
      <div class="panel leaf has-widget">
        <!-- Icone sui bordi -->
        <div class="edge-plus top">
          <button
            class="plus-btn"
            @click=${() => this.openMenu(leaf.id, 'top')}
          >
            +
          </button>
        </div>
        <div class="edge-plus right">
          <button
            class="plus-btn"
            @click=${() => this.openMenu(leaf.id, 'right')}
          >
            +
          </button>
        </div>
        <div class="edge-plus bottom">
          <button
            class="plus-btn"
            @click=${() => this.openMenu(leaf.id, 'bottom')}
          >
            +
          </button>
        </div>
        <div class="edge-plus left">
          <button
            class="plus-btn"
            @click=${() => this.openMenu(leaf.id, 'left')}
          >
            +
          </button>
        </div>

        <!-- Widget vero e proprio -->
        <div class="widget-wrapper">
          ${this.renderWidget(leaf.widgetType)}
        </div>
      </div>
    `;
    }
    renderSplit(split) {
        const orientationClass = split.orientation === 'horizontal' ? 'horizontal' : 'vertical';
        const ratio = split.ratio ?? 0.5;
        const firstSize = `${ratio * 100}%`;
        const secondSize = `${(1 - ratio) * 100}%`;
        const isHorizontal = split.orientation === 'horizontal';
        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `
    <div class="panel split ${orientationClass}">
      <div
        class="child"
        style=${isHorizontal
            ? `flex: 0 0 ${firstSize};`
            : `flex: 0 0 ${firstSize};`}
      >
        ${this.renderPanel(split.first)}
      </div>

      <div
        class="divider ${orientationClass}"
        @mousedown=${(e) => this.onDividerMouseDown(e, split)}
      ></div>

      <div
        class="child"
        style=${isHorizontal
            ? `flex: 0 0 ${secondSize};`
            : `flex: 0 0 ${secondSize};`}
      >
        ${this.renderPanel(split.second)}
      </div>
    </div>
  `;
    }
    renderWidget(widgetType) {
        switch (widgetType) {
            case 'astro-viewer':
                return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<astro-viewer></astro-viewer>`;
            case 'table-viewer':
                return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<table-viewer></table-viewer>`;
            default:
                return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``;
        }
    }
    // ========== OVERLAY MENU ==========
    renderOverlay() {
        if (!this.menuPanelId || !this.menuPosition)
            return null;
        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `
      <div class="overlay">
        <div class="overlay-content">
          <h3>Seleziona il componente da aggiungere</h3>
          <select
            @change=${this.onMenuSelectChange}
            .value=${this.menuSelection}
          >
            <option value="">-- scegli --</option>
            <option value="astro-viewer">astro-viewer</option>
            <option value="table-viewer">table-viewer</option>
          </select>

          <div class="overlay-actions">
            <button class="btn secondary" @click=${this.closeMenu}>
              Annulla
            </button>
            <button
              class="btn primary"
              @click=${this.confirmMenu}
              ?disabled=${!this.menuSelection}
            >
              OK
            </button>
          </div>
        </div>
      </div>
    `;
    }
    // ========== EVENT HANDLERS ==========
    openMenu(panelId, position) {
        this.menuPanelId = panelId;
        this.menuPosition = position;
        this.menuSelection = '';
    }
    closeMenu() {
        this.menuPanelId = null;
        this.menuPosition = null;
        this.menuSelection = '';
    }
    onMenuSelectChange(e) {
        const select = e.target;
        const value = select.value;
        this.menuSelection = value;
    }
    confirmMenu() {
        if (!this.menuPanelId || !this.menuPosition || !this.menuSelection)
            return;
        this.controller.addWidget(this.menuPanelId, this.menuPosition, this.menuSelection);
        this.closeMenu();
    }
    onDividerMouseDown(e, split) {
        e.preventDefault();
        e.stopPropagation();
        const container = e.currentTarget.parentElement;
        if (!container)
            return;
        const rect = container.getBoundingClientRect();
        this.draggingSplitId = split.id;
        this.draggingOrientation = split.orientation;
        this.dragStartRatio = split.ratio ?? 0.5;
        this.dragStartPos = split.orientation === 'vertical' ? e.clientX : e.clientY;
        this.dragContainerSize = split.orientation === 'vertical' ? rect.width : rect.height;
        window.addEventListener('mousemove', this.handleWindowMouseMove);
        window.addEventListener('mouseup', this.handleWindowMouseUp);
    }
    onWindowMouseMove(e) {
        if (!this.draggingSplitId || !this.draggingOrientation || this.dragContainerSize <= 0) {
            return;
        }
        const currentPos = this.draggingOrientation === 'vertical' ? e.clientX : e.clientY;
        const delta = currentPos - this.dragStartPos;
        const deltaRatio = delta / this.dragContainerSize;
        const newRatio = this.dragStartRatio + deltaRatio;
        this.controller.updateSplitRatio(this.draggingSplitId, newRatio);
    }
    onWindowMouseUp(_e) {
        this.draggingSplitId = null;
        this.draggingOrientation = null;
        this.dragContainerSize = 0;
        window.removeEventListener('mousemove', this.handleWindowMouseMove);
        window.removeEventListener('mouseup', this.handleWindowMouseUp);
    }
};
__decorate([
    stateAny()
], DinamicContainer.prototype, "model", void 0);
__decorate([
    stateAny()
], DinamicContainer.prototype, "menuPanelId", void 0);
__decorate([
    stateAny()
], DinamicContainer.prototype, "menuPosition", void 0);
__decorate([
    stateAny()
], DinamicContainer.prototype, "menuSelection", void 0);
DinamicContainer = __decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)('dinamic-container')
], DinamicContainer);



/***/ }),

/***/ "./src/components/dynamic-container/DinamicContainerController.ts":
/*!************************************************************************!*\
  !*** ./src/components/dynamic-container/DinamicContainerController.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DinamicContainerController: () => (/* binding */ DinamicContainerController)
/* harmony export */ });
/* harmony import */ var _astro_viewer_AstroViewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../astro-viewer/AstroViewer */ "./src/components/astro-viewer/AstroViewer.ts");

class DinamicContainerController {
    constructor(onChange) {
        this.idCounter = 0;
        this.onChange = onChange;
        // Stato iniziale: un solo leaf vuoto
        this.root = {
            kind: 'leaf',
            id: this.nextId(),
            widgetType: undefined,
        };
        this.emitChange();
    }
    getRoot() {
        return this.root;
    }
    /** Chiamato quando l’utente ha scelto il widget dal menu */
    addWidget(panelId, position, widgetType) {
        if (position === 'center') {
            this.root = this.setWidgetInLeaf(this.root, panelId, widgetType);
        }
        else {
            this.root = this.splitLeafWithWidget(this.root, panelId, position, widgetType);
        }
        this.emitChange();
    }
    // update the ratio of a split (e.g. drag)
    updateSplitRatio(splitId, ratio) {
        // clamp for safety
        const clamped = Math.min(0.9, Math.max(0.1, ratio));
        this.root = this.updateSplitRatioRec(this.root, splitId, clamped);
        this.emitChange();
    }
    // ============= PRIVATE HELPERS =============
    nextId() {
        this.idCounter += 1;
        return `panel-${this.idCounter}`;
    }
    emitChange() {
        this.onChange(this.root);
    }
    /** Imposta il widget in un leaf esistente (senza splittare) */
    setWidgetInLeaf(node, targetId, widgetType) {
        if (node.id === targetId && node.kind === 'leaf') {
            return { ...node, widgetType };
        }
        if (node.kind === 'split') {
            return {
                ...node,
                first: this.setWidgetInLeaf(node.first, targetId, widgetType),
                second: this.setWidgetInLeaf(node.second, targetId, widgetType),
            };
        }
        return node;
    }
    /** Sostituisce un leaf con uno split (leaf esistente + nuovo leaf con widget) */
    splitLeafWithWidget(node, targetId, position, widgetType) {
        if (node.id === targetId && node.kind === 'leaf') {
            const newLeaf = {
                kind: 'leaf',
                id: this.nextId(),
                widgetType,
            };
            let orientation;
            let first;
            let second;
            switch (position) {
                case 'top':
                    orientation = 'horizontal';
                    first = newLeaf;
                    second = node;
                    break;
                case 'bottom':
                    orientation = 'horizontal';
                    first = node;
                    second = newLeaf;
                    break;
                case 'left':
                    orientation = 'vertical';
                    first = newLeaf;
                    second = node;
                    break;
                case 'right':
                    orientation = 'vertical';
                    first = node;
                    second = newLeaf;
                    break;
                default:
                    // fallback: trattalo come center (anche se non dovrebbe arrivare qui)
                    return { ...node, widgetType };
            }
            const splitNode = {
                kind: 'split',
                id: this.nextId(),
                orientation,
                ratio: 0.5, // default 50/50
                first,
                second,
            };
            return splitNode;
        }
        if (node.kind === 'split') {
            return {
                ...node,
                first: this.splitLeafWithWidget(node.first, targetId, position, widgetType),
                second: this.splitLeafWithWidget(node.second, targetId, position, widgetType),
            };
        }
        return node;
    }
    updateSplitRatioRec(node, splitId, ratio) {
        if (node.kind === 'split' && node.id === splitId) {
            return { ...node, ratio };
        }
        if (node.kind === 'split') {
            return {
                ...node,
                first: this.updateSplitRatioRec(node.first, splitId, ratio),
                second: this.updateSplitRatioRec(node.second, splitId, ratio),
            };
        }
        return node;
    }
}


/***/ }),

/***/ "./src/components/table-viewer/TableViewer.ts":
/*!****************************************************!*\
  !*** ./src/components/table-viewer/TableViewer.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TableViewer: () => (/* binding */ TableViewer)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ "./node_modules/lit/decorators.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


let TableViewer = class TableViewer extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {
    static { this.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `
    :host {
      display: block;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
    }

    .root {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }`; }
    constructor() {
        super();
    }
    render() {
        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `
      <div class="root">
        <span>TABLE VIEWER</span>
      </div>
    `;
    }
};
TableViewer = __decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)('table-viewer')
], TableViewer);



/***/ }),

/***/ "./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EVT_ASTRO_FOOTPRINTSET_F_SELECTED: () => (/* binding */ EVT_ASTRO_FOOTPRINTSET_F_SELECTED),
/* harmony export */   EVT_ASTRO_GOTO: () => (/* binding */ EVT_ASTRO_GOTO),
/* harmony export */   EVT_ASTRO_META_COLOR_CHANGED: () => (/* binding */ EVT_ASTRO_META_COLOR_CHANGED),
/* harmony export */   EVT_ASTRO_META_DEC_CHANGED: () => (/* binding */ EVT_ASTRO_META_DEC_CHANGED),
/* harmony export */   EVT_ASTRO_META_HUE_CHANGED: () => (/* binding */ EVT_ASTRO_META_HUE_CHANGED),
/* harmony export */   EVT_ASTRO_META_RA_CHANGED: () => (/* binding */ EVT_ASTRO_META_RA_CHANGED),
/* harmony export */   EVT_ASTRO_META_SIZE_CHANGED: () => (/* binding */ EVT_ASTRO_META_SIZE_CHANGED),
/* harmony export */   EVT_ASTRO_PLOT_CATALOGUE_REMOVE: () => (/* binding */ EVT_ASTRO_PLOT_CATALOGUE_REMOVE),
/* harmony export */   EVT_ASTRO_PLOT_CATALOGUE_SHOW: () => (/* binding */ EVT_ASTRO_PLOT_CATALOGUE_SHOW),
/* harmony export */   EVT_ASTRO_PLOT_CATALOGUE_req: () => (/* binding */ EVT_ASTRO_PLOT_CATALOGUE_req),
/* harmony export */   EVT_ASTRO_PLOT_CATALOGUE_res: () => (/* binding */ EVT_ASTRO_PLOT_CATALOGUE_res),
/* harmony export */   EVT_ASTRO_PLOT_FOOTPRINTSET_req: () => (/* binding */ EVT_ASTRO_PLOT_FOOTPRINTSET_req),
/* harmony export */   EVT_ASTRO_PLOT_FOOTPRINTSET_res: () => (/* binding */ EVT_ASTRO_PLOT_FOOTPRINTSET_res),
/* harmony export */   EVT_ASTRO_READY: () => (/* binding */ EVT_ASTRO_READY),
/* harmony export */   EVT_ASTRO_SET_FOV: () => (/* binding */ EVT_ASTRO_SET_FOV),
/* harmony export */   EVT_ASTRO_STATE_CHANGED: () => (/* binding */ EVT_ASTRO_STATE_CHANGED),
/* harmony export */   EVT_ASTRO_STATE_GET_req: () => (/* binding */ EVT_ASTRO_STATE_GET_req),
/* harmony export */   EVT_ASTRO_STATE_GET_res: () => (/* binding */ EVT_ASTRO_STATE_GET_res),
/* harmony export */   EVT_ASTRO_TOGGLE_GRID_EQUATORIAL: () => (/* binding */ EVT_ASTRO_TOGGLE_GRID_EQUATORIAL),
/* harmony export */   EVT_ASTRO_TOGGLE_GRID_HEALPIX: () => (/* binding */ EVT_ASTRO_TOGGLE_GRID_HEALPIX),
/* harmony export */   EVT_ASTRO_TOGGLE_INSIDE_SPHERE: () => (/* binding */ EVT_ASTRO_TOGGLE_INSIDE_SPHERE),
/* harmony export */   EVT_PANEL_CLOSE: () => (/* binding */ EVT_PANEL_CLOSE),
/* harmony export */   EVT_PANEL_OPEN: () => (/* binding */ EVT_PANEL_OPEN),
/* harmony export */   EVT_PANEL_OPEN_KEY: () => (/* binding */ EVT_PANEL_OPEN_KEY),
/* harmony export */   EVT_PLUGIN_ERROR: () => (/* binding */ EVT_PLUGIN_ERROR),
/* harmony export */   EVT_PLUGIN_REGISTER: () => (/* binding */ EVT_PLUGIN_REGISTER),
/* harmony export */   EVT_TAP_ADDREPO_req: () => (/* binding */ EVT_TAP_ADDREPO_req),
/* harmony export */   EVT_TAP_ADDREPO_res: () => (/* binding */ EVT_TAP_ADDREPO_res),
/* harmony export */   EVT_TAP_REPO_LOADED: () => (/* binding */ EVT_TAP_REPO_LOADED)
/* harmony export */ });
// =========================
// FILE: src/events.ts
// Central type-safe event map for PubSub between panels and AstroViewer
// =========================
const EVT_ASTRO_META_RA_CHANGED = 'astro.metadata:raChanged';
const EVT_ASTRO_META_DEC_CHANGED = 'astro.metadata:decChanged';
const EVT_ASTRO_META_HUE_CHANGED = 'astro.metadata:hueChanged';
const EVT_ASTRO_META_SIZE_CHANGED = 'astro.metadata:sizeChanged';
const EVT_ASTRO_META_COLOR_CHANGED = 'astro.metadata:colorChanged';
const EVT_ASTRO_STATE_GET_req = 'astro.get.state:req';
const EVT_ASTRO_STATE_GET_res = 'astro.get.state:res';
const EVT_ASTRO_STATE_CHANGED = 'astro.state.changed';
const EVT_ASTRO_READY = 'astro.ready';
const EVT_ASTRO_PLOT_CATALOGUE_SHOW = 'astro.plot.catalogue:show';
const EVT_ASTRO_PLOT_CATALOGUE_REMOVE = 'astro.plot.catalogue:remove';
const EVT_ASTRO_PLOT_FOOTPRINTSET_req = 'astro.plot.footprintset:req';
const EVT_ASTRO_PLOT_FOOTPRINTSET_res = 'astro.plot.footprintset:res';
const EVT_ASTRO_PLOT_CATALOGUE_req = 'astro.plot.catalogue:req';
const EVT_ASTRO_PLOT_CATALOGUE_res = 'astro.plot.catalogue:res';
const EVT_TAP_ADDREPO_req = 'astro.tap.addRepo:req';
const EVT_TAP_ADDREPO_res = 'astro.tap.addRepo:res';
const EVT_TAP_REPO_LOADED = 'tap:repoLoaded';
const EVT_ASTRO_FOOTPRINTSET_F_SELECTED = 'tap:footprintsetSelected';
const EVT_ASTRO_SET_FOV = 'astro.set.fov';
const EVT_ASTRO_TOGGLE_INSIDE_SPHERE = 'astro.toggle.insideSphere';
const EVT_ASTRO_TOGGLE_GRID_EQUATORIAL = 'astro.toggle.equatorial';
const EVT_ASTRO_TOGGLE_GRID_HEALPIX = 'astro.toggle.healpix';
const EVT_ASTRO_GOTO = 'astro.goto';
const EVT_PLUGIN_REGISTER = 'plugin.register';
const EVT_PLUGIN_ERROR = 'plugin.error';
// UI intent
const EVT_PANEL_OPEN_KEY = 'ui:openPanelKey';
const EVT_PANEL_OPEN = 'ui:openPanel';
const EVT_PANEL_CLOSE = 'ui:closePanel';


/***/ }),

/***/ "./src/stores/DataProviderStore.ts":
/*!*****************************************!*\
  !*** ./src/stores/DataProviderStore.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dataProviderStore: () => (/* binding */ dataProviderStore)
/* harmony export */ });
class DataProviderStore {
    constructor() {
        // private _provider?: DataProvider;
        this._providers = [];
        this.listeners = new Set();
        // private activeCatalogues: Map<DataProvider, Catalogue[]> = new Map()
        this.activeCatalogues = [];
    }
    get() { return this._providers; }
    add(p) {
        this._providers.push(p);
        this.listeners.forEach(l => l(p));
    }
    subscribe(l) {
        this.listeners.add(l);
        // immediately push current value so late subscribers hydrate
        this._providers.forEach((p) => {
            l(p);
        });
        return () => this.listeners.delete(l);
    }
    clear() { this._providers = []; }
    getAllActiveCatalogues() {
        return this.activeCatalogues;
    }
    getCatalogueById(id) {
        return this.activeCatalogues.find(c => c.id == id);
    }
    getActiveCatalogues(prodiderUrl) {
        return this.activeCatalogues.filter((cat) => cat.providerUrl == prodiderUrl);
    }
    addToActiveCatalogues(cat) {
        if (!this.activeCatalogues.some(c => c.id == cat.id)) {
            this.activeCatalogues.push(cat);
        }
        return this.activeCatalogues;
    }
    removeFromActiveCatalogues(cat) {
        const idx = this.activeCatalogues.findIndex(c => c.id === cat.id);
        if (idx === -1)
            return [];
        this.activeCatalogues.splice(idx, 1); // mutate in place (fine here)
        return this.activeCatalogues;
    }
    // Optional: remove everything for a provider
    removeAllForProvider(prodiderUrl) {
        const arr = this.activeCatalogues.filter(c => c.providerUrl !== prodiderUrl);
        this.activeCatalogues = arr;
        return this.activeCatalogues;
    }
}
const dataProviderStore = new DataProviderStore();


/***/ }),

/***/ "./src/styles/global.css":
/*!*******************************!*\
  !*** ./src/styles/global.css ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_global_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./global.css */ "./node_modules/css-loader/dist/cjs.js!./src/styles/global.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_global_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_global_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_global_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_global_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other modules in the chunk.
(() => {
/*!********************!*\
  !*** ./src/app.ts ***!
  \********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_global_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/global.css */ "./src/styles/global.css");
/* harmony import */ var _components_dynamic_container_DinamicContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/dynamic-container/DinamicContainer */ "./src/components/dynamic-container/DinamicContainer.ts");
/* harmony import */ var _components_astro_viewer_AstroViewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/astro-viewer/AstroViewer */ "./src/components/astro-viewer/AstroViewer.ts");
/* harmony import */ var _components_table_viewer_TableViewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/table-viewer/TableViewer */ "./src/components/table-viewer/TableViewer.ts");
// =========================
// FILE: src/app.ts
// App bootstrap: wires AstroViewer API, Controller, UI Panel Manager & Registry
// =========================

// Ensure all components used directly in HTML or created at runtime are registered



// (import other panels here if/when you add them)
function assertEl(el, sel) {
    if (!el)
        throw new Error(`Missing required element: ${sel}`);
    return el;
}
async function main() {
}
// Bootstrap immediately
main().catch(err => {
    // Surface bootstrap errors early and clearly in dev
    console.error('[app] bootstrap failed:', err);
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0M7Ozs7Ozs7Ozs7Ozs7OztBQzE3QkE7QUFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBDQUFJO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDOzs7Ozs7Ozs7Ozs7OztBQ25FTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUM7Ozs7Ozs7Ozs7Ozs7OztBQ1JBO0FBQ0E7QUFDQTtBQUNtQztBQUM1QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hEYTtBQUNvQztBQUNOO0FBQ1Y7QUFDRTtBQUNNO0FBQ0o7QUFDSTtBQUNSO0FBQ0Y7QUFDRTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxQkFBcUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7QUFDQSwyQkFBMkIsNENBQUs7QUFDaEMsMkJBQTJCLDRDQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwQ0FBSTtBQUM1Qix3QkFBd0IsMENBQUk7QUFDNUIsd0JBQXdCLDBDQUFJO0FBQzVCLHdCQUF3QiwwQ0FBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDLDRCQUE0QiwwQ0FBSTtBQUNoQyxtQ0FBbUMsMENBQUk7QUFDdkMsdUNBQXVDLDBDQUFJO0FBQzNDLHVDQUF1QywwQ0FBSTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3Q0FBRztBQUN6QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMENBQUk7QUFDNUIsd0JBQXdCLDBDQUFJO0FBQzVCLHdCQUF3QiwwQ0FBSTtBQUM1Qix3QkFBd0IsMENBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3Q0FBRztBQUN6QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMENBQUk7QUFDNUIsd0JBQXdCLDBDQUFJO0FBQzVCLHdCQUF3QiwwQ0FBSTtBQUM1Qix3QkFBd0IsMENBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0NBQUc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQsZ0RBQWdEO0FBQ2hELHFEQUFxRCxPQUFPO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLG1EQUFtRDtBQUNuRDtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNENBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsb0RBQVMsb0NBQW9DLG9EQUFTO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGNBQWM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUIsd0JBQXdCLFlBQVk7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQyxvQkFBb0IsMENBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQVEsU0FBUztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtEQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtEQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvREFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwREFBWTtBQUNyQztBQUNBLHNCQUFzQiw0Q0FBSztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUIsd0JBQXdCLFlBQVk7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0RBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQVcsT0FBTztBQUN0QztBQUNBLDZDQUE2QztBQUM3Qyx3QkFBd0IsUUFBUTtBQUNoQztBQUNBLGtFQUFrRSw0Q0FBSztBQUN2RSw4Q0FBOEMsNENBQUs7QUFDbkQsNkRBQTZELDRDQUFLO0FBQ2xFO0FBQ0E7QUFDQSxzQkFBc0IsOENBQU07QUFDNUIsd0JBQXdCLFFBQVEsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdCQUF3QjtBQUNwRDtBQUNBLGlDQUFpQyxXQUFXO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsU0FBUyxlQUFlLGVBQWU7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDRDQUFLO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0Isa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsZ0NBQWdDLE9BQU87QUFDdkMsc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyw2QkFBNkI7QUFDN0IsK0RBQStEO0FBQy9ELGlDQUFpQztBQUNqQztBQUNBLG1CQUFtQjtBQUNuQixnQ0FBZ0M7QUFDaEMsb0NBQW9DLE9BQU8sT0FBTztBQUNsRCwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixtRUFBbUU7QUFDbkUscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMseUNBQXlDO0FBQ3pDLGdDQUFnQztBQUNoQyxvQ0FBb0MsT0FBTyxPQUFPO0FBQ2xELDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMENBQUk7QUFDNUI7QUFDQSxxQkFBcUIsMENBQUk7QUFDekI7QUFDQTtBQUNBLHdCQUF3QiwwQ0FBSTtBQUM1QjtBQUNBLHFCQUFxQiwwQ0FBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFLO0FBQzNCLHNCQUFzQiw0Q0FBSztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxZQUFZO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpQkFBaUIsd0JBQXdCLFlBQVk7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBUTtBQUNqQyxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQTtBQUNBLHFCQUFxQiw0Q0FBSztBQUMxQixxQkFBcUIsNENBQUs7QUFDMUIsd0JBQXdCLFdBQVcsT0FBTztBQUMxQyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4Q0FBTTtBQUM1Qix3QkFBd0IsUUFBUSxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdndCeUM7QUFDUjtBQUNBO0FBQzFCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBDQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMENBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDOzs7Ozs7Ozs7Ozs7Ozs7QUNwTW1DO0FBQzVCO0FBQ1A7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLEdBQUc7QUFDbEIsZUFBZSxHQUFHO0FBQ2xCLGVBQWUsR0FBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNENBQUs7QUFDOUI7QUFDQSw0QkFBNEIsNENBQUs7QUFDakM7QUFDQTtBQUNBLDJCQUEyQiw0Q0FBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0M7Ozs7Ozs7Ozs7Ozs7O0FDL0JPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DOzs7Ozs7Ozs7Ozs7Ozs7O0FDbEVBO0FBQ0E7QUFDQTtBQUNtQztBQUNNO0FBQ2xDO0FBQ1A7QUFDQSw0QkFBNEIsa0RBQVE7QUFDcEM7QUFDQSxzQkFBc0IsNENBQUs7QUFDM0IsMkJBQTJCLDRDQUFLO0FBQ2hDLDJCQUEyQiw0Q0FBSztBQUNoQyxxQkFBcUIsNENBQUs7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxTQUFTO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELFNBQVM7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQSxlQUFlLDRDQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNENBQUs7QUFDdkIsc0JBQXNCLDRDQUFLO0FBQzNCLHNCQUFzQiw0Q0FBSztBQUMzQixnQkFBZ0IsNENBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQzs7Ozs7Ozs7Ozs7Ozs7QUNwSEE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQjs7Ozs7Ozs7Ozs7Ozs7QUNWTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUjJDO0FBQ047QUFDWTtBQUNoQjtBQUNNO0FBQ0U7QUFDQTtBQUNSO0FBQ0Y7QUFDRTtBQUNFO0FBQ25DLGlDOzs7Ozs7Ozs7Ozs7OztBQ1hPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsSUFBSSw2QkFBNkI7QUFDakM7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQzs7Ozs7Ozs7Ozs7Ozs7QUNwSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQzs7Ozs7Ozs7Ozs7Ozs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEM7Ozs7Ozs7Ozs7Ozs7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE1BQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0JBQStCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxlQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGLHlDQUF5Qyw4QkFBOEI7QUFDdkUsdUJBQXVCLFdBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLDhCQUE4QjtBQUNwRyxtQkFBbUIsV0FBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5QkFBeUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLCtEQUFrQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0RBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsTUFBTTtBQUMvRiw0Q0FBNEMsZUFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0NBQWdDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw4QkFBOEI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxnQkFBZ0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0JBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGdCQUFnQjtBQUMzRjtBQUNBLG1DQUFtQyw4QkFBOEI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsZ0JBQWdCLEVBQUUsY0FBYztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxnQkFBZ0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGdCQUFnQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQkFBK0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxJQUFJO0FBQ2hGLCtFQUErRSxLQUFLO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGVBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHNDQUFzQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG9DQUFvQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0NBQXNDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsTUFBTSxhQUFhLE1BQU07QUFDbkU7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLElBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNLFNBQVMsa0JBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxNQUFNO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCLGVBQWUsS0FBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbUZBQTBCO0FBQ3hEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5Q0FBSTtBQUN2QjtBQUNBLGVBQWUseUNBQUk7QUFDbkI7QUFDQSxVQUFVO0FBQ1YsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlDQUFJO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseUNBQUk7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFlBQVk7QUFDekMsOEJBQThCLGtCQUFrQjtBQUNoRDtBQUNBLGVBQWUseUNBQUk7QUFDbkIsOEJBQThCLGlCQUFpQjtBQUMvQztBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLDJCQUEyQixXQUFXO0FBQ3RDLDJCQUEyQixXQUFXO0FBQ3RDO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0EseUJBQXlCLGlCQUFpQjtBQUMxQyxxQkFBcUI7QUFDckI7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQiwyQkFBMkIsWUFBWTtBQUN2QywyQkFBMkIsWUFBWTtBQUN2QztBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5Q0FBSTtBQUMzQjtBQUNBLHVCQUF1Qix5Q0FBSTtBQUMzQjtBQUNBLHVCQUF1Qix5Q0FBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELGVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnRUFBYTtBQUNqQjtBQUM0Qjs7Ozs7Ozs7Ozs7Ozs7OztBQzdkUztBQUM5QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQzZCO0FBQzdCO0FBQ3lEO0FBQ1Y7QUFDQTtBQUMvQztBQUNBO0FBQ0E7QUFDQSxxREFBcUQsSUFBSTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS9Bc3Ryb1NwaGVyZS5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vQXN0cm9WaWV3ZXIuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL0NhbWVyYS5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vQ29uZmlnLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS9HbG9iYWwuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL0Fic3RyYWN0U2t5RW50aXR5LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS9tb2RlbC9Db2xvck1hcHMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL0ZvVi5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vbW9kZWwvUG9pbnQuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL1BvaW50MkQuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL2dyaWQvRXF1YXRvcmlhbEdyaWQuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL2dyaWQvR3JpZFRleHRIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL2dyaWQvSGVhbHBpeEdyaWRTaW5nbGV0b24uanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL2hpcHMvQWxsU2t5LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS9tb2RlbC9oaXBzL0FuY2VzdG9yVGlsZS5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vbW9kZWwvaGlwcy9Db2xvck1hcC5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vbW9kZWwvaGlwcy9Gb1ZIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL2hpcHMvSGlQUy5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vbW9kZWwvaGlwcy9IaVBTRGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vbW9kZWwvaGlwcy9UaWxlLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS9tb2RlbC9oaXBzL1RpbGVCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL21vZGVsL2hpcHMvVmlzaWJsZVRpbGVzTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL2xpYi1lc20vc2hhZGVyL0dyaWRTaGFkZXJNYW5hZ2VyLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS9zaGFkZXIvSGlQU1NoYWRlclByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL3NoYWRlci9TaGFkZXJNYW5hZ2VyLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS91dGlscy9Db21wdXRlUGVyc3BlY3RpdmVNYXRyaXguanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL3V0aWxzL0Nvb3Jkc1R5cGUuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL3V0aWxzL0ZvVlV0aWxzLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS91dGlscy9HZW9tVXRpbHMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL3V0aWxzL01vdXNlSGVscGVyLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbGliLWVzbS91dGlscy9SYXlQaWNraW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9saWItZXNtL3V0aWxzL1V0aWxzLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2hlYWxwaXhqcy9saWItZXNtL0NpcmNsZUZpbmRlci5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL25vZGVfbW9kdWxlcy9oZWFscGl4anMvbGliLWVzbS9Db25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9ub2RlX21vZHVsZXMvaGVhbHBpeGpzL2xpYi1lc20vRnh5Zi5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi4vYXN0cm8tdmlld2VyL25vZGVfbW9kdWxlcy9oZWFscGl4anMvbGliLWVzbS9IZWFscGl4LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2hlYWxwaXhqcy9saWItZXNtL0hwbG9jLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2hlYWxwaXhqcy9saWItZXNtL1BvaW50aW5nLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2hlYWxwaXhqcy9saWItZXNtL1JhbmdlU2V0LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2hlYWxwaXhqcy9saWItZXNtL1ZlYzMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9ub2RlX21vZHVsZXMvaGVhbHBpeGpzL2xpYi1lc20vWHlmLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uLi9hc3Ryby12aWV3ZXIvbm9kZV9tb2R1bGVzL2hlYWxwaXhqcy9saWItZXNtL1pwaGkuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9ub2RlX21vZHVsZXMvaGVhbHBpeGpzL2xpYi1lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4uL2FzdHJvLXZpZXdlci9ub2RlX21vZHVsZXMvaGVhbHBpeGpzL2xpYi1lc20vcHN0YWNrLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGV2ZWxvcG1lbnQvY3NzLXRhZy5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RldmVsb3BtZW50L2RlY29yYXRvcnMvYmFzZS5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RldmVsb3BtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL2V2ZW50LW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9xdWVyeS1hbGwuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzc2lnbmVkLWVsZW1lbnRzLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9xdWVyeS1hc3NpZ25lZC1ub2Rlcy5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXN5bmMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9zdGF0ZS5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RldmVsb3BtZW50L3JlYWN0aXZlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vc3JjL3N0eWxlcy9nbG9iYWwuY3NzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2RldmVsb3BtZW50L2xpdC1lbGVtZW50LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kZXZlbG9wbWVudC9pcy1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RldmVsb3BtZW50L2xpdC1odG1sLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9saXQvZGVjb3JhdG9ycy5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9ub2RlX21vZHVsZXMvbGl0L2luZGV4LmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vc3JjL2J1cy50cyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9zcmMvY29tcG9uZW50cy9hc3Ryby12aWV3ZXIvQXN0cm9WaWV3ZXIudHMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vc3JjL2NvbXBvbmVudHMvYXN0cm8tdmlld2VyL0FzdHJvVmlld2VyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9zcmMvY29tcG9uZW50cy9hc3Ryby12aWV3ZXIvYXN0cm8tbGliLXdyYXBwZXIvQXN0cm9MaWJBZGFwdGVyLnRzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL3NyYy9jb21wb25lbnRzL2FzdHJvLXZpZXdlci9hc3Ryby1saWItd3JhcHBlci9Bc3Ryb0xpYkNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vc3JjL2NvbXBvbmVudHMvZHluYW1pYy1jb250YWluZXIvRGluYW1pY0NvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9zcmMvY29tcG9uZW50cy9keW5hbWljLWNvbnRhaW5lci9EaW5hbWljQ29udGFpbmVyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9zcmMvY29tcG9uZW50cy90YWJsZS12aWV3ZXIvVGFibGVWaWV3ZXIudHMiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpLy4vc3JjL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvLi9zcmMvc3RvcmVzL0RhdGFQcm92aWRlclN0b3JlLnRzIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL3NyYy9zdHlsZXMvZ2xvYmFsLmNzcz9mMGQ4Iiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYXN0cm9icm93c2VyLXVpL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9hc3Ryb2Jyb3dzZXItdWkvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2FzdHJvYnJvd3Nlci11aS8uL3NyYy9hcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQXN0cm9TcGhlcmUudHNcbmltcG9ydCB7IGJvb3RTZXR1cCB9IGZyb20gJy4vQ29uZmlnLmpzJztcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEuanMnO1xuaW1wb3J0IFJheVBpY2tpbmdVdGlscyBmcm9tICcuL3V0aWxzL1JheVBpY2tpbmdVdGlscy5qcyc7XG5pbXBvcnQgZ2xvYmFsIGZyb20gJy4vR2xvYmFsLmpzJztcbmltcG9ydCB7IHZpc2libGVUaWxlc01hbmFnZXIgfSBmcm9tICcuL21vZGVsL2hpcHMvVmlzaWJsZVRpbGVzTWFuYWdlci5qcyc7XG5pbXBvcnQgTW91c2VIZWxwZXIgZnJvbSAnLi91dGlscy9Nb3VzZUhlbHBlci5qcyc7XG5pbXBvcnQgeyBjYXJ0ZXNpYW5Ub1NwaGVyaWNhbCwgc3BoZXJpY2FsVG9Bc3Ryb0RlZywgcmFEZWdUb0hNUywgZGVjRGVnVG9ETVMsIH0gZnJvbSAnLi91dGlscy9VdGlscy5qcyc7XG5pbXBvcnQgaGVhbHBpeEdyaWRTaW5nbGV0b24gZnJvbSAnLi9tb2RlbC9ncmlkL0hlYWxwaXhHcmlkU2luZ2xldG9uLmpzJztcbmltcG9ydCBIaVBTIGZyb20gJy4vbW9kZWwvaGlwcy9IaVBTLmpzJztcbmltcG9ydCBjb21wdXRlUGVyc3BlY3RpdmVNYXRyaXhTaW5nbGV0b24gZnJvbSAnLi91dGlscy9Db21wdXRlUGVyc3BlY3RpdmVNYXRyaXguanMnO1xuaW1wb3J0IHsgRm9WVXRpbHMgfSBmcm9tICcuL3V0aWxzL0ZvVlV0aWxzLmpzJztcbi8vIGltcG9ydCBxdWVyeUZvb3RwcmludFNldEJ5Rm92IGZyb20gJy4vc2VydmljZXMvcXVlcnlGb290cHJpbnRTZXRCeUZvdi5qcydcbmltcG9ydCBlcXVhdG9yaWFsR3JpZFNpbmdsZXRvbiBmcm9tICcuL21vZGVsL2dyaWQvRXF1YXRvcmlhbEdyaWQuanMnO1xuLyoqXG4gKiBBc3Ryb1NwaGVyZSDigJQgbWFpbiBXZWJHTCBzY2VuZSBjb250cm9sbGVyIChUUyBwb3J0KVxuICovXG5jbGFzcyBBc3Ryb1NwaGVyZSB7XG4gICAgY2FtZXJhO1xuICAgIGNlbnRyYWxQb2luQ29vcmRzO1xuICAgIG1vdXNlUG9pbnRDb29yZHM7XG4gICAgY2FudmFzO1xuICAgIHNob3dIUFhHcmlkID0gZmFsc2U7XG4gICAgbW91c2VIZWxwZXI7XG4gICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgbGFzdE1vdXNlWCA9IG51bGw7XG4gICAgbGFzdE1vdXNlWSA9IG51bGw7XG4gICAgaW5lcnRpYVggPSAwLjA7XG4gICAgaW5lcnRpYVkgPSAwLjA7XG4gICAgem9vbUluZXJ0aWEgPSAwLjA7XG4gICAgYWN0aXZlSGlQUyA9IG51bGw7XG4gICAgc3RhcnR1cCA9IHRydWU7XG4gICAgLy8gcHJpdmF0ZSBpbnNpZGVTcGhlcmU6IGJvb2xlYW5cbiAgICBmb3Y7XG4gICAgYWN0aXZlQ2F0YWxvZ3VlcyA9IFtdO1xuICAgIGFjdGl2ZUZvb3RwcmludFNldHMgPSBbXTtcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIHdlYmdsKSB7XG4gICAgICAgIC8vIEtlZXAgZ2xvYmFsIEdMIGNvbnRleHQgKGFzIGluIG9yaWdpbmFsIEpTKVxuICAgICAgICBnbG9iYWwuZ2wgPSB3ZWJnbDtcbiAgICAgICAgdGhpcy5tb3VzZUhlbHBlciA9IG5ldyBNb3VzZUhlbHBlcigpO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgLy8gdGhpcy5pbnNpZGVTcGhlcmUgPSBib290U2V0dXAuaW5zaWRlU3BoZXJlXG4gICAgICAgIGdsb2JhbC5pbnNpZGVTcGhlcmUgPSBib290U2V0dXAuaW5zaWRlU3BoZXJlO1xuICAgICAgICB0aGlzLmluaXQoY2FudmFzKTtcbiAgICAgICAgdGhpcy5mb3YgPSBoZWFscGl4R3JpZFNpbmdsZXRvbi5yZWZyZXNoRm9WKCk7XG4gICAgfVxuICAgIC8vIFRoaXMgaXMgYSBsaWNrZWx5IGEgZHVwbGljYXRpb24gb2YgRm9WVXRpbHMuZ2V0Q2VudGVySjIwMDAodGhpcy5jYW52YXMpXG4gICAgdXBkYXRlQ2VudHJhbFBvaW50KCkge1xuICAgICAgICBjb25zdCBzcGhlcmljYWxDb29yZHMgPSB0aGlzLmdldFBoaVRoZXRhRGVnKHRoaXMuY2FudmFzKTtcbiAgICAgICAgY29uc3QgYXN0cm9Db29yZHMgPSBzcGhlcmljYWxUb0FzdHJvRGVnKHNwaGVyaWNhbENvb3Jkcy5waGksIHNwaGVyaWNhbENvb3Jkcy50aGV0YSk7XG4gICAgICAgIGNvbnN0IHJhSE1TID0gcmFEZWdUb0hNUyhhc3Ryb0Nvb3Jkcy5yYSk7XG4gICAgICAgIGNvbnN0IGRlY0RNUyA9IGRlY0RlZ1RvRE1TKGFzdHJvQ29vcmRzLmRlYyk7XG4gICAgICAgIHRoaXMuY2VudHJhbFBvaW5Db29yZHMgPSB7XG4gICAgICAgICAgICBhc3Ryb0RlZzogYXN0cm9Db29yZHMsXG4gICAgICAgICAgICBzcGhlcmljYWxEZWc6IHNwaGVyaWNhbENvb3JkcyxcbiAgICAgICAgICAgIHJhSE1TOiByYUhNUyxcbiAgICAgICAgICAgIGRlY0RNUzogZGVjRE1TXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmNlbnRyYWxQb2luQ29vcmRzO1xuICAgIH1cbiAgICB1cGRhdGVMYXN0TW91c2VQb2ludCgpIHtcbiAgICAgICAgY29uc3Qgc3BoZXJpY2FsQ29vcmRzID0geyBwaGk6IHRoaXMubW91c2VIZWxwZXIucGhpLCB0aGV0YTogdGhpcy5tb3VzZUhlbHBlci50aGV0YSB9O1xuICAgICAgICBjb25zdCBhc3Ryb0Nvb3JkcyA9IHsgcmE6IHRoaXMubW91c2VIZWxwZXIucmEsIGRlYzogdGhpcy5tb3VzZUhlbHBlci5kZWMgfTtcbiAgICAgICAgY29uc3QgcmFITVMgPSB0aGlzLm1vdXNlSGVscGVyLnJhSE1TO1xuICAgICAgICBjb25zdCBkZWNETVMgPSB0aGlzLm1vdXNlSGVscGVyLmRlY0RNUztcbiAgICAgICAgdGhpcy5tb3VzZVBvaW50Q29vcmRzID0ge1xuICAgICAgICAgICAgYXN0cm9EZWc6IGFzdHJvQ29vcmRzLFxuICAgICAgICAgICAgc3BoZXJpY2FsRGVnOiBzcGhlcmljYWxDb29yZHMsXG4gICAgICAgICAgICByYUhNUzogcmFITVMsXG4gICAgICAgICAgICBkZWNETVM6IGRlY0RNU1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZVBvaW50Q29vcmRzO1xuICAgIH1cbiAgICAvLyBUaGlzIHNob3VsZCBjYWxsIEZvVlV0aWxzLmdldEoyMDBDZW50cmUodGhpcy5jYW52YXMpXG4gICAgZ2V0Q2VudHJhbFBvaW50Q29vcmRpbmF0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNlbnRyYWxQb2luQ29vcmRzO1xuICAgIH1cbiAgICBnZXRMYXN0TW91c2VQb2ludENvb3JkaW5hdGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZVBvaW50Q29vcmRzO1xuICAgIH1cbiAgICBpbml0KGNhbnZhcykge1xuICAgICAgICB0aGlzLmluaXRDYW1lcmEoKTtcbiAgICAgICAgaGVhbHBpeEdyaWRTaW5nbGV0b24uaW5pdCgpO1xuICAgICAgICBjb21wdXRlUGVyc3BlY3RpdmVNYXRyaXhTaW5nbGV0b24uY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4KGNhbnZhcywgdGhpcy5jYW1lcmEsIGJvb3RTZXR1cC5jYW1lcmFfZm92X2RlZywgYm9vdFNldHVwLmNhbWVyYV9uZWFyX3BsYW5lLCBib290U2V0dXAuaW5zaWRlU3BoZXJlKTtcbiAgICAgICAgdmlzaWJsZVRpbGVzTWFuYWdlci5pbml0KGJvb3RTZXR1cC5pbnNpZGVTcGhlcmUpO1xuICAgICAgICBlcXVhdG9yaWFsR3JpZFNpbmdsZXRvbi5pbml0KGhlYWxwaXhHcmlkU2luZ2xldG9uLmdldE1pbkZvVigpKTtcbiAgICAgICAgdGhpcy51cGRhdGVDZW50cmFsUG9pbnQoKTtcbiAgICAgICAgdGhpcy5zdGFydHVwID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycyhjYW52YXMpO1xuICAgIH1cbiAgICBpbml0Q2FtZXJhKCkge1xuICAgICAgICBpZiAoYm9vdFNldHVwLmluc2lkZVNwaGVyZSkge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKFswLjAsIDAuMCwgLTAuMDA1XSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEoWzAuMCwgMC4wLCA0LjBdLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsLmNhbWVyYSA9IHRoaXMuY2FtZXJhO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVycyhjYW52YXMpIHtcbiAgICAgICAgaWYgKGdsb2JhbC5kZWJ1Zykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBc3Ryb1NwaGVyZTo6YWRkRXZlbnRMaXN0ZW5lcnNdJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjYW52YXMuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHRoaXMubGFzdE1vdXNlWCA9IGV2ZW50LnBhZ2VYXG4gICAgICAgICAgICAvLyB0aGlzLmxhc3RNb3VzZVkgPSBldmVudC5wYWdlWVxuICAgICAgICAgICAgdGhpcy5sYXN0TW91c2VYID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vdXNlWSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICAvLyBzZXNzaW9uLmNsZWFySG92ZXJlZEZvb3RwcmludHMoKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlTW91c2VVcCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY2FudmFzLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy5sYXN0TW91c2VYID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vdXNlWSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3WCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICBjb25zdCBuZXdZID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgIGlmICghaGVhbHBpeEdyaWRTaW5nbGV0b24pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGhpdCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMubW91c2VEb3duKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gKChuZXdYIC0gKHRoaXMubGFzdE1vdXNlWCA/PyBuZXdYKSkgKiBNYXRoLlBJKSAvIGNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVkgPSAoKG5ld1kgLSAodGhpcy5sYXN0TW91c2VZID8/IG5ld1kpKSAqIE1hdGguUEkpIC8gY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmluZXJ0aWFYICs9IDAuMSAqIGRlbHRhWDtcbiAgICAgICAgICAgICAgICB0aGlzLmluZXJ0aWFZICs9IDAuMSAqIGRlbHRhWTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNlbnRyYWxQb2ludCgpO1xuICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZVBvaW50ID0gUmF5UGlja2luZ1V0aWxzLmdldEludGVyc2VjdGlvblBvaW50V2l0aFNpbmdsZU1vZGVsKG5ld1gsIG5ld1kpO1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZVBvaW50ICYmIG1vdXNlUG9pbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdXNlSGVscGVyLnVwZGF0ZShtb3VzZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXN0TW91c2VQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5jZW50cmFsUG9pbkNvb3Jkcykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2VudHJhbFBvaW50KCk7XG4gICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWwgPSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdkRlZzogdGhpcy5mb3YubWluRm9WLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5jYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgdk1hdHJpeDogdGhpcy5jYW1lcmEuZ2V0Q2FtZXJhTWF0cml4KCksXG4gICAgICAgICAgICAgICAgICAgIHBNYXRyaXg6IGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeFNpbmdsZXRvbi5wTWF0cml4LFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBjZW50cmFsUG9pbnQ6IEZvVlV0aWxzLmdldENlbnRlckoyMDAwKHRoaXMuY2FudmFzKSxcbiAgICAgICAgICAgICAgICAgICAgbW91c2VIb3ZlclBvaW50OiB0aGlzLm1vdXNlUG9pbnRDb29yZHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjYW1lcmFDaGFuZ2VkJywgeyBkZXRhaWwsIGJ1YmJsZXM6IGZhbHNlLCBjb21wb3NlZDogZmFsc2UgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0TW91c2VYID0gbmV3WDtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vdXNlWSA9IG5ld1k7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVNb3VzZVdoZWVsID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVsdGFZIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuem9vbUluZXJ0aWEgLT0gMC4wMDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21JbmVydGlhICs9IDAuMDAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FudmFzLm9ucG9pbnRlcmRvd24gPSBoYW5kbGVNb3VzZURvd247XG4gICAgICAgIGNhbnZhcy5vbnBvaW50ZXJ1cCA9IGhhbmRsZU1vdXNlVXA7XG4gICAgICAgIGNhbnZhcy5vbnBvaW50ZXJtb3ZlID0gaGFuZGxlTW91c2VNb3ZlO1xuICAgICAgICAvLyBjYW52YXMub253aGVlbCA9IGhhbmRsZU1vdXNlV2hlZWxcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgaGFuZGxlTW91c2VXaGVlbCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgLy8gUkVWSUVXIFRISVMgTUVUSE9EIEFORCBNT1ZFIElUIFxuICAgIGdldFBoaVRoZXRhRGVnKGNhbnZhcykge1xuICAgICAgICBjb25zdCBtYXhYID0gY2FudmFzLndpZHRoO1xuICAgICAgICBjb25zdCBtYXhZID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgY29uc3QgcGlja2VyUG9pbnQgPSBSYXlQaWNraW5nVXRpbHMuZ2V0SW50ZXJzZWN0aW9uUG9pbnRXaXRoU2luZ2xlTW9kZWwobWF4WCAvIDIsIG1heFkgLyAyKTtcbiAgICAgICAgcmV0dXJuIGNhcnRlc2lhblRvU3BoZXJpY2FsKHBpY2tlclBvaW50KTtcbiAgICB9XG4gICAgYWN0aXZhdGVIaVBTKGhpcHNEZXNjcmlwdG9yKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlSGlQUyA9IG5ldyBIaVBTKDEsIFswLjAsIDAuMCwgMC4wXSwgMCwgMCwgaGlwc0Rlc2NyaXB0b3IpO1xuICAgIH1cbiAgICAvLyBDYXRhbG9ndWUgc2VjdGlvblxuICAgIGFzeW5jIHNob3dDYXRhbG9ndWUoY2F0KSB7XG4gICAgICAgIC8vIGNvbnN0IGZvdlBvbHlBc3RybyA9IEZvVlV0aWxzLmdldEZvVlBvbHlnb24odGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzLCBoZWFscGl4R3JpZFNpbmdsZXRvbilcbiAgICAgICAgLy8gY29uc3QgcG9seWdvbkFkcWwgPSBGb1ZVdGlscy5nZXRBc3Ryb0ZvVlBvbHlnb24oZm92UG9seUFzdHJvKSAvLyAtPiBcIlBPTFlHT04oJ0lDUlMnLCByYTEsIGRlYzEsIC4uLilcIlxuICAgICAgICAvLyBjb25zdCBjYXQgPSBhd2FpdCBxdWVyeUNhdGFsb2d1ZUJ5Rm9WKGNhdGFsb2d1ZSwgcG9seWdvbkFkcWwpXG4gICAgICAgIGNvbnNvbGUubG9nKGNhdCk7XG4gICAgICAgIGlmIChjYXQpXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUNhdGFsb2d1ZXMucHVzaChjYXQpO1xuICAgICAgICByZXR1cm4gY2F0O1xuICAgIH1cbiAgICBkZWxldGVDYXRhbG9ndWUoY2F0YWxvZ3VlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQ2F0YWxvZ3VlcyA9IHRoaXMuYWN0aXZlQ2F0YWxvZ3Vlcy5maWx0ZXIoYyA9PiBjICE9PSBjYXRhbG9ndWUpO1xuICAgIH1cbiAgICAvLyBFbmQgQ2F0YWxvZ3VlIHNlY3Rpb25cbiAgICAvLyBGb290cHJpbnQgc2VjdGlvblxuICAgIGFzeW5jIHNob3dGb290cHJpbnRTZXQoZnNldCkge1xuICAgICAgICAvLyBjb25zdCBmb3ZQb2x5QXN0cm8gPSBGb1ZVdGlscy5nZXRGb1ZQb2x5Z29uKHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhcywgaGVhbHBpeEdyaWRTaW5nbGV0b24pXG4gICAgICAgIC8vIGNvbnN0IHBvbHlnb25BZHFsID0gRm9WVXRpbHMuZ2V0QXN0cm9Gb1ZQb2x5Z29uKGZvdlBvbHlBc3RybykgLy8gLT4gXCJQT0xZR09OKCdJQ1JTJywgcmExLCBkZWMxLCAuLi4pXCJcbiAgICAgICAgLy8gY29uc3QgY2VudHJhbFBvaW50ID0gRm9WVXRpbHMuZ2V0Q2VudGVySjIwMDAodGhpcy5jYW52YXMpXG4gICAgICAgIC8vIGNvbnN0IGZzZXQgPSBhd2FpdCBxdWVyeUZvb3RwcmludFNldEJ5Rm92KGZvb3RwcmludFNldCwgcG9seWdvbkFkcWwsIGNlbnRyYWxQb2ludClcbiAgICAgICAgY29uc29sZS5sb2coZnNldCk7XG4gICAgICAgIGlmIChmc2V0KVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVGb290cHJpbnRTZXRzLnB1c2goZnNldCk7XG4gICAgICAgIHJldHVybiBmc2V0O1xuICAgIH1cbiAgICBkZWxldGVGb290cHJpbnRTZXQoZm9vdHByaW50U2V0KSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRm9vdHByaW50U2V0cyA9IHRoaXMuYWN0aXZlRm9vdHByaW50U2V0cy5maWx0ZXIoZnN0ID0+IGZzdCAhPT0gZm9vdHByaW50U2V0KTtcbiAgICB9XG4gICAgZ2V0SG92ZXJlZEZvb3RwcmludHMoKSB7XG4gICAgICAgIGxldCBmb290cHJpbnRzSG92ZXJlZCA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZUZvb3RwcmludFNldHMuZm9yRWFjaChmc2V0ID0+IHtcbiAgICAgICAgICAgIGZvb3RwcmludHNIb3ZlcmVkLnB1c2goZnNldC5ob3ZlcmVkRm9vdHByaW50cyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm9vdHByaW50c0hvdmVyZWQ7XG4gICAgfVxuICAgIC8vIEVuZCBGb290cHJpbnQgc2VjdGlvblxuICAgIGdvVG8ocmFEZWcsIGRlY0RlZykge1xuICAgICAgICB0aGlzLmNhbWVyYS5nb1RvKHJhRGVnLCBkZWNEZWcpO1xuICAgIH1cbiAgICBnZXRGb1YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvdjtcbiAgICB9XG4gICAgZ2V0Rm9WUG9seWdvbigpIHtcbiAgICAgICAgcmV0dXJuIEZvVlV0aWxzLmdldEZvVlBvbHlnb24odGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzLCBoZWFscGl4R3JpZFNpbmdsZXRvbik7XG4gICAgfVxuICAgIGNoYW5nZUZvVihkZWcpIHtcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwibm90IEltcGxlbWVudGVkXCIpXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gaGVhbHBpeEdyaWRTaW5nbGV0b24uZ2V0Rm9WKCkuY29tcHV0ZURpc3RhbmNlRnJvbUFuZ2xlKGRlZyk7XG4gICAgICAgIC8vIHRoaXMuY2FtZXJhLm1vdmVBbG9uZ1ZpZXcoZGlzdGFuY2UpXG4gICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zbGF0ZShkaXN0YW5jZSk7XG4gICAgICAgIGhlYWxwaXhHcmlkU2luZ2xldG9uLnJlZnJlc2hGb1YoKTtcbiAgICB9XG4gICAgY2hhbmdlRm9WMihkZWcpIHtcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwibm90IEltcGxlbWVudGVkXCIpXG4gICAgICAgIGNvbnN0IG5ld0NhbWVyYVBvcyA9IGhlYWxwaXhHcmlkU2luZ2xldG9uLmdldEZvVigpLmNvbXB1dGVDYW1lcmFQb3NpdGlvbkZvckZvVihkZWcpO1xuICAgICAgICB0aGlzLmNhbWVyYS5zZXRDYW1lcmFQb3NpdGlvbihuZXdDYW1lcmFQb3MpO1xuICAgICAgICAvLyB0aGlzLmNhbWVyYS5tb3ZlQWxvbmdWaWV3KGRpc3RhbmNlKVxuICAgICAgICAvLyB0aGlzLmNhbWVyYS50cmFuc2xhdGUoZGlzdGFuY2UpXG4gICAgfVxuICAgIGNoYW5nZUZvVjMoZGVnKSB7XG4gICAgICAgIGNvbnN0IG5ld1BvcyA9IGhlYWxwaXhHcmlkU2luZ2xldG9uLmdldEZvVigpLmNvbXB1dGVDYW1lcmFQb3NpdGlvbkZvckFuZ3VsYXJEaWFtZXRlcihkZWcpO1xuICAgICAgICB0aGlzLmNhbWVyYS5zZXRDYW1lcmFQb3NpdGlvbihuZXdQb3MpO1xuICAgICAgICAvLyBSZWNvbXB1dGUgcHJvamVjdGlvbiBhZnRlciBtb3ZpbmcgdGhlIGNhbWVyYVxuICAgICAgICBjb21wdXRlUGVyc3BlY3RpdmVNYXRyaXhTaW5nbGV0b24uY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4KHRoaXMuY2FudmFzLCB0aGlzLmNhbWVyYSwgYm9vdFNldHVwLmNhbWVyYV9mb3ZfZGVnLCBib290U2V0dXAuY2FtZXJhX25lYXJfcGxhbmUsIGZhbHNlKTtcbiAgICB9XG4gICAgZ2V0SW5zaWRlU3BoZXJlKCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsLmluc2lkZVNwaGVyZTtcbiAgICB9XG4gICAgdG9nZ2xlSW5zaWRlU3BoZXJlKCkge1xuICAgICAgICAvLyB0aGlzLmluc2lkZVNwaGVyZSA9ICF0aGlzLmluc2lkZVNwaGVyZVxuICAgICAgICBnbG9iYWwuaW5zaWRlU3BoZXJlID0gIWdsb2JhbC5pbnNpZGVTcGhlcmU7XG4gICAgICAgIGNvbnNvbGUubG9nKGdsb2JhbC5pbnNpZGVTcGhlcmUpO1xuICAgICAgICB0aGlzLmNhbWVyYS50b2dnbGVJbnNpZGVTcGhlcmUoKTtcbiAgICAgICAgLy8gdmlzaWJsZVRpbGVzTWFuYWdlci50b2dnbGVJbnNpZGVTcGhlcmUoKVxuICAgIH1cbiAgICBwcmV2Rm92ID0gMDtcbiAgICBkcmF3KGNhbnZhcykge1xuICAgICAgICBpZiAoIWdsb2JhbC5nbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUhpUFMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghaGVhbHBpeEdyaWRTaW5nbGV0b24gfHwgT2JqZWN0LmtleXMoaGVhbHBpeEdyaWRTaW5nbGV0b24pLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGhlYWxwaXhHcmlkU2luZ2xldG9uLmZvdk9iaiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBJbiBXZWJHTDIsIE9FU19lbGVtZW50X2luZGV4X3VpbnQgaXMgY29yZSwgbm8gbmVlZCB0byBmZXRjaCB0aGUgZXh0ZW5zaW9uIGVhY2ggZnJhbWUuXG4gICAgICAgIC8vIGdsb2JhbC5nbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKVxuICAgICAgICAvLyBnbG9iYWwuZ2wuY2xlYXIoZ2xvYmFsLmdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbG9iYWwuZ2wuREVQVEhfQlVGRkVSX0JJVClcbiAgICAgICAgY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uLmNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeChjYW52YXMsIHRoaXMuY2FtZXJhLCBib290U2V0dXAuY2FtZXJhX2Zvdl9kZWcsIGJvb3RTZXR1cC5jYW1lcmFfbmVhcl9wbGFuZSwgZ2xvYmFsLmluc2lkZVNwaGVyZSk7XG4gICAgICAgIGxldCBjYW1lcmFSb3RhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBUSEVUQSA9IDA7XG4gICAgICAgIGxldCBQSEkgPSAwO1xuICAgICAgICBnbG9iYWwuZ2wudmlld3BvcnQoMCwgMCwgZ2xvYmFsLmdsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2xvYmFsLmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQpO1xuICAgICAgICBnbG9iYWwuZ2wuY2xlYXIoZ2xvYmFsLmdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbG9iYWwuZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG4gICAgICAgIC8vIFpvb20gaW5lcnRpYVxuICAgICAgICBpZiAoaGVhbHBpeEdyaWRTaW5nbGV0b24uZm92T2JqLm1pbkZvViA+IDAuMSB8fCB0aGlzLnpvb21JbmVydGlhID4gMCkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuem9vbUluZXJ0aWEpID4gMC4wMDAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEuem9vbSh0aGlzLnpvb21JbmVydGlhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnpvb21JbmVydGlhICo9IDAuOTU7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3YgPSBoZWFscGl4R3JpZFNpbmdsZXRvbi5yZWZyZXNoRm9WKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldkZvdiAhPSB0aGlzLmZvdi5taW5Gb1YpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm92RGVnOiB0aGlzLmZvdi5taW5Gb1YsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5jYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZNYXRyaXg6IHRoaXMuY2FtZXJhLmdldENhbWVyYU1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcE1hdHJpeDogY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uLnBNYXRyaXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VudHJhbFBvaW50OiBGb1ZVdGlscy5nZXRDZW50ZXJKMjAwMCh0aGlzLmNhbnZhcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZUhvdmVyUG9pbnQ6IHRoaXMubW91c2VQb2ludENvb3Jkc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2FtZXJhQ2hhbmdlZCcsIHsgZGV0YWlsLCBidWJibGVzOiBmYWxzZSwgY29tcG9zZWQ6IGZhbHNlIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2Rm92ID0gdGhpcy5mb3YubWluRm9WO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSb3RhdGlvbiBpbmVydGlhXG4gICAgICAgIGlmICh0aGlzLm1vdXNlRG93biB8fCBNYXRoLmFicyh0aGlzLmluZXJ0aWFYKSA+IDAuMDIgfHwgTWF0aC5hYnModGhpcy5pbmVydGlhWSkgPiAwLjAyKSB7XG4gICAgICAgICAgICBjYW1lcmFSb3RhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIFRIRVRBID0gdGhpcy5pbmVydGlhWTtcbiAgICAgICAgICAgIFBISSA9IHRoaXMuaW5lcnRpYVg7XG4gICAgICAgICAgICB0aGlzLmluZXJ0aWFYICo9IDAuOTU7XG4gICAgICAgICAgICB0aGlzLmluZXJ0aWFZICo9IDAuOTU7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGUoUEhJLCBUSEVUQSk7XG4gICAgICAgICAgICBjb21wdXRlUGVyc3BlY3RpdmVNYXRyaXhTaW5nbGV0b24uY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4KGNhbnZhcywgdGhpcy5jYW1lcmEsIGJvb3RTZXR1cC5jYW1lcmFfZm92X2RlZywgYm9vdFNldHVwLmNhbWVyYV9uZWFyX3BsYW5lLCBnbG9iYWwuaW5zaWRlU3BoZXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5lcnRpYVkgPSAwO1xuICAgICAgICAgICAgdGhpcy5pbmVydGlhWCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR0wgc3RhdGVcbiAgICAgICAgZ2xvYmFsLmdsLmRpc2FibGUoZ2xvYmFsLmdsLkRFUFRIX1RFU1QpO1xuICAgICAgICBnbG9iYWwuZ2wuZW5hYmxlKGdsb2JhbC5nbC5CTEVORCk7XG4gICAgICAgIGdsb2JhbC5nbC5lbmFibGUoZ2xvYmFsLmdsLkNVTExfRkFDRSk7XG4gICAgICAgIGdsb2JhbC5nbC5jdWxsRmFjZShnbG9iYWwuaW5zaWRlU3BoZXJlID8gZ2xvYmFsLmdsLkJBQ0sgOiBnbG9iYWwuZ2wuRlJPTlQpO1xuICAgICAgICBnbG9iYWwuZ2wuYmxlbmRGdW5jKGdsb2JhbC5nbC5TUkNfQUxQSEEsIGdsb2JhbC5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgICAgLy8gRFJBVyBIaVBTXG4gICAgICAgIHRoaXMuYWN0aXZlSGlQUy5kcmF3KCk7XG4gICAgICAgIGhlYWxwaXhHcmlkU2luZ2xldG9uLmRyYXcoKTtcbiAgICAgICAgZXF1YXRvcmlhbEdyaWRTaW5nbGV0b24uZHJhdygpO1xuICAgICAgICBnbG9iYWwuZ2wuZW5hYmxlKGdsb2JhbC5nbC5ERVBUSF9URVNUKTtcbiAgICAgICAgZ2xvYmFsLmdsLmRpc2FibGUoZ2xvYmFsLmdsLkNVTExfRkFDRSk7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0dXApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnR1cCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgcGhpVGhldGEgPSB0aGlzLmdldFBoaVRoZXRhRGVnKGNhbnZhcyk7XG4gICAgICAgICAgICBjb25zdCByYURlY0RlZyA9IHNwaGVyaWNhbFRvQXN0cm9EZWcocGhpVGhldGEucGhpLCBwaGlUaGV0YS50aGV0YSk7XG4gICAgICAgICAgICBjb25zdCByYUhNUyA9IHJhRGVnVG9ITVMocmFEZWNEZWcucmEpO1xuICAgICAgICAgICAgY29uc3QgZGVjRE1TID0gZGVjRGVnVG9ETVMocmFEZWNEZWcuZGVjKTtcbiAgICAgICAgICAgIHRoaXMucHJldkZvdiA9IGhlYWxwaXhHcmlkU2luZ2xldG9uLmdldE1pbkZvVigpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJyhzdGFydHVwIGNvb3JkcyknLCB7XG4gICAgICAgICAgICAgICAgcmFEZWc6IHJhRGVjRGVnLnJhLFxuICAgICAgICAgICAgICAgIGRlY0RlZzogcmFEZWNEZWcuZGVjLFxuICAgICAgICAgICAgICAgIHJhSE1TLFxuICAgICAgICAgICAgICAgIGRlY0RNUyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlQ2F0YWxvZ3Vlcy5mb3JFYWNoKGNhdCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVIaVBTKSB7XG4gICAgICAgICAgICAgICAgY2F0LmRyYXcodGhpcy5hY3RpdmVIaVBTLmdldE1vZGVsTWF0cml4KCksIHRoaXMubW91c2VIZWxwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVGb290cHJpbnRTZXRzLmZvckVhY2goZnN0ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUhpUFMpIHtcbiAgICAgICAgICAgICAgICBmc3QuZHJhdyh0aGlzLmFjdGl2ZUhpUFMuZ2V0TW9kZWxNYXRyaXgoKSwgdGhpcy5tb3VzZUhlbHBlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEFzdHJvU3BoZXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN0cm9TcGhlcmUuanMubWFwIiwiaW1wb3J0IGdsb2JhbCBmcm9tICcuL0dsb2JhbC5qcyc7XG5pbXBvcnQgQXN0cm9TcGhlcmUgZnJvbSAnLi9Bc3Ryb1NwaGVyZS5qcyc7XG5pbXBvcnQgeyBIaVBTRGVzY3JpcHRvciB9IGZyb20gJy4vbW9kZWwvaGlwcy9IaVBTRGVzY3JpcHRvci5qcyc7XG5pbXBvcnQgeyBib290U2V0dXAgfSBmcm9tICcuL0NvbmZpZy5qcyc7XG5pbXBvcnQgaGVhbHBpeEdyaWRTaW5nbGV0b24gZnJvbSAnLi9tb2RlbC9ncmlkL0hlYWxwaXhHcmlkU2luZ2xldG9uLmpzJztcbmltcG9ydCBlcXVhdG9yaWFsR3JpZFNpbmdsZXRvbiBmcm9tICcuL21vZGVsL2dyaWQvRXF1YXRvcmlhbEdyaWQuanMnO1xuZXhwb3J0IGNsYXNzIEFzdHJvVmlld2VyIHtcbiAgICBhc3Ryb1NwaGVyZTtcbiAgICBjYW52YXM7XG4gICAgd2ViZ2w7XG4gICAgcmFmSWQgPSBudWxsO1xuICAgIC8vIEFQSVxuICAgIHJ1bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGljaygpO1xuICAgIH1cbiAgICAvLyBDQVRBTE9HVUVTXG4gICAgc2hvd0NhdGFsb2d1ZShjYXRhbG9ndWUpIHtcbiAgICAgICAgdGhpcy5hc3Ryb1NwaGVyZS5zaG93Q2F0YWxvZ3VlKGNhdGFsb2d1ZSk7XG4gICAgfVxuICAgIGhpZGVDYXRhbG9ndWUoY2F0YWxvZ3VlLCBpc1Zpc2libGUpIHtcbiAgICAgICAgY2F0YWxvZ3VlLnNldElzVmlzaWJsZShpc1Zpc2libGUpO1xuICAgIH1cbiAgICBkZWxldGVDYXRhbG9ndWUoY2F0YWxvZ3VlKSB7XG4gICAgICAgIHRoaXMuYXN0cm9TcGhlcmUuZGVsZXRlQ2F0YWxvZ3VlKGNhdGFsb2d1ZSk7XG4gICAgfVxuICAgIGNoYW5nZUNhdGFsb2d1ZVJBKGNhdGFsb2d1ZSwgcmFDb2x1bW5OYW1lKSB7XG4gICAgICAgIGNhdGFsb2d1ZS5jaGFuZ2VNZXRhUkEocmFDb2x1bW5OYW1lKTtcbiAgICAgICAgLy8gY2F0YWxvZ3VlLmNhdGFsb2d1ZVByb3BzLmNoYW5nZUNhdGFsb2d1ZU1ldGFSQShyYUNvbHVtbk5hbWUpXG4gICAgICAgIHJldHVybiBjYXRhbG9ndWU7XG4gICAgfVxuICAgIGNoYW5nZUNhdGFsb2d1ZURlYyhjYXRhbG9ndWUsIGRlY0NvbHVtbk5hbWUpIHtcbiAgICAgICAgY2F0YWxvZ3VlLmNoYW5nZU1ldGFEZWMoZGVjQ29sdW1uTmFtZSk7XG4gICAgICAgIC8vIGNhdGFsb2d1ZS5jYXRhbG9ndWVQcm9wcy5jaGFuZ2VDYXRhbG9ndWVNZXRhRGVjKGRlY0NvbHVtbk5hbWUpXG4gICAgICAgIHJldHVybiBjYXRhbG9ndWU7XG4gICAgfVxuICAgIGNoYW5nZUNhdGFsb2d1ZUNvbG9yKGNhdGFsb2d1ZSwgaGV4Q29sb3IpIHtcbiAgICAgICAgY2F0YWxvZ3VlLmNoYW5nZUNvbG9yKGhleENvbG9yKTtcbiAgICAgICAgLy8gY2F0YWxvZ3VlLmNhdGFsb2d1ZVByb3BzLmNoYW5nZUNvbG9yKGhleENvbG9yKVxuICAgICAgICByZXR1cm4gY2F0YWxvZ3VlO1xuICAgIH1cbiAgICBzZXRDYXRhbG9ndWVTaGFwZUh1ZShjYXRhbG9ndWUsIG1ldGFkYXRhQ29sdW1uTmFtZSkge1xuICAgICAgICBjYXRhbG9ndWUuY2hhbmdlTWV0YVNoYXBlSHVlKG1ldGFkYXRhQ29sdW1uTmFtZSk7XG4gICAgICAgIHJldHVybiBjYXRhbG9ndWU7XG4gICAgfVxuICAgIHNldENhdGFsb2d1ZVNoYXBlU2l6ZShjYXRhbG9ndWUsIG1ldGFkYXRhQ29sdW1uTmFtZSkge1xuICAgICAgICBjYXRhbG9ndWUuY2hhbmdlTWV0YVNoYXBlU2l6ZShtZXRhZGF0YUNvbHVtbk5hbWUpO1xuICAgICAgICByZXR1cm4gY2F0YWxvZ3VlO1xuICAgIH1cbiAgICAvL0ZPT1RQUklOVFxuICAgIHNob3dGb290cHJpbnRTZXQoZm9vdHByaW50U2V0KSB7XG4gICAgICAgIHRoaXMuYXN0cm9TcGhlcmUuc2hvd0Zvb3RwcmludFNldChmb290cHJpbnRTZXQpO1xuICAgIH1cbiAgICBoaWRlRm9vdHByaW50U2V0KGZvb3RwcmludFNldCwgaXNWaXNpYmxlKSB7XG4gICAgICAgIGZvb3RwcmludFNldC5zZXRJc1Zpc2libGUoaXNWaXNpYmxlKTtcbiAgICB9XG4gICAgZGVsZXRlRm9vdHByaW50U2V0KGZvb3RwcmludFNldCkge1xuICAgICAgICB0aGlzLmFzdHJvU3BoZXJlLmRlbGV0ZUZvb3RwcmludFNldChmb290cHJpbnRTZXQpO1xuICAgIH1cbiAgICBjaGFuZ2VGb290cHJpbnRTZXRDb2xvcihmb290cHJpbnRTZXQsIGhleENvbG9yKSB7XG4gICAgICAgIC8vIGZvb3RwcmludFNldC5mb290cHJpbnRzZXRQcm9wcy5jaGFuZ2VDb2xvcihoZXhDb2xvcilcbiAgICAgICAgZm9vdHByaW50U2V0LmNoYW5nZUNvbG9yKGhleENvbG9yKTtcbiAgICB9XG4gICAgZ2V0SG92ZXJlZEZvb3RwcmludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzdHJvU3BoZXJlLmdldEhvdmVyZWRGb290cHJpbnRzKCk7XG4gICAgfVxuICAgIC8vIEhJUFNcbiAgICBnZXREZWZhdWx0SGlQU1VSTCgpIHtcbiAgICAgICAgcmV0dXJuIGJvb3RTZXR1cC5kZWZhdWx0SGlwc1VybDtcbiAgICB9XG4gICAgYWN0aXZhdGVIaVBTKGhpcHNEZXNjcmlwdG9yKSB7XG4gICAgICAgIHRoaXMuYXN0cm9TcGhlcmUuYWN0aXZhdGVIaVBTKGhpcHNEZXNjcmlwdG9yKTtcbiAgICB9XG4gICAgYXN5bmMgbG9hZEhpUFMoYmFzZVVybCkge1xuICAgICAgICBjb25zdCBoaXBzVXJsID0gYmFzZVVybC5lbmRzV2l0aCgnLycpID8gYmFzZVVybCA6IGJhc2VVcmwgKyAnLyc7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChoaXBzVXJsICsgJ3Byb3BlcnRpZXMnKTtcbiAgICAgICAgaWYgKCFyZXNwLm9rKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcC5zdGF0dXN9IGZldGNoaW5nIHByb3BlcnRpZXNgKTtcbiAgICAgICAgY29uc3QgcHJvcHNUZXh0ID0gYXdhaXQgcmVzcC50ZXh0KCk7XG4gICAgICAgIGNvbnN0IGRlc2MgPSBuZXcgSGlQU0Rlc2NyaXB0b3IocHJvcHNUZXh0LCBoaXBzVXJsKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUhpUFMoZGVzYyk7XG4gICAgfVxuICAgIC8vIEdPVE9zIGFuZCBDT09SRFNcbiAgICBnb1RvKHJhRGVnLCBkZWNEZWcpIHtcbiAgICAgICAgdGhpcy5hc3Ryb1NwaGVyZS5nb1RvKHJhRGVnLCBkZWNEZWcpO1xuICAgIH1cbiAgICBnZXRDZW50ZXJDb29yZGluYXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN0cm9TcGhlcmUuZ2V0Q2VudHJhbFBvaW50Q29vcmRpbmF0ZXMoKTtcbiAgICB9XG4gICAgZ2V0Q29vcmRpbmF0ZXNGcm9tTW91c2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzdHJvU3BoZXJlLmdldExhc3RNb3VzZVBvaW50Q29vcmRpbmF0ZXMoKTtcbiAgICB9XG4gICAgLy8gR1JJRHNcbiAgICB0b2dnbGVIZWFscGl4R3JpZCgpIHtcbiAgICAgICAgaGVhbHBpeEdyaWRTaW5nbGV0b24udG9nZ2xlU2hvd0dyaWQoKTtcbiAgICB9XG4gICAgaXNIZWFscGl4R3JpZFZpc2libGUoKSB7XG4gICAgICAgIHJldHVybiBoZWFscGl4R3JpZFNpbmdsZXRvbi5pc1Zpc2libGUoKTtcbiAgICB9XG4gICAgdG9nZ2xlRXF1YXRvcmlhbEdyaWQoKSB7XG4gICAgICAgIGVxdWF0b3JpYWxHcmlkU2luZ2xldG9uLnRvZ2dsZVNob3dHcmlkKCk7XG4gICAgfVxuICAgIGlzRXF1YXRvcmlhbEdyaWRWaXNpYmxlKCkge1xuICAgICAgICByZXR1cm4gZXF1YXRvcmlhbEdyaWRTaW5nbGV0b24uaXNWaXNpYmxlKCk7XG4gICAgfVxuICAgIC8vIEZPVlxuICAgIGdldEZvVigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN0cm9TcGhlcmUuZ2V0Rm9WKCk7XG4gICAgfVxuICAgIGdldEZvVlBvbHlnb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzdHJvU3BoZXJlLmdldEZvVlBvbHlnb24oKTtcbiAgICB9XG4gICAgY2hhbmdlRm9WKGRlZykge1xuICAgICAgICB0aGlzLCB0aGlzLmFzdHJvU3BoZXJlLmNoYW5nZUZvVihkZWcpO1xuICAgIH1cbiAgICBjaGFuZ2VGb1YyKGRlZykge1xuICAgICAgICB0aGlzLCB0aGlzLmFzdHJvU3BoZXJlLmNoYW5nZUZvVjIoZGVnKTtcbiAgICB9XG4gICAgY2hhbmdlRm9WMyhkZWcpIHtcbiAgICAgICAgdGhpcywgdGhpcy5hc3Ryb1NwaGVyZS5jaGFuZ2VGb1YzKGRlZyk7XG4gICAgfVxuICAgIGdldEluc2lkZVNwaGVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN0cm9TcGhlcmUuZ2V0SW5zaWRlU3BoZXJlKCk7XG4gICAgfVxuICAgIHRvZ2dsZUluc2lkZVNwaGVyZSgpIHtcbiAgICAgICAgdGhpcy5hc3Ryb1NwaGVyZS50b2dnbGVJbnNpZGVTcGhlcmUoKTtcbiAgICB9XG4gICAgLy8gSW50ZXJuYWxcbiAgICBjb25zdHJ1Y3RvcihjYW52YXNEb21JZCkge1xuICAgICAgICB0aGlzLmluaXQoY2FudmFzRG9tSWQpO1xuICAgIH1cbiAgICBpbml0KGNhbnZhc0RvbUlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0IHdlYmdsJyk7XG4gICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNEb21JZCk7XG4gICAgICAgIGlmICghKGMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGlkICR7Y2FudmFzRG9tSWR9IGlzIG5vdCBhIGNhbnZhcy5gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbnZhcyA9IGM7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgeyBhbHBoYTogZmFsc2UgfSk7XG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTCwgc29ycnkgOi0oJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMMiBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXh0ZW5kIHdpdGggY3VzdG9tIGZpZWxkcyB1c2VkIGVsc2V3aGVyZVxuICAgICAgICB0aGlzLndlYmdsID0gZ2w7XG4gICAgICAgIHRoaXMud2ViZ2wudmlld3BvcnRXaWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB0aGlzLndlYmdsLnZpZXdwb3J0SGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gMS8yNTUgPSAwLjAwMzkyMTU2ODYyXG4gICAgICAgICAgICB0aGlzLndlYmdsLmNsZWFyQ29sb3IoMCAqIDAuMDAzOTIxNTY4NjIsIDE2ICogMC4wMDM5MjE1Njg2MiwgNTAgKiAwLjAwMzkyMTU2ODYyLCAwLjcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgaW5zdGFudGlhdGluZyBXZWJHTCBjb250ZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0TGlzdGVuZXJzKCk7XG4gICAgICAgIGdsb2JhbC5nbCA9IHRoaXMud2ViZ2w7XG4gICAgICAgIHRoaXMuYXN0cm9TcGhlcmUgPSBuZXcgQXN0cm9TcGhlcmUodGhpcy5jYW52YXMsIHRoaXMud2ViZ2wpO1xuICAgIH1cbiAgICBpbml0TGlzdGVuZXJzKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnaW5zaWRlIGluaXRMaXN0ZW5lcnMnKTtcbiAgICAgICAgY29uc3QgcmVzaXplQ2FudmFzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tyZXNpemVDYW52YXNdJyk7XG4gICAgICAgICAgICBjb25zdCBuZXdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gMztcbiAgICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDM7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IG5ld1dpZHRoO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy53ZWJnbC52aWV3cG9ydFdpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLndlYmdsLnZpZXdwb3J0SGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy53ZWJnbC52aWV3cG9ydCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlQ29udGV4dExvc3QgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbaGFuZGxlQ29udGV4dExvc3RdJyk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmFmSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZklkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJhZklkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gKF9ldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1toYW5kbGVDb250ZXh0UmVzdG9yZWRdJyk7XG4gICAgICAgICAgICB0aGlzLndlYmdsLnZpZXdwb3J0V2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMud2ViZ2wudmlld3BvcnRIZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLndlYmdsLmNsZWFyQ29sb3IoMCAqIDAuMDAzOTIxNTY4NjIsIDE2ICogMC4wMDM5MjE1Njg2MiwgNTAgKiAwLjAwMzkyMTU2ODYyLCAwLjcpO1xuICAgICAgICAgICAgdGhpcy53ZWJnbC5lbmFibGUodGhpcy53ZWJnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgICAgIHRoaXMucmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy50aWNrKCkpO1xuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplQ2FudmFzKTtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIGhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgICAgIHJlc2l6ZUNhbnZhcygpO1xuICAgIH1cbiAgICB0aWNrKCkge1xuICAgICAgICB0aGlzLmRyYXdTY2VuZSgpO1xuICAgICAgICB0aGlzLnJhZklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMudGljaygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFmSWQ7XG4gICAgfVxuICAgIGRyYXdTY2VuZSgpIHtcbiAgICAgICAgdGhpcy5hc3Ryb1NwaGVyZS5kcmF3KHRoaXMuY2FudmFzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3Ryb1ZpZXdlci5qcy5tYXAiLCIvKipcbiAqIEBhdXRob3IgRmFicml6aW8gR2lvcmRhbm8gKEZhYilcbiAqL1xuaW1wb3J0IHsgdmVjMywgbWF0NCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbmltcG9ydCB7IGFzdHJvRGVnVG9TcGhlcmljYWwsIGNhcnRlc2lhblRvU3BoZXJpY2FsLCBzcGhlcmljYWxUb0NhcnRlc2lhbiwgfSBmcm9tIFwiLi91dGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IGdsb2JhbCBmcm9tICcuL0dsb2JhbC5qcyc7XG5jbGFzcyBDYW1lcmEge1xuICAgIGluc2lkZVNwaGVyZSA9IGZhbHNlO1xuICAgIGNhbV9wb3MgPSB2ZWMzLmNyZWF0ZSgpOyAvLyBjYW1lcmEgcG9zaXRpb25cbiAgICBjYW1fc3BlZWQgPSAxLjA7XG4gICAgdk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7IC8vIHZpZXcgbWF0cml4XG4gICAgVCA9IG1hdDQuY3JlYXRlKCk7IC8vIHRyYW5zbGF0aW9uIG1hdHJpeFxuICAgIFIgPSBtYXQ0LmNyZWF0ZSgpOyAvLyByb3RhdGlvbiBtYXRyaXhcbiAgICAvLyBPcHRpb25hbCBzdGF0ZSB1c2VkIGluIHJvdGF0ZSBoZWxwZXJzXG4gICAgRm9WID0gMTgwLjA7XG4gICAgcHJldmlvdXNGb1YgPSAxODAuMDtcbiAgICBtb3ZlID0gdmVjMy5jcmVhdGUoKTtcbiAgICBwaGkgPSAwOyAvLyBhY2N1bXVsYXRlZCB5YXcgKHJhZGlhbnMpXG4gICAgdGhldGEgPSAwOyAvLyBhY2N1bXVsYXRlZCBwaXRjaCAocmFkaWFucylcbiAgICBjb25zdHJ1Y3Rvcihpbl9wb3NpdGlvbiwgaW5fc3BoZXJlKSB7XG4gICAgICAgIHRoaXMuaW5pdChpbl9wb3NpdGlvbiwgaW5fc3BoZXJlKTtcbiAgICB9XG4gICAgaW5pdChpbl9wb3NpdGlvbiwgaW5fc3BoZXJlKSB7XG4gICAgICAgIHRoaXMuaW5zaWRlU3BoZXJlID0gaW5fc3BoZXJlO1xuICAgICAgICB0aGlzLmNhbV9wb3MgPSB2ZWMzLmNsb25lKGluX3Bvc2l0aW9uKTtcbiAgICAgICAgdGhpcy52TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5UID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5SID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5ULCB0aGlzLlQsIFt0aGlzLmNhbV9wb3NbMF0sIHRoaXMuY2FtX3Bvc1sxXSwgdGhpcy5jYW1fcG9zWzJdXSk7XG4gICAgICAgIC8vIHJlc2V0IGhlbHBlcnNcbiAgICAgICAgdGhpcy5Gb1YgPSB0aGlzLnByZXZpb3VzRm9WID0gMTgwLjA7XG4gICAgICAgIHRoaXMubW92ZSA9IHZlYzMuY2xvbmUoWzAsIDAsIDBdKTtcbiAgICAgICAgY29uc3QgcmFEZWcgPSAwO1xuICAgICAgICBjb25zdCBkZWNEZWcgPSAwO1xuICAgICAgICB0aGlzLmdvVG8ocmFEZWcsIGRlY0RlZyk7XG4gICAgfVxuICAgIGdvVG8ocmFEZWcsIGRlY0RlZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmxvZyhgZ2xvYmFsLmluc2lkZVNwaGVyZTogJHtnbG9iYWwuaW5zaWRlU3BoZXJlfWApO1xuICAgICAgICAvLyBtaXJyb3IgUkFcbiAgICAgICAgY29uc3QgbWlycm9yZWRSQSA9IDM2MCAtIHJhRGVnO1xuICAgICAgICB0aGlzLmdvVG9QaGlUaGV0YShhc3Ryb0RlZ1RvU3BoZXJpY2FsKG1pcnJvcmVkUkEsIGRlY0RlZykpO1xuICAgIH1cbiAgICBnb1RvUGhpVGhldGEocHREZWcpIHtcbiAgICAgICAgY29uc3QgeHl6ID0gc3BoZXJpY2FsVG9DYXJ0ZXNpYW4ocHREZWcucGhpLCBwdERlZy50aGV0YSwgdGhpcy5jYW1fcG9zWzJdKTtcbiAgICAgICAgbGV0IGNhbWVyYU1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIGNhbWVyYU1hdHJpeCA9IG1hdDQudHJhbnNsYXRlKGNhbWVyYU1hdHJpeCwgY2FtZXJhTWF0cml4LCB2ZWMzLmZyb21WYWx1ZXMoeHl6WzBdLCB4eXpbMV0sIHh5elsyXSkpO1xuICAgICAgICBjb25zdCBmb2N1c1BvaW50ID0gWzAuMCwgMC4wLCAwLjBdO1xuICAgICAgICBjb25zdCBjYW1lcmFVcCA9IHZlYzMuY2xvbmUoWzAuMCwgMS4wLCAwLjBdKTtcbiAgICAgICAgY29uc3QgY2FtZXJhUG9zID0gW2NhbWVyYU1hdHJpeFsxMl0sIGNhbWVyYU1hdHJpeFsxM10sIGNhbWVyYU1hdHJpeFsxNF1dO1xuICAgICAgICBjYW1lcmFNYXRyaXggPSBtYXQ0LnRhcmdldFRvKGNhbWVyYU1hdHJpeCwgY2FtZXJhUG9zLCBmb2N1c1BvaW50LCBjYW1lcmFVcCk7XG4gICAgICAgIHRoaXMuUiA9IG1hdDQuY2xvbmUoY2FtZXJhTWF0cml4KTtcbiAgICAgICAgdGhpcy5SWzEyXSA9IDA7XG4gICAgICAgIHRoaXMuUlsxM10gPSAwO1xuICAgICAgICB0aGlzLlJbMTRdID0gMDtcbiAgICAgICAgY29uc3Qgdmlld01hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLmNhbV9wb3NbMl0gIT09IDApIHtcbiAgICAgICAgICAgIG1hdDQuaW52ZXJ0KHZpZXdNYXRyaXgsIGNhbWVyYU1hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52TWF0cml4ID0gdmlld01hdHJpeDtcbiAgICB9XG4gICAgdG9nZ2xlSW5zaWRlU3BoZXJlKCkge1xuICAgICAgICAvLyBpZiAoaW5zaWRlICE9PSBnbG9iYWwuaW5zaWRlU3BoZXJlKSB7XG4gICAgICAgIC8vICAgZ2xvYmFsLmluc2lkZVNwaGVyZSA9IGluc2lkZTtcbiAgICAgICAgaWYgKGdsb2JhbC5pbnNpZGVTcGhlcmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbV9wb3NbMl0gPD0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtX3Bvc1syXSA9IC0yICsgdGhpcy5jYW1fcG9zWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1fcG9zWzJdID0gLTAuMDA1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW1fcG9zWzJdID0gMi4wICsgdGhpcy5jYW1fcG9zWzJdO1xuICAgICAgICB9XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuVCwgbWF0NC5jcmVhdGUoKSwgdGhpcy5jYW1fcG9zKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld01hdHJpeCgpO1xuICAgICAgICAvLyB9XG4gICAgfVxuICAgIHpvb20oaW5lcnRpYSkge1xuICAgICAgICB0aGlzLm1vdmUgPSB2ZWMzLmNsb25lKFswLCAwLCAwXSk7XG4gICAgICAgIHRoaXMubW92ZVsyXSArPSB0aGlzLmNhbV9zcGVlZCAqIGluZXJ0aWE7XG4gICAgICAgIGlmIChnbG9iYWwuaW5zaWRlU3BoZXJlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1fcG9zWzJdICsgdGhpcy5tb3ZlWzJdID49IC0wLjAwNSAmJiBpbmVydGlhID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtX3Bvc1syXSA9IC0wLjAwNTtcbiAgICAgICAgICAgICAgICBpbmVydGlhID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2FtX3Bvc1syXSArIHRoaXMubW92ZVsyXSA8PSAtMC45ODg1ICYmIGluZXJ0aWEgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1fcG9zWzJdID0gLTAuOTg4NTtcbiAgICAgICAgICAgICAgICBpbmVydGlhID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtX3Bvc1syXSArPSB0aGlzLm1vdmVbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1fcG9zWzJdIDwgMS4wMDUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVbMl0gKj0gdGhpcy5jYW1fcG9zWzJdIC8gMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jYW1fcG9zWzJdIDwgMS4wNSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVsyXSAqPSB0aGlzLmNhbV9wb3NbMl0gLyAyMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2FtX3Bvc1syXSA8IDEuMykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVsyXSAqPSB0aGlzLmNhbV9wb3NbMl0gLyAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2FtX3Bvc1syXSArIHRoaXMubW92ZVsyXSA8PSAxLjAwMDAwMSAmJiBpbmVydGlhIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtX3Bvc1syXSA9IDEuMDAwMDAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1fcG9zWzJdICs9IHRoaXMubW92ZVsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5PVEU6IHlvdXIgb3JpZ2luYWwgY29kZSBhZGRzIG1vdmVbMl0gdHdpY2U7IGlmIHRoYXQncyB1bmludGVuZGVkLCByZW1vdmUgdGhpcyBuZXh0IGxpbmUuXG4gICAgICAgICAgICAvLyB0aGlzLmNhbV9wb3NbMl0gKz0gdGhpcy5tb3ZlWzJdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlkZW50aXR5ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5ULCBpZGVudGl0eSwgdGhpcy5jYW1fcG9zKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld01hdHJpeCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBjYW1lcmEgZm9yd2FyZC9iYWNrd2FyZCBhbG9uZyBpdHMgY3VycmVudCB2aWV3aW5nIGRpcmVjdGlvbi5cbiAgICAgKiBQb3NpdGl2ZSBkaXN0YW5jZSBtb3ZlcyAqZm9yd2FyZCogKHRvd2FyZCB3aGVyZSB0aGUgY2FtZXJhIGlzIGxvb2tpbmcpLFxuICAgICAqIG5lZ2F0aXZlIGRpc3RhbmNlIG1vdmVzICpiYWNrd2FyZCouXG4gICAgICpcbiAgICAgKiBUaGlzIGRvZXMgbm90IGVuZm9yY2UgaW5zaWRlL291dHNpZGUtc3BoZXJlIGJvdW5kczsgaWYgeW91IHdhbnQgY2xhbXBpbmcsXG4gICAgICogaGFuZGxlIGl0IGJlZm9yZSBjYWxsaW5nIG9yIHdlIGNhbiBleHRlbmQgdGhpcyB0byBtaW1pYyBgem9vbSgpYCBib3VuZHMuXG4gICAgICovXG4gICAgbW92ZUFsb25nVmlldyhkaXN0YW5jZSkge1xuICAgICAgICAvLyBXb3JsZC1zcGFjZSBmb3J3YXJkIHZlY3RvcjogdHJhbnNmb3JtIGNhbWVyYS1zcGFjZSAtWiBieSBpbnZlcnNlIHJvdGF0aW9uXG4gICAgICAgIGNvbnN0IFJfaW52ZXJzZSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuaW52ZXJ0KFJfaW52ZXJzZSwgdGhpcy5SKTtcbiAgICAgICAgY29uc3QgZm9yd2FyZENhbSA9IHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtMSk7IC8vIGNhbWVyYSBsb29rcyBhbG9uZyAtWiBpbiBpdHMgbG9jYWwgc3BhY2VcbiAgICAgICAgY29uc3QgZndkV29ybGQgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB2ZWMzLnRyYW5zZm9ybU1hdDQoZndkV29ybGQsIGZvcndhcmRDYW0sIFJfaW52ZXJzZSk7XG4gICAgICAgIC8vIE5vcm1hbGlzZSB0byBnZXQgZGlyZWN0aW9uIG9ubHlcbiAgICAgICAgY29uc3QgbGVuID0gTWF0aC5oeXBvdChmd2RXb3JsZFswXSwgZndkV29ybGRbMV0sIGZ3ZFdvcmxkWzJdKTtcbiAgICAgICAgaWYgKGxlbiA+IDApIHtcbiAgICAgICAgICAgIGZ3ZFdvcmxkWzBdIC89IGxlbjtcbiAgICAgICAgICAgIGZ3ZFdvcmxkWzFdIC89IGxlbjtcbiAgICAgICAgICAgIGZ3ZFdvcmxkWzJdIC89IGxlbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgY2FtZXJhIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2FtX3Bvc1swXSArPSBmd2RXb3JsZFswXSAqIGRpc3RhbmNlO1xuICAgICAgICB0aGlzLmNhbV9wb3NbMV0gKz0gZndkV29ybGRbMV0gKiBkaXN0YW5jZTtcbiAgICAgICAgdGhpcy5jYW1fcG9zWzJdICs9IGZ3ZFdvcmxkWzJdICogZGlzdGFuY2U7XG4gICAgICAgIC8vIFJlYnVpbGQgdHJhbnNsYXRpb24gbWF0cml4IGFuZCB2aWV3IG1hdHJpeFxuICAgICAgICBjb25zdCBpZGVudGl0eSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuVCwgaWRlbnRpdHksIHRoaXMuY2FtX3Bvcyk7XG4gICAgICAgIHRoaXMucmVmcmVzaFZpZXdNYXRyaXgoKTtcbiAgICB9XG4gICAgdHJhbnNsYXRlKGRpc3RhbmNlKSB7XG4gICAgICAgIC8vIGNvbnN0IHBvcyA9IHRoaXMuZ2V0Q2FtZXJhUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5jYW1fcG9zWzJdID0gZGlzdGFuY2UgKyAxO1xuICAgICAgICAvLyB2ZWMzLnNjYWxlKHBvcywgcG9zLCBkaXN0YW5jZSk7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5ULCBpZGVudGl0eSwgdGhpcy5jYW1fcG9zKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld01hdHJpeCgpO1xuICAgIH1cbiAgICByb3RhdGVaKHNpZ24pIHtcbiAgICAgICAgY29uc3QgZmFjdG9yUmFkID0gc2lnbiAqIDAuMDE7XG4gICAgICAgIHRoaXMucGhpICs9IGZhY3RvclJhZDtcbiAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5SLCB0aGlzLlIsIGZhY3RvclJhZCwgWzAsIDAsIDFdKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld01hdHJpeCgpO1xuICAgIH1cbiAgICByb3RhdGVZKHNpZ24pIHtcbiAgICAgICAgY29uc3QgZmFjdG9yUmFkID0gc2lnbiAqIDAuMDE7XG4gICAgICAgIHRoaXMucGhpICs9IGZhY3RvclJhZDtcbiAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5SLCB0aGlzLlIsIGZhY3RvclJhZCwgWzAsIDEsIDBdKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld01hdHJpeCgpO1xuICAgIH1cbiAgICByb3RhdGVYUmFkaWFuKHJhZGlhbikge1xuICAgICAgICBtYXQ0LnJvdGF0ZSh0aGlzLlIsIHRoaXMuUiwgcmFkaWFuLCBbMSwgMCwgMF0pO1xuICAgICAgICB0aGlzLnJlZnJlc2hWaWV3TWF0cml4KCk7XG4gICAgfVxuICAgIHJvdGF0ZVlSYWRpYW4ocmFkaWFuKSB7XG4gICAgICAgIHRoaXMucGhpICs9IHJhZGlhbjtcbiAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5SLCB0aGlzLlIsIHJhZGlhbiwgWzAsIDEsIDBdKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld01hdHJpeCgpO1xuICAgIH1cbiAgICByb3RhdGVaUmFkaWFuKHJhZGlhbikge1xuICAgICAgICBtYXQ0LnJvdGF0ZSh0aGlzLlIsIHRoaXMuUiwgcmFkaWFuLCBbMCwgMCwgMV0pO1xuICAgICAgICB0aGlzLnJlZnJlc2hWaWV3TWF0cml4KCk7XG4gICAgfVxuICAgIHJvdGF0ZVgoc2lnbikge1xuICAgICAgICBjb25zdCBmYWN0b3JSYWQgPSBzaWduICogMC4wMTtcbiAgICAgICAgdGhpcy50aGV0YSArPSBmYWN0b3JSYWQ7XG4gICAgICAgIG1hdDQucm90YXRlKHRoaXMuUiwgdGhpcy5SLCBmYWN0b3JSYWQsIFsxLCAwLCAwXSk7XG4gICAgICAgIHRoaXMucmVmcmVzaFZpZXdNYXRyaXgoKTtcbiAgICB9XG4gICAgcm90YXRlKHBoaSwgdGhldGEpIHtcbiAgICAgICAgY29uc3QgdG90Um90ID0gTWF0aC5zcXJ0KHBoaSAqIHBoaSArIHRoZXRhICogdGhldGEpO1xuICAgICAgICBpZiAodG90Um90ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmdldENhbWVyYVBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IGRpc3QyQ2VudGVyID0gTWF0aC5zcXJ0KHBvc1swXSAqIHBvc1swXSArIHBvc1sxXSAqIHBvc1sxXSArIHBvc1syXSAqIHBvc1syXSk7XG4gICAgICAgIGNvbnN0IHVzZWRSb3QgPSAodG90Um90ICogKGRpc3QyQ2VudGVyIC0gMSkpIC8gMy4wO1xuICAgICAgICBtYXQ0LnJvdGF0ZSh0aGlzLlIsIHRoaXMuUiwgLXVzZWRSb3QsIFt0aGV0YSAvIHRvdFJvdCwgcGhpIC8gdG90Um90LCAwXSk7XG4gICAgICAgIHRoaXMucmVmcmVzaFZpZXdNYXRyaXgoKTtcbiAgICB9XG4gICAgcmVmcmVzaFZpZXdNYXRyaXgoKSB7XG4gICAgICAgIGNvbnN0IFRfaW52ZXJzZSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIGNvbnN0IFJfaW52ZXJzZSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuaW52ZXJ0KFRfaW52ZXJzZSwgdGhpcy5UKTtcbiAgICAgICAgbWF0NC5pbnZlcnQoUl9pbnZlcnNlLCB0aGlzLlIpO1xuICAgICAgICBtYXQ0Lm11bHRpcGx5KHRoaXMudk1hdHJpeCwgVF9pbnZlcnNlLCBSX2ludmVyc2UpO1xuICAgIH1cbiAgICByZWZyZXNoRm9WKGN1cnJlbnRGb1YpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c0ZvViA9IHRoaXMuRm9WO1xuICAgICAgICB0aGlzLkZvViA9IGN1cnJlbnRGb1Y7XG4gICAgfVxuICAgIGdldENhbWVyYU1hdHJpeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudk1hdHJpeDtcbiAgICB9XG4gICAgZ2V0Q2FtZXJhUG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGludiA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIGlmICghbWF0NC5pbnZlcnQoaW52LCB0aGlzLnZNYXRyaXgpKSB7XG4gICAgICAgICAgICAvLyBmYWxsYmFjayDigJQgd2UgYWxyZWFkeSBtYWludGFpbiBjYW1fcG9zXG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuY2FtX3Bvc1swXSwgdGhpcy5jYW1fcG9zWzFdLCB0aGlzLmNhbV9wb3NbMl1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaW52WzEyXSwgaW52WzEzXSwgaW52WzE0XV07XG4gICAgfVxuICAgIC8vIHNldENhbWVyYVBvc2l0aW9uKHBvc2l0aW9uOiBWZWMzVHVwbGUpIHtcbiAgICAvLyAgIGNvbnN0IGludiA9IG1hdDQuY3JlYXRlKCk7XG4gICAgLy8gICBpZiAobWF0NC5pbnZlcnQoaW52LCB0aGlzLnZNYXRyaXgpKSB7XG4gICAgLy8gICAgIFtpbnZbMTJdLCBpbnZbMTNdLCBpbnZbMTRdXSA9IFtwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdXVxuICAgIC8vICAgICBtYXQ0LmludmVydCh0aGlzLnZNYXRyaXgsIGludilcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgc2V0Q2FtZXJhUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgLy8gVXBkYXRlIGF1dGhvcml0YXRpdmUgcG9zaXRpb25cbiAgICAgICAgdGhpcy5jYW1fcG9zID0gdmVjMy5mcm9tVmFsdWVzKHBvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl0pO1xuICAgICAgICAvLyBSZWJ1aWxkIHRyYW5zbGF0aW9uIG1hdHJpeCBmcm9tIGNhbV9wb3NcbiAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5ULCBtYXQ0LmNyZWF0ZSgpLCB0aGlzLmNhbV9wb3MpO1xuICAgICAgICAvLyBEbyBOT1QgdG91Y2ggdGhpcy5SIGhlcmUgKGtlZXAgb3JpZW50YXRpb24pXG4gICAgICAgIC8vIFJlY29tcHV0ZSB2aWV3OiB2TWF0cml4ID0gaW52KFQpICogaW52KFIpXG4gICAgICAgIHRoaXMucmVmcmVzaFZpZXdNYXRyaXgoKTtcbiAgICB9XG4gICAgZ2V0Q2FtZXJhQW5nbGUoKSB7XG4gICAgICAgIGNvbnN0IFt4LCB5LCB6XSA9IHRoaXMuZ2V0Q2FtZXJhUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgcG9zVmVjID0gdmVjMy5mcm9tVmFsdWVzKHgsIHksIHopO1xuICAgICAgICBjb25zdCBwdERlZyA9IGNhcnRlc2lhblRvU3BoZXJpY2FsKHBvc1ZlYyk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0NhbWVyYTo6Z2V0Q2FtZXJhQW5nbGVdXCIsIHB0RGVnKTtcbiAgICAgICAgcmV0dXJuIHB0RGVnO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IENhbWVyYTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbWVyYS5qcy5tYXAiLCJleHBvcnQgY29uc3QgaGlwc05vZGVzID0gW1xuICAgIFwiaHR0cHM6Ly9za2llcy5lc2FjLmVzYS5pbnQvXCIsXG4gICAgXCJodHRwczovL2FsYXNreS5jZHMudW5pc3RyYS5mci9cIixcbl07XG4vLyBJZiB5b3Ugd2FudCB0byByZS1lbmFibGUgbXVsdGlwbGUgVEFQIHJlcG9zLCBqdXN0IHVuY29tbWVudCBhbmQgZXh0ZW5kIHRoZSBhcnJheVxuLy8gZXhwb3J0IGNvbnN0IHRhcFJlcG9zOiBzdHJpbmdbXSA9IFtcbi8vICAgXCJodHRwczovL2FyY2hpdmUuZXNvLm9yZy90YXBfY2F0L1wiLFxuLy8gICBcImh0dHBzOi8vYXJjaGl2ZS5lc28ub3JnL3RhcF9vYnMvXCIsXG4vLyAgIFwiaHR0cHM6Ly9za3kuZXNhLmludC9lc2Fza3ktdGFwL3RhcC9cIixcbi8vICAgXCJodHRwczovL3dzLmNhZGMtY2NkYS5oaWEtaWhhLm5yYy1jbnJjLmdjLmNhL2FyZ3VzXCIsXG4vLyBdO1xuZXhwb3J0IGNvbnN0IHRhcFJlcG9zID0gW1xuICAgIFwiaHR0cHM6Ly9za3kuZXNhLmludC9lc2Fza3ktdGFwL3RhcC9cIixcbl07XG5leHBvcnQgY29uc3QgYm9vdFNldHVwID0ge1xuICAgIGluc2lkZVNwaGVyZTogZmFsc2UsXG4gICAgZGVmYXVsdEhpcHM6IFwiXCIsXG4gICAgY2FtZXJhX2Zvdl9kZWc6IDM0LFxuICAgIGNhbWVyYV9mb3ZfcmFkOiAzNCAqIE1hdGguUEkgLyAxODAuMCxcbiAgICBjYW1lcmFfbmVhcl9wbGFuZTogMC4wMDAwMSxcbiAgICBjYW1lcmFfZmFyX3BsYW5lOiAyLjUsXG4gICAgY29yc1Byb3h5VXJsOiBcImh0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9cIixcbiAgICB1c2VDT1JTUHJveHk6IGZhbHNlLFxuICAgIG1heERlY2ltYWxzOiAxNSxcbiAgICAvLyBkZWZhdWx0SGlwc1VybDogXCIvL2FsYXNreS51LXN0cmFzYmcuZnIvRFNTL0RTU0NvbG9yL1wiLFxuICAgIGRlZmF1bHRIaXBzVXJsOiBcImh0dHBzOi8vY2RuLnNraWVzLmVzYWMuZXNhLmludC9EU1NDb2xvci9cIixcbiAgICB2ZXJzaW9uOiBcIkFzdHJvYnJvd3NlciB2MS4wLjBcIixcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgaW5zaWRlVmlldzogZmFsc2UsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29uZmlnLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEhlYWxwaXggfSBmcm9tICdoZWFscGl4anMnO1xuaW1wb3J0IHsgYm9vdFNldHVwIH0gZnJvbSAnLi9Db25maWcuanMnO1xuY2xhc3MgR2xvYmFsIHtcbiAgICAvLyAtLS0gY2FjaGVkIC8gcnVudGltZSBzdGF0ZSAtLS1cbiAgICBfY2FtZXJhO1xuICAgIF9nbDtcbiAgICBfaGVhbHBpeDtcbiAgICAvLyAtLS0gY29uZmlnL3N0YXRlIGZsYWdzIC0tLVxuICAgIF9zZWxlY3Rpb25uc2lkZTtcbiAgICAvLyBwcml2YXRlIF9oZWFscGl4NGZvb3RwcmludHM6IGJvb2xlYW47XG4gICAgX3VzZUNPUlNQcm94eTtcbiAgICBfY29yc1Byb3h5VXJsO1xuICAgIF9tYXhEZWNpbWFscztcbiAgICBfZGVidWc7XG4gICAgX2luc2lkZVNwaGVyZTtcbiAgICBfdmVyc2lvbjtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fdXNlQ09SU1Byb3h5ID0gYm9vdFNldHVwLnVzZUNPUlNQcm94eTtcbiAgICAgICAgdGhpcy5fY29yc1Byb3h5VXJsID0gYm9vdFNldHVwLmNvcnNQcm94eVVybDtcbiAgICAgICAgdGhpcy5fbWF4RGVjaW1hbHMgPSBib290U2V0dXAubWF4RGVjaW1hbHM7XG4gICAgICAgIHRoaXMuX2RlYnVnID0gYm9vdFNldHVwLmRlYnVnO1xuICAgICAgICB0aGlzLl9pbnNpZGVTcGhlcmUgPSBib290U2V0dXAuaW5zaWRlVmlldztcbiAgICAgICAgdGhpcy5fdmVyc2lvbiA9IGJvb3RTZXR1cC52ZXJzaW9uO1xuICAgICAgICB0aGlzLl9jYW1lcmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9nbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hlYWxwaXggPSB7fTtcbiAgICAgICAgdGhpcy5fc2VsZWN0aW9ubnNpZGUgPSAzMjtcbiAgICAgICAgLy8gdGhpcy5faGVhbHBpeDRmb290cHJpbnRzID0gZmFsc2U7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdHbG9iYWwuaW5pdCgpJyk7XG4gICAgfVxuICAgIC8vIC0tLSBnZXR0ZXJzL3NldHRlcnMgLS0tXG4gICAgZ2V0IHZlcnNpb24oKSB7IHJldHVybiB0aGlzLl92ZXJzaW9uOyB9XG4gICAgc2V0IGNvcnNQcm94eVVybCh1cmwpIHsgdGhpcy5fY29yc1Byb3h5VXJsID0gdXJsOyB9XG4gICAgZ2V0IGNvcnNQcm94eVVybCgpIHsgcmV0dXJuIHRoaXMuX2NvcnNQcm94eVVybDsgfVxuICAgIGdldCB1c2VDT1JTUHJveHkoKSB7IHJldHVybiB0aGlzLl91c2VDT1JTUHJveHk7IH1cbiAgICBzZXQgdXNlQ09SU1Byb3h5KGVuYWJsZWQpIHsgdGhpcy5fdXNlQ09SU1Byb3h5ID0gZW5hYmxlZDsgfVxuICAgIGdldCBkZWJ1ZygpIHsgcmV0dXJuIHRoaXMuX2RlYnVnOyB9XG4gICAgZ2V0SGVhbHBpeChvcmRlcikge1xuICAgICAgICBpZiAodGhpcy5faGVhbHBpeFtvcmRlcl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gb3JkZXIgaXMgSEVBTFBpeCBcIm9yZGVyXCIg4oeSIG5zaWRlID0gMl5vcmRlclxuICAgICAgICAgICAgdGhpcy5faGVhbHBpeFtvcmRlcl0gPSBuZXcgSGVhbHBpeChNYXRoLnBvdygyLCBvcmRlcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFscGl4W29yZGVyXTtcbiAgICB9XG4gICAgZ2V0IE1BWF9ERUNJTUFMUygpIHsgcmV0dXJuIHRoaXMuX21heERlY2ltYWxzOyB9XG4gICAgZ2V0IGNhbWVyYSgpIHsgcmV0dXJuIHRoaXMuX2NhbWVyYTsgfVxuICAgIHNldCBjYW1lcmEoaW5fY2FtZXJhKSB7IHRoaXMuX2NhbWVyYSA9IGluX2NhbWVyYTsgfVxuICAgIGdldCBnbCgpIHsgcmV0dXJuIHRoaXMuX2dsOyB9XG4gICAgc2V0IGdsKGluX2dsKSB7IHRoaXMuX2dsID0gaW5fZ2w7IH1cbiAgICBzZXQgaW5zaWRlU3BoZXJlKHYpIHsgdGhpcy5faW5zaWRlU3BoZXJlID0gdjsgfVxuICAgIGdldCBpbnNpZGVTcGhlcmUoKSB7IHJldHVybiB0aGlzLl9pbnNpZGVTcGhlcmU7IH1cbiAgICBnZXQgbnNpZGVGb3JTZWxlY3Rpb24oKSB7IHJldHVybiB0aGlzLl9zZWxlY3Rpb25uc2lkZTsgfVxufVxuY29uc3QgZ2xvYmFsID0gbmV3IEdsb2JhbCgpO1xuZXhwb3J0IGRlZmF1bHQgZ2xvYmFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2xvYmFsLmpzLm1hcCIsIi8qKlxuICogQGF1dGhvciBGYWJyaXppbyBHaW9yZGFubyAoRmFiKVxuICovXG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuaW1wb3J0IGdsb2JhbCBmcm9tIFwiLi4vR2xvYmFsLmpzXCI7XG5jbGFzcyBBYnN0cmFjdFNreUVudGl0eSB7XG4gICAgLy8gUHVibGljLWlzaCBwcm9wZXJ0aWVzIHVzZWQgZWxzZXdoZXJlIGluIHRoZSBhcHBcbiAgICByZWZyZXNoTWUgPSBmYWxzZTtcbiAgICBmb3ZYX2RlZyA9IDE4MDtcbiAgICBmb3ZZX2RlZyA9IDE4MDtcbiAgICB4UmFkO1xuICAgIHlSYWQ7XG4gICAgcHJldkZvViA9IHRoaXMuZm92WF9kZWc7XG4gICAgbmFtZTtcbiAgICAvLyBwdWJsaWMgaW5zaWRlU3BoZXJlOiBib29sZWFuID0gYm9vdFNldHVwLmluc2lkZVNwaGVyZVxuICAgIC8vIFBpY2tpbmcvc3BoZXJlXG4gICAgY2VudGVyO1xuICAgIHJhZGl1cztcbiAgICBpc0dhbGFjdGljSGlwcztcbiAgICAvLyBHTCByZXNvdXJjZXNcbiAgICB2ZXJ0ZXhUZXh0dXJlQ29vcmRCdWZmZXIgPSBudWxsO1xuICAgIHZlcnRleFBvc2l0aW9uQnVmZmVyID0gbnVsbDtcbiAgICB2ZXJ0ZXhJbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgc2hhZGVyUHJvZ3JhbSA9IG51bGw7XG4gICAgLy8gTWF0cmljZXNcbiAgICBUID0gbWF0NC5jcmVhdGUoKTtcbiAgICBSID0gbWF0NC5jcmVhdGUoKTtcbiAgICBtb2RlbE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgaW52ZXJzZU1vZGVsTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAvLyBQcmVjb21wdXRlZCB0cmFuc2Zvcm0gZnJvbSBnYWxhY3RpYyB0byBlcXVhdG9yaWFsIChhbHJlYWR5IGludmVydGVkKVxuICAgIGdhbGFjdGljTWF0cml4SW52ZXJ0ZWQgPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIGNvbnN0cnVjdG9yKGluX3JhZGl1cywgaW5fcG9zaXRpb24sIGluX3hSYWQsIGluX3lSYWQsIGluX25hbWUsIGlzR2FsYWN0aWNIaXBzKSB7XG4gICAgICAgIHRoaXMueFJhZCA9IGluX3hSYWQ7XG4gICAgICAgIHRoaXMueVJhZCA9IGluX3lSYWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IGluX25hbWU7XG4gICAgICAgIHRoaXMuY2VudGVyID0gdmVjMy5jbG9uZShpbl9wb3NpdGlvbik7XG4gICAgICAgIHRoaXMucmFkaXVzID0gaW5fcmFkaXVzO1xuICAgICAgICAvLyB0aGlzLmluc2lkZVNwaGVyZSA9IGdsb2JhbC5pbnNpZGVTcGhlcmVcbiAgICAgICAgdGhpcy5pc0dhbGFjdGljSGlwcyA9ICEhaXNHYWxhY3RpY0hpcHM7XG4gICAgICAgIC8vIEZpbGwgdGhlIG1hdHJpeCB2aWEgRmxvYXQzMkFycmF5LnNldCAoc2FmZXIgdGhhbiBtYXQ0LnNldCB3aXRoIDE2IHNjYWxhcnMpXG4gICAgICAgIG1hdDQuc2V0KHRoaXMuZ2FsYWN0aWNNYXRyaXhJbnZlcnRlZCwgLTAuMDU0ODc1NTgyNDU2NTg4NzQ1LCAtMC44NzM0MzcwNDcwMDQ2OTk3LCAtMC40ODM4MzUwMTE3MjA2NTczNSwgMCwgMC40OTQxMDk0NTE3NzA3ODI0NywgLTAuNDQ0ODI5NjEyOTcwMzUyMiwgMC43NDY5ODIyNzY0Mzk2NjY3LCAwLCAtMC44Njc2NjYxODQ5MDIxOTEyLCAtMC4xOTgwNzYzNjczNzgyMzQ4NiwgMC40NTU5ODM3ODc3NzUwMzk3LCAwLCAwLCAwLCAwLCAxKTtcbiAgICB9XG4gICAgLyoqIEdMIHNldHVwIGFuZCBpbml0aWFsIG1vZGVsIHRyYW5zZm9ybSAqL1xuICAgIGluaXRHTChnbCkge1xuICAgICAgICAvLyBHTCByZXNvdXJjZXNcbiAgICAgICAgdGhpcy52ZXJ0ZXhUZXh0dXJlQ29vcmRCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLnZlcnRleEluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuc2hhZGVyUHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgLy8gUmVzZXQgb2JqZWN0IHRyYW5zZm9ybXNcbiAgICAgICAgdGhpcy5UID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5SID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5tb2RlbE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuaW52ZXJzZU1vZGVsTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgLy8gSW5pdGlhbCBwb3NlXG4gICAgICAgIHRoaXMudHJhbnNsYXRlKHRoaXMuY2VudGVyKTtcbiAgICAgICAgdGhpcy5yb3RhdGUodGhpcy54UmFkLCB0aGlzLnlSYWQpO1xuICAgIH1cbiAgICB0cmFuc2xhdGUodHJhbnNsYXRpb24pIHtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5ULCB0aGlzLlQsIHRyYW5zbGF0aW9uKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoTW9kZWxNYXRyaXgoKTtcbiAgICB9XG4gICAgcm90YXRlKHJhZDEsIHJhZDIpIHtcbiAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5SLCB0aGlzLlIsIHJhZDIsIFswLCAwLCAxXSk7XG4gICAgICAgIG1hdDQucm90YXRlKHRoaXMuUiwgdGhpcy5SLCByYWQxLCBbMSwgMCwgMF0pO1xuICAgICAgICB0aGlzLnJlZnJlc2hNb2RlbE1hdHJpeCgpO1xuICAgIH1cbiAgICByb3RhdGVGcm9tWmVybyhyYWQxLCByYWQyKSB7XG4gICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5SKTtcbiAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5SLCB0aGlzLlIsIHJhZDEsIFsxLCAwLCAwXSk7XG4gICAgICAgIG1hdDQucm90YXRlKHRoaXMuUiwgdGhpcy5SLCByYWQyLCBbMCwgMCwgMV0pO1xuICAgICAgICB0aGlzLnJlZnJlc2hNb2RlbE1hdHJpeCgpO1xuICAgIH1cbiAgICByZWZyZXNoTW9kZWxNYXRyaXgoKSB7XG4gICAgICAgIGNvbnN0IFJfaW52ZXJzZSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuaW52ZXJ0KFJfaW52ZXJzZSwgdGhpcy5SKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseSh0aGlzLm1vZGVsTWF0cml4LCB0aGlzLlQsIFJfaW52ZXJzZSk7XG4gICAgICAgIC8vIEZsaXAgWSBpZiB3ZSdyZSBvdXRzaWRlIHRoZSBzcGhlcmVcbiAgICAgICAgaWYgKCFnbG9iYWwuaW5zaWRlU3BoZXJlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsTWF0cml4WzFdID0gLXRoaXMubW9kZWxNYXRyaXhbMV07XG4gICAgICAgICAgICB0aGlzLm1vZGVsTWF0cml4WzVdID0gLXRoaXMubW9kZWxNYXRyaXhbNV07XG4gICAgICAgICAgICB0aGlzLm1vZGVsTWF0cml4WzldID0gLXRoaXMubW9kZWxNYXRyaXhbOV07XG4gICAgICAgICAgICB0aGlzLm1vZGVsTWF0cml4WzEzXSA9IC10aGlzLm1vZGVsTWF0cml4WzEzXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBnYWxhY3RpYyBmcmFtZSB0cmFuc2Zvcm0gaWYgbmVlZGVkXG4gICAgICAgIGlmICh0aGlzLmlzR2FsYWN0aWNIaXBzKSB7XG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5KHRoaXMubW9kZWxNYXRyaXgsIHRoaXMubW9kZWxNYXRyaXgsIHRoaXMuZ2FsYWN0aWNNYXRyaXhJbnZlcnRlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0TW9kZWxNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuaW52ZXJzZU1vZGVsTWF0cml4KTtcbiAgICAgICAgbWF0NC5pbnZlcnQodGhpcy5pbnZlcnNlTW9kZWxNYXRyaXgsIHRoaXMubW9kZWxNYXRyaXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZlcnNlTW9kZWxNYXRyaXg7XG4gICAgfVxuICAgIGdldE1vZGVsTWF0cml4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbE1hdHJpeDtcbiAgICB9XG4gICAgLyoqIENoaWxkcmVuIHdpdGggaGllcmFyY2hpY2FsIGdlb21ldHJ5IChlLmcuLCBIaVBTKSBjYW4gb3ZlcnJpZGUgdGhpcy4gKi9cbiAgICBzZXRHZW9tZXRyeU5lZWRzVG9CZVJlZnJlc2hlZCgpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoR2VvbWV0cnlPbkZvVkNoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gSGVscGVycyBvcGVyYXRpbmcgb24gcmF3IG1hdDQgYnVmZmVycyAoa2VwdCBmcm9tIHlvdXIgSlMpXG4gICAgcm90YXRlWChtLCBhbmdsZSkge1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBtdjEgPSBtWzFdLCBtdjUgPSBtWzVdLCBtdjkgPSBtWzldO1xuICAgICAgICBtWzFdID0gbVsxXSAqIGMgLSBtWzJdICogcztcbiAgICAgICAgbVs1XSA9IG1bNV0gKiBjIC0gbVs2XSAqIHM7XG4gICAgICAgIG1bOV0gPSBtWzldICogYyAtIG1bMTBdICogcztcbiAgICAgICAgbVsyXSA9IG1bMl0gKiBjICsgbXYxICogcztcbiAgICAgICAgbVs2XSA9IG1bNl0gKiBjICsgbXY1ICogcztcbiAgICAgICAgbVsxMF0gPSBtWzEwXSAqIGMgKyBtdjkgKiBzO1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgcm90YXRlWShtLCBhbmdsZSkge1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBtdjAgPSBtWzBdLCBtdjQgPSBtWzRdLCBtdjggPSBtWzhdO1xuICAgICAgICBtWzBdID0gYyAqIG1bMF0gKyBzICogbVsyXTtcbiAgICAgICAgbVs0XSA9IGMgKiBtWzRdICsgcyAqIG1bNl07XG4gICAgICAgIG1bOF0gPSBjICogbVs4XSArIHMgKiBtWzEwXTtcbiAgICAgICAgbVsyXSA9IGMgKiBtWzJdIC0gcyAqIG12MDtcbiAgICAgICAgbVs2XSA9IGMgKiBtWzZdIC0gcyAqIG12NDtcbiAgICAgICAgbVsxMF0gPSBjICogbVsxMF0gLSBzICogbXY4O1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdFNreUVudGl0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFic3RyYWN0U2t5RW50aXR5LmpzLm1hcCIsImV4cG9ydCBjb25zdCBDb2xvck1hcHMgPSB7XG4gICAgZ3JheXNjYWxlOiB7XG4gICAgICAgIG5hbWU6ICdncmF5c2NhbGUnLFxuICAgICAgICByOiBbXSxcbiAgICAgICAgZzogW10sXG4gICAgICAgIGI6IFtdLFxuICAgIH0sXG4gICAgbmF0aXZlOiB7XG4gICAgICAgIG5hbWU6ICduYXRpdmUnLFxuICAgICAgICByOiBbXSxcbiAgICAgICAgZzogW10sXG4gICAgICAgIGI6IFtdLFxuICAgIH0sXG4gICAgcGxhbmNrOiB7XG4gICAgICAgIG5hbWU6ICdwbGFuY2snLFxuICAgICAgICByOiBbXG4gICAgICAgICAgICAwLjAsIDAuNzY5MjMxLCAxLjUzODQ2LCAyLjMwNzY5LCAzLjA3NjkyLCAzLjg0NjE1LCA0LjYxNTM4LCA1LjM4NDYyLCA2LjE1Mzg1LCA2LjkyMzA4LCA3LjY5MjMxLFxuICAgICAgICAgICAgOC40NjE1NCwgOS4yMzA3NywgMTAuMCwgMTEuNTM4NSwgMTMuMDc2OSwgMTQuNjE1NCwgMTYuMTUzOCwgMTcuNjkyMywgMTkuMjMwOCwgMjAuNzY5MiwgMjIuMzA3NyxcbiAgICAgICAgICAgIDIzLjg0NjIsIDI1LjM4NDYsIDI2LjkyMzEsIDI4LjQ2MTUsIDMwLjAsIDMzLjg0NjIsIDM3LjY5MjMsIDQxLjUzODUsIDQ1LjM4NDYsIDQ5LjIzMDgsIDUzLjA3NjksXG4gICAgICAgICAgICA1Ni45MjMxLCA2MC43NjkyLCA2NC42MTU0LCA2OC40NjE1LCA3Mi4zMDc3LCA3Ni4xNTM4LCA4MC4wLCA4OC41Mzg1LCA5Ny4wNzY5LCAxMDUuNjE1LCAxMTQuMTU0LFxuICAgICAgICAgICAgMTIyLjY5MiwgMTMxLjIzMSwgMTM5Ljc2OSwgMTQ4LjMwOCwgMTU2Ljg0NiwgMTY1LjM4NSwgMTczLjkyMywgMTgyLjQ2MiwgMTkxLjAsIDE5My44NDYsIDE5Ni42OTIsXG4gICAgICAgICAgICAxOTkuNTM4LCAyMDIuMzg1LCAyMDUuMjMxLCAyMDguMDc3LCAyMTAuOTIzLCAyMTMuNzY5LCAyMTYuNjE1LCAyMTkuNDYyLCAyMjIuMzA4LCAyMjUuMTU0LCAyMjguMCxcbiAgICAgICAgICAgIDIyOS4xODIsIDIzMC4zNjQsIDIzMS41NDUsIDIzMi43MjcsIDIzMy45MDksIDIzNS4wOTEsIDIzNi4yNzMsIDIzNy40NTUsIDIzOC42MzYsIDIzOS44MTgsIDI0MS4wLFxuICAgICAgICAgICAgMjQxLjAsIDI0MS4zNjQsIDI0MS43MjcsIDI0Mi4wOTEsIDI0Mi40NTUsIDI0Mi44MTgsIDI0My4xODIsIDI0My41NDUsIDI0My45MDksIDI0NC4yNzMsIDI0NC42MzYsXG4gICAgICAgICAgICAyNDUuMCwgMjQ1LjIzMSwgMjQ1LjQ2MiwgMjQ1LjY5MiwgMjQ1LjkyMywgMjQ2LjE1NCwgMjQ2LjM4NSwgMjQ2LjYxNSwgMjQ2Ljg0NiwgMjQ3LjA3NywgMjQ3LjMwOCxcbiAgICAgICAgICAgIDI0Ny41MzgsIDI0Ny43NjksIDI0OC4wLCAyNDguMTQ2LCAyNDguMjkyLCAyNDguNDM4LCAyNDguNTg1LCAyNDguNzMxLCAyNDguODc3LCAyNDkuMDIzLCAyNDkuMTY5LFxuICAgICAgICAgICAgMjQ5LjMxNSwgMjQ5LjQ2MiwgMjQ5LjYwOCwgMjQ5Ljc1NCwgMjQ5LjksIDI0OS4zMTIsIDI0OC43MjMsIDI0OC4xMzUsIDI0Ny41NDYsIDI0Ni45NTgsIDI0Ni4zNjksXG4gICAgICAgICAgICAyNDUuNzgxLCAyNDUuMTkyLCAyNDQuNjA0LCAyNDQuMDE1LCAyNDMuNDI3LCAyNDIuODM4LCAyNDIuMjUsIDIzOS4zMDgsIDIzNi4zNjUsIDIzMy40MjMsXG4gICAgICAgICAgICAyMzAuNDgxLCAyMjcuNTM4LCAyMjQuNTk2LCAyMjEuNjU0LCAyMTguNzEyLCAyMTUuNzY5LCAyMTIuODI3LCAyMDkuODg1LCAyMDYuOTQyLCAyMDQuMCwgMjAxLjAsXG4gICAgICAgICAgICAxOTguMCwgMTk1LjAsIDE5Mi4wLCAxODkuMCwgMTg2LjAsIDE4My4wLCAxODAuMCwgMTc3LjAsIDE3NC4wLCAxNzEuMCwgMTY4LjAsIDE2NS4wLCAxNjEuMDc3LFxuICAgICAgICAgICAgMTU3LjE1NCwgMTUzLjIzMSwgMTQ5LjMwOCwgMTQ1LjM4NSwgMTQxLjQ2MiwgMTM3LjUzOCwgMTMzLjYxNSwgMTI5LjY5MiwgMTI1Ljc2OSwgMTIxLjg0NixcbiAgICAgICAgICAgIDExNy45MjMsIDExNC4wLCAxMTUuMDM4LCAxMTYuMDc3LCAxMTcuMTE1LCAxMTguMTU0LCAxMTkuMTkyLCAxMjAuMjMxLCAxMjEuMjY5LCAxMjIuMzA4LCAxMjMuMzQ2LFxuICAgICAgICAgICAgMTI0LjM4NSwgMTI1LjQyMywgMTI2LjQ2MiwgMTI3LjUsIDEzMS40MjMsIDEzNS4zNDYsIDEzOS4yNjksIDE0My4xOTIsIDE0Ny4xMTUsIDE1MS4wMzgsIDE1NC45NjIsXG4gICAgICAgICAgICAxNTguODg1LCAxNjIuODA4LCAxNjYuNzMxLCAxNzAuNjU0LCAxNzQuNTc3LCAxNzguNSwgMTgwLjQ2MiwgMTgyLjQyMywgMTg0LjM4NSwgMTg2LjM0NiwgMTg4LjMwOCxcbiAgICAgICAgICAgIDE5MC4yNjksIDE5Mi4yMzEsIDE5NC4xOTIsIDE5Ni4xNTQsIDE5OC4xMTUsIDIwMC4wNzcsIDIwMi4wMzgsIDIwNC4wLCAyMDUuOTYyLCAyMDcuOTIzLCAyMDkuODg1LFxuICAgICAgICAgICAgMjExLjg0NiwgMjEzLjgwOCwgMjE1Ljc2OSwgMjE3LjczMSwgMjE5LjY5MiwgMjIxLjY1NCwgMjIzLjYxNSwgMjI1LjU3NywgMjI3LjUzOCwgMjI5LjUsIDIzMC40ODEsXG4gICAgICAgICAgICAyMzEuNDYyLCAyMzIuNDQyLCAyMzMuNDIzLCAyMzQuNDA0LCAyMzUuMzg1LCAyMzYuMzY1LCAyMzcuMzQ2LCAyMzguMzI3LCAyMzkuMzA4LCAyNDAuMjg4LFxuICAgICAgICAgICAgMjQxLjI2OSwgMjQyLjI1LCAyNDIuNjQyLCAyNDMuMDM1LCAyNDMuNDI3LCAyNDMuODE5LCAyNDQuMjEyLCAyNDQuNjA0LCAyNDQuOTk2LCAyNDUuMzg4LFxuICAgICAgICAgICAgMjQ1Ljc4MSwgMjQ2LjE3MywgMjQ2LjU2NSwgMjQ2Ljk1OCwgMjQ3LjM1LCAyNDcuODE0LCAyNDguMjc3LCAyNDguNzQxLCAyNDkuMjA1LCAyNDkuNjY4LFxuICAgICAgICAgICAgMjUwLjEzMiwgMjUwLjU5NSwgMjUxLjA1OSwgMjUxLjUyMywgMjUxLjk4NiwgMjUyLjQ1XG4gICAgICAgIF0sXG4gICAgICAgIGc6IFtcbiAgICAgICAgICAgIDAuMCwgMS41Mzg0NiwgMy4wNzY5MiwgNC42MTUzOCwgNi4xNTM4NSwgNy42OTIzMSwgOS4yMzA3NywgMTAuNzY5MiwgMTIuMzA3NywgMTMuODQ2MiwgMTUuMzg0NixcbiAgICAgICAgICAgIDE2LjkyMzEsIDE4LjQ2MTUsIDIwLjAsIDMyLjYxNTQsIDQ1LjIzMDgsIDU3Ljg0NjIsIDcwLjQ2MTUsIDgzLjA3NjksIDk1LjY5MjMsIDEwOC4zMDgsIDEyMC45MjMsXG4gICAgICAgICAgICAxMzMuNTM4LCAxNDYuMTU0LCAxNTguNzY5LCAxNzEuMzg1LCAxODQuMCwgMTg3LjkyMywgMTkxLjg0NiwgMTk1Ljc2OSwgMTk5LjY5MiwgMjAzLjYxNSwgMjA3LjUzOCxcbiAgICAgICAgICAgIDIxMS40NjIsIDIxNS4zODUsIDIxOS4zMDgsIDIyMy4yMzEsIDIyNy4xNTQsIDIzMS4wNzcsIDIzNS4wLCAyMzUuMzA4LCAyMzUuNjE1LCAyMzUuOTIzLCAyMzYuMjMxLFxuICAgICAgICAgICAgMjM2LjUzOCwgMjM2Ljg0NiwgMjM3LjE1NCwgMjM3LjQ2MiwgMjM3Ljc2OSwgMjM4LjA3NywgMjM4LjM4NSwgMjM4LjY5MiwgMjM5LjAsIDIzOS4wNzcsIDIzOS4xNTQsXG4gICAgICAgICAgICAyMzkuMjMxLCAyMzkuMzA4LCAyMzkuMzg1LCAyMzkuNDYyLCAyMzkuNTM4LCAyMzkuNjE1LCAyMzkuNjkyLCAyMzkuNzY5LCAyMzkuODQ2LCAyMzkuOTIzLCAyNDAuMCxcbiAgICAgICAgICAgIDI0MC4wOTEsIDI0MC4xODIsIDI0MC4yNzMsIDI0MC4zNjQsIDI0MC40NTUsIDI0MC41NDUsIDI0MC42MzYsIDI0MC43MjcsIDI0MC44MTgsIDI0MC45MDksIDI0MS4wLFxuICAgICAgICAgICAgMjQxLjAsIDI0MC45MDksIDI0MC44MTgsIDI0MC43MjcsIDI0MC42MzYsIDI0MC41NDUsIDI0MC40NTUsIDI0MC4zNjQsIDI0MC4yNzMsIDI0MC4xODIsIDI0MC4wOTEsXG4gICAgICAgICAgICAyNDAuMCwgMjM5LjYxNSwgMjM5LjIzMSwgMjM4Ljg0NiwgMjM4LjQ2MiwgMjM4LjA3NywgMjM3LjY5MiwgMjM3LjMwOCwgMjM2LjkyMywgMjM2LjUzOCwgMjM2LjE1NCxcbiAgICAgICAgICAgIDIzNS43NjksIDIzNS4zODUsIDIzNS4wLCAyMzIuNjE1LCAyMzAuMjMxLCAyMjcuODQ2LCAyMjUuNDYyLCAyMjMuMDc3LCAyMjAuNjkyLCAyMTguMzA4LCAyMTUuOTIzLFxuICAgICAgICAgICAgMjEzLjUzOCwgMjExLjE1NCwgMjA4Ljc2OSwgMjA2LjM4NSwgMjA0LjAsIDIwMC4wNzcsIDE5Ni4xNTQsIDE5Mi4yMzEsIDE4OC4zMDgsIDE4NC4zODUsIDE4MC40NjIsXG4gICAgICAgICAgICAxNzYuNTM4LCAxNzIuNjE1LCAxNjguNjkyLCAxNjQuNzY5LCAxNjAuODQ2LCAxNTYuOTIzLCAxNTMuMCwgMTQ3LjExNSwgMTQxLjIzMSwgMTM1LjM0NiwgMTI5LjQ2MixcbiAgICAgICAgICAgIDEyMy41NzcsIDExNy42OTIsIDExMS44MDgsIDEwNS45MjMsIDEwMC4wMzgsIDk0LjE1MzgsIDg4LjI2OTIsIDgyLjM4NDYsIDc2LjUsIDczLjA3NjksIDY5LjY1MzgsXG4gICAgICAgICAgICA2Ni4yMzA4LCA2Mi44MDc3LCA1OS4zODQ2LCA1NS45NjE1LCA1Mi41Mzg1LCA0OS4xMTU0LCA0NS42OTIzLCA0Mi4yNjkyLCAzOC44NDYyLCAzNS40MjMxLCAzMi4wLFxuICAgICAgICAgICAgMjkuNTM4NSwgMjcuMDc2OSwgMjQuNjE1NCwgMjIuMTUzOCwgMTkuNjkyMywgMTcuMjMwOCwgMTQuNzY5MiwgMTIuMzA3NywgOS44NDYxNSwgNy4zODQ2MixcbiAgICAgICAgICAgIDQuOTIzMDgsIDIuNDYxNTQsIDAuMCwgOS44MDc2OSwgMTkuNjE1NCwgMjkuNDIzMSwgMzkuMjMwOCwgNDkuMDM4NSwgNTguODQ2MiwgNjguNjUzOCwgNzguNDYxNSxcbiAgICAgICAgICAgIDg4LjI2OTIsIDk4LjA3NjksIDEwNy44ODUsIDExNy42OTIsIDEyNy41LCAxMzEuNDIzLCAxMzUuMzQ2LCAxMzkuMjY5LCAxNDMuMTkyLCAxNDcuMTE1LCAxNTEuMDM4LFxuICAgICAgICAgICAgMTU0Ljk2MiwgMTU4Ljg4NSwgMTYyLjgwOCwgMTY2LjczMSwgMTcwLjY1NCwgMTc0LjU3NywgMTc4LjUsIDE4MC40NjIsIDE4Mi40MjMsIDE4NC4zODUsIDE4Ni4zNDYsXG4gICAgICAgICAgICAxODguMzA4LCAxOTAuMjY5LCAxOTIuMjMxLCAxOTQuMTkyLCAxOTYuMTU0LCAxOTguMTE1LCAyMDAuMDc3LCAyMDIuMDM4LCAyMDQuMCwgMjA1Ljk2MiwgMjA3LjkyMyxcbiAgICAgICAgICAgIDIwOS44ODUsIDIxMS44NDYsIDIxMy44MDgsIDIxNS43NjksIDIxNy43MzEsIDIxOS42OTIsIDIyMS42NTQsIDIyMy42MTUsIDIyNS41NzcsIDIyNy41MzgsIDIyOS41LFxuICAgICAgICAgICAgMjMwLjQ4MSwgMjMxLjQ2MiwgMjMyLjQ0MiwgMjMzLjQyMywgMjM0LjQwNCwgMjM1LjM4NSwgMjM2LjM2NSwgMjM3LjM0NiwgMjM4LjMyNywgMjM5LjMwOCxcbiAgICAgICAgICAgIDI0MC4yODgsIDI0MS4yNjksIDI0Mi4yNSwgMjQyLjY0MiwgMjQzLjAzNSwgMjQzLjQyNywgMjQzLjgxOSwgMjQ0LjIxMiwgMjQ0LjYwNCwgMjQ0Ljk5NixcbiAgICAgICAgICAgIDI0NS4zODgsIDI0NS43ODEsIDI0Ni4xNzMsIDI0Ni41NjUsIDI0Ni45NTgsIDI0Ny4zNSwgMjQ3LjgxNCwgMjQ4LjI3NywgMjQ4Ljc0MSwgMjQ5LjIwNSxcbiAgICAgICAgICAgIDI0OS42NjgsIDI1MC4xMzIsIDI1MC41OTUsIDI1MS4wNTksIDI1MS41MjMsIDI1MS45ODYsIDI1Mi40NVxuICAgICAgICBdLFxuICAgICAgICBiOiBbXG4gICAgICAgICAgICAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCxcbiAgICAgICAgICAgIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLFxuICAgICAgICAgICAgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsXG4gICAgICAgICAgICAyNTUuMCwgMjU0LjYxNSwgMjU0LjIzMSwgMjUzLjg0NiwgMjUzLjQ2MiwgMjUzLjA3NywgMjUyLjY5MiwgMjUyLjMwOCwgMjUxLjkyMywgMjUxLjUzOCwgMjUxLjE1NCxcbiAgICAgICAgICAgIDI1MC43NjksIDI1MC4zODUsIDI1MC4wLCAyNDkuNjE1LCAyNDkuMjMxLCAyNDguODQ2LCAyNDguNDYyLCAyNDguMDc3LCAyNDcuNjkyLCAyNDcuMzA4LCAyNDYuOTIzLFxuICAgICAgICAgICAgMjQ2LjUzOCwgMjQ2LjE1NCwgMjQ1Ljc2OSwgMjQ1LjM4NSwgMjQ1LjAsIDI0Mi4wLCAyMzkuMCwgMjM2LjAsIDIzMy4wLCAyMzAuMCwgMjI3LjAsIDIyNC4wLFxuICAgICAgICAgICAgMjIxLjAsIDIxOC4wLCAyMTUuMCwgMjEyLjAsIDIxMi4wLCAyMDguNjM2LCAyMDUuMjczLCAyMDEuOTA5LCAxOTguNTQ1LCAxOTUuMTgyLCAxOTEuODE4LFxuICAgICAgICAgICAgMTg4LjQ1NSwgMTg1LjA5MSwgMTgxLjcyNywgMTc4LjM2NCwgMTc1LjAsIDE3MS41MzgsIDE2OC4wNzcsIDE2NC42MTUsIDE2MS4xNTQsIDE1Ny42OTIsIDE1NC4yMzEsXG4gICAgICAgICAgICAxNTAuNzY5LCAxNDcuMzA4LCAxNDMuODQ2LCAxNDAuMzg1LCAxMzYuOTIzLCAxMzMuNDYyLCAxMzAuMCwgMTIyLjk0MiwgMTE1Ljg4NSwgMTA4LjgyNywgMTAxLjc2OSxcbiAgICAgICAgICAgIDk0LjcxMTUsIDg3LjY1MzksIDgwLjU5NjIsIDczLjUzODUsIDY2LjQ4MDgsIDU5LjQyMzEsIDUyLjM2NTQsIDQ1LjMwNzcsIDM4LjI1LCAzNi4yODg1LCAzNC4zMjY5LFxuICAgICAgICAgICAgMzIuMzY1NCwgMzAuNDAzOCwgMjguNDQyMywgMjYuNDgwOCwgMjQuNTE5MiwgMjIuNTU3NywgMjAuNTk2MiwgMTguNjM0NiwgMTYuNjczMSwgMTQuNzExNSwgMTIuNzUsXG4gICAgICAgICAgICAxMS43NjkyLCAxMC43ODg1LCA5LjgwNzY5LCA4LjgyNjkyLCA3Ljg0NjE1LCA2Ljg2NTM5LCA1Ljg4NDYxLCA0LjkwMzg1LCAzLjkyMzA4LCAyLjk0MjMxLFxuICAgICAgICAgICAgMS45NjE1NCwgMC45ODA3NjksIDAuMCwgMi40NjE1NCwgNC45MjMwOCwgNy4zODQ2MiwgOS44NDYxNiwgMTIuMzA3NywgMTQuNzY5MiwgMTcuMjMwOCwgMTkuNjkyMyxcbiAgICAgICAgICAgIDIyLjE1MzgsIDI0LjYxNTQsIDI3LjA3NjksIDI5LjUzODUsIDMyLjAsIDMyLjAsIDMyLjAsIDMyLjAsIDMyLjAsIDMyLjAsIDMyLjAsIDMyLjAsIDMyLjAsIDMyLjAsXG4gICAgICAgICAgICAzMi4wLCAzMi4wLCAzMi4wLCAzMi4wLCA0MS4zMDc3LCA1MC42MTU0LCA1OS45MjMxLCA2OS4yMzA4LCA3OC41Mzg1LCA4Ny44NDYyLCA5Ny4xNTM5LCAxMDYuNDYyLFxuICAgICAgICAgICAgMTE1Ljc2OSwgMTI1LjA3NywgMTM0LjM4NSwgMTQzLjY5MiwgMTUzLjAsIDE1Ni45MjMsIDE2MC44NDYsIDE2NC43NjksIDE2OC42OTIsIDE3Mi42MTUsIDE3Ni41MzgsXG4gICAgICAgICAgICAxODAuNDYyLCAxODQuMzg1LCAxODguMzA4LCAxOTIuMjMxLCAxOTYuMTU0LCAyMDAuMDc3LCAyMDQuMCwgMjA1Ljk2MiwgMjA3LjkyMywgMjA5Ljg4NSwgMjExLjg0NixcbiAgICAgICAgICAgIDIxMy44MDgsIDIxNS43NjksIDIxNy43MzEsIDIxOS42OTIsIDIyMS42NTQsIDIyMy42MTUsIDIyNS41NzcsIDIyNy41MzgsIDIyOS41LCAyMzAuNDgxLCAyMzEuNDYyLFxuICAgICAgICAgICAgMjMyLjQ0MiwgMjMzLjQyMywgMjM0LjQwNCwgMjM1LjM4NSwgMjM2LjM2NSwgMjM3LjM0NiwgMjM4LjMyNywgMjM5LjMwOCwgMjQwLjI4OCwgMjQxLjI2OSxcbiAgICAgICAgICAgIDI0Mi4yNSwgMjQyLjgzOCwgMjQzLjQyNywgMjQ0LjAxNSwgMjQ0LjYwNCwgMjQ1LjE5MiwgMjQ1Ljc4MSwgMjQ2LjM2OSwgMjQ2Ljk1OCwgMjQ3LjU0NixcbiAgICAgICAgICAgIDI0OC4xMzUsIDI0OC43MjMsIDI0OS4zMTIsIDI0OS45LCAyNTAuMDk2LCAyNTAuMjkyLCAyNTAuNDg4LCAyNTAuNjg1LCAyNTAuODgxLCAyNTEuMDc3LCAyNTEuMjczLFxuICAgICAgICAgICAgMjUxLjQ2OSwgMjUxLjY2NSwgMjUxLjg2MiwgMjUyLjA1OCwgMjUyLjI1NCwgMjUyLjQ1LCAyNTIuNjgyLCAyNTIuOTE0LCAyNTMuMTQ1LCAyNTMuMzc3LFxuICAgICAgICAgICAgMjUzLjYwOSwgMjUzLjg0MSwgMjU0LjA3MywgMjU0LjMwNSwgMjU0LjUzNiwgMjU0Ljc2OCwgMjU1LjBcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIGNtYjoge1xuICAgICAgICBuYW1lOiAnY21iJyxcbiAgICAgICAgcjogW1xuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCA2LCAxMiwgMTgsIDI0LCAzMCwgMzYsIDQyLCA0OCxcbiAgICAgICAgICAgIDU0LCA2MCwgNjYsIDcyLCA3OCwgODUsIDkxLCA5NywgMTAzLCAxMDksIDExNSwgMTIxLCAxMjcsIDEzMywgMTM5LCAxNDUsIDE1MSwgMTU3LCAxNjMsIDE3MCwgMTc2LFxuICAgICAgICAgICAgMTgyLCAxODgsIDE5NCwgMjAwLCAyMDYsIDIxMiwgMjE4LCAyMjQsIDIzMCwgMjM2LCAyNDIsIDI0OCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1MSwgMjQ3LCAyNDQsIDI0MCwgMjM2LCAyMzMsIDIyOSwgMjI2LCAyMjIsIDIxOCwgMjE1LCAyMTEsIDIwOCwgMjA0LCAyMDAsIDE5NyxcbiAgICAgICAgICAgIDE5MywgMTkwLCAxODYsIDE4MiwgMTc5LCAxNzUsIDE3MiwgMTY4LCAxNjQsIDE2MSwgMTU3LCAxNTQsIDE1MCwgMTQ2LCAxNDMsIDEzOSwgMTM2LCAxMzIsIDEyOCxcbiAgICAgICAgICAgIDEyNSwgMTIxLCAxMTgsIDExNCwgMTEwLCAxMDcsIDEwMywgMTAwXG4gICAgICAgIF0sXG4gICAgICAgIGc6IFtcbiAgICAgICAgICAgIDAsIDIsIDUsIDgsIDEwLCAxMywgMTYsIDE4LCAyMSwgMjQsIDI2LCAyOSwgMzIsIDM0LCAzNywgNDAsIDQyLCA0NSwgNDgsIDUwLCA1MywgNTYsIDU4LCA2MSwgNjQsXG4gICAgICAgICAgICA2NiwgNjksIDcyLCA3NCwgNzcsIDgwLCA4MiwgODUsIDg4LCA5MCwgOTMsIDk2LCA5OCwgMTAxLCAxMDQsIDEwNiwgMTA5LCAxMTIsIDExNCwgMTE3LCAxMTksIDEyMixcbiAgICAgICAgICAgIDEyNCwgMTI3LCAxMjksIDEzMiwgMTM0LCAxMzcsIDEzOSwgMTQyLCAxNDQsIDE0NywgMTUwLCAxNTIsIDE1NSwgMTU3LCAxNjAsIDE2MiwgMTY1LCAxNjcsIDE3MCxcbiAgICAgICAgICAgIDE3MiwgMTc1LCAxNzcsIDE4MCwgMTgyLCAxODUsIDE4OCwgMTkwLCAxOTMsIDE5NSwgMTk4LCAyMDAsIDIwMywgMjA1LCAyMDgsIDIxMCwgMjEzLCAyMTUsIDIxOCxcbiAgICAgICAgICAgIDIyMSwgMjIxLCAyMjEsIDIyMiwgMjIyLCAyMjIsIDIyMywgMjIzLCAyMjQsIDIyNCwgMjI0LCAyMjUsIDIyNSwgMjI1LCAyMjYsIDIyNiwgMjI3LCAyMjcsIDIyNyxcbiAgICAgICAgICAgIDIyOCwgMjI4LCAyMjksIDIyOSwgMjI5LCAyMzAsIDIzMCwgMjMwLCAyMzEsIDIzMSwgMjMyLCAyMzIsIDIzMiwgMjMzLCAyMzMsIDIzMywgMjM0LCAyMzQsIDIzNSxcbiAgICAgICAgICAgIDIzNSwgMjM1LCAyMzYsIDIzNiwgMjM3LCAyMzUsIDIzNCwgMjMzLCAyMzEsIDIzMCwgMjI5LCAyMjcsIDIyNiwgMjI1LCAyMjMsIDIyMiwgMjIxLCAyMTksIDIxOCxcbiAgICAgICAgICAgIDIxNywgMjE1LCAyMTQsIDIxMywgMjExLCAyMTAsIDIwOSwgMjA3LCAyMDYsIDIwNSwgMjAzLCAyMDIsIDIwMSwgMTk5LCAxOTgsIDE5NywgMTk1LCAxOTQsIDE5MyxcbiAgICAgICAgICAgIDE5MSwgMTkwLCAxODksIDE4NywgMTg2LCAxODUsIDE4MywgMTgyLCAxODEsIDE4MCwgMTc3LCAxNzUsIDE3MiwgMTcwLCAxNjcsIDE2NSwgMTYyLCAxNjAsIDE1NyxcbiAgICAgICAgICAgIDE1NSwgMTUyLCAxNTAsIDE0NywgMTQ1LCAxNDIsIDE0MCwgMTM3LCAxMzUsIDEzMiwgMTMwLCAxMjcsIDEyNSwgMTIyLCAxMjAsIDExNywgMTE1LCAxMTIsIDExMCxcbiAgICAgICAgICAgIDEwNywgMTA1LCAxMDIsIDEwMCwgOTcsIDk1LCA5MiwgOTAsIDg3LCA4NSwgODIsIDgwLCA3NywgNzUsIDczLCA3MSwgNjksIDY4LCA2NiwgNjQsIDYyLCA2MSwgNTksXG4gICAgICAgICAgICA1NywgNTUsIDU0LCA1MiwgNTAsIDQ4LCA0NywgNDUsIDQzLCA0MSwgNDAsIDM4LCAzNiwgMzQsIDMzLCAzMSwgMjksIDI3LCAyNiwgMjQsIDIyLCAyMCwgMTksIDE3LFxuICAgICAgICAgICAgMTUsIDEzLCAxMiwgMTAsIDgsIDYsIDUsIDMsIDEsIDBcbiAgICAgICAgXSxcbiAgICAgICAgYjogW1xuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTQsIDI1MywgMjUyLCAyNTEsIDI1MCwgMjQ5LCAyNDgsIDI0NywgMjQ2LFxuICAgICAgICAgICAgMjQ1LCAyNDUsIDI0NCwgMjQzLCAyNDIsIDI0MSwgMjQwLCAyMzksIDIzOCwgMjM3LCAyMzYsIDIzNiwgMjM1LCAyMzQsIDIzMywgMjMyLCAyMzEsIDIzMCwgMjI5LFxuICAgICAgICAgICAgMjI4LCAyMjcsIDIyNiwgMjI2LCAyMjUsIDIyNCwgMjIzLCAyMjIsIDIyMSwgMjIwLCAyMTksIDIxOCwgMjE3LCAyMTcsIDIxMSwgMjA2LCAyMDEsIDE5NiwgMTkxLFxuICAgICAgICAgICAgMTg2LCAxODEsIDE3NiwgMTcxLCAxNjYsIDE2MSwgMTU2LCAxNTEsIDE0NiwgMTQxLCAxMzYsIDEzMSwgMTI2LCAxMjEsIDExNiwgMTExLCAxMDUsIDEwMCwgOTUsXG4gICAgICAgICAgICA5MCwgODUsIDgwLCA3NSwgNzAsIDY1LCA2MCwgNTUsIDUwLCA0NSwgNDAsIDM1LCAzMCwgMjUsIDIwLCAxNSwgMTAsIDUsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHJhaW5ib3c6IHtcbiAgICAgICAgbmFtZTogJ3JhaW5ib3cnLFxuICAgICAgICByOiBbXG4gICAgICAgICAgICAwLCA0LCA5LCAxMywgMTgsIDIyLCAyNywgMzEsIDM2LCA0MCwgNDUsIDUwLCA1NCwgNTgsIDYxLCA2NCwgNjgsIDY5LCA3MiwgNzQsIDc3LCA3OSwgODAsIDgyLCA4MyxcbiAgICAgICAgICAgIDg1LCA4NCwgODYsIDg3LCA4OCwgODYsIDg3LCA4NywgODcsIDg1LCA4NCwgODQsIDg0LCA4MywgNzksIDc4LCA3NywgNzYsIDcxLCA3MCwgNjgsIDY2LCA2MCwgNTgsXG4gICAgICAgICAgICA1NSwgNTMsIDQ2LCA0MywgNDAsIDM2LCAzMywgMjUsIDIxLCAxNiwgMTIsIDQsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDQsIDgsIDEyLCAyMSwgMjUsIDI5LCAzMywgNDIsIDQ2LCA1MSwgNTUsXG4gICAgICAgICAgICA2MywgNjcsIDcyLCA3NiwgODAsIDg5LCA5MywgOTcsIDEwMSwgMTEwLCAxMTQsIDExOSwgMTIzLCAxMzEsIDEzNSwgMTQwLCAxNDQsIDE1MywgMTU3LCAxNjEsIDE2NSxcbiAgICAgICAgICAgIDE2OSwgMTc4LCAxODIsIDE4NywgMTkxLCAxOTksIDIwMywgMjA4LCAyMTIsIDIyMSwgMjI1LCAyMjksIDIzMywgMjQyLCAyNDYsIDI1MCwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XG4gICAgICAgIF0sXG4gICAgICAgIGc6IFtcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCA0LCA4LFxuICAgICAgICAgICAgMTYsIDIxLCAyNSwgMjksIDM4LCA0MiwgNDYsIDUxLCA1NSwgNjMsIDY3LCA3MiwgNzYsIDg0LCA4OSwgOTMsIDk3LCAxMDYsIDExMCwgMTE0LCAxMTksIDEyNyxcbiAgICAgICAgICAgIDEzMSwgMTM1LCAxNDAsIDE0NCwgMTUyLCAxNTcsIDE2MSwgMTY1LCAxNzQsIDE3OCwgMTgyLCAxODcsIDE5NSwgMTk5LCAyMDMsIDIwOCwgMjE2LCAyMjAsIDIyNSxcbiAgICAgICAgICAgIDIyOSwgMjMzLCAyNDIsIDI0NiwgMjUwLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSxcbiAgICAgICAgICAgIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTAsIDI0MiwgMjM4LCAyMzMsIDIyOSwgMjIxLCAyMTYsIDIxMiwgMjA4LCAxOTksIDE5NSxcbiAgICAgICAgICAgIDE5MSwgMTg3LCAxNzgsIDE3NCwgMTcwLCAxNjUsIDE2MSwgMTUzLCAxNDgsIDE0NCwgMTQwLCAxMzEsIDEyNywgMTIzLCAxMTksIDExMCwgMTA2LCAxMDIsIDk3LFxuICAgICAgICAgICAgODksIDg1LCA4MCwgNzYsIDcyLCA2MywgNTksIDU1LCA1MSwgNDIsIDM4LCAzNCwgMjksIDIxLCAxNywgMTIsIDgsIDBcbiAgICAgICAgXSxcbiAgICAgICAgYjogW1xuICAgICAgICAgICAgMCwgMywgNywgMTAsIDE0LCAxOSwgMjMsIDI4LCAzMiwgMzgsIDQzLCA0OCwgNTMsIDU5LCA2MywgNjgsIDcyLCA3NywgODEsIDg2LCA5MSwgOTUsIDEwMCwgMTA0LFxuICAgICAgICAgICAgMTA5LCAxMTMsIDExOCwgMTIyLCAxMjcsIDEzMiwgMTM2LCAxNDEsIDE0NSwgMTUwLCAxNTQsIDE1OSwgMTYzLCAxNjgsIDE3MywgMTc3LCAxODIsIDE4NiwgMTkxLFxuICAgICAgICAgICAgMTk1LCAyMDAsIDIwNCwgMjA5LCAyMTQsIDIxOCwgMjIzLCAyMjcsIDIzMiwgMjM2LCAyNDEsIDI0NSwgMjUwLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LFxuICAgICAgICAgICAgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI0NiwgMjQyLCAyMzgsIDIzMywgMjI1LCAyMjAsIDIxNiwgMjEyLFxuICAgICAgICAgICAgMjAzLCAxOTksIDE5NSwgMTkxLCAxODcsIDE3OCwgMTc0LCAxNzAsIDE2NSwgMTU3LCAxNTIsIDE0OCwgMTQ0LCAxMzUsIDEzMSwgMTI3LCAxMjMsIDExNCwgMTEwLFxuICAgICAgICAgICAgMTA2LCAxMDIsIDk3LCA4OSwgODQsIDgwLCA3NiwgNjcsIDYzLCA1OSwgNTUsIDQ2LCA0MiwgMzgsIDM0LCAyNSwgMjEsIDE2LCAxMiwgOCwgMCwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMFxuICAgICAgICBdLFxuICAgIH0sXG4gICAgZW9zYjoge1xuICAgICAgICBuYW1lOiAnZW9zYicsXG4gICAgICAgIHI6IFtcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgOSwgMTgsIDI3LCAzNiwgNDUsIDQ5LCA1NywgNzIsIDgxLCA5MSwgMTAwLCAxMDksIDExOCwgMTI3LCAxMzYsIDEzMSwgMTM5LCAxNjMsIDE3MywgMTgyLCAxOTEsXG4gICAgICAgICAgICAyMDAsIDIwOSwgMjE4LCAyMjcsIDIxMywgMjIxLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjI5LCAyMjksIDI1NSwgMjU1LCAyNTUsXG4gICAgICAgICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjI5LCAyMjksIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyMjksIDIyOSwgMjU1LCAyNTUsXG4gICAgICAgICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyMjksIDIyOSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDIyOSwgMjI5LCAyNTUsXG4gICAgICAgICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDIyOSwgMjI5LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjI5LCAyMjksXG4gICAgICAgICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjI5LCAyMjksIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyMjksXG4gICAgICAgICAgICAyMjksIDI1NSwgMjUzLCAyNTEsIDI0OSwgMjQ3LCAyNDUsIDI0MywgMjQxLCAyMTUsIDIxNCwgMjM1LCAyMzQsIDIzMiwgMjMwLCAyMjgsIDIyNiwgMjI0LCAyMjIsXG4gICAgICAgICAgICAxOTgsIDE5NiwgMjE2LCAyMTUsIDIxMywgMjExLCAyMDksIDIwNywgMjA1LCAyMDMsIDE4MSwgMTc5LCAxOTcsIDE5NiwgMTk0LCAxOTIsIDE5MCwgMTg4LCAxODYsXG4gICAgICAgICAgICAxODQsIDE2NCwgMTYyLCAxNzgsIDE3NiwgMTc1LCAxNzMsIDE3MSwgMTY5LCAxNjcsIDE2NSwgMTQ3LCAxNDUsIDE1OSwgMTU3LCAxNTYsIDE1NCwgMTUyLCAxNTAsXG4gICAgICAgICAgICAxNDgsIDE0NiwgMTMwLCAxMjgsIDE0MCwgMTM4LCAxMzcsIDEzNSwgMTMzLCAxMzEsIDEyOSwgMTI3LCAxMTMsIDExMSwgMTIxLCAxMTksIDExNywgMTE3XG4gICAgICAgIF0sXG4gICAgICAgIGc6IFtcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCA3LCAxNSwgMjMsIDMxLCAzOSwgNDcsIDU1LCA1NywgNjQsIDc5LCA4NywgOTUsIDEwMywgMTExLCAxMTksIDEyNywgMTM1LCAxMjksIDEzNiwgMTU5LCAxNjcsXG4gICAgICAgICAgICAxNzUsIDE4MywgMTkxLCAxOTksIDIwNywgMjE1LCAyMDAsIDIwNywgMjM5LCAyNDcsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDIyOSwgMjI5LCAyNTUsXG4gICAgICAgICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDIyOSwgMjI5LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjI5LCAyMjksXG4gICAgICAgICAgICAyNTUsIDI1MCwgMjQ2LCAyNDIsIDIzOCwgMjMzLCAyMjksIDIyNSwgMTk4LCAxOTUsIDIxMiwgMjA4LCAyMDQsIDE5OSwgMTk1LCAxOTEsIDE4NywgMTgyLCAxNjAsXG4gICAgICAgICAgICAxNTYsIDE2OSwgMTY1LCAxNjEsIDE1NywgMTUzLCAxNDgsIDE0NCwgMTQwLCAxMjIsIDExOCwgMTI3LCAxMjUsIDEyMywgMTIxLCAxMTksIDExNiwgMTE0LCAxMTIsXG4gICAgICAgICAgICA5OSwgOTcsIDEwNiwgMTA0LCAxMDIsIDk5LCA5NywgOTUsIDkzLCA5MSwgODAsIDc4LCA4NCwgODIsIDgwLCA3OCwgNzYsIDc0LCA3MiwgNzAsIDYxLCA1OSwgNjMsXG4gICAgICAgICAgICA2MSwgNTksIDU3LCA1NSwgNTMsIDUwLCA0OCwgNDIsIDQwLCA0MiwgNDAsIDM4LCAzNiwgMzMsIDMxLCAyOSwgMjcsIDIyLCAyMSwgMjEsIDE5LCAxNiwgMTQsIDEyLFxuICAgICAgICAgICAgMTMsIDgsIDYsIDMsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMFxuICAgICAgICBdLFxuICAgICAgICBiOiBbXG4gICAgICAgICAgICAxMTYsIDEyMSwgMTI3LCAxMzEsIDEzNiwgMTQwLCAxNDQsIDE0OCwgMTUzLCAxNTcsIDE0NSwgMTQ5LCAxNzAsIDE3NCwgMTc4LCAxODIsIDE4NywgMTkxLCAxOTUsXG4gICAgICAgICAgICAxOTksIDE4MywgMTg3LCAyMTIsIDIxNiwgMjIxLCAyMjUsIDIyOSwgMjMzLCAyMzgsIDI0MiwgMjIxLCAyMjUsIDI1NSwgMjQ3LCAyMzksIDIzMSwgMjIzLCAyMTUsXG4gICAgICAgICAgICAyMDcsIDE5OSwgMTcyLCAxNjQsIDE3NSwgMTY3LCAxNTksIDE1MSwgMTQzLCAxMzUsIDEyNywgMTE5LCAxMDAsIDkzLCA5NSwgODcsIDc5LCA3MSwgNjMsIDU1LCA0NyxcbiAgICAgICAgICAgIDM5LCAyOCwgMjEsIDE1LCA3LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMFxuICAgICAgICBdLFxuICAgIH0sXG4gICAgY3ViZWhlbGl4OiB7XG4gICAgICAgIG5hbWU6ICdjdWJlaGVsaXgnLFxuICAgICAgICByOiBbXG4gICAgICAgICAgICAwLCAxLCAzLCA0LCA2LCA4LCA5LCAxMCwgMTIsIDEzLCAxNCwgMTUsIDE3LCAxOCwgMTksIDIwLCAyMCwgMjEsIDIyLCAyMywgMjMsIDI0LCAyNCwgMjUsIDI1LCAyNSxcbiAgICAgICAgICAgIDI2LCAyNiwgMjYsIDI2LCAyNiwgMjYsIDI2LCAyNiwgMjYsIDI2LCAyNiwgMjUsIDI1LCAyNSwgMjUsIDI0LCAyNCwgMjQsIDIzLCAyMywgMjMsIDIzLCAyMiwgMjIsXG4gICAgICAgICAgICAyMiwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjAsIDIwLCAyMCwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMiwgMjIsIDIyLCAyMywgMjMsIDI0LCAyNSwgMjYsIDI3LFxuICAgICAgICAgICAgMjcsIDI4LCAzMCwgMzEsIDMyLCAzMywgMzUsIDM2LCAzOCwgMzksIDQxLCA0MywgNDUsIDQ3LCA0OSwgNTEsIDUzLCA1NSwgNTcsIDYwLCA2MiwgNjUsIDY3LCA3MCxcbiAgICAgICAgICAgIDcyLCA3NSwgNzgsIDgxLCA4MywgODYsIDg5LCA5MiwgOTUsIDk4LCAxMDEsIDEwNCwgMTA3LCAxMTAsIDExMywgMTE2LCAxMjAsIDEyMywgMTI2LCAxMjksIDEzMixcbiAgICAgICAgICAgIDEzNSwgMTM4LCAxNDEsIDE0NCwgMTQ3LCAxNTAsIDE1MywgMTU1LCAxNTgsIDE2MSwgMTY0LCAxNjYsIDE2OSwgMTcxLCAxNzQsIDE3NiwgMTc4LCAxODEsIDE4MyxcbiAgICAgICAgICAgIDE4NSwgMTg3LCAxODksIDE5MSwgMTkzLCAxOTQsIDE5NiwgMTk4LCAxOTksIDIwMSwgMjAyLCAyMDMsIDIwNCwgMjA1LCAyMDYsIDIwNywgMjA4LCAyMDksIDIwOSxcbiAgICAgICAgICAgIDIxMCwgMjExLCAyMTEsIDIxMSwgMjEyLCAyMTIsIDIxMiwgMjEyLCAyMTIsIDIxMiwgMjEyLCAyMTIsIDIxMSwgMjExLCAyMTEsIDIxMCwgMjEwLCAyMTAsIDIwOSxcbiAgICAgICAgICAgIDIwOCwgMjA4LCAyMDcsIDIwNywgMjA2LCAyMDUsIDIwNSwgMjA0LCAyMDMsIDIwMywgMjAyLCAyMDEsIDIwMSwgMjAwLCAxOTksIDE5OSwgMTk4LCAxOTcsIDE5NyxcbiAgICAgICAgICAgIDE5NiwgMTk2LCAxOTUsIDE5NSwgMTk0LCAxOTQsIDE5NCwgMTkzLCAxOTMsIDE5MywgMTkzLCAxOTMsIDE5MywgMTkzLCAxOTMsIDE5MywgMTkzLCAxOTQsIDE5NCxcbiAgICAgICAgICAgIDE5NSwgMTk1LCAxOTYsIDE5NiwgMTk3LCAxOTgsIDE5OSwgMjAwLCAyMDAsIDIwMiwgMjAzLCAyMDQsIDIwNSwgMjA2LCAyMDgsIDIwOSwgMjEwLCAyMTIsIDIxMyxcbiAgICAgICAgICAgIDIxNSwgMjE3LCAyMTgsIDIyMCwgMjIyLCAyMjMsIDIyNSwgMjI3LCAyMjksIDIzMSwgMjMyLCAyMzQsIDIzNiwgMjM4LCAyNDAsIDI0MiwgMjQ0LCAyNDUsIDI0NyxcbiAgICAgICAgICAgIDI0OSwgMjUxLCAyNTMsIDI1NVxuICAgICAgICBdLFxuICAgICAgICBnOiBbXG4gICAgICAgICAgICAwLCAwLCAxLCAxLCAyLCAyLCAzLCA0LCA0LCA1LCA2LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMixcbiAgICAgICAgICAgIDI0LCAyNSwgMjYsIDI4LCAyOSwgMzEsIDMyLCAzNCwgMzUsIDM3LCAzOCwgNDAsIDQxLCA0MywgNDUsIDQ2LCA0OCwgNTAsIDUyLCA1MywgNTUsIDU3LCA1OCwgNjAsXG4gICAgICAgICAgICA2MiwgNjQsIDY2LCA2NywgNjksIDcxLCA3MywgNzQsIDc2LCA3OCwgNzksIDgxLCA4MywgODQsIDg2LCA4OCwgODksIDkxLCA5MiwgOTQsIDk1LCA5NywgOTgsIDk5LFxuICAgICAgICAgICAgMTAxLCAxMDIsIDEwMywgMTA0LCAxMDYsIDEwNywgMTA4LCAxMDksIDExMCwgMTExLCAxMTIsIDExMywgMTE0LCAxMTQsIDExNSwgMTE2LCAxMTYsIDExNywgMTE4LFxuICAgICAgICAgICAgMTE4LCAxMTksIDExOSwgMTIwLCAxMjAsIDEyMCwgMTIxLCAxMjEsIDEyMSwgMTIxLCAxMjIsIDEyMiwgMTIyLCAxMjIsIDEyMiwgMTIyLCAxMjIsIDEyMiwgMTIyLFxuICAgICAgICAgICAgMTIyLCAxMjIsIDEyMiwgMTIyLCAxMjIsIDEyMiwgMTIxLCAxMjEsIDEyMSwgMTIxLCAxMjEsIDEyMSwgMTIxLCAxMjEsIDEyMSwgMTIwLCAxMjAsIDEyMCwgMTIwLFxuICAgICAgICAgICAgMTIwLCAxMjAsIDEyMCwgMTIwLCAxMjAsIDEyMCwgMTIxLCAxMjEsIDEyMSwgMTIxLCAxMjEsIDEyMiwgMTIyLCAxMjIsIDEyMywgMTIzLCAxMjQsIDEyNCwgMTI1LFxuICAgICAgICAgICAgMTI1LCAxMjYsIDEyNywgMTI3LCAxMjgsIDEyOSwgMTMwLCAxMzEsIDEzMSwgMTMyLCAxMzMsIDEzNSwgMTM2LCAxMzcsIDEzOCwgMTM5LCAxNDAsIDE0MiwgMTQzLFxuICAgICAgICAgICAgMTQ0LCAxNDYsIDE0NywgMTQ5LCAxNTAsIDE1MiwgMTU0LCAxNTUsIDE1NywgMTU4LCAxNjAsIDE2MiwgMTY0LCAxNjUsIDE2NywgMTY5LCAxNzEsIDE3MiwgMTc0LFxuICAgICAgICAgICAgMTc2LCAxNzgsIDE4MCwgMTgyLCAxODMsIDE4NSwgMTg3LCAxODksIDE5MSwgMTkzLCAxOTQsIDE5NiwgMTk4LCAyMDAsIDIwMiwgMjAzLCAyMDUsIDIwNywgMjA4LFxuICAgICAgICAgICAgMjEwLCAyMTIsIDIxMywgMjE1LCAyMTYsIDIxOCwgMjE5LCAyMjEsIDIyMiwgMjI0LCAyMjUsIDIyNiwgMjI4LCAyMjksIDIzMCwgMjMxLCAyMzIsIDIzMywgMjM1LFxuICAgICAgICAgICAgMjM2LCAyMzcsIDIzOCwgMjM5LCAyNDAsIDI0MCwgMjQxLCAyNDIsIDI0MywgMjQ0LCAyNDQsIDI0NSwgMjQ2LCAyNDcsIDI0NywgMjQ4LCAyNDgsIDI0OSwgMjUwLFxuICAgICAgICAgICAgMjUwLCAyNTEsIDI1MSwgMjUyLCAyNTIsIDI1MywgMjUzLCAyNTQsIDI1NVxuICAgICAgICBdLFxuICAgICAgICBiOiBbXG4gICAgICAgICAgICAwLCAxLCAzLCA0LCA2LCA4LCA5LCAxMSwgMTMsIDE1LCAxNywgMTksIDIxLCAyMywgMjUsIDI3LCAyOSwgMzEsIDMzLCAzNSwgMzcsIDM5LCA0MSwgNDMsIDQ1LCA0NyxcbiAgICAgICAgICAgIDQ4LCA1MCwgNTIsIDU0LCA1NiwgNTcsIDU5LCA2MCwgNjIsIDYzLCA2NSwgNjYsIDY3LCA2OSwgNzAsIDcxLCA3MiwgNzMsIDc0LCA3NCwgNzUsIDc2LCA3NiwgNzcsXG4gICAgICAgICAgICA3NywgNzcsIDc4LCA3OCwgNzgsIDc4LCA3OCwgNzgsIDc4LCA3NywgNzcsIDc3LCA3NiwgNzYsIDc1LCA3NSwgNzQsIDczLCA3MywgNzIsIDcxLCA3MCwgNjksIDY4LFxuICAgICAgICAgICAgNjcsIDY2LCA2NiwgNjUsIDY0LCA2MywgNjEsIDYwLCA1OSwgNTgsIDU4LCA1NywgNTYsIDU1LCA1NCwgNTMsIDUyLCA1MSwgNTEsIDUwLCA0OSwgNDksIDQ4LCA0OCxcbiAgICAgICAgICAgIDQ3LCA0NywgNDcsIDQ2LCA0NiwgNDYsIDQ2LCA0NiwgNDcsIDQ3LCA0NywgNDgsIDQ4LCA0OSwgNTAsIDUwLCA1MSwgNTIsIDUzLCA1NSwgNTYsIDU3LCA1OSwgNjAsXG4gICAgICAgICAgICA2MiwgNjQsIDY1LCA2NywgNjksIDcxLCA3NCwgNzYsIDc4LCA4MSwgODMsIDg2LCA4OCwgOTEsIDk0LCA5NiwgOTksIDEwMiwgMTA1LCAxMDgsIDExMSwgMTE0LFxuICAgICAgICAgICAgMTE3LCAxMjAsIDEyNCwgMTI3LCAxMzAsIDEzMywgMTM2LCAxNDAsIDE0MywgMTQ2LCAxNDksIDE1MywgMTU2LCAxNTksIDE2MiwgMTY1LCAxNjksIDE3MiwgMTc1LFxuICAgICAgICAgICAgMTc4LCAxODEsIDE4NCwgMTg2LCAxODksIDE5MiwgMTk1LCAxOTcsIDIwMCwgMjAzLCAyMDUsIDIwNywgMjEwLCAyMTIsIDIxNCwgMjE2LCAyMTgsIDIyMCwgMjIyLFxuICAgICAgICAgICAgMjI0LCAyMjYsIDIyNywgMjI5LCAyMzAsIDIzMSwgMjMzLCAyMzQsIDIzNSwgMjM2LCAyMzcsIDIzOCwgMjM5LCAyMzksIDI0MCwgMjQxLCAyNDEsIDI0MiwgMjQyLFxuICAgICAgICAgICAgMjQyLCAyNDMsIDI0MywgMjQzLCAyNDMsIDI0MywgMjQzLCAyNDMsIDI0MywgMjQzLCAyNDMsIDI0MiwgMjQyLCAyNDIsIDI0MiwgMjQxLCAyNDEsIDI0MSwgMjQxLFxuICAgICAgICAgICAgMjQwLCAyNDAsIDI0MCwgMjM5LCAyMzksIDIzOSwgMjM5LCAyMzksIDIzOCwgMjM4LCAyMzgsIDIzOCwgMjM4LCAyMzgsIDIzOCwgMjM4LCAyMzksIDIzOSwgMjM5LFxuICAgICAgICAgICAgMjQwLCAyNDAsIDI0MCwgMjQxLCAyNDIsIDI0MiwgMjQzLCAyNDQsIDI0NSwgMjQ2LCAyNDcsIDI0OCwgMjQ5LCAyNTAsIDI1MiwgMjUzLCAyNTVcbiAgICAgICAgXVxuICAgIH0sXG4gICAgaG90OiB7XG4gICAgICAgIG5hbWU6ICdob3QnLFxuICAgICAgICByOiBbXG4gICAgICAgICAgICAwLjAsIDQuMCwgOC4wLCAxMi4wLCAxNi4wLCAyMC4wLCAyNC4wLCAyOC4wLCAzMi4wLCAzNi4wLCA0MC4wLCA0NC4wLCA0OC4wLCA1Mi4wLCA1Ni4wLCA2MC4wLFxuICAgICAgICAgICAgNjQuMCwgNjguMCwgNzIuMCwgNzYuMCwgODAuMCwgODQuMCwgODguMCwgOTIuMCwgOTYuMCwgMTAwLjAsIDEwNC4wLCAxMDguMCwgMTEyLjAsIDExNi4wLFxuICAgICAgICAgICAgMTIwLjAsIDEyNC4wLCAxMjguMCwgMTMyLjAsIDEzNi4wLCAxNDAuMCwgMTQ0LjAsIDE0OC4wLCAxNTIuMCwgMTU2LjAsIDE2MC4wLCAxNjQuMCwgMTY4LjAsXG4gICAgICAgICAgICAxNzIuMCwgMTc2LjAsIDE4MC4wLCAxODQuMCwgMTg4LjAsIDE5Mi4wLCAxOTYuMCwgMjAwLjAsIDIwNC4wLCAyMDguMCwgMjEyLjAsIDIxNi4wLCAyMjAuMCxcbiAgICAgICAgICAgIDIyNC4wLCAyMjguMCwgMjMyLjAsIDIzNi4wLCAyNDAuMCwgMjQ0LjAsIDI0OC4wLCAyNTIuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLFxuICAgICAgICAgICAgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsXG4gICAgICAgICAgICAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCxcbiAgICAgICAgICAgIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLFxuICAgICAgICAgICAgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsXG4gICAgICAgICAgICAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCxcbiAgICAgICAgICAgIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLFxuICAgICAgICAgICAgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjBcbiAgICAgICAgXSxcbiAgICAgICAgZzogW1xuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAyLjMwNzY5LFxuICAgICAgICAgICAgNC42MTUzOCwgNi45MjMwOCwgOS4yMzA3NywgMTEuNTM4NSwgMTMuODQ2MiwgMTYuMTUzOCwgMTguNDYxNSwgMjAuNzY5MiwgMjMuMDc2OSwgMjUuMzg0NiwgMjcuNjkyMyxcbiAgICAgICAgICAgIDMwLjAsIDMyLjMwNzcsIDM0LjYxNTQsIDM2LjkyMzEsIDM5LjIzMDgsIDQxLjUzODUsIDQzLjg0NjIsIDQ2LjE1MzgsIDQ4LjQ2MTUsIDUwLjc2OTIsIDUzLjA3NjksXG4gICAgICAgICAgICA1NS4zODQ2LCA1Ny42OTIzLCA2MC4wLCA2Mi4zMDc3LCA2NC42MTU0LCA2Ni45MjMxLCA2OS4yMzA4LCA3MS41Mzg1LCA3My44NDYyLCA3Ni4xNTM4LCA3OC40NjE1LFxuICAgICAgICAgICAgODAuNzY5MiwgODMuMDc2OSwgODUuMzg0NiwgODcuNjkyMywgOTAuMCwgOTIuMzA3NywgOTQuNjE1NCwgOTYuOTIzMSwgOTkuMjMwOCwgMTAxLjUzOCwgMTAzLjg0NiwgMTA2LjE1NCxcbiAgICAgICAgICAgIDEwOC40NjIsIDExMC43NjksIDExMy4wNzcsIDExNS4zODUsIDExNy42OTIsIDEyMC4wLCAxMjIuMzA4LCAxMjQuNjE1LCAxMjYuOTIzLCAxMjkuMjMxLCAxMzEuNTM4LFxuICAgICAgICAgICAgMTMzLjg0NiwgMTM2LjE1NCwgMTM4LjQ2MiwgMTQwLjc2OSwgMTQzLjA3NywgMTQ1LjM4NSwgMTQ3LjY5MiwgMTUwLjAsIDE1Mi4zMDgsIDE1NC42MTUsIDE1Ni45MjMsXG4gICAgICAgICAgICAxNTkuMjMxLCAxNjEuNTM4LCAxNjMuODQ2LCAxNjYuMTU0LCAxNjguNDYyLCAxNzAuNzY5LCAxNzMuMDc3LCAxNzUuMzg1LCAxNzcuNjkyLCAxODAuMCwgMTgyLjMwOCxcbiAgICAgICAgICAgIDE4NC42MTUsIDE4Ni45MjMsIDE4OS4yMzEsIDE5MS41MzgsIDE5My44NDYsIDE5Ni4xNTQsIDE5OC40NjIsIDIwMC43NjksIDIwMy4wNzcsIDIwNS4zODUsXG4gICAgICAgICAgICAyMDcuNjkyLCAyMTAuMCwgMjEyLjMwOCwgMjE0LjYxNSwgMjE2LjkyMywgMjE5LjIzMSwgMjIxLjUzOCwgMjIzLjg0NiwgMjI2LjE1NCwgMjI4LjQ2MiwgMjMwLjc2OSxcbiAgICAgICAgICAgIDIzMy4wNzcsIDIzNS4zODUsIDIzNy42OTIsIDI0MC4wLCAyNDIuMzA4LCAyNDQuNjE1LCAyNDYuOTIzLCAyNDkuMjMxLCAyNTEuNTM4LCAyNTMuODQ2LCAyNTUuMCxcbiAgICAgICAgICAgIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjBcbiAgICAgICAgXSxcbiAgICAgICAgYjogW1xuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjk4MDc2OSxcbiAgICAgICAgICAgIDEuOTYxNTQsIDIuOTQyMzEsIDMuOTIzMDgsIDQuOTAzODUsIDUuODg0NjEsIDYuODY1MzksIDcuODQ2MTUsIDguODI2OTIsIDkuODA3NjksIDEwLjc4ODUsIDExLjc2OTIsIDEyLjc1LFxuICAgICAgICAgICAgMTMuNzMwOCwgMTQuNzExNSwgMTUuNjkyMywgMTYuNjczMSwgMTcuNjUzOCwgMTguNjM0NiwgMTkuNjE1NCwgMjAuNTk2MiwgMjEuNTc2OSwgMjIuNTU3NywgMjMuNTM4NSxcbiAgICAgICAgICAgIDI0LjUxOTIsIDI1LjUsIDI2LjQ4MDgsIDI3LjQ2MTUsIDI4LjQ0MjMsIDI5LjQyMzEsIDMwLjQwMzgsIDMxLjM4NDYsIDMyLjM2NTQsIDMzLjM0NjIsIDM0LjMyNjksXG4gICAgICAgICAgICAzNS4zMDc3LCAzNi4yODg1LCAzNy4yNjkyLCAzOC4yNSwgMzkuMjMwOCwgNDAuMjExNSwgNDEuMTkyMywgNDIuMTczMSwgNDMuMTUzOCwgNDQuMTM0NiwgNDUuMTE1NCwgNDYuMDk2MixcbiAgICAgICAgICAgIDQ3LjA3NjksIDQ4LjA1NzcsIDQ5LjAzODUsIDUwLjAxOTIsIDUxLjAsIDUxLjk4MDgsIDUyLjk2MTUsIDUzLjk0MjMsIDU0LjkyMzEsIDU1LjkwMzgsIDU2Ljg4NDYsXG4gICAgICAgICAgICA1Ny44NjU0LCA1OC44NDYyLCA1OS44MjY5LCA2MC44MDc3LCA2MS43ODg1LCA2Mi43NjkyLCA2My43NSwgNjQuNzMwOCwgNjUuNzExNSwgNjYuNjkyMywgNjcuNjczMSxcbiAgICAgICAgICAgIDY4LjY1MzgsIDY5LjYzNDYsIDcwLjYxNTQsIDcxLjU5NjIsIDcyLjU3NjksIDczLjU1NzcsIDc0LjUzODUsIDc1LjUxOTIsIDc2LjUsIDc3LjQ4MDgsIDc4LjQ2MTUsIDc5LjQ0MjMsXG4gICAgICAgICAgICA4MC40MjMxLCA4MS40MDM4LCA4Mi4zODQ2LCA4My4zNjU0LCA4NC4zNDYyLCA4NS4zMjY5LCA4Ni4zMDc3LCA4Ny4yODg1LCA4OC4yNjkyLCA4OS4yNSwgOTAuMjMwOCxcbiAgICAgICAgICAgIDkxLjIxMTUsIDkyLjE5MjMsIDkzLjE3MzEsIDk0LjE1MzgsIDk1LjEzNDYsIDk2LjExNTQsIDk3LjA5NjIsIDk4LjA3NjksIDk5LjA1NzcsIDEwMC4wMzgsXG4gICAgICAgICAgICAxMDEuMDE5LCAxMDIuMCwgMTAyLjk4MSwgMTAzLjk2MiwgMTA0Ljk0MiwgMTA1LjkyMywgMTA2LjkwNCwgMTA3Ljg4NSwgMTA4Ljg2NSwgMTA5Ljg0NiwgMTEwLjgyNyxcbiAgICAgICAgICAgIDExMS44MDgsIDExMi43ODgsIDExMy43NjksIDExNC43NSwgMTE1LjczMSwgMTE2LjcxMSwgMTE3LjY5MiwgMTE4LjY3MywgMTE5LjY1NCwgMTIwLjYzNCxcbiAgICAgICAgICAgIDEyMS42MTUsIDEyMi41OTYsIDEyMy41NzcsIDEyNC41NTcsIDEyNS41MzgsIDEyNi41MTksIDEyNy41XG4gICAgICAgIF1cbiAgICB9LFxuICAgIGdyYXk6IHtcbiAgICAgICAgbmFtZTogJ2dyYXknLFxuICAgICAgICByOiBbXG4gICAgICAgICAgICAwLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LFxuICAgICAgICAgICAgMjUsIDI2LCAyNywgMjgsIDI5LCAzMCwgMzEsIDMyLCAzMywgMzQsIDM1LCAzNiwgMzcsIDM4LCAzOSwgNDAsIDQxLCA0MiwgNDMsIDQ0LCA0NSwgNDYsXG4gICAgICAgICAgICA0NywgNDgsIDQ5LCA1MCwgNTEsIDUyLCA1MywgNTQsIDU1LCA1NiwgNTcsIDU4LCA1OSwgNjAsIDYxLCA2MiwgNjMsIDY0LCA2NSwgNjYsXG4gICAgICAgICAgICA2NywgNjgsIDY5LCA3MCwgNzEsIDcyLCA3MywgNzQsIDc1LCA3NiwgNzcsIDc4LCA3OSwgODAsIDgxLCA4MiwgODMsIDg0LCA4NSwgODYsIDg3LCA4OCxcbiAgICAgICAgICAgIDg5LCA5MCwgOTEsIDkyLCA5MywgOTQsIDk1LCA5NiwgOTcsIDk4LCA5OSwgMTAwLCAxMDEsIDEwMiwgMTAzLCAxMDQsIDEwNSwgMTA2LCAxMDcsXG4gICAgICAgICAgICAxMDgsIDEwOSwgMTEwLCAxMTEsIDExMiwgMTEzLCAxMTQsIDExNSwgMTE2LCAxMTcsIDExOCwgMTE5LCAxMjAsIDEyMSwgMTIyLCAxMjMsXG4gICAgICAgICAgICAxMjQsIDEyNSwgMTI2LCAxMjcsIDEyOCwgMTI5LCAxMzAsIDEzMSwgMTMyLCAxMzMsIDEzNCwgMTM1LCAxMzYsIDEzNywgMTM4LFxuICAgICAgICAgICAgMTM5LCAxNDAsIDE0MSwgMTQyLCAxNDMsIDE0NCwgMTQ1LCAxNDYsIDE0NywgMTQ4LCAxNDksIDE1MCwgMTUxLCAxNTIsXG4gICAgICAgICAgICAxNTMsIDE1NCwgMTU1LCAxNTYsIDE1NywgMTU4LCAxNTksIDE2MCwgMTYxLCAxNjIsIDE2MywgMTY0LFxuICAgICAgICAgICAgMTY1LCAxNjYsIDE2NywgMTY4LCAxNjksIDE3MCwgMTcxLCAxNzIsXG4gICAgICAgICAgICAxNzMsIDE3NCwgMTc1LCAxNzYsIDE3NyxcbiAgICAgICAgICAgIDE3OCwgMTc5LFxuICAgICAgICAgICAgMTgwLFxuICAgICAgICAgICAgMTgxLFxuICAgICAgICAgICAgMTgyLFxuICAgICAgICAgICAgMTgzLFxuICAgICAgICAgICAgMTg0LFxuICAgICAgICAgICAgMTg1LFxuICAgICAgICAgICAgMTg2LFxuICAgICAgICAgICAgMTg3LFxuICAgICAgICAgICAgMTg4LCAxODksIDE5MCwgMTkxLCAxOTIsIDE5MywgMTk0LCAxOTUsIDE5NiwgMTk3LCAxOTgsIDE5OSwgMjAwLFxuICAgICAgICAgICAgMjAxLCAyMDIsIDIwMywgMjA0LCAyMDUsIDIwNiwgMjA3LCAyMDgsIDIwOSwgMjEwLCAyMTEsIDIxMixcbiAgICAgICAgICAgIDIxMywgMjE0LCAyMTUsIDIxNiwgMjE3LCAyMTgsIDIxOSwgMjIwLFxuICAgICAgICAgICAgMjIxLCAyMjIsXG4gICAgICAgICAgICAyMjMsXG4gICAgICAgICAgICAyMjQsXG4gICAgICAgICAgICAyMjUsXG4gICAgICAgICAgICAyMjYsXG4gICAgICAgICAgICAyMjcsXG4gICAgICAgICAgICAyMjgsXG4gICAgICAgICAgICAyMjksXG4gICAgICAgICAgICAyMzAsXG4gICAgICAgICAgICAyMzEsIDIzMiwgMjMzLCAyMzQsIDIzNSwgMjM2LCAyMzcsIDIzOCwgMjM5LCAyNDAsIDI0MSwgMjQyLFxuICAgICAgICAgICAgMjQzLCAyNDQsIDI0NSwgMjQ2LCAyNDcsIDI0OCwgMjQ5LCAyNTAsXG4gICAgICAgICAgICAyNTEsXG4gICAgICAgICAgICAyNTIsXG4gICAgICAgICAgICAyNTMsXG4gICAgICAgICAgICAyNTQsXG4gICAgICAgICAgICAyNTVcbiAgICAgICAgXSxcbiAgICAgICAgZzogW1xuICAgICAgICAgICAgMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTksIDIwLCAyMSwgMjIsIDIzLCAyNCxcbiAgICAgICAgICAgIDI1LCAyNiwgMjcsIDI4LCAyOSwgMzAsIDMxLCAzMiwgMzMsIDM0LCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA0MSwgNDIsIDQzLCA0NCwgNDUsXG4gICAgICAgICAgICA0NiwgNDcsIDQ4LCA0OSwgNTAsIDUxLCA1MiwgNTMsIDU0LCA1NSwgNTYsXG4gICAgICAgICAgICA1NyxcbiAgICAgICAgICAgIDU4LFxuICAgICAgICAgICAgNTksXG4gICAgICAgICAgICA2MCxcbiAgICAgICAgICAgIDYxLFxuICAgICAgICAgICAgNjIsXG4gICAgICAgICAgICA2MyxcbiAgICAgICAgICAgIDY0LFxuICAgICAgICAgICAgNjUsIDY2LCA2NywgNjgsIDY5LCA3MCwgNzEsIDcyLCA3MywgNzQsIDc1LCA3NiwgNzcsIDc4LCA3OSwgODAsIDgxLCA4MixcbiAgICAgICAgICAgIDgzLCA4NCwgODUsIDg2LCA4NywgODgsIDg5LCA5MCwgOTEsIDkyLCA5MywgOTQsXG4gICAgICAgICAgICA5NSxcbiAgICAgICAgICAgIDk2LFxuICAgICAgICAgICAgOTcsXG4gICAgICAgICAgICA5OCxcbiAgICAgICAgICAgIDk5LFxuICAgICAgICAgICAgMTAwLFxuICAgICAgICAgICAgMTAxLFxuICAgICAgICAgICAgMTAyLFxuICAgICAgICAgICAgMTAzLFxuICAgICAgICAgICAgMTA0LFxuICAgICAgICAgICAgMTA1LCAxMDYsIDEwNywgMTA4LCAxMDksIDExMCwgMTExLCAxMTIsIDExMywgMTE0LFxuICAgICAgICAgICAgMTE1LFxuICAgICAgICAgICAgMTE2LFxuICAgICAgICAgICAgMTE3LFxuICAgICAgICAgICAgMTE4LFxuICAgICAgICAgICAgMTE5LFxuICAgICAgICAgICAgMTIwLFxuICAgICAgICAgICAgMTIxLFxuICAgICAgICAgICAgMTIyLFxuICAgICAgICAgICAgMTIzLFxuICAgICAgICAgICAgMTI0LFxuICAgICAgICAgICAgMTI1LCAxMjYsIDEyNywgMTI4LCAxMjksIDEzMCwgMTMxLCAxMzIsIDEzMywgMTM0LFxuICAgICAgICAgICAgMTM1LFxuICAgICAgICAgICAgMTM2LFxuICAgICAgICAgICAgMTM3LFxuICAgICAgICAgICAgMTM4LFxuICAgICAgICAgICAgMTM5LFxuICAgICAgICAgICAgMTQwLFxuICAgICAgICAgICAgMTQxLFxuICAgICAgICAgICAgMTQyLFxuICAgICAgICAgICAgMTQzLFxuICAgICAgICAgICAgMTQ0LFxuICAgICAgICAgICAgMTQ1LCAxNDYsIDE0NywgMTQ4LCAxNDksIDE1MCwgMTUxLCAxNTIsIDE1MywgMTU0LFxuICAgICAgICAgICAgMTU1LFxuICAgICAgICAgICAgMTU2LFxuICAgICAgICAgICAgMTU3LFxuICAgICAgICAgICAgMTU4LFxuICAgICAgICAgICAgMTU5LFxuICAgICAgICAgICAgMTYwLFxuICAgICAgICAgICAgMTYxLFxuICAgICAgICAgICAgMTYyLFxuICAgICAgICAgICAgMTYzLFxuICAgICAgICAgICAgMTY0LFxuICAgICAgICAgICAgMTY1LCAxNjYsIDE2NywgMTY4LCAxNjksIDE3MCwgMTcxLCAxNzIsIDE3MywgMTc0LFxuICAgICAgICAgICAgMTc1LFxuICAgICAgICAgICAgMTc2LFxuICAgICAgICAgICAgMTc3LFxuICAgICAgICAgICAgMTc4LFxuICAgICAgICAgICAgMTc5LFxuICAgICAgICAgICAgMTgwLFxuICAgICAgICAgICAgMTgxLFxuICAgICAgICAgICAgMTgyLFxuICAgICAgICAgICAgMTgzLFxuICAgICAgICAgICAgMTg0LCAxODUsIDE4NiwgMTg3LCAxODgsIDE4OSwgMTkwLCAxOTEsIDE5MiwgMTkzLCAxOTQsIDE5NSwgMTk2LFxuICAgICAgICAgICAgMTk3LCAxOTgsIDE5OSwgMjAwLCAyMDEsIDIwMiwgMjAzLCAyMDQsIDIwNSwgMjA2LFxuICAgICAgICAgICAgMjA3LFxuICAgICAgICAgICAgMjA4LFxuICAgICAgICAgICAgMjA5LFxuICAgICAgICAgICAgMjEwLFxuICAgICAgICAgICAgMjExLFxuICAgICAgICAgICAgMjEyLFxuICAgICAgICAgICAgMjEzLFxuICAgICAgICAgICAgMjE0LFxuICAgICAgICAgICAgMjE1LFxuICAgICAgICAgICAgMjE2LCAyMTcsIDIxOCwgMjE5LCAyMjAsIDIyMSwgMjIyLCAyMjMsIDIyNCwgMjI1LCAyMjYsIDIyNyxcbiAgICAgICAgICAgIDIyOCwgMjI5LCAyMzAsIDIzMSwgMjMyLCAyMzMsIDIzNCwgMjM1LCAyMzYsIDIzNyxcbiAgICAgICAgICAgIDIzOCxcbiAgICAgICAgICAgIDIzOSxcbiAgICAgICAgICAgIDI0MCxcbiAgICAgICAgICAgIDI0MSxcbiAgICAgICAgICAgIDI0MixcbiAgICAgICAgICAgIDI0MyxcbiAgICAgICAgICAgIDI0NCxcbiAgICAgICAgICAgIDI0NSxcbiAgICAgICAgICAgIDI0NixcbiAgICAgICAgICAgIDI0NywgMjQ4LCAyNDksIDI1MCxcbiAgICAgICAgICAgIDI1MSxcbiAgICAgICAgICAgIDI1MixcbiAgICAgICAgICAgIDI1MyxcbiAgICAgICAgICAgIDI1NCxcbiAgICAgICAgICAgIDI1NVxuICAgICAgICBdLFxuICAgICAgICBiOiBbXG4gICAgICAgICAgICAwLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LCAyNSwgMjYsIDI3LCAyOCwgMjksIDMwLCAzMSwgMzIsIDMzLCAzNCwgMzUsIDM2LCAzNywgMzgsIDM5LCA0MCwgNDEsIDQyLCA0MywgNDQsIDQ1LCA0NiwgNDcsIDQ4LCA0OSwgNTAsIDUxLCA1MiwgNTMsIDU0LCA1NSwgNTYsIDU3LCA1OCxcbiAgICAgICAgICAgIDU5LFxuICAgICAgICAgICAgNjAsXG4gICAgICAgICAgICA2MSxcbiAgICAgICAgICAgIDYyLFxuICAgICAgICAgICAgNjMsXG4gICAgICAgICAgICA2NCxcbiAgICAgICAgICAgIDY1LFxuICAgICAgICAgICAgNjYsXG4gICAgICAgICAgICA2NyxcbiAgICAgICAgICAgIDY4LFxuICAgICAgICAgICAgNjksXG4gICAgICAgICAgICA3MCwgNzEsIDcyLCA3MywgNzQsIDc1LCA3NiwgNzcsIDc4LCA3OSwgODAsIDgxLCA4MiwgODMsIDg0LCA4NSwgODYsIDg3LCA4OCxcbiAgICAgICAgICAgIDg5LFxuICAgICAgICAgICAgOTAsXG4gICAgICAgICAgICA5MSxcbiAgICAgICAgICAgIDkyLFxuICAgICAgICAgICAgOTMsXG4gICAgICAgICAgICA5NCxcbiAgICAgICAgICAgIDk1LFxuICAgICAgICAgICAgOTYsXG4gICAgICAgICAgICA5NyxcbiAgICAgICAgICAgIDk4LFxuICAgICAgICAgICAgOTksXG4gICAgICAgICAgICAxMDAsIDEwMSwgMTAyLCAxMDMsIDEwNCwgMTA1LCAxMDYsIDEwNywgMTA4LCAxMDksIDExMCwgMTExLCAxMTIsIDExMywgMTE0LCAxMTUsIDExNixcbiAgICAgICAgICAgIDExNyxcbiAgICAgICAgICAgIDExOCxcbiAgICAgICAgICAgIDExOSxcbiAgICAgICAgICAgIDEyMCxcbiAgICAgICAgICAgIDEyMSxcbiAgICAgICAgICAgIDEyMixcbiAgICAgICAgICAgIDEyMyxcbiAgICAgICAgICAgIDEyNCxcbiAgICAgICAgICAgIDEyNSxcbiAgICAgICAgICAgIDEyNixcbiAgICAgICAgICAgIDEyNyxcbiAgICAgICAgICAgIDEyOCwgMTI5LCAxMzAsIDEzMSwgMTMyLCAxMzMsIDEzNCwgMTM1LCAxMzYsIDEzNywgMTM4LCAxMzksIDE0MCwgMTQxLCAxNDIsIDE0MywgMTQ0LFxuICAgICAgICAgICAgMTQ1LFxuICAgICAgICAgICAgMTQ2LFxuICAgICAgICAgICAgMTQ3LFxuICAgICAgICAgICAgMTQ4LFxuICAgICAgICAgICAgMTQ5LFxuICAgICAgICAgICAgMTUwLCAxNTEsIDE1MiwgMTUzLCAxNTQsIDE1NSwgMTU2LCAxNTcsIDE1OCwgMTU5LCAxNjAsIDE2MSwgMTYyLCAxNjMsIDE2NCxcbiAgICAgICAgICAgIDE2NSxcbiAgICAgICAgICAgIDE2NixcbiAgICAgICAgICAgIDE2NyxcbiAgICAgICAgICAgIDE2OCxcbiAgICAgICAgICAgIDE2OSxcbiAgICAgICAgICAgIDE3MCxcbiAgICAgICAgICAgIDE3MSxcbiAgICAgICAgICAgIDE3MixcbiAgICAgICAgICAgIDE3MyxcbiAgICAgICAgICAgIDE3NCxcbiAgICAgICAgICAgIDE3NSxcbiAgICAgICAgICAgIDE3NiwgMTc3LCAxNzgsIDE3OSwgMTgwLCAxODEsIDE4MiwgMTgzLCAxODQsIDE4NSwgMTg2LCAxODcsIDE4OCwgMTg5LCAxOTAsIDE5MSwgMTkyLFxuICAgICAgICAgICAgMTkzLFxuICAgICAgICAgICAgMTk0LFxuICAgICAgICAgICAgMTk1LFxuICAgICAgICAgICAgMTk2LFxuICAgICAgICAgICAgMTk3LFxuICAgICAgICAgICAgMTk4LFxuICAgICAgICAgICAgMTk5LFxuICAgICAgICAgICAgMjAwLFxuICAgICAgICAgICAgMjAxLFxuICAgICAgICAgICAgMjAyLFxuICAgICAgICAgICAgMjAzLFxuICAgICAgICAgICAgMjA0LCAyMDUsIDIwNiwgMjA3LCAyMDgsIDIwOSwgMjEwLCAyMTEsIDIxMiwgMjEzLCAyMTQsIDIxNSwgMjE2LCAyMTcsIDIxOCwgMjE5LCAyMjAsXG4gICAgICAgICAgICAyMjEsXG4gICAgICAgICAgICAyMjIsXG4gICAgICAgICAgICAyMjMsXG4gICAgICAgICAgICAyMjQsXG4gICAgICAgICAgICAyMjUsXG4gICAgICAgICAgICAyMjYsXG4gICAgICAgICAgICAyMjcsXG4gICAgICAgICAgICAyMjgsXG4gICAgICAgICAgICAyMjksXG4gICAgICAgICAgICAyMzAsIDIzMSwgMjMyLCAyMzMsIDIzNCwgMjM1LCAyMzYsIDIzNywgMjM4LCAyMzksIDI0MCxcbiAgICAgICAgICAgIDI0MSxcbiAgICAgICAgICAgIDI0MixcbiAgICAgICAgICAgIDI0MyxcbiAgICAgICAgICAgIDI0NCxcbiAgICAgICAgICAgIDI0NSxcbiAgICAgICAgICAgIDI0NixcbiAgICAgICAgICAgIDI0NyxcbiAgICAgICAgICAgIDI0OCxcbiAgICAgICAgICAgIDI0OSxcbiAgICAgICAgICAgIDI1MCxcbiAgICAgICAgICAgIDI1MSxcbiAgICAgICAgICAgIDI1MixcbiAgICAgICAgICAgIDI1MyxcbiAgICAgICAgICAgIDI1NCxcbiAgICAgICAgICAgIDI1NVxuICAgICAgICBdXG4gICAgfSxcbn07XG5leHBvcnQgZGVmYXVsdCBDb2xvck1hcHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hcHMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBGb1Ygc2luZ2xldG9uIChUeXBlU2NyaXB0KVxuICogLSBVc2VzIGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeFNpbmdsZXRvbi5wTWF0cml4XG4gKiAtIEd1YXJkcyBhY29zIGRvbWFpbiAobnVtZXJpYyBzYWZldHkpXG4gKiAtIFVzZXMgdmVjMy50cmFuc2Zvcm1NYXQ0IGluc3RlYWQgb2YgY3VzdG9tIG1hdDQqdmVjM1xuICogLSBLZWVwcyBvcmlnaW5hbCDigJxpbnNpZGVTcGhlcmUgPyAzNjAgLSBhbmdsZSA6IGFuZ2xl4oCdIGJlaGF2aW9yXG4gKi9cbmltcG9ydCB7IHZlYzMsIG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGdsb2JhbCBmcm9tICcuLi9HbG9iYWwuanMnO1xuaW1wb3J0IFJheVBpY2tpbmdVdGlscyBmcm9tICcuLi91dGlscy9SYXlQaWNraW5nVXRpbHMuanMnO1xuaW1wb3J0IHsgcmFkVG9EZWcgfSBmcm9tICcuLi91dGlscy9VdGlscy5qcyc7XG5pbXBvcnQgY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uIGZyb20gJy4uL3V0aWxzL0NvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeC5qcyc7XG5pbXBvcnQgaGVhbHBpeEdyaWRTaW5nbGV0b24gZnJvbSAnLi9ncmlkL0hlYWxwaXhHcmlkU2luZ2xldG9uLmpzJztcbmV4cG9ydCBjbGFzcyBGb1Yge1xuICAgIGZvdlhEZWcgPSAxODA7XG4gICAgZm92WURlZyA9IDE4MDtcbiAgICByYXRpbyA9ICswO1xuICAgIF9taW5Gb1YgPSAxODA7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICAvKiogUmVjb21wdXRlcyBGb1YgZm9yIGN1cnJlbnQgY2FtZXJhICsgcHJvamVjdGlvbiAqL1xuICAgIGdldEZvVihpbnNpZGVTcGhlcmUpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIGlmICghZ2wgfHwgIWdsLmNhbnZhcykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBlcnJvciBvciBhc3NpZ24gZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgICAgIHRoaXMuZm92WERlZyA9IDE4MDtcbiAgICAgICAgICAgIHRoaXMuZm92WURlZyA9IDE4MDtcbiAgICAgICAgICAgIHRoaXMuX21pbkZvViA9IHRoaXMubWluRm9WO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaG9yaXpvbnRhbCBGb1Y6IHJheSB0aHJvdWdoIChjZW50ZXJZKVxuICAgICAgICAvLyBjb25zdCB4ID0gdGhpcy5jb21wdXRlQW5nbGUoMCwgZ2wuY2FudmFzLmhlaWdodCAvIDIsIGluc2lkZVNwaGVyZSlcbiAgICAgICAgY29uc3QgeEZvVkNvbXB1dGVkID0gdGhpcy5jb21wdXRlQW5nbGUoMCwgZ2wuY2FudmFzLmhlaWdodCAvIDIsIGluc2lkZVNwaGVyZSk7XG4gICAgICAgIHRoaXMuZm92WERlZyA9IHhGb1ZDb21wdXRlZC5hbmdsZURlZztcbiAgICAgICAgLy8gdGhpcy54RGlzdGFuY2UgPSB4Rm9WQ29tcHV0ZWQuZGlzdGFuY2VcbiAgICAgICAgLy8gdGhpcy54QW5nbGVSYXRpbyA9IHRoaXMuZm92WERlZyAvIHRoaXMueERpc3RhbmNlXG4gICAgICAgIC8vIHZlcnRpY2FsIEZvVjogcmF5IHRocm91Z2ggKGNlbnRlclgpXG4gICAgICAgIC8vIHRoaXMuZm92WURlZyA9IHRoaXMuY29tcHV0ZUFuZ2xlKGdsLmNhbnZhcy53aWR0aCAvIDIsIDAsIGluc2lkZVNwaGVyZSlcbiAgICAgICAgY29uc3QgeUZvVkNvbXB1dGVkID0gdGhpcy5jb21wdXRlQW5nbGUoZ2wuY2FudmFzLndpZHRoIC8gMiwgMCwgaW5zaWRlU3BoZXJlKTtcbiAgICAgICAgdGhpcy5mb3ZZRGVnID0geUZvVkNvbXB1dGVkLmFuZ2xlRGVnO1xuICAgICAgICAvLyB0aGlzLnlEaXN0YW5jZSA9IHlGb1ZDb21wdXRlZC5kaXN0YW5jZVxuICAgICAgICAvLyB0aGlzLnlBbmdsZVJhdGlvID0gdGhpcy5mb3ZZRGVnIC8gdGhpcy55RGlzdGFuY2VcbiAgICAgICAgdGhpcy5fbWluRm9WID0gdGhpcy5taW5Gb1Y7XG4gICAgICAgIHRoaXMucmF0aW8gPSB0aGlzLmNvbXB1dGVSYXRpbygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29tcHV0ZVJhdGlvKCkge1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBnbG9iYWwuY2FtZXJhO1xuICAgICAgICBpZiAoIWNhbWVyYSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2FtZXJhIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICBjb25zdCBwb3MgPSBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VGcm9tQ2VudGVyID0gTWF0aC5zcXJ0KHBvc1swXSAqIHBvc1swXSArIHBvc1sxXSAqIHBvc1sxXSArIHBvc1syXSAqIHBvc1syXSk7XG4gICAgICAgIC8vIGNvbnN0IGRpc3RhbmNlRnJvbVNwaGVyZSA9IGRpc3RhbmNlRnJvbUNlbnRlciAtIGhlYWxwaXhHcmlkU2luZ2xldG9uLlJBRElVU1xuICAgICAgICBjb25zdCByYXRpbyA9IGRpc3RhbmNlRnJvbUNlbnRlciAvIHRoaXMuZm92WURlZztcbiAgICAgICAgcmV0dXJuIHJhdGlvO1xuICAgIH1cbiAgICBjaGFuZ2VNaW5Gb3YoZGVnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGNoYW5nZU1pbkZvdlwiKTtcbiAgICAgICAgaWYgKHRoaXMuZm92WURlZyA8PSB0aGlzLmZvdlhEZWcpIHtcbiAgICAgICAgICAgIHRoaXMuZm92WURlZyA9IGRlZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm92WERlZyA9IGRlZztcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcImNoYW5nZU1pbkZvdjogcGluZ1wiKTtcbiAgICAgICAgdGhpcy5taW5Gb1Y7XG4gICAgICAgIC8vIHRoaXMuZm92WURlZyA8PSB0aGlzLmZvdlhEZWcgPyB0aGlzLmZvdllEZWcgPSBkZWcgOiB0aGlzLmZvdlhEZWcgPSBkZWdcbiAgICB9XG4gICAgZ2V0IG1pbkZvVigpIHtcbiAgICAgICAgdGhpcy5fbWluRm9WID0gdGhpcy5mb3ZZRGVnIDw9IHRoaXMuZm92WERlZyA/IHRoaXMuZm92WURlZyA6IHRoaXMuZm92WERlZztcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbkZvVjtcbiAgICB9XG4gICAgY29tcHV0ZURpc3RhbmNlRnJvbUFuZ2xlKGFuZ2xlRGVnKSB7XG4gICAgICAgIGNvbnN0IGRlc2lyZWRGb1YgPSBhbmdsZURlZztcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBkZXNpcmVkRm9WICogdGhpcy5yYXRpbztcbiAgICAgICAgLy8gcmV0dXJuIE1hdGguYWJzKGRpc3RhbmNlKVxuICAgICAgICByZXR1cm4gZGlzdGFuY2U7XG4gICAgfVxuICAgIC8qKiBGb1YgaGFsZi1zY3JlZW4gY2hvcmQgYW5nbGUgZG91YmxlZCAoZGVnKSBhbG9uZyBhIGdpdmVuIGNhbnZhcyBheGlzICovXG4gICAgY29tcHV0ZUFuZ2xlKGNhbnZhc1gsIGNhbnZhc1ksIGluc2lkZVNwaGVyZSkge1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBnbG9iYWwuY2FtZXJhO1xuICAgICAgICBjb25zdCBwTWF0cml4ID0gY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uLnBNYXRyaXg7XG4gICAgICAgIGlmICghcE1hdHJpeCkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBlcnJvciBvciBhc3NpZ24gYSBkZWZhdWx0IHZhbHVlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZvVjogcHJvamVjdGlvbiBtYXRyaXggaXMgbnVsbCcpO1xuICAgICAgICAgICAgcmV0dXJuIHsgYW5nbGVEZWc6IDE4MCwgZGlzdGFuY2U6IDEgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbWVyYSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBlcnJvciBvciBhc3NpZ24gYSBkZWZhdWx0IHZhbHVlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZvVjogY2FtZXJhIGlzIG51bGwnKTtcbiAgICAgICAgICAgIHJldHVybiB7IGFuZ2xlRGVnOiAxODAsIGRpc3RhbmNlOiAxIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF5V29ybGQgPSBSYXlQaWNraW5nVXRpbHMuZ2V0UmF5RnJvbU1vdXNlKGNhbnZhc1gsIGNhbnZhc1ksIHBNYXRyaXgpO1xuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25EaXN0YW5jZSA9IFJheVBpY2tpbmdVdGlscy5yYXlTcGhlcmUoY2FtZXJhLmdldENhbWVyYVBvc2l0aW9uKCksIHJheVdvcmxkKTtcbiAgICAgICAgbGV0IGFuZ2xlRGVnO1xuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uRGlzdGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAvLyB3b3JsZC1zcGFjZSBpbnRlcnNlY3Rpb24gcG9pbnQgb24gdGhlIHNwaGVyZVxuICAgICAgICAgICAgY29uc3QgaGl0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgICAgIHZlYzMuc2NhbGUoaGl0LCByYXlXb3JsZCwgaW50ZXJzZWN0aW9uRGlzdGFuY2UpO1xuICAgICAgICAgICAgdmVjMy5hZGQoaGl0LCBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKSwgaGl0KTtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IGhlYWxwaXhHcmlkU2luZ2xldG9uLmNlbnRlcjtcbiAgICAgICAgICAgIC8vIHZlY3RvcnMgZnJvbSBzcGhlcmUgY2VudGVyXG4gICAgICAgICAgICBjb25zdCB2SGl0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgICAgIHZlYzMuc3VidHJhY3QodkhpdCwgaGl0LCBjZW50ZXIpO1xuICAgICAgICAgICAgLy8gcmVmZXJlbmNlIHZlY3Rvcjogcm90YXRlIHdvcmxkICtaIGludG8gY3VycmVudCBjYW1lcmEgb3JpZW50YXRpb24sIHRoZW4gZnJvbSBjZW50ZXJcbiAgICAgICAgICAgIGNvbnN0IHJlZldvcmxkWiA9IHZlYzMuZnJvbVZhbHVlcyhjZW50ZXJbMF0sIGNlbnRlclsxXSwgY2VudGVyWzJdICsgaGVhbHBpeEdyaWRTaW5nbGV0b24ucmFkaXVzKTtcbiAgICAgICAgICAgIGNvbnN0IHZJbnYgPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICAgICAgbWF0NC5pbnZlcnQodkludiwgY2FtZXJhLmdldENhbWVyYU1hdHJpeCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHJlZkNhbVogPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHJlZkNhbVosIHJlZldvcmxkWiwgdkludik7XG4gICAgICAgICAgICBjb25zdCB2UmVmID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgICAgIHZlYzMuc3VidHJhY3QodlJlZiwgcmVmQ2FtWiwgY2VudGVyKTtcbiAgICAgICAgICAgIC8vIGFuZ2xlIGJldHdlZW4gdkhpdCBhbmQgdlJlZiwgZG91YmxlZFxuICAgICAgICAgICAgY29uc3QgZG90ID0gdmVjMy5kb3QodkhpdCwgdlJlZik7XG4gICAgICAgICAgICBjb25zdCBuMSA9IHZlYzMubGVuZ3RoKHZIaXQpO1xuICAgICAgICAgICAgY29uc3QgbjIgPSB2ZWMzLmxlbmd0aCh2UmVmKTtcbiAgICAgICAgICAgIC8vIG51bWVyaWMgc2FmZXR5IGZvciBhY29zXG4gICAgICAgICAgICBjb25zdCBjID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoLTEsIGRvdCAvIChuMSAqIG4yKSkpO1xuICAgICAgICAgICAgY29uc3QgYW5nbGVSYWQgPSBNYXRoLmFjb3MoYyk7XG4gICAgICAgICAgICBhbmdsZURlZyA9IDIgKiByYWRUb0RlZyhhbmdsZVJhZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbmdsZURlZyA9IDE4MDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaW5hbEFuZ2xlID0gaW5zaWRlU3BoZXJlID8gMzYwIC0gYW5nbGVEZWcgOiBhbmdsZURlZztcbiAgICAgICAgLy8gcmV0dXJuIGluc2lkZVNwaGVyZSA/IDM2MCAtIGFuZ2xlRGVnIDogYW5nbGVEZWdcbiAgICAgICAgcmV0dXJuIHsgYW5nbGVEZWc6IGZpbmFsQW5nbGUsIGRpc3RhbmNlOiBpbnRlcnNlY3Rpb25EaXN0YW5jZSB9O1xuICAgIH1cbiAgICAvKipcbiAgICogQ29tcHV0ZXMgdGhlIGNhbWVyYSBwb3NpdGlvbiAoeCx5LHopIGFsb25nIHRoZSBjdXJyZW50IHZpZXcgZGlyZWN0aW9uIHRoYXQgd291bGRcbiAgICogeWllbGQgdGhlIHJlcXVlc3RlZCBtaW5Gb1YgKGluIGRlZ3JlZXMpLCBhc3N1bWluZyB0aGUgY2FtZXJhIGlzIE9VVFNJREUgdGhlIHNwaGVyZS5cbiAgICogVGhpcyBtZXRob2QgZG9lcyBOT1QgbXV0YXRlIHRoZSBjYW1lcmE7IGl0IG9ubHkgcmV0dXJucyB0aGUgc3VnZ2VzdGVkIHBvc2l0aW9uLlxuICAgKlxuICAgKiBHZW9tZXRyeTogZm9yIGEgc3BoZXJlIG9mIHJhZGl1cyBSIG9ic2VydmVkIGZyb20gZGlzdGFuY2UgZCAoZnJvbSBjZW50ZXIpLFxuICAgKiB0aGUgYXBwYXJlbnQgYW5ndWxhciBkaWFtZXRlciBpcyAyKmFyY3NpbihSL2QpLiBPdXIgbWluRm9WIGlzIHRoYXQgYW5ndWxhciBkaWFtZXRlclxuICAgKiBhbG9uZyB0aGUgdGlnaHRlciBheGlzOyB3ZSBzb2x2ZSBmb3IgZCBhbmQgcGxhY2UgdGhlIGNhbWVyYSBvbiB0aGUgY3VycmVudFxuICAgKiBjZW50ZXLihpJjYW1lcmEgZGlyZWN0aW9uIHdpdGggdGhhdCBkaXN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHRhcmdldE1pbkZvVkRlZyBEZXNpcmVkIG1pbiBGb1YgaW4gZGVncmVlcywgMCA8IHRhcmdldE1pbkZvVkRlZyA8IDE4MFxuICAgKiBAcmV0dXJucyBUdXBsZSBbeCwgeSwgel0gZm9yIHRoZSByZWNvbW1lbmRlZCBjYW1lcmEgcG9zaXRpb24gaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqL1xuICAgIGNvbXB1dGVDYW1lcmFQb3NpdGlvbkZvck1pbkZvVih0YXJnZXRNaW5Gb1ZEZWcpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gZ2xvYmFsLmNhbWVyYTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gaGVhbHBpeEdyaWRTaW5nbGV0b24uY2VudGVyO1xuICAgICAgICBjb25zdCBSID0gaGVhbHBpeEdyaWRTaW5nbGV0b24ucmFkaXVzO1xuICAgICAgICBpZiAoIWNhbWVyYSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGb1YuY29tcHV0ZUNhbWVyYVBvc2l0aW9uRm9yTWluRm9WOiBjYW1lcmEgbm90IGF2YWlsYWJsZTsgcmV0dXJuaW5nIGEgc2Vuc2libGUgZGVmYXVsdC4nKTtcbiAgICAgICAgICAgIHJldHVybiBbY2VudGVyWzBdLCBjZW50ZXJbMV0sIGNlbnRlclsyXSArIDIgKiBSXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbGFtcCBhbmQgdmFsaWRhdGUgaW5wdXRcbiAgICAgICAgY29uc3QgZXBzID0gMWUtNjtcbiAgICAgICAgY29uc3QgY2xhbXBlZCA9IE1hdGgubWF4KGVwcywgTWF0aC5taW4oMTgwIC0gZXBzLCB0YXJnZXRNaW5Gb1ZEZWcpKTtcbiAgICAgICAgY29uc3QgaGFsZlJhZCA9IChjbGFtcGVkICogTWF0aC5QSSAvIDE4MCkgKiAwLjU7XG4gICAgICAgIC8vIERpc3RhbmNlIGZyb20gY2VudGVyIG5lZWRlZCB0byBhY2hpZXZlIHRoZSBhbmd1bGFyIGRpYW1ldGVyXG4gICAgICAgIC8vIG1pbkZvViA9IDIgKiBhcmNzaW4oUiAvIGQpICA9PiAgZCA9IFIgLyBzaW4obWluRm9WLzIpXG4gICAgICAgIGNvbnN0IHNpbkhhbGYgPSBNYXRoLnNpbihoYWxmUmFkKTtcbiAgICAgICAgaWYgKHNpbkhhbGYgPD0gMCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGb1YuY29tcHV0ZUNhbWVyYVBvc2l0aW9uRm9yTWluRm9WOiBpbnZhbGlkIHRhcmdldE1pbkZvVkRlZywgdXNpbmcgZmFsbGJhY2suJyk7XG4gICAgICAgICAgICByZXR1cm4gW2NlbnRlclswXSwgY2VudGVyWzFdLCBjZW50ZXJbMl0gKyAyICogUl07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGQgPSBSIC8gc2luSGFsZjtcbiAgICAgICAgLy8gRW5zdXJlIHdlIHJlbWFpbiBzdHJpY3RseSBvdXRzaWRlIHRoZSBzcGhlcmVcbiAgICAgICAgZCA9IE1hdGgubWF4KGQsIFIgKyAxZS00KTtcbiAgICAgICAgLy8gVXNlIHRoZSBjdXJyZW50IGNlbnRlcuKGkmNhbWVyYSBkaXJlY3Rpb24gdG8ga2VlcCBvcmllbnRhdGlvblxuICAgICAgICBjb25zdCBjYW1Qb3MgPSBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKTtcbiAgICAgICAgbGV0IGRpclggPSBjYW1Qb3NbMF0gLSBjZW50ZXJbMF07XG4gICAgICAgIGxldCBkaXJZID0gY2FtUG9zWzFdIC0gY2VudGVyWzFdO1xuICAgICAgICBsZXQgZGlyWiA9IGNhbVBvc1syXSAtIGNlbnRlclsyXTtcbiAgICAgICAgY29uc3QgbGVuID0gTWF0aC5oeXBvdChkaXJYLCBkaXJZLCBkaXJaKTtcbiAgICAgICAgaWYgKGxlbiA8IGVwcykge1xuICAgICAgICAgICAgLy8gSWYgc29tZWhvdyBhdCB0aGUgY2VudGVyLCB1c2UgK1ogYXMgYSBkZWZhdWx0IGRpcmVjdGlvblxuICAgICAgICAgICAgZGlyWCA9IDA7XG4gICAgICAgICAgICBkaXJZID0gMDtcbiAgICAgICAgICAgIGRpclogPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGlyWCAvPSBsZW47XG4gICAgICAgICAgICBkaXJZIC89IGxlbjtcbiAgICAgICAgICAgIGRpclogLz0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1ggPSBjZW50ZXJbMF0gKyBkaXJYICogZDtcbiAgICAgICAgY29uc3QgbmV3WSA9IGNlbnRlclsxXSArIGRpclkgKiBkO1xuICAgICAgICBjb25zdCBuZXdaID0gY2VudGVyWzJdICsgZGlyWiAqIGQ7XG4gICAgICAgIHJldHVybiBbbmV3WCwgbmV3WSwgbmV3Wl07XG4gICAgfVxuICAgIC8qKlxuICAgICAgICogQ29tcHV0ZXMgdGhlIGNhbWVyYSB3b3JsZC1zcGFjZSBwb3NpdGlvbiByZXF1aXJlZCB0byBhY2hpZXZlIGEgdGFyZ2V0IEZvViAoZGVnKSxcbiAgICAgICAqIGtlZXBpbmcgdGhlIHNhbWUgdmlld2luZyBkaXJlY3Rpb24uIEFjdHMgYXMgdGhlIGludmVyc2Ugb2YgY29tcHV0ZUFuZ2xlKCkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRhcmdldEZvVkRlZyBkZXNpcmVkIGZ1bGwgRm9WIGFuZ2xlIGluIGRlZ3JlZXMgKDAgPCBGb1YgPCAxODApXG4gICAgICAgKiBAcGFyYW0gY2FudmFzV2lkdGggIGNhbnZhcyB3aWR0aCBpbiBwaXhlbHNcbiAgICAgICAqIEBwYXJhbSBjYW52YXNIZWlnaHQgY2FudmFzIGhlaWdodCBpbiBwaXhlbHNcbiAgICAgICAqIEByZXR1cm5zIFt4LCB5LCB6XSBjb29yZGluYXRlcyBmb3IgdGhlIG5ldyBjYW1lcmEgcG9zaXRpb25cbiAgICAgICAqL1xuICAgIGNvbXB1dGVDYW1lcmFQb3NpdGlvbkZvckZvVih0YXJnZXRGb1ZEZWcpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gZ2xvYmFsLmNhbWVyYTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gaGVhbHBpeEdyaWRTaW5nbGV0b24uY2VudGVyO1xuICAgICAgICBjb25zdCBSID0gaGVhbHBpeEdyaWRTaW5nbGV0b24ucmFkaXVzO1xuICAgICAgICBpZiAoIWNhbWVyYSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRm9WLmNvbXB1dGVDYW1lcmFQb3NpdGlvbkZvckZvVjogY2FtZXJhIG1pc3NpbmcuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIFtjZW50ZXJbMF0sIGNlbnRlclsxXSwgY2VudGVyWzJdICsgMiAqIFJdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVwcyA9IDFlLTY7XG4gICAgICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heChlcHMsIE1hdGgubWluKDE4MCAtIGVwcywgdGFyZ2V0Rm9WRGVnKSk7XG4gICAgICAgIGNvbnN0IGhhbGZSYWQgPSAoY2xhbXBlZCAqIE1hdGguUEkpIC8gMzYwLjA7IC8vIGhhbGYtYW5nbGUgaW4gcmFkaWFuc1xuICAgICAgICAvLyBEaXN0YW5jZSBmcm9tIGNlbnRlciB0aGF0IHlpZWxkcyB0aGlzIEZvVlxuICAgICAgICBjb25zdCBzaW5IYWxmID0gTWF0aC5zaW4oaGFsZlJhZCk7XG4gICAgICAgIGlmIChzaW5IYWxmIDw9IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZvVi5jb21wdXRlQ2FtZXJhUG9zaXRpb25Gb3JGb1Y6IGludmFsaWQgRm9WLlwiKTtcbiAgICAgICAgICAgIHJldHVybiBbY2VudGVyWzBdLCBjZW50ZXJbMV0sIGNlbnRlclsyXSArIDIgKiBSXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZCA9IFIgLyBzaW5IYWxmO1xuICAgICAgICAvLyBTbGlnaHRseSBvdXRzaWRlIHNwaGVyZSB0byBhdm9pZCBjbGlwcGluZ1xuICAgICAgICBkID0gTWF0aC5tYXgoZCwgUiArIDFlLTQpO1xuICAgICAgICAvLyBHZXQgY3VycmVudCB2aWV3aW5nIGRpcmVjdGlvblxuICAgICAgICBjb25zdCBjYW1Qb3MgPSBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKTtcbiAgICAgICAgbGV0IGRpclggPSBjYW1Qb3NbMF0gLSBjZW50ZXJbMF07XG4gICAgICAgIGxldCBkaXJZID0gY2FtUG9zWzFdIC0gY2VudGVyWzFdO1xuICAgICAgICBsZXQgZGlyWiA9IGNhbVBvc1syXSAtIGNlbnRlclsyXTtcbiAgICAgICAgY29uc3QgbGVuID0gTWF0aC5oeXBvdChkaXJYLCBkaXJZLCBkaXJaKTtcbiAgICAgICAgaWYgKGxlbiA8IGVwcykge1xuICAgICAgICAgICAgZGlyWCA9IDA7XG4gICAgICAgICAgICBkaXJZID0gMDtcbiAgICAgICAgICAgIGRpclogPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGlyWCAvPSBsZW47XG4gICAgICAgICAgICBkaXJZIC89IGxlbjtcbiAgICAgICAgICAgIGRpclogLz0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1ggPSBjZW50ZXJbMF0gKyBkaXJYICogZDtcbiAgICAgICAgY29uc3QgbmV3WSA9IGNlbnRlclsxXSArIGRpclkgKiBkO1xuICAgICAgICBjb25zdCBuZXdaID0gY2VudGVyWzJdICsgZGlyWiAqIGQ7XG4gICAgICAgIHJldHVybiBbbmV3WCwgbmV3WSwgbmV3Wl07XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXR1cm4gYSBjYW1lcmEgcG9zaXRpb24gc3VjaCB0aGF0IHRoZSBzcGhlcmUncyBhcHBhcmVudCBhbmd1bGFyIGRpYW1ldGVyXG4gICAqICh0aGUgc2lsaG91ZXR0ZSwgbm90IHRoZSBzdXJmYWNlIGNvdmVyYWdlKSBlcXVhbHMgdGFyZ2V0QW5ndWxhckRpYW1ldGVyRGVnLlxuICAgKiBLZWVwcyBjdXJyZW50IHZpZXcgZGlyZWN0aW9uOyBkb2VzIG5vdCBtdXRhdGUgdGhlIGNhbWVyYS5cbiAgICpcbiAgICogQHBhcmFtIHRhcmdldEFuZ3VsYXJEaWFtZXRlckRlZyBkZXNpcmVkIGFwcGFyZW50IGRpYW1ldGVyIGluIGRlZ3JlZXMgKDA8zrE8MTgwKVxuICAgKiBAcmV0dXJucyBbeCx5LHpdIHdvcmxkIHBvc2l0aW9uXG4gICAqL1xuICAgIGNvbXB1dGVDYW1lcmFQb3NpdGlvbkZvckFuZ3VsYXJEaWFtZXRlcih0YXJnZXRBbmd1bGFyRGlhbWV0ZXJEZWcpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gZ2xvYmFsLmNhbWVyYTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gaGVhbHBpeEdyaWRTaW5nbGV0b24uY2VudGVyO1xuICAgICAgICBjb25zdCBSID0gaGVhbHBpeEdyaWRTaW5nbGV0b24ucmFkaXVzO1xuICAgICAgICBpZiAoIWNhbWVyYSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdjb21wdXRlQ2FtZXJhUG9zaXRpb25Gb3JBbmd1bGFyRGlhbWV0ZXI6IGNhbWVyYSBtaXNzaW5nLicpO1xuICAgICAgICAgICAgcmV0dXJuIFtjZW50ZXJbMF0sIGNlbnRlclsxXSwgY2VudGVyWzJdICsgMiAqIFJdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVwcyA9IDFlLTY7XG4gICAgICAgIGNvbnN0IM6xID0gTWF0aC5tYXgoZXBzLCBNYXRoLm1pbigxODAgLSBlcHMsIHRhcmdldEFuZ3VsYXJEaWFtZXRlckRlZykpO1xuICAgICAgICBjb25zdCBoYWxmID0gKM6xICogTWF0aC5QSSkgLyAzNjAuMDtcbiAgICAgICAgY29uc3Qgc2luSGFsZiA9IE1hdGguc2luKGhhbGYpO1xuICAgICAgICAvLyBkID0gUiAvIHNpbijOsS8yKVxuICAgICAgICBsZXQgZCA9IFIgLyBzaW5IYWxmO1xuICAgICAgICBkID0gTWF0aC5tYXgoZCwgUiArIDFlLTQpOyAvLyBzdGF5IG91dHNpZGVcbiAgICAgICAgLy8gcHJvamVjdCBhbG9uZyBjdXJyZW50IGNlbnRlcuKGkmNhbWVyYSBkaXJlY3Rpb25cbiAgICAgICAgY29uc3QgW2N4LCBjeSwgY3pdID0gY2VudGVyO1xuICAgICAgICBjb25zdCBbcHgsIHB5LCBwel0gPSBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKTtcbiAgICAgICAgbGV0IGR4ID0gcHggLSBjeCwgZHkgPSBweSAtIGN5LCBkeiA9IHB6IC0gY3o7XG4gICAgICAgIGNvbnN0IEwgPSBNYXRoLmh5cG90KGR4LCBkeSwgZHopO1xuICAgICAgICBpZiAoTCA8IGVwcykge1xuICAgICAgICAgICAgZHggPSAwO1xuICAgICAgICAgICAgZHkgPSAwO1xuICAgICAgICAgICAgZHogPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZHggLz0gTDtcbiAgICAgICAgICAgIGR5IC89IEw7XG4gICAgICAgICAgICBkeiAvPSBMO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbY3ggKyBkeCAqIGQsIGN5ICsgZHkgKiBkLCBjeiArIGR6ICogZF07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Rm9WLmpzLm1hcCIsIi8qKlxuICogQGF1dGhvciBGYWJyaXppbyBHaW9yZGFubyAoRmFiNzcpXG4gKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHsgY2FydGVzaWFuVG9TcGhlcmljYWwsIHNwaGVyaWNhbFRvQ2FydGVzaWFuLCBzcGhlcmljYWxUb0FzdHJvRGVnLCBhc3Ryb0RlZ1RvU3BoZXJpY2FsLCB9IGZyb20gJy4uL3V0aWxzL1V0aWxzLmpzJztcbmltcG9ydCB7IENvb3Jkc1R5cGUgfSBmcm9tICcuLi91dGlscy9Db29yZHNUeXBlLmpzJztcbmltcG9ydCBnbG9iYWwgZnJvbSAnLi4vR2xvYmFsLmpzJztcbmV4cG9ydCBjbGFzcyBQb2ludCB7XG4gICAgX3g7XG4gICAgX3k7XG4gICAgX3o7XG4gICAgX3h5ejtcbiAgICBfcmFEZWc7XG4gICAgX2RlY0RlZztcbiAgICBfcmFSYWQ7XG4gICAgX2RlY1JhZDtcbiAgICBfcmFEZWNEZWc7XG4gICAgY29uc3RydWN0b3IoaW5fb3B0aW9ucywgaW5fdHlwZSkge1xuICAgICAgICB0aGlzLl94eXogPSBbMCwgMCwgMF07XG4gICAgICAgIHRoaXMuX3JhRGVjRGVnID0gWzAsIDBdO1xuICAgICAgICAvLyBQcmVmZXIgY29uZmlnIHZhbHVlIGlmIHByZXNlbnQsIGZhbGxiYWNrIHRvIDEyXG4gICAgICAgIGNvbnN0IE1BWF9ERUNJTUFMUyA9IGdsb2JhbC5NQVhfREVDSU1BTFMgPz8gZ2xvYmFsLm1heERlY2ltYWxzID8/IDEyO1xuICAgICAgICBpZiAoaW5fdHlwZSA9PT0gQ29vcmRzVHlwZS5DQVJURVNJQU4pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSwgeiB9ID0gaW5fb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuX3ggPSBOdW1iZXIoeC50b0ZpeGVkKE1BWF9ERUNJTUFMUykpO1xuICAgICAgICAgICAgdGhpcy5feSA9IE51bWJlcih5LnRvRml4ZWQoTUFYX0RFQ0lNQUxTKSk7XG4gICAgICAgICAgICB0aGlzLl96ID0gTnVtYmVyKHoudG9GaXhlZChNQVhfREVDSU1BTFMpKTtcbiAgICAgICAgICAgIHRoaXMuX3h5eiA9IFt0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96XTtcbiAgICAgICAgICAgIGNvbnN0IFtyYSwgZGVjXSA9IHRoaXMuY29tcHV0ZUFzdHJvQ29vcmRzKCk7XG4gICAgICAgICAgICB0aGlzLl9yYURlZyA9IE51bWJlcihyYSk7XG4gICAgICAgICAgICB0aGlzLl9kZWNEZWcgPSBOdW1iZXIoZGVjKTtcbiAgICAgICAgICAgIHRoaXMuX3JhUmFkID0gKHRoaXMuX3JhRGVnICogTWF0aC5QSSkgLyAxODA7XG4gICAgICAgICAgICB0aGlzLl9kZWNSYWQgPSAodGhpcy5fZGVjRGVnICogTWF0aC5QSSkgLyAxODA7XG4gICAgICAgICAgICB0aGlzLl9yYURlY0RlZyA9IFt0aGlzLl9yYURlZywgdGhpcy5fZGVjRGVnXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbl90eXBlID09PSBDb29yZHNUeXBlLkFTVFJPKSB7XG4gICAgICAgICAgICBjb25zdCB7IHJhRGVnLCBkZWNEZWcgfSA9IGluX29wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLl9yYURlZyA9IE51bWJlcihyYURlZyk7XG4gICAgICAgICAgICB0aGlzLl9kZWNEZWcgPSBOdW1iZXIoZGVjRGVnKTtcbiAgICAgICAgICAgIHRoaXMuX3JhRGVjRGVnID0gW3RoaXMuX3JhRGVnLCB0aGlzLl9kZWNEZWddO1xuICAgICAgICAgICAgdGhpcy5fcmFSYWQgPSAodGhpcy5fcmFEZWcgKiBNYXRoLlBJKSAvIDE4MDtcbiAgICAgICAgICAgIHRoaXMuX2RlY1JhZCA9ICh0aGlzLl9kZWNEZWcgKiBNYXRoLlBJKSAvIDE4MDtcbiAgICAgICAgICAgIGNvbnN0IFt4LCB5LCB6XSA9IHRoaXMuY29tcHV0ZUNhcnRlc2lhbkNvb3JkcygpO1xuICAgICAgICAgICAgdGhpcy5feCA9IE51bWJlcih4LnRvRml4ZWQoTUFYX0RFQ0lNQUxTKSk7XG4gICAgICAgICAgICB0aGlzLl95ID0gTnVtYmVyKHkudG9GaXhlZChNQVhfREVDSU1BTFMpKTtcbiAgICAgICAgICAgIHRoaXMuX3ogPSBOdW1iZXIoei50b0ZpeGVkKE1BWF9ERUNJTUFMUykpO1xuICAgICAgICAgICAgdGhpcy5feHl6ID0gW3RoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3pdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluX3R5cGUgPT09IENvb3Jkc1R5cGUuU1BIRVJJQ0FMKSB7XG4gICAgICAgICAgICAvLyBOb3QgaW1wbGVtZW50ZWQgaW4gb3JpZ2luYWw7IGtlZXAgYmVoYXZpb3JcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke0Nvb3Jkc1R5cGUuU1BIRVJJQ0FMfSBub3QgaW1wbGVtZW50ZWQgeWV0YCk7XG4gICAgICAgICAgICB0aGlzLl94ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSAwO1xuICAgICAgICAgICAgdGhpcy5feiA9IDA7XG4gICAgICAgICAgICB0aGlzLl9yYURlZyA9IDA7XG4gICAgICAgICAgICB0aGlzLl9kZWNEZWcgPSAwO1xuICAgICAgICAgICAgdGhpcy5fcmFSYWQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fZGVjUmFkID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nvb3Jkc1R5cGUgJyArIFN0cmluZyhpbl90eXBlKSArICcgbm90IHJlY29nbmlzZWQuJyk7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRvIHplcm9lZCBzdGF0ZSB0byBrZWVwIG9iamVjdCBjb25zaXN0ZW50XG4gICAgICAgICAgICB0aGlzLl94ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSAwO1xuICAgICAgICAgICAgdGhpcy5feiA9IDA7XG4gICAgICAgICAgICB0aGlzLl9yYURlZyA9IDA7XG4gICAgICAgICAgICB0aGlzLl9kZWNEZWcgPSAwO1xuICAgICAgICAgICAgdGhpcy5fcmFSYWQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fZGVjUmFkID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlQXN0cm9Db29yZHMoKSB7XG4gICAgICAgIGNvbnN0IHBoaVRoZXRhRGVnID0gY2FydGVzaWFuVG9TcGhlcmljYWwodmVjMy5mcm9tVmFsdWVzKHRoaXMuX3h5elswXSwgdGhpcy5feHl6WzFdLCB0aGlzLl94eXpbMl0pKTtcbiAgICAgICAgY29uc3QgcmFkID0gc3BoZXJpY2FsVG9Bc3Ryb0RlZyhwaGlUaGV0YURlZy5waGksIHBoaVRoZXRhRGVnLnRoZXRhKTtcbiAgICAgICAgcmV0dXJuIFtyYWQucmEsIHJhZC5kZWNdO1xuICAgIH1cbiAgICBjb21wdXRlQ2FydGVzaWFuQ29vcmRzKCkge1xuICAgICAgICBjb25zdCBwaGlUaGV0YURlZyA9IGFzdHJvRGVnVG9TcGhlcmljYWwodGhpcy5fcmFEZWcsIHRoaXMuX2RlY0RlZyk7XG4gICAgICAgIGNvbnN0IFt4LCB5LCB6XSA9IHNwaGVyaWNhbFRvQ2FydGVzaWFuKHBoaVRoZXRhRGVnLnBoaSwgcGhpVGhldGFEZWcudGhldGEsIDEpO1xuICAgICAgICByZXR1cm4gW3gsIHksIHpdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtwaGksIHRoZXRhfSAoZGVncmVlcylcbiAgICAgKi9cbiAgICBjb21wdXRlSGVhbHBpeFBoaVRoZXRhKCkge1xuICAgICAgICByZXR1cm4gYXN0cm9EZWdUb1NwaGVyaWNhbCh0aGlzLl9yYURlZywgdGhpcy5fZGVjRGVnKTtcbiAgICB9XG4gICAgLyoqIFNjYWxlIHRoZSB2ZWN0b3IgYnkgYSBnaXZlbiBmYWN0b3IgKi9cbiAgICBzY2FsZShuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeyB4OiB0aGlzLnggKiBuLCB5OiB0aGlzLnkgKiBuLCB6OiB0aGlzLnogKiBuIH0sIENvb3Jkc1R5cGUuQ0FSVEVTSUFOKTtcbiAgICB9XG4gICAgZG90KHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueSArIHRoaXMueiAqIHYuejtcbiAgICB9XG4gICAgY3Jvc3Modikge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHtcbiAgICAgICAgICAgIHg6IHRoaXMueSAqIHYueiAtIHYueSAqIHRoaXMueixcbiAgICAgICAgICAgIHk6IHRoaXMueiAqIHYueCAtIHYueiAqIHRoaXMueCxcbiAgICAgICAgICAgIHo6IHRoaXMueCAqIHYueSAtIHYueCAqIHRoaXMueSxcbiAgICAgICAgfSwgQ29vcmRzVHlwZS5DQVJURVNJQU4pO1xuICAgIH1cbiAgICBub3JtKCkge1xuICAgICAgICBjb25zdCBkID0gMSAvIHRoaXMubGVuZ3RoKCk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeyB4OiB0aGlzLnggKiBkLCB5OiB0aGlzLnkgKiBkLCB6OiB0aGlzLnogKiBkIH0sIENvb3Jkc1R5cGUuQ0FSVEVTSUFOKTtcbiAgICB9XG4gICAgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMubGVuZ3RoU3F1YXJlZCgpKTtcbiAgICB9XG4gICAgbGVuZ3RoU3F1YXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMuejtcbiAgICB9XG4gICAgc3VidHJhY3Qodikge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHsgeDogdGhpcy54IC0gdi54LCB5OiB0aGlzLnkgLSB2LnksIHo6IHRoaXMueiAtIHYueiB9LCBDb29yZHNUeXBlLkNBUlRFU0lBTik7XG4gICAgfVxuICAgIGFkZCh2KSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeyB4OiB0aGlzLnggKyB2LngsIHk6IHRoaXMueSArIHYueSwgejogdGhpcy56ICsgdi56IH0sIENvb3Jkc1R5cGUuQ0FSVEVTSUFOKTtcbiAgICB9XG4gICAgZ2V0IHgoKSB7IHJldHVybiB0aGlzLl94OyB9XG4gICAgZ2V0IHkoKSB7IHJldHVybiB0aGlzLl95OyB9XG4gICAgZ2V0IHooKSB7IHJldHVybiB0aGlzLl96OyB9XG4gICAgZ2V0IHh5eigpIHsgcmV0dXJuIHRoaXMuX3h5ejsgfVxuICAgIGdldCByYURlZygpIHsgcmV0dXJuIHRoaXMuX3JhRGVnOyB9XG4gICAgZ2V0IGRlY0RlZygpIHsgcmV0dXJuIHRoaXMuX2RlY0RlZzsgfVxuICAgIGdldCByYURlY0RlZygpIHsgcmV0dXJuIHRoaXMuX3JhRGVjRGVnOyB9XG4gICAgdG9BRFFMKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5fcmFEZWNEZWdbMF19LCR7dGhpcy5fcmFEZWNEZWdbMV19YDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgKHJhRGVnLCBkZWNEZWcpID0+ICgke3RoaXMuX3JhRGVjRGVnWzBdfSwke3RoaXMuX3JhRGVjRGVnWzFdfSkgKHgsIHkseikgPT4gKCR7dGhpcy5feHl6WzBdfSwke3RoaXMuX3h5elsxXX0sJHt0aGlzLl94eXpbMl19KWA7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnQuanMubWFwIiwiY2xhc3MgUG9pbnQyRCB7XG4gICAgX3g7XG4gICAgX3k7XG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgfVxuICAgIGdldCB4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICB9XG4gICAgZ2V0IHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFBvaW50MkQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludDJELmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbmltcG9ydCB7IHZlYzQsIG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGdsb2JhbCBmcm9tICcuLi8uLi9HbG9iYWwuanMnO1xuaW1wb3J0IHsgZm92SGVscGVyIH0gZnJvbSAnLi4vaGlwcy9Gb1ZIZWxwZXIuanMnO1xuaW1wb3J0IHsgY29sb3JIZXgyUkdCLCBkZWdUb1JhZCB9IGZyb20gJy4uLy4uL3V0aWxzL1V0aWxzLmpzJztcbmltcG9ydCBHcmlkU2hhZGVyTWFuYWdlciBmcm9tICcuLi8uLi9zaGFkZXIvR3JpZFNoYWRlck1hbmFnZXIuanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9Qb2ludC5qcyc7XG5pbXBvcnQgeyBDb29yZHNUeXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvQ29vcmRzVHlwZS5qcyc7XG5pbXBvcnQgeyBGb1ZVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL0ZvVlV0aWxzLmpzJztcbmltcG9ydCBHcmlkVGV4dEhlbHBlciBmcm9tICcuL0dyaWRUZXh0SGVscGVyLmpzJztcbmltcG9ydCBIZWFscGl4R3JpZFNpbmdsZXRvbiBmcm9tICcuL0hlYWxwaXhHcmlkU2luZ2xldG9uLmpzJztcbmltcG9ydCBBYnN0cmFjdFNreUVudGl0eSBmcm9tICcuLi9BYnN0cmFjdFNreUVudGl0eS5qcyc7XG5pbXBvcnQgaGVhbHBpeEdyaWRTaW5nbGV0b24gZnJvbSAnLi9IZWFscGl4R3JpZFNpbmdsZXRvbi5qcyc7XG5pbXBvcnQgY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uIGZyb20gJy4uLy4uL3V0aWxzL0NvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeC5qcyc7XG4vKiogRXF1YXRvcmlhbCBncmlkIHJlbmRlcmVkIGFzIFJBL0RlYyBncmVhdC1jaXJjbGUgbGluZSBsb29wcyAqL1xuY2xhc3MgRXF1YXRvcmlhbEdyaWQgZXh0ZW5kcyBBYnN0cmFjdFNreUVudGl0eSB7XG4gICAgc3RhdGljIEVMRU1fU0laRSA9IDM7XG4gICAgc3RhdGljIEJZVEVTX1hfRUxFTSA9IG5ldyBGbG9hdDMyQXJyYXkoKS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICBzaG93R3JpZCA9IGZhbHNlO1xuICAgIC8vIHByaXZhdGUgX2dsOiBHTDtcbiAgICBfc2hhZGVyUHJvZ3JhbTtcbiAgICBfdmVydGV4U2hhZGVyO1xuICAgIF9mcmFnbWVudFNoYWRlcjtcbiAgICBkZWZhdWx0Q29sb3IgPSAnIzQxZDQyMSc7XG4gICAgZ3JpZFRleHQgPSBuZXcgR3JpZFRleHRIZWxwZXIoKTtcbiAgICBfYXR0cmliTG9jYXRpb25zID0ge1xuICAgICAgICBwb3NpdGlvbjogMCxcbiAgICAgICAgc2VsZWN0ZWQ6IDEsXG4gICAgICAgIHBvaW50U2l6ZTogMixcbiAgICAgICAgY29sb3I6IDMsXG4gICAgfTtcbiAgICBfcGhpVmVydGV4UG9zaXRpb25CdWZmZXI7XG4gICAgX3RoZXRhVmVydGV4UG9zaXRpb25CdWZmZXI7XG4gICAgX2ZvdjtcbiAgICAvLyBTdGVwIHNpemVzIChkZWdyZWVzICsgcmFkaWFucykgYW5kIGxhYmVsIGNhY2hlc1xuICAgIF9waGlTdGVwID0gMDtcbiAgICBfcGhpU3RlcFJhZCA9IDA7XG4gICAgX3RoZXRhU3RlcCA9IDA7XG4gICAgX3RoZXRhU3RlcFJhZCA9IDA7XG4gICAgX3BoaUFycmF5ID0gW107XG4gICAgX3RoZXRhQXJyYXkgPSBbXTtcbiAgICAvLyBGb3IgcGxhY2luZyB0ZXh0IGxhYmVscyBuZWFyIGN1cnJlbnQgdmlldyBjZW50ZXI6XG4gICAgLy8gIC0gX2RlYzRMYWJlbHM6IGtleSA9IFJBKGRlZyksIHZhbHVlID0gcG9pbnRzIGFsb25nIHRoYXQgUkEgcmluZyAoZm9yIERlYyBsYWJlbHMpXG4gICAgLy8gIC0gX3JhNExhYmVscyA6IGtleSA9IERlYyhkZWcpLCB2YWx1ZSA9IHBvaW50cyBhbG9uZyB0aGF0IERlYyByaW5nIChmb3IgUkEgbGFiZWxzKVxuICAgIF9kZWM0TGFiZWxzID0gbmV3IE1hcCgpO1xuICAgIF9yYTRMYWJlbHMgPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHJhZGl1cyBOb3QgdXNlZCBieSBjdXJyZW50IGltcGxlbWVudGF0aW9uIChzcGhlcmUgaXMgdW5pdC1yYWRpdXMpXG4gICAgICogQHBhcmFtIGZvdiAgICBGaWVsZCBvZiB2aWV3IGluIGRlZ3JlZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoSGVhbHBpeEdyaWRTaW5nbGV0b24uUkFESVVTLCBIZWFscGl4R3JpZFNpbmdsZXRvbi5JTklUSUFMX1BPU0lUSU9OLCBIZWFscGl4R3JpZFNpbmdsZXRvbi5JTklUSUFMX1BoaVJhZCwgSGVhbHBpeEdyaWRTaW5nbGV0b24uSU5JVElBTF9UaGV0YVJhZCwgJ2VxdWF0b3JpYWwtZ3JpZCcpO1xuICAgIH1cbiAgICBpbml0KGZvdikge1xuICAgICAgICB0aGlzLl9mb3YgPSBmb3Y7XG4gICAgICAgIHRoaXMuaW5pdEdMKGdsb2JhbC5nbCk7XG4gICAgICAgIC8vIFByb2dyYW0gJiBidWZmZXJzXG4gICAgICAgIHRoaXMuX3NoYWRlclByb2dyYW0gPSBnbG9iYWwuZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgICAgICB0aGlzLmluaXRTaGFkZXJzKCk7XG4gICAgICAgIHRoaXMuX3BoaVZlcnRleFBvc2l0aW9uQnVmZmVyID0gZ2xvYmFsLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl90aGV0YVZlcnRleFBvc2l0aW9uQnVmZmVyID0gZ2xvYmFsLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICAvLyBCdWlsZCBpbml0aWFsIFJBL0RlYyBsaW5lIGJ1ZmZlcnNcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycyh0aGlzLl9mb3YpO1xuICAgIH1cbiAgICAvKiogQ29tcGlsZS9saW5rIHNoYWRlcnMgYW5kIGZldGNoIHVuaWZvcm0vYXR0cmlidXRlIGxvY2F0aW9ucyAqL1xuICAgIGluaXRTaGFkZXJzKCkge1xuICAgICAgICAvLyBGcmFnbWVudFxuICAgICAgICBjb25zdCBmc1NvdXJjZSA9IEdyaWRTaGFkZXJNYW5hZ2VyLmhlYWxwaXhHcmlkRlMoKTtcbiAgICAgICAgdGhpcy5fZnJhZ21lbnRTaGFkZXIgPSBnbG9iYWwuZ2wuY3JlYXRlU2hhZGVyKGdsb2JhbC5nbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBnbG9iYWwuZ2wuc2hhZGVyU291cmNlKHRoaXMuX2ZyYWdtZW50U2hhZGVyLCBmc1NvdXJjZSk7XG4gICAgICAgIGdsb2JhbC5nbC5jb21waWxlU2hhZGVyKHRoaXMuX2ZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgaWYgKCFnbG9iYWwuZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuX2ZyYWdtZW50U2hhZGVyLCBnbG9iYWwuZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICAvLyBLZWVwIGlkZW50aWNhbCBiZWhhdmlvciAoYWxlcnQpIGJ1dCBzdXJmYWNlIGVycm9ycyBpbiBjb25zb2xlIHRvb1xuICAgICAgICAgICAgY29uc3QgbG9nID0gZ2xvYmFsLmdsLmdldFNoYWRlckluZm9Mb2codGhpcy5fZnJhZ21lbnRTaGFkZXIpIHx8ICdVbmtub3duIGZyYWdtZW50IHNoYWRlciBlcnJvcic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGxvZyk7XG4gICAgICAgICAgICBhbGVydChsb2cpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZlcnRleFxuICAgICAgICBjb25zdCB2c1NvdXJjZSA9IEdyaWRTaGFkZXJNYW5hZ2VyLmhlYWxwaXhHcmlkVlMoKTtcbiAgICAgICAgdGhpcy5fdmVydGV4U2hhZGVyID0gZ2xvYmFsLmdsLmNyZWF0ZVNoYWRlcihnbG9iYWwuZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIGdsb2JhbC5nbC5zaGFkZXJTb3VyY2UodGhpcy5fdmVydGV4U2hhZGVyLCB2c1NvdXJjZSk7XG4gICAgICAgIGdsb2JhbC5nbC5jb21waWxlU2hhZGVyKHRoaXMuX3ZlcnRleFNoYWRlcik7XG4gICAgICAgIGlmICghZ2xvYmFsLmdsLmdldFNoYWRlclBhcmFtZXRlcih0aGlzLl92ZXJ0ZXhTaGFkZXIsIGdsb2JhbC5nbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IGdsb2JhbC5nbC5nZXRTaGFkZXJJbmZvTG9nKHRoaXMuX3ZlcnRleFNoYWRlcikgfHwgJ1Vua25vd24gdmVydGV4IHNoYWRlciBlcnJvcic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGxvZyk7XG4gICAgICAgICAgICBhbGVydChsb2cpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIExpbmtcbiAgICAgICAgZ2xvYmFsLmdsLmF0dGFjaFNoYWRlcih0aGlzLl9zaGFkZXJQcm9ncmFtLCB0aGlzLl92ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBnbG9iYWwuZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuX2ZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgZ2xvYmFsLmdsLmxpbmtQcm9ncmFtKHRoaXMuX3NoYWRlclByb2dyYW0pO1xuICAgICAgICBpZiAoIWdsb2JhbC5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIGdsb2JhbC5nbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgaW5pdGlhbGlzZSBzaGFkZXJzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsLmdsLnVzZVByb2dyYW0odGhpcy5fc2hhZGVyUHJvZ3JhbSk7XG4gICAgfVxuICAgIC8qKiBCdWlsZCBSQS9EZWMgbGluZSB2ZXJ0ZXggYXJyYXlzIGJhc2VkIG9uIEZvViBzdGVwIGhlbHBlciAqL1xuICAgIGluaXRCdWZmZXJzKGZvdkRlZykge1xuICAgICAgICBjb25zdCBSID0gMS4wO1xuICAgICAgICBjb25zdCBzdGVwcyA9IGZvdkhlbHBlci5nZXRSQURlZ1N0ZXBzKGZvdkRlZyk7XG4gICAgICAgIGNvbnN0IHBoaVN0ZXAgPSBzdGVwcy5yYVN0ZXA7IC8vIFJBIHN0ZXAgKGRlZylcbiAgICAgICAgY29uc3QgdGhldGFTdGVwID0gc3RlcHMuZGVjU3RlcDsgLy8gRGVjIHN0ZXAgKGRlZylcbiAgICAgICAgdGhpcy5fcGhpU3RlcCA9IHBoaVN0ZXA7XG4gICAgICAgIHRoaXMuX3BoaVN0ZXBSYWQgPSBkZWdUb1JhZChwaGlTdGVwKTtcbiAgICAgICAgdGhpcy5fdGhldGFTdGVwID0gdGhldGFTdGVwO1xuICAgICAgICB0aGlzLl90aGV0YVN0ZXBSYWQgPSBkZWdUb1JhZCh0aGV0YVN0ZXApO1xuICAgICAgICB0aGlzLl9yYTRMYWJlbHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2RlYzRMYWJlbHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3BoaUFycmF5ID0gW107XG4gICAgICAgIHRoaXMuX3RoZXRhQXJyYXkgPSBbXTtcbiAgICAgICAgLy8gTGluZXMgb2YgY29uc3RhbnQgRGVjICh2YXJ5aW5nIFJBKTogZm9yIGVhY2ggRGVjLCBhIHJpbmcgd2l0aCB2ZXJ0aWNlcyBldmVyeSBwaGlTdGVwwrBcbiAgICAgICAgZm9yIChsZXQgdGhldGEgPSB0aGV0YVN0ZXA7IHRoZXRhIDwgMTgwOyB0aGV0YSArPSB0aGV0YVN0ZXApIHtcbiAgICAgICAgICAgIGNvbnN0IHBoaVZlcnRleFBvc2l0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgoMzYwIC8gcGhpU3RlcCkgKiAzKTtcbiAgICAgICAgICAgIGNvbnN0IHRoZXRhUmFkID0gZGVnVG9SYWQodGhldGEpO1xuICAgICAgICAgICAgZm9yIChsZXQgcGhpID0gMDsgcGhpIDwgMzYwOyBwaGkgKz0gcGhpU3RlcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBoaVJhZCA9IGRlZ1RvUmFkKHBoaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IFIgKiBNYXRoLnNpbih0aGV0YVJhZCkgKiBNYXRoLmNvcyhwaGlSYWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBSICogTWF0aC5zaW4odGhldGFSYWQpICogTWF0aC5zaW4ocGhpUmFkKTtcbiAgICAgICAgICAgICAgICBjb25zdCB6ID0gUiAqIE1hdGguY29zKHRoZXRhUmFkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBNYXRoLmZsb29yKHBoaSAvIHBoaVN0ZXApO1xuICAgICAgICAgICAgICAgIHBoaVZlcnRleFBvc2l0aW9uWzMgKiBpZHggKyAwXSA9IHg7XG4gICAgICAgICAgICAgICAgcGhpVmVydGV4UG9zaXRpb25bMyAqIGlkeCArIDFdID0geTtcbiAgICAgICAgICAgICAgICBwaGlWZXJ0ZXhQb3NpdGlvblszICogaWR4ICsgMl0gPSB6O1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZGVjNExhYmVscy5oYXMocGhpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVjNExhYmVscy5zZXQocGhpLCBbXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVjNExhYmVscy5nZXQocGhpKS5wdXNoKFt4LCB5LCB6XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9waGlBcnJheS5wdXNoKHBoaVZlcnRleFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMaW5lcyBvZiBjb25zdGFudCBSQSAodmFyeWluZyBEZWMpOiBmb3IgZWFjaCBSQSwgYSByaW5nIHdpdGggdmVydGljZXMgZXZlcnkgdGhldGFTdGVwwrBcbiAgICAgICAgZm9yIChsZXQgcGhpID0gMDsgcGhpIDwgMzYwOyBwaGkgKz0gcGhpU3RlcCkge1xuICAgICAgICAgICAgY29uc3QgdGhldGFWZXJ0ZXhQb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoKDM2MCAvIHRoZXRhU3RlcCkgKiAzKTtcbiAgICAgICAgICAgIGNvbnN0IHBoaVJhZCA9IGRlZ1RvUmFkKHBoaSk7XG4gICAgICAgICAgICBmb3IgKGxldCB0aGV0YSA9IDA7IHRoZXRhIDwgMzYwOyB0aGV0YSArPSB0aGV0YVN0ZXApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGV0YVJhZCA9IGRlZ1RvUmFkKHRoZXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gUiAqIE1hdGguc2luKHRoZXRhUmFkKSAqIE1hdGguY29zKHBoaVJhZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IFIgKiBNYXRoLnNpbih0aGV0YVJhZCkgKiBNYXRoLnNpbihwaGlSYWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHogPSBSICogTWF0aC5jb3ModGhldGFSYWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IE1hdGguZmxvb3IodGhldGEgLyB0aGV0YVN0ZXApO1xuICAgICAgICAgICAgICAgIHRoZXRhVmVydGV4UG9zaXRpb25bMyAqIGlkeCArIDBdID0geDtcbiAgICAgICAgICAgICAgICB0aGV0YVZlcnRleFBvc2l0aW9uWzMgKiBpZHggKyAxXSA9IHk7XG4gICAgICAgICAgICAgICAgdGhldGFWZXJ0ZXhQb3NpdGlvblszICogaWR4ICsgMl0gPSB6O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY0tleSA9IDkwIC0gdGhldGE7IC8vIG9yaWdpbmFsIGNvZGXigJlzIGtleWluZyBmb3IgUkEgbGFiZWxzXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9yYTRMYWJlbHMuaGFzKGRlY0tleSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhNExhYmVscy5zZXQoZGVjS2V5LCBbXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmE0TGFiZWxzLmdldChkZWNLZXkpLnB1c2goW3gsIHksIHpdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RoZXRhQXJyYXkucHVzaCh0aGV0YVZlcnRleFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogVXBkYXRlIGJ1ZmZlcnMgd2hlbiBGb1YgKGluIGRlZ3JlZXMpIGNoYW5nZXMgKi9cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBjb25zdCBmb3ZEZWcgPSBoZWFscGl4R3JpZFNpbmdsZXRvbi5nZXRNaW5Gb1YoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvdiAhPT0gZm92RGVnKSB7XG4gICAgICAgICAgICB0aGlzLl9mb3YgPSBmb3ZEZWc7XG4gICAgICAgICAgICB0aGlzLmluaXRCdWZmZXJzKHRoaXMuX2Zvdik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmVjdG9yRGlzdGFuY2UocDEsIHAyKSB7XG4gICAgICAgIGNvbnN0IGR4ID0gcDEueCAtIHAyLng7XG4gICAgICAgIGNvbnN0IGR5ID0gcDEueSAtIHAyLnk7XG4gICAgICAgIGNvbnN0IGR6ID0gcDEueiAtIHAyLno7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6KTtcbiAgICB9XG4gICAgZW5hYmxlU2hhZGVyKG1NYXRyaXgsIHBNYXRyaXgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5fc2hhZGVyUHJvZ3JhbSk7XG4gICAgICAgIC8vIHVNVk1hdHJpeCA9IGNhbWVyYSAqIG1vZGVsXG4gICAgICAgIGNvbnN0IG12TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShtdk1hdHJpeCwgZ2xvYmFsLmNhbWVyYS5nZXRDYW1lcmFNYXRyaXgoKSwgbU1hdHJpeCk7XG4gICAgICAgIC8vIFRPRE8gbW92ZSBsb2NhdGlvbnMgcmV0cmlldmFsIGVsc2V3aGVyZVxuICAgICAgICAvLyBVbmlmb3JtIGxvY2F0aW9uc1xuICAgICAgICBjb25zdCB1TVZNYXRyaXhMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fc2hhZGVyUHJvZ3JhbSwgJ3VNVk1hdHJpeCcpO1xuICAgICAgICBjb25zdCB1UE1hdHJpeExvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9zaGFkZXJQcm9ncmFtLCAndVBNYXRyaXgnKTtcbiAgICAgICAgY29uc3QgdUNvbG9yID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sICd1X2ZyYWdjb2xvcicpO1xuICAgICAgICAvLyBBdHRyaWJ1dGUgbG9jYXRpb25zXG4gICAgICAgIHRoaXMuX2F0dHJpYkxvY2F0aW9ucy5wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sICdhQ2F0UG9zaXRpb24nKTtcbiAgICAgICAgaWYgKHVNVk1hdHJpeExvYylcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodU1WTWF0cml4TG9jLCBmYWxzZSwgbXZNYXRyaXgpO1xuICAgICAgICBpZiAodVBNYXRyaXhMb2MpXG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHVQTWF0cml4TG9jLCBmYWxzZSwgcE1hdHJpeCk7XG4gICAgICAgIGlmICh1Q29sb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHJnYiA9IGNvbG9ySGV4MlJHQih0aGlzLmRlZmF1bHRDb2xvcik7XG4gICAgICAgICAgICBnbC51bmlmb3JtNGYodUNvbG9yLCByZ2JbMF0sIHJnYlsxXSwgcmdiWzJdLCAxLjApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzVmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0dyaWQ7XG4gICAgfVxuICAgIHRvZ2dsZVNob3dHcmlkKCkge1xuICAgICAgICB0aGlzLnNob3dHcmlkID0gIXRoaXMuc2hvd0dyaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtTWF0cml4IG1vZGVsIG1hdHJpeCBhc3NvY2lhdGVkIHdpdGggY3VycmVudCBIaVBTIChvciBzY2VuZSkgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIGZvdk9iaiAgY3VycmVudCBmaWVsZC1vZi12aWV3IChkZWdyZWVzKS4gSWYgeW91ciBGb1YgdHlwZSBkaWZmZXJzLFxuICAgICAqICAgICAgICAgICAgICAgIHBhc3MgdGhlIG51bWVyaWMgdmFsdWUgaGVyZTsgdGhpcyBzaWduYXR1cmUgbWF0Y2hlcyBvcmlnaW5hbCB1c2FnZS5cbiAgICAgKi9cbiAgICBkcmF3KCkge1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgY29uc3QgbU1hdHJpeCA9IHRoaXMuZ2V0TW9kZWxNYXRyaXgoKTtcbiAgICAgICAgaWYgKHRoaXMuX3RoZXRhQXJyYXkubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dHcmlkKSB7XG4gICAgICAgICAgICAvLyBncmlkVGV4dEhlbHBlci5yZXNldERpdlNldHMoKTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFRleHQucmVzZXREaXZTZXRzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcE1hdHJpeCA9IGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeFNpbmdsZXRvbi5wTWF0cml4O1xuICAgICAgICB0aGlzLmVuYWJsZVNoYWRlcihtTWF0cml4LCBwTWF0cml4KTtcbiAgICAgICAgLy8gRHJhdyBEZWMgcmluZ3NcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9waGlBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2xvYmFsLmdsLmJpbmRCdWZmZXIoZ2xvYmFsLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fcGhpVmVydGV4UG9zaXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgZ2xvYmFsLmdsLmJ1ZmZlckRhdGEoZ2xvYmFsLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fcGhpQXJyYXlbaV0sIGdsb2JhbC5nbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgICAgICBnbG9iYWwuZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLl9hdHRyaWJMb2NhdGlvbnMucG9zaXRpb24sIDMsIGdsb2JhbC5nbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgZ2xvYmFsLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuX2F0dHJpYkxvY2F0aW9ucy5wb3NpdGlvbik7XG4gICAgICAgICAgICBnbG9iYWwuZ2wuZHJhd0FycmF5cyhnbG9iYWwuZ2wuTElORV9MT09QLCAwLCAzNjAgLyB0aGlzLl9waGlTdGVwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEcmF3IFJBIHJpbmdzXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fdGhldGFBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZ2xvYmFsLmdsLmJpbmRCdWZmZXIoZ2xvYmFsLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdGhldGFWZXJ0ZXhQb3NpdGlvbkJ1ZmZlcik7XG4gICAgICAgICAgICBnbG9iYWwuZ2wuYnVmZmVyRGF0YShnbG9iYWwuZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl90aGV0YUFycmF5W2pdLCBnbG9iYWwuZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICAgICAgZ2xvYmFsLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5fYXR0cmliTG9jYXRpb25zLnBvc2l0aW9uLCAzLCBnbG9iYWwuZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgICAgIGdsb2JhbC5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLl9hdHRyaWJMb2NhdGlvbnMucG9zaXRpb24pO1xuICAgICAgICAgICAgZ2xvYmFsLmdsLmRyYXdBcnJheXMoZ2xvYmFsLmdsLkxJTkVfTE9PUCwgMCwgMzYwIC8gdGhpcy5fdGhldGFTdGVwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMYWJlbCBsYXlvdXQgKEhUTUwgb3ZlcmxheSlcbiAgICAgICAgY29uc3QgY2VudGVyID0gRm9WVXRpbHMuZ2V0Q2VudGVySjIwMDAoZ2wuY2FudmFzKTtcbiAgICAgICAgLy8gTVZQID0gUCAqIFYgKiBNXG4gICAgICAgIGNvbnN0IG12TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShtdk1hdHJpeCwgZ2xvYmFsLmNhbWVyYS5nZXRDYW1lcmFNYXRyaXgoKSwgbU1hdHJpeCk7XG4gICAgICAgIGNvbnN0IG12cE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkobXZwTWF0cml4LCBwTWF0cml4LCBtdk1hdHJpeCk7XG4gICAgICAgIC8vIERlYyBsYWJlbHMgKGxvb3Agb3ZlciBSQSBrZXlzKVxuICAgICAgICBmb3IgKGNvbnN0IFtyYURlZ0tleSwgcG9pbnRzXSBvZiB0aGlzLl9kZWM0TGFiZWxzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHJhRGVnS2V5IC0gY2VudGVyLnJhRGVnKSA8PSB0aGlzLl9waGlTdGVwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCBwb2ludHMubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3gsIHksIHpdID0gcG9pbnRzW3BdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaGlQb2ludCA9IFt4LCB5LCB6LCAxXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoeyB4LCB5LCB6IH0sIENvb3Jkc1R5cGUuQ0FSVEVTSUFOKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVjRGVnID0gcG9pbnQuZGVjRGVnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVjRGVnIC0gY2VudGVyLmRlY0RlZykgPCA2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpcHNwYWNlID0gdmVjNC5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChjbGlwc3BhY2UsIHBoaVBvaW50LCBtdnBNYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGVyc3BlY3RpdmUgZGl2aWRlXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlwc3BhY2VbMF0gLz0gY2xpcHNwYWNlWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpcHNwYWNlWzFdIC89IGNsaXBzcGFjZVszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsaXAtPnBpeGVsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaXhlbFggPSAoY2xpcHNwYWNlWzBdICogMC41ICsgMC41KSAqIGdsb2JhbC5nbC5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaXhlbFkgPSAoY2xpcHNwYWNlWzFdICogLTAuNSArIDAuNSkgKiBnbG9iYWwuZ2wuY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFRleHQuYWRkRXFEaXZTZXQoZGVjRGVnLnRvRml4ZWQoMiksIHBpeGVsWCwgcGl4ZWxZLCAnZGVjJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkVGV4dEhlbHBlci5hZGRFcURpdlNldChkZWNEZWcudG9GaXhlZCgyKSwgcGl4ZWxYLCBwaXhlbFksICdkZWMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSQSBsYWJlbHMgKGxvb3Agb3ZlciBEZWMga2V5cylcbiAgICAgICAgZm9yIChjb25zdCBbZGVjRGVnS2V5LCBwb2ludHNdIG9mIHRoaXMuX3JhNExhYmVscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWNEZWdLZXkgLSBjZW50ZXIuZGVjRGVnKSA8PSB0aGlzLl90aGV0YVN0ZXApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IHBvaW50cy5sZW5ndGg7IHArKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbeCwgeSwgel0gPSBwb2ludHNbcF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBoaVBvaW50ID0gW3gsIHksIHosIDFdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludCh7IHgsIHksIHogfSwgQ29vcmRzVHlwZS5DQVJURVNJQU4pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkID0gdGhpcy52ZWN0b3JEaXN0YW5jZShwb2ludCwgY2VudGVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFEZWcgPSBwb2ludC5yYURlZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCBkZWdUb1JhZCg1MCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaXBzcGFjZSA9IHZlYzQuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoY2xpcHNwYWNlLCBwaGlQb2ludCwgbXZwTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBzcGFjZVswXSAvPSBjbGlwc3BhY2VbM107XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlwc3BhY2VbMV0gLz0gY2xpcHNwYWNlWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxYID0gKGNsaXBzcGFjZVswXSAqIDAuNSArIDAuNSkgKiBnbG9iYWwuZ2wuY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxZID0gKGNsaXBzcGFjZVsxXSAqIC0wLjUgKyAwLjUpICogZ2xvYmFsLmdsLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkVGV4dEhlbHBlci5hZGRFcURpdlNldChyYURlZy50b0ZpeGVkKDIpLCBwaXhlbFgsIHBpeGVsWSwgJ3JhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRUZXh0LmFkZEVxRGl2U2V0KHJhRGVnLnRvRml4ZWQoMiksIHBpeGVsWCwgcGl4ZWxZLCAncmEnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdyaWRUZXh0LnJlc2V0RGl2U2V0cygpO1xuICAgICAgICAvLyBncmlkVGV4dEhlbHBlci5yZXNldERpdlNldHMoKTtcbiAgICAgICAgLy8gQ2xlYW51cFxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICB9XG59XG5jb25zdCBlcXVhdG9yaWFsR3JpZFNpbmdsZXRvbiA9IG5ldyBFcXVhdG9yaWFsR3JpZCgpO1xuZXhwb3J0IGRlZmF1bHQgZXF1YXRvcmlhbEdyaWRTaW5nbGV0b247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FcXVhdG9yaWFsR3JpZC5qcy5tYXAiLCIvKipcbiAqIEBhdXRob3IgRmFicml6aW8gR2lvcmRhbm8gKEZhYilcbiAqIEBwYXJhbSBpbl9yYWRpdXMgLSBudW1iZXJcbiAqIEBwYXJhbSBpbl9nbCAtIEdMIGNvbnRleHRcbiAqIEBwYXJhbSBpbl9wb3NpdGlvbiAtIGFycmF5IG9mIGRvdWJsZSBlLmcuIFswLjAsIDAuMCwgMC4wXVxuICovXG5jbGFzcyBHcmlkVGV4dEhlbHBlciB7XG4gICAgX2RpdkVxQ29udGFpbmVyRWxlbWVudDtcbiAgICBfZGl2SFBYQ29udGFpbmVyRWxlbWVudDtcbiAgICBfZGl2U2V0cztcbiAgICBfZGl2U2V0TmR4O1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9kaXZFcUNvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ3JpZGNvb3JkcycpO1xuICAgICAgICB0aGlzLl9kaXZIUFhDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dyaWRocHgnKTtcbiAgICAgICAgdGhpcy5fZGl2U2V0TmR4ID0gMDtcbiAgICAgICAgdGhpcy5fZGl2U2V0cyA9IFtdO1xuICAgIH1cbiAgICBpbml0SHRtbCgpIHtcbiAgICAgICAgLy8gS2VwdCBmb3IgQVBJIHBhcml0eTsgbm90aGluZyByZXF1aXJlZCBoZXJlIHdpdGggY3VycmVudCBsb2dpYy5cbiAgICB9XG4gICAgcmVzZXREaXZTZXRzKCkge1xuICAgICAgICAvLyBIaWRlIHJlbWFpbmluZyBkaXZzIGFuZCByZXNldCBpbmRleFxuICAgICAgICBmb3IgKDsgdGhpcy5fZGl2U2V0TmR4IDwgdGhpcy5fZGl2U2V0cy5sZW5ndGg7ICsrdGhpcy5fZGl2U2V0TmR4KSB7XG4gICAgICAgICAgICB0aGlzLl9kaXZTZXRzW3RoaXMuX2RpdlNldE5keF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXZTZXROZHggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgLyByZXVzZSBhIGZsb2F0aW5nIGxhYmVsIGZvciBIUFggY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBhZGRIUFhEaXZTZXQobXNnLCB4LCB5KSB7XG4gICAgICAgIGxldCBkaXZTZXQgPSB0aGlzLl9kaXZTZXRzW3RoaXMuX2RpdlNldE5keCsrXTtcbiAgICAgICAgLy8gQ3JlYXRlIG9uIGRlbWFuZFxuICAgICAgICBpZiAoIWRpdlNldCkge1xuICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZmxvYXRpbmctZGl2LXJhJzsgLy8gc3R5bGUgbGlrZSBSQSB0YWdzXG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kaXZIUFhDb250YWluZXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGl2SFBYQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNncmlkaHB4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpdkhQWENvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjb250YWluZXIgaXMgc3RpbGwgbWlzc2luZywgYWJvcnQgZ3JhY2VmdWxseVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RpdkhQWENvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICAgIGRpdlNldCA9IHsgZGl2LCB0ZXh0Tm9kZSwgc3R5bGU6IGRpdi5zdHlsZSB9O1xuICAgICAgICAgICAgdGhpcy5fZGl2U2V0cy5wdXNoKGRpdlNldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdyAmIHBvc2l0aW9uXG4gICAgICAgIGRpdlNldC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZGl2U2V0LnN0eWxlLmxlZnQgPSBgJHtNYXRoLmZsb29yKHggKyAyNSl9cHhgO1xuICAgICAgICBkaXZTZXQuc3R5bGUudG9wID0gYCR7TWF0aC5mbG9vcih5KX1weGA7XG4gICAgICAgIGRpdlNldC50ZXh0Tm9kZS5ub2RlVmFsdWUgPSBtc2c7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCAvIHJldXNlIGEgZmxvYXRpbmcgbGFiZWwgZm9yIEVxdWF0b3JpYWwgY29vcmRzXG4gICAgICogQHBhcmFtIHR5cGUgJ3JhJyBvciAnZGVjJ1xuICAgICAqL1xuICAgIGFkZEVxRGl2U2V0KG1zZywgeCwgeSwgdHlwZSkge1xuICAgICAgICBsZXQgZGl2U2V0ID0gdGhpcy5fZGl2U2V0c1t0aGlzLl9kaXZTZXROZHgrK107XG4gICAgICAgIGlmICghZGl2U2V0KSB7XG4gICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9IHR5cGUgPT09ICdyYScgPyAnZmxvYXRpbmctZGl2LXJhJyA6ICdmbG9hdGluZy1kaXYtZGVjJztcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpdkVxQ29udGFpbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpdkVxQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNncmlkY29vcmRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpdkVxQ29udGFpbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIGNvbnRhaW5lciBpcyBzdGlsbCBtaXNzaW5nLCBhYm9ydCBncmFjZWZ1bGx5XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGl2RXFDb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICBkaXZTZXQgPSB7IGRpdiwgdGV4dE5vZGUsIHN0eWxlOiBkaXYuc3R5bGUgfTtcbiAgICAgICAgICAgIHRoaXMuX2RpdlNldHMucHVzaChkaXZTZXQpO1xuICAgICAgICB9XG4gICAgICAgIGRpdlNldC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgaWYgKHR5cGUgPT09ICdyYScpIHtcbiAgICAgICAgICAgIGRpdlNldC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5mbG9vcih4ICsgMjUpfXB4YDtcbiAgICAgICAgICAgIGRpdlNldC5zdHlsZS50b3AgPSBgJHtNYXRoLmZsb29yKHkpfXB4YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRpdlNldC5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5mbG9vcih4KX1weGA7XG4gICAgICAgICAgICBkaXZTZXQuc3R5bGUudG9wID0gYCR7TWF0aC5mbG9vcih5ICsgMjUpfXB4YDtcbiAgICAgICAgfVxuICAgICAgICBkaXZTZXQudGV4dE5vZGUubm9kZVZhbHVlID0gbXNnO1xuICAgIH1cbn1cbi8vIGV4cG9ydCBjb25zdCBncmlkVGV4dEhlbHBlciA9IG5ldyBHcmlkVGV4dEhlbHBlcigpO1xuZXhwb3J0IGRlZmF1bHQgR3JpZFRleHRIZWxwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmlkVGV4dEhlbHBlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5pbXBvcnQgQWJzdHJhY3RTa3lFbnRpdHkgZnJvbSAnLi4vQWJzdHJhY3RTa3lFbnRpdHkuanMnO1xuaW1wb3J0IGdsb2JhbCBmcm9tICcuLi8uLi9HbG9iYWwuanMnO1xuaW1wb3J0IHsgbWF0NCwgdmVjNCB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBmb3ZIZWxwZXIgfSBmcm9tICcuLi9oaXBzL0ZvVkhlbHBlci5qcyc7XG5pbXBvcnQgeyBGb1ZVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL0ZvVlV0aWxzLmpzJztcbmltcG9ydCB7IEZvViB9IGZyb20gJy4uL0ZvVi5qcyc7XG5pbXBvcnQgeyBDb29yZHNUeXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvQ29vcmRzVHlwZS5qcyc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL1BvaW50LmpzJztcbmltcG9ydCBHcmlkU2hhZGVyTWFuYWdlciBmcm9tICcuLi8uLi9zaGFkZXIvR3JpZFNoYWRlck1hbmFnZXIuanMnO1xuaW1wb3J0IEdlb21VdGlscyBmcm9tICcuLi8uLi91dGlscy9HZW9tVXRpbHMuanMnO1xuaW1wb3J0IEdyaWRUZXh0SGVscGVyIGZyb20gJy4vR3JpZFRleHRIZWxwZXIuanMnO1xuaW1wb3J0IHsgdmlzaWJsZVRpbGVzTWFuYWdlciB9IGZyb20gJy4uL2hpcHMvVmlzaWJsZVRpbGVzTWFuYWdlci5qcyc7XG5pbXBvcnQgY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uIGZyb20gJy4uLy4uL3V0aWxzL0NvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeC5qcyc7XG5pbXBvcnQgeyBjb2xvckhleDJSR0IgfSBmcm9tICcuLi8uLi91dGlscy9VdGlscy5qcyc7XG5jbGFzcyBIZWFscGl4R3JpZFNpbmdsZXRvbiBleHRlbmRzIEFic3RyYWN0U2t5RW50aXR5IHtcbiAgICBzdGF0aWMgRUxFTV9TSVpFID0gMztcbiAgICBzdGF0aWMgQllURVNfWF9FTEVNID0gbmV3IEZsb2F0MzJBcnJheSgpLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgIF92aXNpYmxlb3JkZXIgPSAwO1xuICAgIHNob3dHcmlkID0gZmFsc2U7XG4gICAgX3NoYWRlclByb2dyYW07XG4gICAgZnJhZ21lbnRTaGFkZXI7XG4gICAgdmVydGV4U2hhZGVyO1xuICAgIGRlZmF1bHRDb2xvciA9ICcjZWMwYWNhZmYnO1xuICAgIGdyaWRUZXh0ID0gbmV3IEdyaWRUZXh0SGVscGVyKCk7XG4gICAgX2F0dHJpYkxvY2F0aW9ucyA9IHtcbiAgICAgICAgcG9zaXRpb246IDAsXG4gICAgICAgIHNlbGVjdGVkOiAxLFxuICAgICAgICBwb2ludFNpemU6IDIsXG4gICAgICAgIGNvbG9yOiAzLFxuICAgIH07XG4gICAgX25QcmltaXRpdmVGbGFncyA9IDA7XG4gICAgX3ZlcnRleENhdGFsb2d1ZVBvc2l0aW9uQnVmZmVyO1xuICAgIF9pbmRleEJ1ZmZlcjtcbiAgICBfdmVydGV4Q2F0YWxvZ3VlUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDApO1xuICAgIF9pbmRleGVzID0gbmV3IFVpbnQzMkFycmF5KDApO1xuICAgIGZvdk9iajtcbiAgICBzdGF0aWMgSU5JVElBTF9GT1YgPSAxODA7XG4gICAgc3RhdGljIFJBRElVUyA9IDE7XG4gICAgc3RhdGljIElOSVRJQUxfUE9TSVRJT04gPSBbMC4wLCAwLjAsIDAuMF07XG4gICAgc3RhdGljIElOSVRJQUxfUGhpUmFkID0gMDtcbiAgICBzdGF0aWMgSU5JVElBTF9UaGV0YVJhZCA9IDA7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEhlYWxwaXhHcmlkU2luZ2xldG9uLlJBRElVUywgSGVhbHBpeEdyaWRTaW5nbGV0b24uSU5JVElBTF9QT1NJVElPTiwgSGVhbHBpeEdyaWRTaW5nbGV0b24uSU5JVElBTF9QaGlSYWQsIEhlYWxwaXhHcmlkU2luZ2xldG9uLklOSVRJQUxfVGhldGFSYWQsICdoZWFscGl4LWdyaWQnKTtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0hlYWxwaXhHcmlkU2luZ2xldG9uLmluaXQoKScpO1xuICAgICAgICB0aGlzLmluaXRHTChnbG9iYWwuZ2wpO1xuICAgICAgICB0aGlzLl9zaGFkZXJQcm9ncmFtID0gZ2xvYmFsLmdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgdGhpcy5pbml0U2hhZGVycygpO1xuICAgICAgICBjb25zdCBvcmRlciA9IGZvdkhlbHBlci5nZXRIaVBTTm9yZGVyKEhlYWxwaXhHcmlkU2luZ2xldG9uLklOSVRJQUxfRk9WKTtcbiAgICAgICAgdGhpcy5fdmlzaWJsZW9yZGVyID0gb3JkZXI7XG4gICAgICAgIHRoaXMuX25QcmltaXRpdmVGbGFncyA9IDA7XG4gICAgICAgIHRoaXMuX3ZlcnRleENhdGFsb2d1ZVBvc2l0aW9uQnVmZmVyID0gZ2xvYmFsLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IGdsb2JhbC5nbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fdmVydGV4Q2F0YWxvZ3VlUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDApO1xuICAgICAgICB0aGlzLmZvdk9iaiA9IG5ldyBGb1YoKTtcbiAgICB9XG4gICAgZ2V0IFJBRElVUygpIHtcbiAgICAgICAgcmV0dXJuIEhlYWxwaXhHcmlkU2luZ2xldG9uLlJBRElVUztcbiAgICB9XG4gICAgZ2V0IElOSVRJQUxfUE9TSVRJT04oKSB7XG4gICAgICAgIHJldHVybiBIZWFscGl4R3JpZFNpbmdsZXRvbi5JTklUSUFMX1BPU0lUSU9OO1xuICAgIH1cbiAgICBnZXQgSU5JVElBTF9QaGlSYWQoKSB7XG4gICAgICAgIHJldHVybiBIZWFscGl4R3JpZFNpbmdsZXRvbi5JTklUSUFMX1BoaVJhZDtcbiAgICB9XG4gICAgZ2V0IElOSVRJQUxfVGhldGFSYWQoKSB7XG4gICAgICAgIHJldHVybiBIZWFscGl4R3JpZFNpbmdsZXRvbi5JTklUSUFMX1RoZXRhUmFkO1xuICAgIH1cbiAgICByZWZyZXNoRm9WKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3ZPYmouZ2V0Rm9WKGdsb2JhbC5pbnNpZGVTcGhlcmUpO1xuICAgIH1cbiAgICBnZXRGb1YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvdk9iajtcbiAgICB9XG4gICAgZ2V0TWluRm9WKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3ZPYmoubWluRm9WO1xuICAgIH1cbiAgICBpbml0U2hhZGVycygpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU3RyID0gR3JpZFNoYWRlck1hbmFnZXIuaGVhbHBpeEdyaWRGUygpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZSh0aGlzLmZyYWdtZW50U2hhZGVyLCBmcmFnbWVudFNoYWRlclN0cik7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIodGhpcy5mcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuZnJhZ21lbnRTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgYWxlcnQoZ2wuZ2V0U2hhZGVySW5mb0xvZyh0aGlzLmZyYWdtZW50U2hhZGVyKSB8fCAnRnJhZ21lbnQgc2hhZGVyIGNvbXBpbGUgZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJ0ZXhTaGFkZXJTdHIgPSBHcmlkU2hhZGVyTWFuYWdlci5oZWFscGl4R3JpZFZTKCk7XG4gICAgICAgIHRoaXMudmVydGV4U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodGhpcy52ZXJ0ZXhTaGFkZXIsIHZlcnRleFNoYWRlclN0cik7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIodGhpcy52ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcih0aGlzLnZlcnRleFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBhbGVydChnbC5nZXRTaGFkZXJJbmZvTG9nKHRoaXMudmVydGV4U2hhZGVyKSB8fCAnVmVydGV4IHNoYWRlciBjb21waWxlIGVycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMudmVydGV4U2hhZGVyKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBnbC5saW5rUHJvZ3JhbSh0aGlzLl9zaGFkZXJQcm9ncmFtKTtcbiAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBpbml0aWFsaXNlIHNoYWRlcnMnKTtcbiAgICAgICAgfVxuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMuX3NoYWRlclByb2dyYW0pO1xuICAgIH1cbiAgICBpbml0QnVmZmVycyhwaXhlbHMsIG9yZGVyKSB7XG4gICAgICAgIHRoaXMuX25QcmltaXRpdmVGbGFncyA9IDA7XG4gICAgICAgIGNvbnN0IGhlYWxwaXggPSBnbG9iYWwuZ2V0SGVhbHBpeChvcmRlcik7XG4gICAgICAgIGNvbnN0IHN1YmhweCA9IGdsb2JhbC5nZXRIZWFscGl4KG9yZGVyICsgMSk7XG4gICAgICAgIGNvbnN0IHN1YnN1YmhweCA9IGdsb2JhbC5nZXRIZWFscGl4KG9yZGVyICsgMik7XG4gICAgICAgIGxldCBwb3NpdGlvbkluZGV4ID0gMDtcbiAgICAgICAgbGV0IHZJZHggPSAwO1xuICAgICAgICBjb25zdCBSID0gMS4wO1xuICAgICAgICBjb25zdCBNQVhfVUlOVCA9IDB4ZmZmZmZmZmY7XG4gICAgICAgIHRoaXMuX2luZGV4ZXMgPSBuZXcgVWludDMyQXJyYXkoMTcgKiBwaXhlbHMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5fdmVydGV4Q2F0YWxvZ3VlUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDMgKiAxNiAqIHBpeGVscy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IHBpeGVscy5sZW5ndGg7IHArKykge1xuICAgICAgICAgICAgY29uc3QgdmVjcyA9IGhlYWxwaXguZ2V0Qm91bmRhcmllcyhwaXhlbHNbcF0pO1xuICAgICAgICAgICAgY29uc3QgY3BpeDAgPSBwaXhlbHNbcF0gPDwgMjtcbiAgICAgICAgICAgIGNvbnN0IGNwaXgxID0gY3BpeDAgKyAxO1xuICAgICAgICAgICAgY29uc3QgY3BpeDIgPSBjcGl4MCArIDI7XG4gICAgICAgICAgICBjb25zdCBjcGl4MyA9IGNwaXgwICsgMztcbiAgICAgICAgICAgIGNvbnN0IGNwMHZlY3MgPSBzdWJocHguZ2V0Qm91bmRhcmllcyhjcGl4MCk7XG4gICAgICAgICAgICBjb25zdCBjcDN2ZWNzID0gc3ViaHB4LmdldEJvdW5kYXJpZXMoY3BpeDMpO1xuICAgICAgICAgICAgLy8gaGVscGVyIHRvIHB1c2ggYSB2ZXJ0ZXhcbiAgICAgICAgICAgIGNvbnN0IHB1c2hWID0gKHYpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl92ZXJ0ZXhDYXRhbG9ndWVQb3NpdGlvbltwb3NpdGlvbkluZGV4XSA9IFIgKiB2Lng7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmVydGV4Q2F0YWxvZ3VlUG9zaXRpb25bcG9zaXRpb25JbmRleCArIDFdID0gUiAqIHYueTtcbiAgICAgICAgICAgICAgICB0aGlzLl92ZXJ0ZXhDYXRhbG9ndWVQb3NpdGlvbltwb3NpdGlvbkluZGV4ICsgMl0gPSBSICogdi56O1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ZXNbdklkeF0gPSBNYXRoLmZsb29yKHBvc2l0aW9uSW5kZXggLyAzKTtcbiAgICAgICAgICAgICAgICB2SWR4ICs9IDE7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25JbmRleCArPSAzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHYwKDMvMClcbiAgICAgICAgICAgIHB1c2hWKHZlY3NbMF0pO1xuICAgICAgICAgICAgLy8gdjEoMTUvMilcbiAgICAgICAgICAgIGxldCBzdWJjcGl4MyA9IGNwaXgzIDw8IDI7XG4gICAgICAgICAgICBsZXQgc3ViY3BpeDNfMyA9IHN1YmNwaXgzICsgMztcbiAgICAgICAgICAgIGxldCB0bXAgPSBzdWJzdWJocHguZ2V0Qm91bmRhcmllcyhzdWJjcGl4M18zKTtcbiAgICAgICAgICAgIHB1c2hWKHRtcFsxXSk7XG4gICAgICAgICAgICAvLyB2MSgzLzEpXG4gICAgICAgICAgICBwdXNoVihjcDN2ZWNzWzFdKTtcbiAgICAgICAgICAgIC8vIHYwKDIvMilcbiAgICAgICAgICAgIGxldCBzdWJjcGl4MiA9IGNwaXgyIDw8IDI7XG4gICAgICAgICAgICBsZXQgc3ViY3BpeDJfMiA9IHN1YmNwaXgyICsgMjtcbiAgICAgICAgICAgIHRtcCA9IHN1YnN1YmhweC5nZXRCb3VuZGFyaWVzKHN1YmNwaXgyXzIpO1xuICAgICAgICAgICAgcHVzaFYodG1wWzBdKTtcbiAgICAgICAgICAgIC8vIHYxKDAvMClcbiAgICAgICAgICAgIHB1c2hWKHZlY3NbMV0pO1xuICAgICAgICAgICAgLy8gdjIoMi8yKVxuICAgICAgICAgICAgcHVzaFYodG1wWzJdKTtcbiAgICAgICAgICAgIC8vIHYxKDAvMSlcbiAgICAgICAgICAgIHB1c2hWKGNwMHZlY3NbMV0pO1xuICAgICAgICAgICAgLy8gdjEoMC8yKVxuICAgICAgICAgICAgbGV0IHN1YmNwaXgwID0gY3BpeDAgPDwgMjtcbiAgICAgICAgICAgIGxldCBzdWJjcGl4MF8yID0gc3ViY3BpeDA7XG4gICAgICAgICAgICB0bXAgPSBzdWJzdWJocHguZ2V0Qm91bmRhcmllcyhzdWJjcGl4MF8yKTtcbiAgICAgICAgICAgIHB1c2hWKHRtcFsxXSk7XG4gICAgICAgICAgICAvLyB2MigwLzApXG4gICAgICAgICAgICBwdXNoVih2ZWNzWzJdKTtcbiAgICAgICAgICAgIC8vIHYzKDAvMilcbiAgICAgICAgICAgIHB1c2hWKHRtcFszXSk7XG4gICAgICAgICAgICAvLyB2MygwLzEpXG4gICAgICAgICAgICBwdXNoVihjcDB2ZWNzWzNdKTtcbiAgICAgICAgICAgIC8vIHYyKDUvMilcbiAgICAgICAgICAgIGxldCBzdWJjcGl4MSA9IGNwaXgxIDw8IDI7XG4gICAgICAgICAgICBsZXQgc3ViY3BpeDFfMSA9IHN1YmNwaXgxICsgMTtcbiAgICAgICAgICAgIHRtcCA9IHN1YnN1YmhweC5nZXRCb3VuZGFyaWVzKHN1YmNwaXgxXzEpO1xuICAgICAgICAgICAgcHVzaFYodG1wWzJdKTtcbiAgICAgICAgICAgIC8vIHYzKDAvMClcbiAgICAgICAgICAgIHB1c2hWKHZlY3NbM10pO1xuICAgICAgICAgICAgLy8gdjAoNS8yKVxuICAgICAgICAgICAgcHVzaFYodG1wWzBdKTtcbiAgICAgICAgICAgIC8vIHYzKDMvMSlcbiAgICAgICAgICAgIHB1c2hWKGNwM3ZlY3NbM10pO1xuICAgICAgICAgICAgdG1wID0gc3Vic3ViaHB4LmdldEJvdW5kYXJpZXMoc3ViY3BpeDNfMyk7XG4gICAgICAgICAgICBwdXNoVih0bXBbM10pO1xuICAgICAgICAgICAgLy8gcHJpbWl0aXZlIHJlc3RhcnRcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ZXNbdklkeF0gPSBNQVhfVUlOVDtcbiAgICAgICAgICAgIHRoaXMuX25QcmltaXRpdmVGbGFncyArPSAxO1xuICAgICAgICAgICAgdklkeCArPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHVwZGF0ZVRpbGVzKHBpeGVsczogbnVtYmVyW10sIG9yZGVyOiBudW1iZXIpIHtcbiAgICAvLyAgIHJldHVybiAodGhpcyBhcyBhbnkpLl90aWxlQnVmZmVyLnVwZGF0ZVRpbGVzKHBpeGVscywgb3JkZXIpO1xuICAgIC8vIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLnJlZnJlc2hGb1YoKTtcbiAgICAgICAgY29uc3QgZm92ID0gdGhpcy5nZXRNaW5Gb1YoKTtcbiAgICAgICAgLy8gZXhwb3NlIHRvIGdsb2JhbCAobGVnYWN5KVxuICAgICAgICAvLyAoZ2xvYmFsIGFzIGFueSkuaGlwc0ZvViA9IGZvdjtcbiAgICAgICAgLy8gZ2xvYmFsLm9yZGVyID0gZm92SGVscGVyLmdldEhpUFNOb3JkZXIoZm92KTtcbiAgICAgICAgLy8gdGhpcy5fdmlzaWJsZW9yZGVyID0gZ2xvYmFsLm9yZGVyO1xuICAgICAgICB0aGlzLl92aXNpYmxlb3JkZXIgPSBmb3ZIZWxwZXIuZ2V0SGlQU05vcmRlcihmb3YpO1xuICAgIH1cbiAgICBlbmFibGVTaGFkZXIoaW5fbU1hdHJpeCwgcE1hdHJpeCkge1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLl9zaGFkZXJQcm9ncmFtKTtcbiAgICAgICAgLy8gVE9ETyBtb3ZlIGxvY2F0aW9ucyByZXRyaWV2YWwgZWxzZXdoZXJlXG4gICAgICAgIC8vIFVuaWZvcm0gbG9jYXRpb25zXG4gICAgICAgIGNvbnN0IHVNViA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9zaGFkZXJQcm9ncmFtLCAndU1WTWF0cml4Jyk7XG4gICAgICAgIGNvbnN0IHVQID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sICd1UE1hdHJpeCcpO1xuICAgICAgICBjb25zdCB1Q29sb3IgPSBnbG9iYWwuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sICd1X2ZyYWdjb2xvcicpO1xuICAgICAgICAvLyBBdHRyaWJ1dGUgbG9jYXRpb25zXG4gICAgICAgIHRoaXMuX2F0dHJpYkxvY2F0aW9ucy5wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sICdhQ2F0UG9zaXRpb24nKTtcbiAgICAgICAgbGV0IG12TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbXZNYXRyaXggPSBtYXQ0Lm11bHRpcGx5KG12TWF0cml4LCBnbG9iYWwuY2FtZXJhLmdldENhbWVyYU1hdHJpeCgpLCBpbl9tTWF0cml4KTtcbiAgICAgICAgaWYgKHVNVilcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodU1WLCBmYWxzZSwgbXZNYXRyaXgpO1xuICAgICAgICBpZiAodVApXG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHVQLCBmYWxzZSwgcE1hdHJpeCk7XG4gICAgICAgIGlmICh1Q29sb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHJnYiA9IGNvbG9ySGV4MlJHQih0aGlzLmRlZmF1bHRDb2xvcik7XG4gICAgICAgICAgICBnbC51bmlmb3JtNGYodUNvbG9yLCByZ2JbMF0sIHJnYlsxXSwgcmdiWzJdLCAxLjApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzVmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0dyaWQ7XG4gICAgfVxuICAgIHRvZ2dsZVNob3dHcmlkKCkge1xuICAgICAgICB0aGlzLnNob3dHcmlkID0gIXRoaXMuc2hvd0dyaWQ7XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICBjb25zdCBtTWF0cml4ID0gdGhpcy5nZXRNb2RlbE1hdHJpeCgpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dHcmlkKSB7XG4gICAgICAgICAgICAvLyBncmlkVGV4dEhlbHBlci5yZXNldERpdlNldHMoKTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFRleHQucmVzZXREaXZTZXRzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlzaWJsZVRpbGVzID0gdmlzaWJsZVRpbGVzTWFuYWdlci52aXNpYmxlVGlsZXNCeU9yZGVyO1xuICAgICAgICBjb25zdCBwaXhlbHMgPSB2aXNpYmxlVGlsZXMucGl4ZWxzO1xuICAgICAgICBjb25zdCBvcmRlciA9IHZpc2libGVUaWxlcy5vcmRlcjtcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycyhwaXhlbHMsIG9yZGVyKTtcbiAgICAgICAgY29uc3QgcE1hdHJpeCA9IGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeFNpbmdsZXRvbi5wTWF0cml4O1xuICAgICAgICB0aGlzLmVuYWJsZVNoYWRlcihtTWF0cml4LCBwTWF0cml4KTtcbiAgICAgICAgLy8gVXBsb2FkIHBvc2l0aW9uc1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmVydGV4Q2F0YWxvZ3VlUG9zaXRpb25CdWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmVydGV4Q2F0YWxvZ3VlUG9zaXRpb24sIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLl9hdHRyaWJMb2NhdGlvbnMucG9zaXRpb24sIEhlYWxwaXhHcmlkU2luZ2xldG9uLkVMRU1fU0laRSwgZ2wuRkxPQVQsIGZhbHNlLCBIZWFscGl4R3JpZFNpbmdsZXRvbi5CWVRFU19YX0VMRU0gKiBIZWFscGl4R3JpZFNpbmdsZXRvbi5FTEVNX1NJWkUsIDApO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLl9hdHRyaWJMb2NhdGlvbnMucG9zaXRpb24pO1xuICAgICAgICAvLyBJbmRleCBidWZmZXJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faW5kZXhCdWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pbmRleGVzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FX0xPT1AsIHRoaXMuX3ZlcnRleENhdGFsb2d1ZVBvc2l0aW9uLmxlbmd0aCAvIDMgKyB0aGlzLl9uUHJpbWl0aXZlRmxhZ3MsIGdsLlVOU0lHTkVEX0lOVCwgMCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICAgIC8vIFByb2plY3QgYW5kIGxhYmVsIHBpeGVsIGNlbnRlcnMgdGhhdCBhcmUgaW5zaWRlIGN1cnJlbnQgRm9WXG4gICAgICAgIGxldCBtdk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG12TWF0cml4ID0gbWF0NC5tdWx0aXBseShtdk1hdHJpeCwgZ2xvYmFsLmNhbWVyYS5nZXRDYW1lcmFNYXRyaXgoKSwgbU1hdHJpeCk7XG4gICAgICAgIGxldCBtdnBNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICBtdnBNYXRyaXggPSBtYXQ0Lm11bHRpcGx5KG12cE1hdHJpeCwgcE1hdHJpeCwgbXZNYXRyaXgpO1xuICAgICAgICAvLyBGSVg6IHBhc3MgbW9kZWwgJiBwTWF0cml4IHRvIG1hdGNoIEZvVlV0aWxzIFRTIHNpZ25hdHVyZVxuICAgICAgICBjb25zdCBjZW50ZXIgPSBGb1ZVdGlscy5nZXRDZW50ZXJKMjAwMChnbC5jYW52YXMpO1xuICAgICAgICBjb25zdCBmb3ZNaW4gPSAodGhpcy5nZXRNaW5Gb1YoKSAqIE1hdGguUEkpIC8gMTgwIC8gMjtcbiAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCBwaXhlbHMubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBpeENlbnRlciA9IGdsb2JhbC5nZXRIZWFscGl4KHRoaXMuX3Zpc2libGVvcmRlcikucGl4MnZlYyhwaXhlbHNbcF0pO1xuICAgICAgICAgICAgLy8gY29uc3QgcGl4Q2VudGVyID0gKGdsb2JhbC5nZXRIZWFscGl4KGdsb2JhbC5vcmRlcikucGl4MnZlYyhwaXhlbHNbcF0pIGFzIEJvdW5kVmVjKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KHsgeDogcGl4Q2VudGVyLngsIHk6IHBpeENlbnRlci55LCB6OiBwaXhDZW50ZXIueiB9LCBDb29yZHNUeXBlLkNBUlRFU0lBTik7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IEdlb21VdGlscy5vcnRob2Ryb21pY0Rpc3RhbmNlKGNlbnRlciwgcG9pbnQpO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgZm92TWluKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGV4ID0gW3BpeENlbnRlci54LCBwaXhDZW50ZXIueSwgcGl4Q2VudGVyLnosIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaXBzcGFjZSA9IHZlYzQuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGNsaXBzcGFjZSwgdmVydGV4LCBtdnBNYXRyaXgpO1xuICAgICAgICAgICAgICAgIC8vIE5EQyBkaXZpZGVcbiAgICAgICAgICAgICAgICBjbGlwc3BhY2VbMF0gLz0gY2xpcHNwYWNlWzNdO1xuICAgICAgICAgICAgICAgIGNsaXBzcGFjZVsxXSAvPSBjbGlwc3BhY2VbM107XG4gICAgICAgICAgICAgICAgLy8gY2xpcCDihpIgcGl4ZWxzXG4gICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxYID0gKGNsaXBzcGFjZVswXSAqIDAuNSArIDAuNSkgKiBnbC5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxZID0gKGNsaXBzcGFjZVsxXSAqIC0wLjUgKyAwLjUpICogZ2wuY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRUZXh0LmFkZEhQWERpdlNldCh0aGlzLl92aXNpYmxlb3JkZXIgKyAnLycgKyBwaXhlbHNbcF0sIHBpeGVsWCwgcGl4ZWxZKTtcbiAgICAgICAgICAgICAgICAvLyBncmlkVGV4dEhlbHBlci5hZGRIUFhEaXZTZXQodGhpcy5fdmlzaWJsZW9yZGVyICsgJy8nICsgcGl4ZWxzW3BdLCBwaXhlbFgsIHBpeGVsWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ3JpZFRleHRIZWxwZXIucmVzZXREaXZTZXRzKCk7XG4gICAgICAgIHRoaXMuZ3JpZFRleHQucmVzZXREaXZTZXRzKCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgIH1cbiAgICBnZXQgdmlzaWJsZW9yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZW9yZGVyO1xuICAgIH1cbn1cbmNvbnN0IGhlYWxwaXhHcmlkU2luZ2xldG9uID0gbmV3IEhlYWxwaXhHcmlkU2luZ2xldG9uKCk7XG5leHBvcnQgZGVmYXVsdCBoZWFscGl4R3JpZFNpbmdsZXRvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlYWxwaXhHcmlkU2luZ2xldG9uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGhpcHNTaGFkZXJQcm9ncmFtIH0gZnJvbSAnLi4vLi4vc2hhZGVyL0hpUFNTaGFkZXJQcm9ncmFtLmpzJztcbmltcG9ydCBnbG9iYWwgZnJvbSAnLi4vLi4vR2xvYmFsLmpzJztcbmltcG9ydCB7IG5ld1RpbGVCdWZmZXIgfSBmcm9tICcuL1RpbGVCdWZmZXIuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsU2t5IHtcbiAgICBfcmVhZHkgPSBmYWxzZTtcbiAgICBfaGlwcztcbiAgICBfZm9ybWF0O1xuICAgIF9iYXNldXJsO1xuICAgIF9pc0dhbGFjdGljSGlwcztcbiAgICBfb3JkZXIgPSAzO1xuICAgIG9wYWNpdHkgPSAxLjA7XG4gICAgX2hpcHNTaGFkZXJJbmRleCA9IDA7XG4gICAgX3RleHR1cmUgPSBudWxsO1xuICAgIF9pbWFnZTtcbiAgICBfdGV4dXJsO1xuICAgIF90ZXh0dXJlTG9hZGVkID0gZmFsc2U7XG4gICAgX21heFRpbGVzID0gMDtcbiAgICBfbnVtRmFjZXNYVGlsZSA9IDA7XG4gICAgX251bUZhY2VzID0gMDtcbiAgICB2ZXJ0ZXhQb3NpdGlvbjtcbiAgICB2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcjtcbiAgICB2ZXJ0ZXhJbmRleEJ1ZmZlcjtcbiAgICB2aWR4ID0gMDtcbiAgICBjb25zdHJ1Y3RvcihoaXBzKSB7XG4gICAgICAgIHRoaXMuX2hpcHMgPSBoaXBzO1xuICAgICAgICB0aGlzLl9mb3JtYXQgPSBoaXBzLmZvcm1hdDtcbiAgICAgICAgdGhpcy5fYmFzZXVybCA9IGhpcHMuYmFzZVVSTDtcbiAgICAgICAgdGhpcy5faXNHYWxhY3RpY0hpcHMgPSBoaXBzLmlzR2FsYWN0aWNIaXBzO1xuICAgICAgICB0aGlzLmluaXRJbWFnZSgpO1xuICAgIH1cbiAgICBpbml0SW1hZ2UoKSB7XG4gICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuX3RleHVybCA9IGAke3RoaXMuX2Jhc2V1cmx9L05vcmRlcjMvQWxsc2t5LiR7dGhpcy5fZm9ybWF0fWA7XG4gICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9ICgpID0+IHRoaXMuaW1hZ2VMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5faW1hZ2Uub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgbm90IGZvdW5kPyAlcycsIHRoaXMuX3RleHVybCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2ltYWdlLnNldEF0dHJpYnV0ZSgnY3Jvc3NvcmlnaW4nLCAnYW5vbnltb3VzJyk7XG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX3RleHVybDtcbiAgICB9XG4gICAgaW1hZ2VMb2FkZWQoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZUxvYWRlZCgpO1xuICAgICAgICB0aGlzLmluaXRNb2RlbEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl90ZXh0dXJlTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVhZHkgPSB0cnVlO1xuICAgIH1cbiAgICB0ZXh0dXJlTG9hZGVkKCkge1xuICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5lbmFibGVQcm9ncmFtKCk7XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGhpcy5faGlwc1NoYWRlckluZGV4KTtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICAgICAgICAvLyBnbC51bmlmb3JtMWkoaGlwc1NoYWRlclByb2dyYW0uc2hhZGVyUHJvZ3JhbS5zYW1wbGVyVW5pZm9ybSwgdGhpcy5faGlwc1NoYWRlckluZGV4KVxuICAgICAgICBpZiAoIWdsLmlzVGV4dHVyZSh0aGlzLl90ZXh0dXJlKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGluIHRleHR1cmUnKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGhpcy5faGlwc1NoYWRlckluZGV4KTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGhpcy5faW1hZ2UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGNvbnN0IHVzZU1pcG1hcHMgPSB0cnVlO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdXNlTWlwbWFwcyA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTElORUFSKTtcbiAgICAgICAgLy8gTUFHIGZpbHRlcjogT05MWSBORUFSRVNUIG9yIExJTkVBUiBhcmUgdmFsaWRcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIC8vIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUilcbiAgICAgICAgLy8gZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUl9NSVBNQVBfTElORUFSKVxuICAgICAgICAvLyBnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKVxuICAgICAgICBpZiAodXNlTWlwbWFwcylcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuICAgIH1cbiAgICBpbml0TW9kZWxCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICBjb25zdCBocHggPSBnbG9iYWwuZ2V0SGVhbHBpeCh0aGlzLl9vcmRlcik7XG4gICAgICAgIHRoaXMuX21heFRpbGVzID0gaHB4LmdldE5QaXgoKTtcbiAgICAgICAgY29uc3Qgb3JkZXJqdW1wID0gMTtcbiAgICAgICAgY29uc3QgdGd0SHB4T3JkZXIgPSB0aGlzLl9vcmRlciArIG9yZGVyanVtcDtcbiAgICAgICAgY29uc3QgaGVhbHBpeCA9IGdsb2JhbC5nZXRIZWFscGl4KHRoaXMuX29yZGVyKTtcbiAgICAgICAgY29uc3QgdGd0SGVhbHBpeCA9IGdsb2JhbC5nZXRIZWFscGl4KHRndEhweE9yZGVyKTtcbiAgICAgICAgdGhpcy5fbnVtRmFjZXNYVGlsZSA9IDQgKiogb3JkZXJqdW1wOyAvLyB1c2VkIGluIGdsLmRyYXdcbiAgICAgICAgdGhpcy5fbnVtRmFjZXMgPSB0aGlzLl9udW1GYWNlc1hUaWxlICogdGhpcy5fbWF4VGlsZXM7XG4gICAgICAgIHRoaXMudmVydGV4UG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDIwICogdGhpcy5fbnVtRmFjZXMpO1xuICAgICAgICBsZXQgc2luZGV4ID0gMDtcbiAgICAgICAgbGV0IHRpbmRleCA9IDA7XG4gICAgICAgIHRoaXMudmlkeCA9IDA7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgdGhpcy5fbWF4VGlsZXM7IHQrKykge1xuICAgICAgICAgICAgY29uc3QgeHlmID0gaGVhbHBpeC5uZXN0Mnh5Zih0KTtcbiAgICAgICAgICAgIGNvbnN0IGR4bWluID0geHlmLml4IDw8IG9yZGVyanVtcDtcbiAgICAgICAgICAgIGNvbnN0IGR4bWF4ID0gKHh5Zi5peCA8PCBvcmRlcmp1bXApICsgKDEgPDwgb3JkZXJqdW1wKTtcbiAgICAgICAgICAgIGNvbnN0IGR5bWluID0geHlmLml5IDw8IG9yZGVyanVtcDtcbiAgICAgICAgICAgIGNvbnN0IGR5bWF4ID0gKHh5Zi5peSA8PCBvcmRlcmp1bXApICsgKDEgPDwgb3JkZXJqdW1wKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQoc2luZGV4LCB0aW5kZXgsIGR4bWluLCBkeG1pbiArIChkeG1heCAtIGR4bWluKSAvIDIsIGR5bWluLCBkeW1pbiArIChkeW1heCAtIGR5bWluKSAvIDIsIHRndEhlYWxwaXgsIHh5ZiwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLnNldHVwUG9zaXRpb25BbmRUZXh0dXJlNFF1YWRyYW50KHNpbmRleCwgdGluZGV4LCBkeG1pbiArIChkeG1heCAtIGR4bWluKSAvIDIsIGR4bWF4LCBkeW1pbiwgZHltaW4gKyAoZHltYXggLSBkeW1pbikgLyAyLCB0Z3RIZWFscGl4LCB4eWYsIDAsIDEpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cFBvc2l0aW9uQW5kVGV4dHVyZTRRdWFkcmFudChzaW5kZXgsIHRpbmRleCwgZHhtaW4sIGR4bWluICsgKGR4bWF4IC0gZHhtaW4pIC8gMiwgZHltaW4gKyAoZHltYXggLSBkeW1pbikgLyAyLCBkeW1heCwgdGd0SGVhbHBpeCwgeHlmLCAxLCAwKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQoc2luZGV4LCB0aW5kZXgsIGR4bWluICsgKGR4bWF4IC0gZHhtaW4pIC8gMiwgZHhtYXgsIGR5bWluICsgKGR5bWF4IC0gZHltaW4pIC8gMiwgZHltYXgsIHRndEhlYWxwaXgsIHh5ZiwgMSwgMSk7XG4gICAgICAgICAgICBzaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChzaW5kZXggPT09IDI3KSB7XG4gICAgICAgICAgICAgICAgdGluZGV4Kys7XG4gICAgICAgICAgICAgICAgc2luZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0aGlzLl9udW1GYWNlcyk7XG4gICAgICAgIGxldCBiYXNlRmFjZUluZGV4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9udW1GYWNlczsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzWzYgKiBpXSA9IGJhc2VGYWNlSW5kZXg7XG4gICAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzWzYgKiBpICsgMV0gPSBiYXNlRmFjZUluZGV4ICsgMTtcbiAgICAgICAgICAgIHZlcnRleEluZGljZXNbNiAqIGkgKyAyXSA9IGJhc2VGYWNlSW5kZXggKyAzO1xuICAgICAgICAgICAgdmVydGV4SW5kaWNlc1s2ICogaSArIDNdID0gYmFzZUZhY2VJbmRleCArIDE7XG4gICAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzWzYgKiBpICsgNF0gPSBiYXNlRmFjZUluZGV4ICsgMjtcbiAgICAgICAgICAgIHZlcnRleEluZGljZXNbNiAqIGkgKyA1XSA9IGJhc2VGYWNlSW5kZXggKyAzO1xuICAgICAgICAgICAgYmFzZUZhY2VJbmRleCArPSA0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4UG9zaXRpb25CdWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhQb3NpdGlvbiwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICB0aGlzLnZlcnRleEluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4SW5kZXhCdWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB2ZXJ0ZXhJbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgfVxuICAgIHNldHVwUG9zaXRpb25BbmRUZXh0dXJlNFF1YWRyYW50KHNpbmRleCwgdGluZGV4LCBkeG1pbiwgZHhtYXgsIGR5bWluLCBkeW1heCwgdGd0aGVhbHBpeCwgeHlmLCBxeCwgcXkpIHtcbiAgICAgICAgbGV0IGZhY2VzVmVjM0FycmF5ID0gW107XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IDIgKiogKHRndGhlYWxwaXgub3JkZXIgLSAzKTtcbiAgICAgICAgY29uc3Qgc19zdGVwID0gMSAvICgyNyAqIGZhY3Rvcik7IC8vIDAuMDM3MDM3MDM3Li4uXG4gICAgICAgIGNvbnN0IHRfc3RlcCA9IDEgLyAoMjkgKiBmYWN0b3IpOyAvLyAwLjAzNDQ4Mjc1OS4uLlxuICAgICAgICBjb25zdCBzX3BpeGVsX3NpemUgPSBzX3N0ZXAgLyA2NDtcbiAgICAgICAgY29uc3QgdF9waXhlbF9zaXplID0gdF9zdGVwIC8gNjQ7XG4gICAgICAgIGNvbnN0IGJhc2VfcyA9IGZhY3RvciAqIHNfc3RlcCAqIHNpbmRleCArIHNfc3RlcCAqIHF4O1xuICAgICAgICBjb25zdCBiYXNlX3QgPSBmYWN0b3IgKiB0X3N0ZXAgKiB0aW5kZXggKyB0X3N0ZXAgKiBxeTtcbiAgICAgICAgZm9yIChsZXQgZHggPSBkeG1pbjsgZHggPCBkeG1heDsgZHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgZHkgPSBkeW1pbjsgZHkgPCBkeW1heDsgZHkrKykge1xuICAgICAgICAgICAgICAgIGZhY2VzVmVjM0FycmF5ID0gdGd0aGVhbHBpeC5nZXRQb2ludHNGb3JYeWZOb1N0ZXAoZHgsIGR5LCB4eWYuZmFjZSk7XG4gICAgICAgICAgICAgICAgLy8gYm90dG9tIHJpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeF0gPSBmYWNlc1ZlYzNBcnJheVswXS54O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bMjAgKiB0aGlzLnZpZHggKyAxXSA9IGZhY2VzVmVjM0FycmF5WzBdLnk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDJdID0gZmFjZXNWZWMzQXJyYXlbMF0uejtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uWzIwICogdGhpcy52aWR4ICsgM10gPSBzX3N0ZXAgKyBiYXNlX3MgLSBzX3BpeGVsX3NpemU7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDRdID0gMSAtICh0X3N0ZXAgKyBiYXNlX3QpICsgdF9waXhlbF9zaXplO1xuICAgICAgICAgICAgICAgIC8vIHRvcCByaWdodFxuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bMjAgKiB0aGlzLnZpZHggKyA1XSA9IGZhY2VzVmVjM0FycmF5WzFdLng7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDZdID0gZmFjZXNWZWMzQXJyYXlbMV0ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uWzIwICogdGhpcy52aWR4ICsgN10gPSBmYWNlc1ZlYzNBcnJheVsxXS56O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bMjAgKiB0aGlzLnZpZHggKyA4XSA9IHNfc3RlcCArIGJhc2VfcyAtIHNfcGl4ZWxfc2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uWzIwICogdGhpcy52aWR4ICsgOV0gPSAxIC0gYmFzZV90IC0gdF9waXhlbF9zaXplO1xuICAgICAgICAgICAgICAgIC8vIHRvcCBsZWZ0XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDEwXSA9IGZhY2VzVmVjM0FycmF5WzJdLng7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDExXSA9IGZhY2VzVmVjM0FycmF5WzJdLnk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDEyXSA9IGZhY2VzVmVjM0FycmF5WzJdLno7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDEzXSA9IGJhc2VfcyArIHNfcGl4ZWxfc2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uWzIwICogdGhpcy52aWR4ICsgMTRdID0gMSAtIGJhc2VfdCAtIHRfcGl4ZWxfc2l6ZTtcbiAgICAgICAgICAgICAgICAvLyBib3R0b20gbGVmdFxuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bMjAgKiB0aGlzLnZpZHggKyAxNV0gPSBmYWNlc1ZlYzNBcnJheVszXS54O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bMjAgKiB0aGlzLnZpZHggKyAxNl0gPSBmYWNlc1ZlYzNBcnJheVszXS55O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bMjAgKiB0aGlzLnZpZHggKyAxN10gPSBmYWNlc1ZlYzNBcnJheVszXS56O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bMjAgKiB0aGlzLnZpZHggKyAxOF0gPSBiYXNlX3MgKyBzX3BpeGVsX3NpemU7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvblsyMCAqIHRoaXMudmlkeCArIDE5XSA9IDEgLSAodF9zdGVwICsgYmFzZV90KSArIHRfcGl4ZWxfc2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZHgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBhbGwtc2t5IGxheWVyIGFuZCwgd2hlbiBhdmFpbGFibGUsIGRlbGVnYXRlcyB0byBoaWdoZXItcmVzb2x1dGlvbiBjaGlsZCB0aWxlcy5cbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBpdCBhdHRlbXB0ZWQgdG8gZHJhdyAocmVhZHkpLCBgZmFsc2VgIGlmIHN0aWxsIG5vdCByZWFkeS5cbiAgICAgKi9cbiAgICBkcmF3KHZpc2libGVPcmRlciwgdmlzaWJsZVRpbGVzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlYWR5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgYWxsU2t5VGlsZXMyU2tpcCA9IFtdO1xuICAgICAgICBpZiAodmlzaWJsZU9yZGVyID49IHRoaXMuX29yZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBza2lwcGVkID0gdGhpcy5kcmF3Q2hpbGRyZW4odmlzaWJsZU9yZGVyLCB2aXNpYmxlVGlsZXNNYXAsIHBNYXRyaXgsIHZNYXRyaXgsIG1NYXRyaXgsIGNvbG9yTWFwSWR4KTtcbiAgICAgICAgICAgIGlmIChza2lwcGVkKVxuICAgICAgICAgICAgICAgIGFsbFNreVRpbGVzMlNraXAgPSBza2lwcGVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5lbmFibGVTaGFkZXJzKHBNYXRyaXgsIHZNYXRyaXgsIG1NYXRyaXgsIGNvbG9yTWFwSWR4KTtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlKTtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnRleHR1cmVDb29yZEF0dHJpYnV0ZSk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0aGlzLl9oaXBzU2hhZGVySW5kZXgpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy50ZXh0dXJlQWxwaGEsIHRoaXMub3BhY2l0eSk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFBvc2l0aW9uQnVmZmVyKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhJbmRleEJ1ZmZlcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDUgKiA0LCAwKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihoaXBzU2hhZGVyUHJvZ3JhbS5sb2NhdGlvbnMudGV4dHVyZUNvb3JkQXR0cmlidXRlLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDUgKiA0LCAzICogNCk7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgdGhpcy5fbWF4VGlsZXM7IHQrKykge1xuICAgICAgICAgICAgaWYgKCFhbGxTa3lUaWxlczJTa2lwLmluY2x1ZGVzKHQpKSB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgNiAqIHRoaXMuX251bUZhY2VzWFRpbGUsIGdsLlVOU0lHTkVEX1NIT1JULCAxMiAqIHQgKiB0aGlzLl9udW1GYWNlc1hUaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlKTtcbiAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZHJhd0NoaWxkcmVuKHZpc2libGVPcmRlciwgdmlzaWJsZVRpbGVzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbk9yZGVyID0gdGhpcy5fb3JkZXI7XG4gICAgICAgIGlmICghdmlzaWJsZVRpbGVzTWFwLmhhcyhjaGlsZHJlbk9yZGVyKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdmlzaWJsZVRpbGVzID0gdmlzaWJsZVRpbGVzTWFwLmdldChjaGlsZHJlbk9yZGVyKTtcbiAgICAgICAgY29uc3QgYWxsU2t5VGlsZXMyU2tpcCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZpc2libGVUaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGlsZW5vID0gdmlzaWJsZVRpbGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRUaWxlID0gdGhpcy5faXNHYWxhY3RpY0hpcHNcbiAgICAgICAgICAgICAgICA/IG5ld1RpbGVCdWZmZXIuZ2V0R2FsVGlsZSh0aWxlbm8sIGNoaWxkcmVuT3JkZXIsIHRoaXMuX2hpcHMpXG4gICAgICAgICAgICAgICAgOiBuZXdUaWxlQnVmZmVyLmdldFRpbGUodGlsZW5vLCBjaGlsZHJlbk9yZGVyLCB0aGlzLl9oaXBzKTtcbiAgICAgICAgICAgIGNoaWxkVGlsZS5kcmF3KHZpc2libGVPcmRlciwgdmlzaWJsZVRpbGVzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCk7XG4gICAgICAgICAgICBpZiAoY2hpbGRUaWxlLmdldFJlYWR5U3RhdGUoKSkge1xuICAgICAgICAgICAgICAgIGFsbFNreVRpbGVzMlNraXAucHVzaCh0aWxlbm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbGxTa3lUaWxlczJTa2lwO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFsbFNreS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5pbXBvcnQgZ2xvYmFsIGZyb20gJy4uLy4uL0dsb2JhbC5qcyc7XG5pbXBvcnQgeyBoaXBzU2hhZGVyUHJvZ3JhbSB9IGZyb20gJy4uLy4uL3NoYWRlci9IaVBTU2hhZGVyUHJvZ3JhbS5qcyc7XG5pbXBvcnQgeyBuZXdUaWxlQnVmZmVyIH0gZnJvbSAnLi9UaWxlQnVmZmVyLmpzJztcbmltcG9ydCB7IGZvdkhlbHBlciB9IGZyb20gJy4vRm9WSGVscGVyLmpzJztcbmNsYXNzIEFuY2VzdG9yVGlsZSB7XG4gICAgX2hpcHM7XG4gICAgX3RpbGVubztcbiAgICBfYmFzZXVybDtcbiAgICBfb3JkZXI7XG4gICAgX3JlYWR5ID0gZmFsc2U7XG4gICAgX2Zvcm1hdDtcbiAgICBfaXNHYWxhY3RpY0hpcHM7XG4gICAgb3BhY2l0eSA9IDEuMDtcbiAgICBfaGlwc1NoYWRlckluZGV4ID0gMDtcbiAgICBfcGl4ZWxzID0gW107XG4gICAgX3RleHR1cmUgPSBudWxsO1xuICAgIF9pbWFnZTtcbiAgICBfdGV4dXJsID0gJyc7XG4gICAgdmVydGV4UG9zaXRpb247XG4gICAgdmVydGV4UG9zaXRpb25CdWZmZXI7XG4gICAgdmVydGV4SW5kaWNlcztcbiAgICB2ZXJ0ZXhJbmRleEJ1ZmZlcjtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlbm8sIG9yZGVyLCBoaXBzKSB7XG4gICAgICAgIHRoaXMuX2hpcHMgPSBoaXBzO1xuICAgICAgICB0aGlzLl90aWxlbm8gPSB0aWxlbm87XG4gICAgICAgIHRoaXMuX2Zvcm1hdCA9IGhpcHMuZm9ybWF0O1xuICAgICAgICB0aGlzLl9iYXNldXJsID0gaGlwcy5iYXNlVVJMO1xuICAgICAgICB0aGlzLl9pc0dhbGFjdGljSGlwcyA9IGhpcHMuaXNHYWxhY3RpY0hpcHM7XG4gICAgICAgIHRoaXMuX29yZGVyID0gb3JkZXI7XG4gICAgICAgIHRoaXMuaW5pdEltYWdlKCk7XG4gICAgfVxuICAgIC8vIEtlcHQgZm9yIEFQSSBwYXJpdHk7IHRoZXJlIGlzIG5vIGludGVydmFsIGNyZWF0ZWQgaW4gdGhpcyBjbGFzcy5cbiAgICBkZXN0cm95SW50ZXJ2YWxzKCkge1xuICAgICAgICAvLyBuby1vcFxuICAgIH1cbiAgICBpbml0SW1hZ2UoKSB7XG4gICAgICAgIGNvbnN0IGRpcm51bWJlciA9IE1hdGguZmxvb3IodGhpcy5fdGlsZW5vIC8gMTAwMDApICogMTAwMDA7XG4gICAgICAgIHRoaXMuX3RleHVybCA9IGAke3RoaXMuX2Jhc2V1cmx9L05vcmRlciR7dGhpcy5fb3JkZXJ9L0RpciR7ZGlybnVtYmVyfS9OcGl4JHt0aGlzLl90aWxlbm99LiR7dGhpcy5fZm9ybWF0fWA7XG4gICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9ICgpID0+IHRoaXMuaW1hZ2VMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5faW1hZ2Uub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgbm90IGZvdW5kPyAlcycsIHRoaXMuX3RleHVybCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2ltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICAgIC8vIElmIHlvdSBldmVyIG5lZWQgRklUUyBoYW5kbGluZywgY2FsbCB0aGlzLmxvYWRJbWFnZSgpIGluc3RlYWQuXG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX3RleHVybDtcbiAgICB9XG4gICAgaW1hZ2VMb2FkZWQoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZUxvYWRlZCgpO1xuICAgICAgICB0aGlzLmluaXRNb2RlbEJ1ZmZlcigpO1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRoaXMuX2hpcHNTaGFkZXJJbmRleCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRoaXMuX2ltYWdlKTtcbiAgICAgICAgdGhpcy5fcmVhZHkgPSB0cnVlO1xuICAgIH1cbiAgICB0ZXh0dXJlTG9hZGVkKCkge1xuICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5lbmFibGVQcm9ncmFtKCk7XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGhpcy5faGlwc1NoYWRlckluZGV4KTtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKGhpcHNTaGFkZXJQcm9ncmFtLnNoYWRlclByb2dyYW0uc2FtcGxlclVuaWZvcm0sIHRoaXMuX2hpcHNTaGFkZXJJbmRleCk7XG4gICAgICAgIGlmICghZ2wuaXNUZXh0dXJlKHRoaXMuX3RleHR1cmUpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gdGV4dHVyZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRNb2RlbEJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIHRoaXMudmVydGV4UG9zaXRpb24gPSBbXTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnZlcnRleEluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoKTtcbiAgICAgICAgLy8gdGhpcy52ZXJ0ZXhJbmRleEJ1ZmZlciBjcmVhdGVkIGxhdGVyXG4gICAgICAgIGNvbnN0IHJlZm9yZGVyID0gZm92SGVscGVyLmdldFJlZk9yZGVyKHRoaXMuX29yZGVyKTtcbiAgICAgICAgY29uc3Qgb3JpZ2hlYWxwaXggPSBnbG9iYWwuZ2V0SGVhbHBpeCh0aGlzLl9vcmRlcik7XG4gICAgICAgIGNvbnN0IG9yaWd4eWYgPSBvcmlnaGVhbHBpeC5uZXN0Mnh5Zih0aGlzLl90aWxlbm8pO1xuICAgICAgICBjb25zdCBvcmRlcmp1bXAgPSByZWZvcmRlciAtIHRoaXMuX29yZGVyO1xuICAgICAgICBjb25zdCBkeG1pbiA9IG9yaWd4eWYuaXggPDwgb3JkZXJqdW1wO1xuICAgICAgICBjb25zdCBkeG1heCA9IChvcmlneHlmLml4IDw8IG9yZGVyanVtcCkgKyAoMSA8PCBvcmRlcmp1bXApO1xuICAgICAgICBjb25zdCBkeW1pbiA9IG9yaWd4eWYuaXkgPDwgb3JkZXJqdW1wO1xuICAgICAgICBjb25zdCBkeW1heCA9IChvcmlneHlmLml5IDw8IG9yZGVyanVtcCkgKyAoMSA8PCBvcmRlcmp1bXApO1xuICAgICAgICBjb25zdCBoZWFscGl4ID0gZ2xvYmFsLmdldEhlYWxwaXgocmVmb3JkZXIpO1xuICAgICAgICB0aGlzLl9waXhlbHMgPSBbXTtcbiAgICAgICAgLy8gVXNpbmcgZ2V0Qm91bmRhcmllcyAobGlrZSB0aGUgSlMgc291cmNlKVxuICAgICAgICB0aGlzLnNldHVwUG9zaXRpb25BbmRUZXh0dXJlNFF1YWRyYW50KGR4bWluLCBkeG1heCAvIDIsIGR5bWluLCBkeW1heCAvIDIsIDAsIGhlYWxwaXgsIG9yZGVyanVtcCwgb3JpZ3h5Zik7XG4gICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQoZHhtYXggLyAyLCBkeG1heCwgZHltaW4sIGR5bWF4IC8gMiwgMSwgaGVhbHBpeCwgb3JkZXJqdW1wLCBvcmlneHlmKTtcbiAgICAgICAgdGhpcy5zZXR1cFBvc2l0aW9uQW5kVGV4dHVyZTRRdWFkcmFudChkeG1pbiwgZHhtYXggLyAyLCBkeW1heCAvIDIsIGR5bWF4LCAyLCBoZWFscGl4LCBvcmRlcmp1bXAsIG9yaWd4eWYpO1xuICAgICAgICB0aGlzLnNldHVwUG9zaXRpb25BbmRUZXh0dXJlNFF1YWRyYW50KGR4bWF4IC8gMiwgZHhtYXgsIGR5bWF4IC8gMiwgZHltYXgsIDMsIGhlYWxwaXgsIG9yZGVyanVtcCwgb3JpZ3h5Zik7XG4gICAgICAgIGNvbnN0IHBpeGVsc1hRdWFkcmFudCA9IHRoaXMudmVydGV4UG9zaXRpb25bMF0ubGVuZ3RoIC8gMjA7XG4gICAgICAgIHRoaXMudmVydGV4SW5kaWNlcyA9IHRoaXMuY29tcHV0ZVZlcnRleEluZGljZXMocGl4ZWxzWFF1YWRyYW50KTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhJbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleEluZGV4QnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhJbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgfVxuICAgIGNvbXB1dGVWZXJ0ZXhJbmRpY2VzKHBpeGVsc1hRdWFkcmFudCkge1xuICAgICAgICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiBwaXhlbHNYUXVhZHJhbnQpO1xuICAgICAgICBsZXQgYmFzZUZhY2VJbmRleCA9IDA7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGl4ZWxzWFF1YWRyYW50OyBqKyspIHtcbiAgICAgICAgICAgIHZlcnRleEluZGljZXNbNiAqIGpdID0gYmFzZUZhY2VJbmRleDtcbiAgICAgICAgICAgIHZlcnRleEluZGljZXNbNiAqIGogKyAxXSA9IGJhc2VGYWNlSW5kZXggKyAxO1xuICAgICAgICAgICAgdmVydGV4SW5kaWNlc1s2ICogaiArIDJdID0gYmFzZUZhY2VJbmRleCArIDI7XG4gICAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzWzYgKiBqICsgM10gPSBiYXNlRmFjZUluZGV4ICsgMjtcbiAgICAgICAgICAgIHZlcnRleEluZGljZXNbNiAqIGogKyA0XSA9IGJhc2VGYWNlSW5kZXggKyAzO1xuICAgICAgICAgICAgdmVydGV4SW5kaWNlc1s2ICogaiArIDVdID0gYmFzZUZhY2VJbmRleDtcbiAgICAgICAgICAgIGJhc2VGYWNlSW5kZXggKz0gNDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmVydGV4SW5kaWNlcztcbiAgICB9XG4gICAgLy8gVmVyc2lvbiB0aGF0IHVzZXMgZ2V0UG9pbnRzRm9yWHlmTm9TdGVwIChrZXB0IGZvciByZWZlcmVuY2U7IG5vdCB1c2VkIGluIHRoaXMgY2xhc3MpXG4gICAgc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQyKGR4bWluLCBkeG1heCwgZHltaW4sIGR5bWF4LCBxaWR4LCBoZWFscGl4LCBvcmRlcmp1bXAsIG9yaWd4eWYpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF0gPSBuZXcgRmxvYXQzMkFycmF5KDIwICogKGR4bWF4IC0gZHhtaW4pICogKGR5bWF4IC0gZHltaW4pKTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IDEgLyAoMSA8PCBvcmRlcmp1bXApO1xuICAgICAgICBsZXQgcCA9IDA7XG4gICAgICAgIGZvciAobGV0IGR4ID0gZHhtaW47IGR4IDwgZHhtYXg7IGR4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGR5ID0gZHltaW47IGR5IDwgZHltYXg7IGR5KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWNlc1ZlYzNBcnJheSA9IGhlYWxwaXguZ2V0UG9pbnRzRm9yWHlmTm9TdGVwKGR4LCBkeSwgb3JpZ3h5Zi5mYWNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1aW5kZXggPSBkeSAtIChvcmlneHlmLml5IDw8IG9yZGVyanVtcCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmluZGV4ID0gZHggLSAob3JpZ3h5Zi5peCA8PCBvcmRlcmp1bXApO1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwXSA9IGZhY2VzVmVjM0FycmF5WzBdLng7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxXSA9IGZhY2VzVmVjM0FycmF5WzBdLnk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAyXSA9IGZhY2VzVmVjM0FycmF5WzBdLno7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAzXSA9IHN0ZXAgKyBzdGVwICogdWluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgNF0gPSAxIC0gKHN0ZXAgKyBzdGVwICogdmluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDVdID0gZmFjZXNWZWMzQXJyYXlbMV0ueDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDZdID0gZmFjZXNWZWMzQXJyYXlbMV0ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDddID0gZmFjZXNWZWMzQXJyYXlbMV0uejtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDhdID0gc3RlcCArIHN0ZXAgKiB1aW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyA5XSA9IDEgLSBzdGVwICogdmluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTBdID0gZmFjZXNWZWMzQXJyYXlbMl0ueDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDExXSA9IGZhY2VzVmVjM0FycmF5WzJdLnk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxMl0gPSBmYWNlc1ZlYzNBcnJheVsyXS56O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTNdID0gc3RlcCAqIHVpbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDE0XSA9IDEgLSBzdGVwICogdmluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTVdID0gZmFjZXNWZWMzQXJyYXlbM10ueDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDE2XSA9IGZhY2VzVmVjM0FycmF5WzNdLnk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxN10gPSBmYWNlc1ZlYzNBcnJheVszXS56O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMThdID0gc3RlcCAqIHVpbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDE5XSA9IDEgLSAoc3RlcCArIHN0ZXAgKiB2aW5kZXgpO1xuICAgICAgICAgICAgICAgIHArKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uQnVmZmVyW3FpZHhdID0gZ2xvYmFsLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBnbG9iYWwuZ2wuYmluZEJ1ZmZlcihnbG9iYWwuZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFBvc2l0aW9uQnVmZmVyW3FpZHhdKTtcbiAgICAgICAgZ2xvYmFsLmdsLmJ1ZmZlckRhdGEoZ2xvYmFsLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XSwgZ2xvYmFsLmdsLlNUQVRJQ19EUkFXKTtcbiAgICB9XG4gICAgLy8gVmVyc2lvbiB1c2VkIGJ5IHRoZSBvcmlnaW5hbCBKUywgY29sbGVjdGluZyBfcGl4ZWxzIHZpYSB4eWYybmVzdCArIGdldEJvdW5kYXJpZXNcbiAgICBzZXR1cFBvc2l0aW9uQW5kVGV4dHVyZTRRdWFkcmFudChkeG1pbiwgZHhtYXgsIGR5bWluLCBkeW1heCwgcWlkeCwgaGVhbHBpeCwgb3JkZXJqdW1wLCBvcmlneHlmKSB7XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdID0gbmV3IEZsb2F0MzJBcnJheSgyMCAqIChkeG1heCAtIGR4bWluKSAqIChkeW1heCAtIGR5bWluKSk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSAxIC8gKDEgPDwgb3JkZXJqdW1wKTtcbiAgICAgICAgbGV0IHAgPSAwO1xuICAgICAgICBmb3IgKGxldCBkeCA9IGR4bWluOyBkeCA8IGR4bWF4OyBkeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkeSA9IGR5bWluOyBkeSA8IGR5bWF4OyBkeSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXBpeDMgPSBoZWFscGl4Lnh5ZjJuZXN0KGR4LCBkeSwgb3JpZ3h5Zi5mYWNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9waXhlbHMucHVzaChpcGl4Myk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFjZXNWZWMzQXJyYXkgPSBoZWFscGl4LmdldEJvdW5kYXJpZXMoaXBpeDMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVpbmRleCA9IGR5IC0gKG9yaWd4eWYuaXkgPDwgb3JkZXJqdW1wKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2aW5kZXggPSBkeCAtIChvcmlneHlmLml4IDw8IG9yZGVyanVtcCk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHBdID0gZmFjZXNWZWMzQXJyYXlbMF0ueDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDFdID0gZmFjZXNWZWMzQXJyYXlbMF0ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDJdID0gZmFjZXNWZWMzQXJyYXlbMF0uejtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDNdID0gc3RlcCArIHN0ZXAgKiB1aW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyA0XSA9IDEgLSAoc3RlcCArIHN0ZXAgKiB2aW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgNV0gPSBmYWNlc1ZlYzNBcnJheVsxXS54O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgNl0gPSBmYWNlc1ZlYzNBcnJheVsxXS55O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgN10gPSBmYWNlc1ZlYzNBcnJheVsxXS56O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgOF0gPSBzdGVwICsgc3RlcCAqIHVpbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDldID0gMSAtIHN0ZXAgKiB2aW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxMF0gPSBmYWNlc1ZlYzNBcnJheVsyXS54O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTFdID0gZmFjZXNWZWMzQXJyYXlbMl0ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDEyXSA9IGZhY2VzVmVjM0FycmF5WzJdLno7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxM10gPSBzdGVwICogdWluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTRdID0gMSAtIHN0ZXAgKiB2aW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxNV0gPSBmYWNlc1ZlYzNBcnJheVszXS54O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTZdID0gZmFjZXNWZWMzQXJyYXlbM10ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDE3XSA9IGZhY2VzVmVjM0FycmF5WzNdLno7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxOF0gPSBzdGVwICogdWluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTldID0gMSAtIChzdGVwICsgc3RlcCAqIHZpbmRleCk7XG4gICAgICAgICAgICAgICAgcCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25CdWZmZXJbcWlkeF0gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4UG9zaXRpb25CdWZmZXJbcWlkeF0pO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIH1cbiAgICBkcmF3KHZpc2libGVPcmRlciwgdmlzaWJsZVRpbGVzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlYWR5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgcXVhZHJhbnRzVG9EcmF3ID0gbmV3IFNldChbMCwgMSwgMiwgM10pO1xuICAgICAgICBpZiAodmlzaWJsZU9yZGVyID4gdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHEgPSB0aGlzLmRyYXdDaGlsZHJlbih2aXNpYmxlT3JkZXIsIHZpc2libGVUaWxlc01hcCwgcE1hdHJpeCwgdk1hdHJpeCwgbU1hdHJpeCwgY29sb3JNYXBJZHgpO1xuICAgICAgICAgICAgaWYgKHEpXG4gICAgICAgICAgICAgICAgcXVhZHJhbnRzVG9EcmF3ID0gcTtcbiAgICAgICAgfVxuICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5lbmFibGVTaGFkZXJzKHBNYXRyaXgsIHZNYXRyaXgsIG1NYXRyaXgsIGNvbG9yTWFwSWR4KTtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSk7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUpO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGhpcy5faGlwc1NoYWRlckluZGV4KTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihoaXBzU2hhZGVyUHJvZ3JhbS5sb2NhdGlvbnMudGV4dHVyZUFscGhhLCB0aGlzLm9wYWNpdHkpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleEluZGV4QnVmZmVyKTtcbiAgICAgICAgY29uc3QgZWxlbW5vID0gdGhpcy52ZXJ0ZXhJbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgcXVhZHJhbnRzVG9EcmF3LmZvckVhY2goKHFpZHgpID0+IHtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFBvc2l0aW9uQnVmZmVyW3FpZHhdKTtcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDUgKiA0LCAwKTtcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnRleHR1cmVDb29yZEF0dHJpYnV0ZSwgMiwgZ2wuRkxPQVQsIGZhbHNlLCA1ICogNCwgMyAqIDQpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgZWxlbW5vLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlKTtcbiAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZHJhd0NoaWxkcmVuKHZpc2libGVPcmRlciwgdmlzaWJsZVRpbGVzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCkge1xuICAgICAgICBjb25zdCBxdWFkcmFudHNUb0RyYXcgPSBuZXcgU2V0KFswLCAxLCAyLCAzXSk7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuT3JkZXIgPSB0aGlzLl9vcmRlciArIDE7XG4gICAgICAgIGlmICghdmlzaWJsZVRpbGVzTWFwLmhhcyhjaGlsZHJlbk9yZGVyKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCA0OyBjKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkVGlsZU5vID0gKHRoaXMuX3RpbGVubyA8PCAyKSArIGM7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlQ2hpbGRyZW4gPSB2aXNpYmxlVGlsZXNNYXAuZ2V0KGNoaWxkcmVuT3JkZXIpO1xuICAgICAgICAgICAgaWYgKHZpc2libGVDaGlsZHJlbi5pbmNsdWRlcyhjaGlsZFRpbGVObykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFRpbGUgPSB0aGlzLl9pc0dhbGFjdGljSGlwc1xuICAgICAgICAgICAgICAgICAgICA/IG5ld1RpbGVCdWZmZXIuZ2V0R2FsVGlsZShjaGlsZFRpbGVObywgY2hpbGRyZW5PcmRlciwgdGhpcy5faGlwcylcbiAgICAgICAgICAgICAgICAgICAgOiBuZXdUaWxlQnVmZmVyLmdldFRpbGUoY2hpbGRUaWxlTm8sIGNoaWxkcmVuT3JkZXIsIHRoaXMuX2hpcHMpO1xuICAgICAgICAgICAgICAgIGNoaWxkVGlsZS5kcmF3KHZpc2libGVPcmRlciwgdmlzaWJsZVRpbGVzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVGlsZS5fcmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVhZHJhbnRzVG9EcmF3LmRlbGV0ZShjaGlsZFRpbGUuX3RpbGVubyAtICh0aGlzLl90aWxlbm8gPDwgMikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVhZHJhbnRzVG9EcmF3O1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEFuY2VzdG9yVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuY2VzdG9yVGlsZS5qcy5tYXAiLCIvKipcbiAqIEBhdXRob3IgRmFicml6aW8gR2lvcmRhbm8gKEZhYjc3KVxuICogRW51bSBmb3IgY29vcmRpbmF0ZSB0eXBlcy5cbiAqIEByZWFkb25seVxuICogQGVudW0ge3tuYW1lOiBzdHJpbmcsIGhleDogc3RyaW5nfX1cbiAqL1xuY2xhc3MgQ29sb3JNYXAge1xuICAgIFBMQU5DSyA9IHtcbiAgICAgICAgLy8gXCJyXCI6IG5ldyBGbG9hdDMyQXJyYXkoWzAuMDAwMDAsMC43NjkyMzEsMS41Mzg0NiwyLjMwNzY5LDMuMDc2OTIsMy44NDYxNSw0LjYxNTM4LDUuMzg0NjIsNi4xNTM4NSw2LjkyMzA4LDcuNjkyMzEsOC40NjE1NCw5LjIzMDc3LDEwLjAwMDAsMTEuNTM4NSwxMy4wNzY5LDE0LjYxNTQsMTYuMTUzOCwxNy42OTIzLDE5LjIzMDgsMjAuNzY5MiwyMi4zMDc3LDIzLjg0NjIsMjUuMzg0NiwyNi45MjMxLDI4LjQ2MTUsMzAuMDAwMCwzMy44NDYyLDM3LjY5MjMsNDEuNTM4NSw0NS4zODQ2LDQ5LjIzMDgsNTMuMDc2OSw1Ni45MjMxLDYwLjc2OTIsNjQuNjE1NCw2OC40NjE1LDcyLjMwNzcsNzYuMTUzOCw4MC4wMDAwLDg4LjUzODUsOTcuMDc2OSwxMDUuNjE1LDExNC4xNTQsMTIyLjY5MiwxMzEuMjMxLDEzOS43NjksMTQ4LjMwOCwxNTYuODQ2LDE2NS4zODUsMTczLjkyMywxODIuNDYyLDE5MS4wMDAsMTkzLjg0NiwxOTYuNjkyLDE5OS41MzgsMjAyLjM4NSwyMDUuMjMxLDIwOC4wNzcsMjEwLjkyMywyMTMuNzY5LDIxNi42MTUsMjE5LjQ2MiwyMjIuMzA4LDIyNS4xNTQsMjI4LjAwMCwyMjkuMTgyLDIzMC4zNjQsMjMxLjU0NSwyMzIuNzI3LDIzMy45MDksMjM1LjA5MSwyMzYuMjczLDIzNy40NTUsMjM4LjYzNiwyMzkuODE4LDI0MS4wMDAsMjQxLjAwMCwyNDEuMzY0LDI0MS43MjcsMjQyLjA5MSwyNDIuNDU1LDI0Mi44MTgsMjQzLjE4MiwyNDMuNTQ1LDI0My45MDksMjQ0LjI3MywyNDQuNjM2LDI0NS4wMDAsMjQ1LjIzMSwyNDUuNDYyLDI0NS42OTIsMjQ1LjkyMywyNDYuMTU0LDI0Ni4zODUsMjQ2LjYxNSwyNDYuODQ2LDI0Ny4wNzcsMjQ3LjMwOCwyNDcuNTM4LDI0Ny43NjksMjQ4LjAwMCwyNDguMTQ2LDI0OC4yOTIsMjQ4LjQzOCwyNDguNTg1LDI0OC43MzEsMjQ4Ljg3NywyNDkuMDIzLDI0OS4xNjksMjQ5LjMxNSwyNDkuNDYyLDI0OS42MDgsMjQ5Ljc1NCwyNDkuOTAwLDI0OS4zMTIsMjQ4LjcyMywyNDguMTM1LDI0Ny41NDYsMjQ2Ljk1OCwyNDYuMzY5LDI0NS43ODEsMjQ1LjE5MiwyNDQuNjA0LDI0NC4wMTUsMjQzLjQyNywyNDIuODM4LDI0Mi4yNTAsMjM5LjMwOCwyMzYuMzY1LDIzMy40MjMsMjMwLjQ4MSwyMjcuNTM4LDIyNC41OTYsMjIxLjY1NCwyMTguNzEyLDIxNS43NjksMjEyLjgyNywyMDkuODg1LDIwNi45NDIsMjA0LjAwMCwyMDEuMDAwLDE5OC4wMDAsMTk1LjAwMCwxOTIuMDAwLDE4OS4wMDAsMTg2LjAwMCwxODMuMDAwLDE4MC4wMDAsMTc3LjAwMCwxNzQuMDAwLDE3MS4wMDAsMTY4LjAwMCwxNjUuMDAwLDE2MS4wNzcsMTU3LjE1NCwxNTMuMjMxLDE0OS4zMDgsMTQ1LjM4NSwxNDEuNDYyLDEzNy41MzgsMTMzLjYxNSwxMjkuNjkyLDEyNS43NjksMTIxLjg0NiwxMTcuOTIzLDExNC4wMDAsMTE1LjAzOCwxMTYuMDc3LDExNy4xMTUsMTE4LjE1NCwxMTkuMTkyLDEyMC4yMzEsMTIxLjI2OSwxMjIuMzA4LDEyMy4zNDYsMTI0LjM4NSwxMjUuNDIzLDEyNi40NjIsMTI3LjUwMCwxMzEuNDIzLDEzNS4zNDYsMTM5LjI2OSwxNDMuMTkyLDE0Ny4xMTUsMTUxLjAzOCwxNTQuOTYyLDE1OC44ODUsMTYyLjgwOCwxNjYuNzMxLDE3MC42NTQsMTc0LjU3NywxNzguNTAwLDE4MC40NjIsMTgyLjQyMywxODQuMzg1LDE4Ni4zNDYsMTg4LjMwOCwxOTAuMjY5LDE5Mi4yMzEsMTk0LjE5MiwxOTYuMTU0LDE5OC4xMTUsMjAwLjA3NywyMDIuMDM4LDIwNC4wMDAsMjA1Ljk2MiwyMDcuOTIzLDIwOS44ODUsMjExLjg0NiwyMTMuODA4LDIxNS43NjksMjE3LjczMSwyMTkuNjkyLDIyMS42NTQsMjIzLjYxNSwyMjUuNTc3LDIyNy41MzgsMjI5LjUwMCwyMzAuNDgxLDIzMS40NjIsMjMyLjQ0MiwyMzMuNDIzLDIzNC40MDQsMjM1LjM4NSwyMzYuMzY1LDIzNy4zNDYsMjM4LjMyNywyMzkuMzA4LDI0MC4yODgsMjQxLjI2OSwyNDIuMjUwLDI0Mi42NDIsMjQzLjAzNSwyNDMuNDI3LDI0My44MTksMjQ0LjIxMiwyNDQuNjA0LDI0NC45OTYsMjQ1LjM4OCwyNDUuNzgxLDI0Ni4xNzMsMjQ2LjU2NSwyNDYuOTU4LDI0Ny4zNTAsMjQ3LjgxNCwyNDguMjc3LDI0OC43NDEsMjQ5LjIwNSwyNDkuNjY4LDI1MC4xMzIsMjUwLjU5NSwyNTEuMDU5LDI1MS41MjMsMjUxLjk4NiwyNTIuNDUwXSksXG4gICAgICAgIC8vIFwiZ1wiOiBuZXcgRmxvYXQzMkFycmF5KFswLjAwMDAwLDEuNTM4NDYsMy4wNzY5Miw0LjYxNTM4LDYuMTUzODUsNy42OTIzMSw5LjIzMDc3LDEwLjc2OTIsMTIuMzA3NywxMy44NDYyLDE1LjM4NDYsMTYuOTIzMSwxOC40NjE1LDIwLjAwMDAsMzIuNjE1NCw0NS4yMzA4LDU3Ljg0NjIsNzAuNDYxNSw4My4wNzY5LDk1LjY5MjMsMTA4LjMwOCwxMjAuOTIzLDEzMy41MzgsMTQ2LjE1NCwxNTguNzY5LDE3MS4zODUsMTg0LjAwMCwxODcuOTIzLDE5MS44NDYsMTk1Ljc2OSwxOTkuNjkyLDIwMy42MTUsMjA3LjUzOCwyMTEuNDYyLDIxNS4zODUsMjE5LjMwOCwyMjMuMjMxLDIyNy4xNTQsMjMxLjA3NywyMzUuMDAwLDIzNS4zMDgsMjM1LjYxNSwyMzUuOTIzLDIzNi4yMzEsMjM2LjUzOCwyMzYuODQ2LDIzNy4xNTQsMjM3LjQ2MiwyMzcuNzY5LDIzOC4wNzcsMjM4LjM4NSwyMzguNjkyLDIzOS4wMDAsMjM5LjA3NywyMzkuMTU0LDIzOS4yMzEsMjM5LjMwOCwyMzkuMzg1LDIzOS40NjIsMjM5LjUzOCwyMzkuNjE1LDIzOS42OTIsMjM5Ljc2OSwyMzkuODQ2LDIzOS45MjMsMjQwLjAwMCwyNDAuMDkxLDI0MC4xODIsMjQwLjI3MywyNDAuMzY0LDI0MC40NTUsMjQwLjU0NSwyNDAuNjM2LDI0MC43MjcsMjQwLjgxOCwyNDAuOTA5LDI0MS4wMDAsMjQxLjAwMCwyNDAuOTA5LDI0MC44MTgsMjQwLjcyNywyNDAuNjM2LDI0MC41NDUsMjQwLjQ1NSwyNDAuMzY0LDI0MC4yNzMsMjQwLjE4MiwyNDAuMDkxLDI0MC4wMDAsMjM5LjYxNSwyMzkuMjMxLDIzOC44NDYsMjM4LjQ2MiwyMzguMDc3LDIzNy42OTIsMjM3LjMwOCwyMzYuOTIzLDIzNi41MzgsMjM2LjE1NCwyMzUuNzY5LDIzNS4zODUsMjM1LjAwMCwyMzIuNjE1LDIzMC4yMzEsMjI3Ljg0NiwyMjUuNDYyLDIyMy4wNzcsMjIwLjY5MiwyMTguMzA4LDIxNS45MjMsMjEzLjUzOCwyMTEuMTU0LDIwOC43NjksMjA2LjM4NSwyMDQuMDAwLDIwMC4wNzcsMTk2LjE1NCwxOTIuMjMxLDE4OC4zMDgsMTg0LjM4NSwxODAuNDYyLDE3Ni41MzgsMTcyLjYxNSwxNjguNjkyLDE2NC43NjksMTYwLjg0NiwxNTYuOTIzLDE1My4wMDAsMTQ3LjExNSwxNDEuMjMxLDEzNS4zNDYsMTI5LjQ2MiwxMjMuNTc3LDExNy42OTIsMTExLjgwOCwxMDUuOTIzLDEwMC4wMzgsOTQuMTUzOCw4OC4yNjkyLDgyLjM4NDYsNzYuNTAwMCw3My4wNzY5LDY5LjY1MzgsNjYuMjMwOCw2Mi44MDc3LDU5LjM4NDYsNTUuOTYxNSw1Mi41Mzg1LDQ5LjExNTQsNDUuNjkyMyw0Mi4yNjkyLDM4Ljg0NjIsMzUuNDIzMSwzMi4wMDAwLDI5LjUzODUsMjcuMDc2OSwyNC42MTU0LDIyLjE1MzgsMTkuNjkyMywxNy4yMzA4LDE0Ljc2OTIsMTIuMzA3Nyw5Ljg0NjE1LDcuMzg0NjIsNC45MjMwOCwyLjQ2MTU0LDAuMDAwMDAsOS44MDc2OSwxOS42MTU0LDI5LjQyMzEsMzkuMjMwOCw0OS4wMzg1LDU4Ljg0NjIsNjguNjUzOCw3OC40NjE1LDg4LjI2OTIsOTguMDc2OSwxMDcuODg1LDExNy42OTIsMTI3LjUwMCwxMzEuNDIzLDEzNS4zNDYsMTM5LjI2OSwxNDMuMTkyLDE0Ny4xMTUsMTUxLjAzOCwxNTQuOTYyLDE1OC44ODUsMTYyLjgwOCwxNjYuNzMxLDE3MC42NTQsMTc0LjU3NywxNzguNTAwLDE4MC40NjIsMTgyLjQyMywxODQuMzg1LDE4Ni4zNDYsMTg4LjMwOCwxOTAuMjY5LDE5Mi4yMzEsMTk0LjE5MiwxOTYuMTU0LDE5OC4xMTUsMjAwLjA3NywyMDIuMDM4LDIwNC4wMDAsMjA1Ljk2MiwyMDcuOTIzLDIwOS44ODUsMjExLjg0NiwyMTMuODA4LDIxNS43NjksMjE3LjczMSwyMTkuNjkyLDIyMS42NTQsMjIzLjYxNSwyMjUuNTc3LDIyNy41MzgsMjI5LjUwMCwyMzAuNDgxLDIzMS40NjIsMjMyLjQ0MiwyMzMuNDIzLDIzNC40MDQsMjM1LjM4NSwyMzYuMzY1LDIzNy4zNDYsMjM4LjMyNywyMzkuMzA4LDI0MC4yODgsMjQxLjI2OSwyNDIuMjUwLDI0Mi42NDIsMjQzLjAzNSwyNDMuNDI3LDI0My44MTksMjQ0LjIxMiwyNDQuNjA0LDI0NC45OTYsMjQ1LjM4OCwyNDUuNzgxLDI0Ni4xNzMsMjQ2LjU2NSwyNDYuOTU4LDI0Ny4zNTAsMjQ3LjgxNCwyNDguMjc3LDI0OC43NDEsMjQ5LjIwNSwyNDkuNjY4LDI1MC4xMzIsMjUwLjU5NSwyNTEuMDU5LDI1MS41MjMsMjUxLjk4NiwyNTIuNDUwXSksXG4gICAgICAgIC8vIFwiYlwiOiBuZXcgRmxvYXQzMkFycmF5KFsyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NS4wMDAsMjU1LjAwMCwyNTUuMDAwLDI1NC42MTUsMjU0LjIzMSwyNTMuODQ2LDI1My40NjIsMjUzLjA3NywyNTIuNjkyLDI1Mi4zMDgsMjUxLjkyMywyNTEuNTM4LDI1MS4xNTQsMjUwLjc2OSwyNTAuMzg1LDI1MC4wMDAsMjQ5LjYxNSwyNDkuMjMxLDI0OC44NDYsMjQ4LjQ2MiwyNDguMDc3LDI0Ny42OTIsMjQ3LjMwOCwyNDYuOTIzLDI0Ni41MzgsMjQ2LjE1NCwyNDUuNzY5LDI0NS4zODUsMjQ1LjAwMCwyNDIuMDAwLDIzOS4wMDAsMjM2LjAwMCwyMzMuMDAwLDIzMC4wMDAsMjI3LjAwMCwyMjQuMDAwLDIyMS4wMDAsMjE4LjAwMCwyMTUuMDAwLDIxMi4wMDAsMjEyLjAwMCwyMDguNjM2LDIwNS4yNzMsMjAxLjkwOSwxOTguNTQ1LDE5NS4xODIsMTkxLjgxOCwxODguNDU1LDE4NS4wOTEsMTgxLjcyNywxNzguMzY0LDE3NS4wMDAsMTcxLjUzOCwxNjguMDc3LDE2NC42MTUsMTYxLjE1NCwxNTcuNjkyLDE1NC4yMzEsMTUwLjc2OSwxNDcuMzA4LDE0My44NDYsMTQwLjM4NSwxMzYuOTIzLDEzMy40NjIsMTMwLjAwMCwxMjIuOTQyLDExNS44ODUsMTA4LjgyNywxMDEuNzY5LDk0LjcxMTUsODcuNjUzOSw4MC41OTYyLDczLjUzODUsNjYuNDgwOCw1OS40MjMxLDUyLjM2NTQsNDUuMzA3NywzOC4yNTAwLDM2LjI4ODUsMzQuMzI2OSwzMi4zNjU0LDMwLjQwMzgsMjguNDQyMywyNi40ODA4LDI0LjUxOTIsMjIuNTU3NywyMC41OTYyLDE4LjYzNDYsMTYuNjczMSwxNC43MTE1LDEyLjc1MDAsMTEuNzY5MiwxMC43ODg1LDkuODA3NjksOC44MjY5Miw3Ljg0NjE1LDYuODY1MzksNS44ODQ2MSw0LjkwMzg1LDMuOTIzMDgsMi45NDIzMSwxLjk2MTU0LDAuOTgwNzY5LDAuMDAwMDAsMi40NjE1NCw0LjkyMzA4LDcuMzg0NjIsOS44NDYxNiwxMi4zMDc3LDE0Ljc2OTIsMTcuMjMwOCwxOS42OTIzLDIyLjE1MzgsMjQuNjE1NCwyNy4wNzY5LDI5LjUzODUsMzIuMDAwMCwzMi4wMDAwLDMyLjAwMDAsMzIuMDAwMCwzMi4wMDAwLDMyLjAwMDAsMzIuMDAwMCwzMi4wMDAwLDMyLjAwMDAsMzIuMDAwMCwzMi4wMDAwLDMyLjAwMDAsMzIuMDAwMCwzMi4wMDAwLDQxLjMwNzcsNTAuNjE1NCw1OS45MjMxLDY5LjIzMDgsNzguNTM4NSw4Ny44NDYyLDk3LjE1MzksMTA2LjQ2MiwxMTUuNzY5LDEyNS4wNzcsMTM0LjM4NSwxNDMuNjkyLDE1My4wMDAsMTU2LjkyMywxNjAuODQ2LDE2NC43NjksMTY4LjY5MiwxNzIuNjE1LDE3Ni41MzgsMTgwLjQ2MiwxODQuMzg1LDE4OC4zMDgsMTkyLjIzMSwxOTYuMTU0LDIwMC4wNzcsMjA0LjAwMCwyMDUuOTYyLDIwNy45MjMsMjA5Ljg4NSwyMTEuODQ2LDIxMy44MDgsMjE1Ljc2OSwyMTcuNzMxLDIxOS42OTIsMjIxLjY1NCwyMjMuNjE1LDIyNS41NzcsMjI3LjUzOCwyMjkuNTAwLDIzMC40ODEsMjMxLjQ2MiwyMzIuNDQyLDIzMy40MjMsMjM0LjQwNCwyMzUuMzg1LDIzNi4zNjUsMjM3LjM0NiwyMzguMzI3LDIzOS4zMDgsMjQwLjI4OCwyNDEuMjY5LDI0Mi4yNTAsMjQyLjgzOCwyNDMuNDI3LDI0NC4wMTUsMjQ0LjYwNCwyNDUuMTkyLDI0NS43ODEsMjQ2LjM2OSwyNDYuOTU4LDI0Ny41NDYsMjQ4LjEzNSwyNDguNzIzLDI0OS4zMTIsMjQ5LjkwMCwyNTAuMDk2LDI1MC4yOTIsMjUwLjQ4OCwyNTAuNjg1LDI1MC44ODEsMjUxLjA3NywyNTEuMjczLDI1MS40NjksMjUxLjY2NSwyNTEuODYyLDI1Mi4wNTgsMjUyLjI1NCwyNTIuNDUwLDI1Mi42ODIsMjUyLjkxNCwyNTMuMTQ1LDI1My4zNzcsMjUzLjYwOSwyNTMuODQxLDI1NC4wNzMsMjU0LjMwNSwyNTQuNTM2LDI1NC43NjgsMjU1LjAwMF0pXG4gICAgICAgIHI6IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjc2OTIzMSwgMC4wLCAwLjAsIDAuMCwgMS41Mzg0NiwgMC4wLCAwLjAsIDAuMCwgMi4zMDc2OSwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDMuMDc2OTIsIDAuMCwgMC4wLCAwLjAsIDMuODQ2MTUsIDAuMCwgMC4wLCAwLjAsIDQuNjE1MzgsIDAuMCwgMC4wLCAwLjAsIDUuMzg0NjIsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA2LjE1Mzg1LCAwLjAsIDAuMCwgMC4wLCA2LjkyMzA4LCAwLjAsIDAuMCwgMC4wLCA3LjY5MjMxLCAwLjAsIDAuMCwgMC4wLCA4LjQ2MTU0LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgOS4yMzA3NywgMC4wLCAwLjAsIDAuMCwgMTAuMCwgMC4wLCAwLjAsIDAuMCwgMTEuNTM4NSwgMC4wLCAwLjAsIDAuMCwgMTMuMDc2OSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE0LjYxNTQsIDAuMCwgMC4wLCAwLjAsIDE2LjE1MzgsIDAuMCwgMC4wLCAwLjAsIDE3LjY5MjMsIDAuMCwgMC4wLCAwLjAsIDE5LjIzMDgsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMC43NjkyLCAwLjAsIDAuMCwgMC4wLCAyMi4zMDc3LCAwLjAsIDAuMCwgMC4wLCAyMy44NDYyLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjUuMzg0NiwgMC4wLCAwLjAsIDAuMCwgMjYuOTIzMSwgMC4wLCAwLjAsIDAuMCwgMjguNDYxNSwgMC4wLCAwLjAsIDAuMCwgMzAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDMzLjg0NjIsIDAuMCwgMC4wLCAwLjAsIDM3LjY5MjMsIDAuMCwgMC4wLCAwLjAsIDQxLjUzODUsIDAuMCwgMC4wLCAwLjAsIDQ1LjM4NDYsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA0OS4yMzA4LCAwLjAsIDAuMCwgMC4wLCA1My4wNzY5LCAwLjAsIDAuMCwgMC4wLCA1Ni45MjMxLCAwLjAsIDAuMCwgMC4wLCA2MC43NjkyLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNjQuNjE1NCwgMC4wLCAwLjAsIDAuMCwgNjguNDYxNSwgMC4wLCAwLjAsIDAuMCwgNzIuMzA3NywgMC4wLCAwLjAsIDAuMCwgNzYuMTUzOCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDgwLjAsIDAuMCwgMC4wLCAwLjAsIDg4LjUzODUsIDAuMCwgMC4wLCAwLjAsIDk3LjA3NjksIDAuMCwgMC4wLCAwLjAsIDEwNS42MTUsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMTQuMTU0LCAwLjAsIDAuMCwgMC4wLCAxMjIuNjkyLCAwLjAsIDAuMCwgMC4wLCAxMzEuMjMxLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTM5Ljc2OSwgMC4wLCAwLjAsIDAuMCwgMTQ4LjMwOCwgMC4wLCAwLjAsIDAuMCwgMTU2Ljg0NiwgMC4wLCAwLjAsIDAuMCwgMTY1LjM4NSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE3My45MjMsIDAuMCwgMC4wLCAwLjAsIDE4Mi40NjIsIDAuMCwgMC4wLCAwLjAsIDE5MS4wLCAwLjAsIDAuMCwgMC4wLCAxOTMuODQ2LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTk2LjY5MiwgMC4wLCAwLjAsIDAuMCwgMTk5LjUzOCwgMC4wLCAwLjAsIDAuMCwgMjAyLjM4NSwgMC4wLCAwLjAsIDAuMCwgMjA1LjIzMSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIwOC4wNzcsIDAuMCwgMC4wLCAwLjAsIDIxMC45MjMsIDAuMCwgMC4wLCAwLjAsIDIxMy43NjksIDAuMCwgMC4wLCAwLjAsIDIxNi42MTUsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMTkuNDYyLCAwLjAsIDAuMCwgMC4wLCAyMjIuMzA4LCAwLjAsIDAuMCwgMC4wLCAyMjUuMTU0LCAwLjAsIDAuMCwgMC4wLCAyMjguMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIyOS4xODIsIDAuMCwgMC4wLCAwLjAsIDIzMC4zNjQsIDAuMCwgMC4wLCAwLjAsIDIzMS41NDUsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzIuNzI3LCAwLjAsIDAuMCwgMC4wLCAyMzMuOTA5LCAwLjAsIDAuMCwgMC4wLCAyMzUuMDkxLCAwLjAsIDAuMCwgMC4wLCAyMzYuMjczLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjM3LjQ1NSwgMC4wLCAwLjAsIDAuMCwgMjM4LjYzNiwgMC4wLCAwLjAsIDAuMCwgMjM5LjgxOCwgMC4wLCAwLjAsIDAuMCwgMjQxLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNDEuMCwgMC4wLCAwLjAsIDAuMCwgMjQxLjM2NCwgMC4wLCAwLjAsIDAuMCwgMjQxLjcyNywgMC4wLCAwLjAsIDAuMCwgMjQyLjA5MSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI0Mi40NTUsIDAuMCwgMC4wLCAwLjAsIDI0Mi44MTgsIDAuMCwgMC4wLCAwLjAsIDI0My4xODIsIDAuMCwgMC4wLCAwLjAsIDI0My41NDUsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyNDMuOTA5LCAwLjAsIDAuMCwgMC4wLCAyNDQuMjczLCAwLjAsIDAuMCwgMC4wLCAyNDQuNjM2LCAwLjAsIDAuMCwgMC4wLCAyNDUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0NS4yMzEsIDAuMCwgMC4wLCAwLjAsIDI0NS40NjIsIDAuMCwgMC4wLCAwLjAsIDI0NS42OTIsIDAuMCwgMC4wLCAwLjAsIDI0NS45MjMsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDYuMTU0LCAwLjAsIDAuMCwgMC4wLCAyNDYuMzg1LCAwLjAsIDAuMCwgMC4wLCAyNDYuNjE1LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjQ2Ljg0NiwgMC4wLCAwLjAsIDAuMCwgMjQ3LjA3NywgMC4wLCAwLjAsIDAuMCwgMjQ3LjMwOCwgMC4wLCAwLjAsIDAuMCwgMjQ3LjUzOCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI0Ny43NjksIDAuMCwgMC4wLCAwLjAsIDI0OC4wLCAwLjAsIDAuMCwgMC4wLCAyNDguMTQ2LCAwLjAsIDAuMCwgMC4wLCAyNDguMjkyLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQ4LjQzOCwgMC4wLCAwLjAsIDAuMCwgMjQ4LjU4NSwgMC4wLCAwLjAsIDAuMCwgMjQ4LjczMSwgMC4wLCAwLjAsIDAuMCwgMjQ4Ljg3NywgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0OS4wMjMsIDAuMCwgMC4wLCAwLjAsIDI0OS4xNjksIDAuMCwgMC4wLCAwLjAsIDI0OS4zMTUsIDAuMCwgMC4wLCAwLjAsIDI0OS40NjIsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDkuNjA4LCAwLjAsIDAuMCwgMC4wLCAyNDkuNzU0LCAwLjAsIDAuMCwgMC4wLCAyNDkuOSwgMC4wLCAwLjAsIDAuMCwgMjQ5LjMxMixcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI0OC43MjMsIDAuMCwgMC4wLCAwLjAsIDI0OC4xMzUsIDAuMCwgMC4wLCAwLjAsIDI0Ny41NDYsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNDYuOTU4LCAwLjAsIDAuMCwgMC4wLCAyNDYuMzY5LCAwLjAsIDAuMCwgMC4wLCAyNDUuNzgxLCAwLjAsIDAuMCwgMC4wLCAyNDUuMTkyLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQ0LjYwNCwgMC4wLCAwLjAsIDAuMCwgMjQ0LjAxNSwgMC4wLCAwLjAsIDAuMCwgMjQzLjQyNywgMC4wLCAwLjAsIDAuMCwgMjQyLjgzOCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0Mi4yNSwgMC4wLCAwLjAsIDAuMCwgMjM5LjMwOCwgMC4wLCAwLjAsIDAuMCwgMjM2LjM2NSwgMC4wLCAwLjAsIDAuMCwgMjMzLjQyMywgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIzMC40ODEsIDAuMCwgMC4wLCAwLjAsIDIyNy41MzgsIDAuMCwgMC4wLCAwLjAsIDIyNC41OTYsIDAuMCwgMC4wLCAwLjAsIDIyMS42NTQsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMTguNzEyLCAwLjAsIDAuMCwgMC4wLCAyMTUuNzY5LCAwLjAsIDAuMCwgMC4wLCAyMTIuODI3LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjA5Ljg4NSwgMC4wLCAwLjAsIDAuMCwgMjA2Ljk0MiwgMC4wLCAwLjAsIDAuMCwgMjA0LjAsIDAuMCwgMC4wLCAwLjAsIDIwMS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTk4LjAsIDAuMCwgMC4wLCAwLjAsIDE5NS4wLCAwLjAsIDAuMCwgMC4wLCAxOTIuMCwgMC4wLCAwLjAsIDAuMCwgMTg5LjAsIDAuMCwgMC4wLCAwLjAsIDE4Ni4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTgzLjAsIDAuMCwgMC4wLCAwLjAsIDE4MC4wLCAwLjAsIDAuMCwgMC4wLCAxNzcuMCwgMC4wLCAwLjAsIDAuMCwgMTc0LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxNzEuMCwgMC4wLCAwLjAsIDAuMCwgMTY4LjAsIDAuMCwgMC4wLCAwLjAsIDE2NS4wLCAwLjAsIDAuMCwgMC4wLCAxNjEuMDc3LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTU3LjE1NCwgMC4wLCAwLjAsIDAuMCwgMTUzLjIzMSwgMC4wLCAwLjAsIDAuMCwgMTQ5LjMwOCwgMC4wLCAwLjAsIDAuMCwgMTQ1LjM4NSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE0MS40NjIsIDAuMCwgMC4wLCAwLjAsIDEzNy41MzgsIDAuMCwgMC4wLCAwLjAsIDEzMy42MTUsIDAuMCwgMC4wLCAwLjAsIDEyOS42OTIsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMjUuNzY5LCAwLjAsIDAuMCwgMC4wLCAxMjEuODQ2LCAwLjAsIDAuMCwgMC4wLCAxMTcuOTIzLCAwLjAsIDAuMCwgMC4wLCAxMTQuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDExNS4wMzgsIDAuMCwgMC4wLCAwLjAsIDExNi4wNzcsIDAuMCwgMC4wLCAwLjAsIDExNy4xMTUsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxMTguMTU0LCAwLjAsIDAuMCwgMC4wLCAxMTkuMTkyLCAwLjAsIDAuMCwgMC4wLCAxMjAuMjMxLCAwLjAsIDAuMCwgMC4wLCAxMjEuMjY5LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTIyLjMwOCwgMC4wLCAwLjAsIDAuMCwgMTIzLjM0NiwgMC4wLCAwLjAsIDAuMCwgMTI0LjM4NSwgMC4wLCAwLjAsIDAuMCwgMTI1LjQyMywgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEyNi40NjIsIDAuMCwgMC4wLCAwLjAsIDEyNy41LCAwLjAsIDAuMCwgMC4wLCAxMzEuNDIzLCAwLjAsIDAuMCwgMC4wLCAxMzUuMzQ2LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTM5LjI2OSwgMC4wLCAwLjAsIDAuMCwgMTQzLjE5MiwgMC4wLCAwLjAsIDAuMCwgMTQ3LjExNSwgMC4wLCAwLjAsIDAuMCwgMTUxLjAzOCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE1NC45NjIsIDAuMCwgMC4wLCAwLjAsIDE1OC44ODUsIDAuMCwgMC4wLCAwLjAsIDE2Mi44MDgsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNjYuNzMxLCAwLjAsIDAuMCwgMC4wLCAxNzAuNjU0LCAwLjAsIDAuMCwgMC4wLCAxNzQuNTc3LCAwLjAsIDAuMCwgMC4wLCAxNzguNSwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE4MC40NjIsIDAuMCwgMC4wLCAwLjAsIDE4Mi40MjMsIDAuMCwgMC4wLCAwLjAsIDE4NC4zODUsIDAuMCwgMC4wLCAwLjAsIDE4Ni4zNDYsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxODguMzA4LCAwLjAsIDAuMCwgMC4wLCAxOTAuMjY5LCAwLjAsIDAuMCwgMC4wLCAxOTIuMjMxLCAwLjAsIDAuMCwgMC4wLCAxOTQuMTkyLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTk2LjE1NCwgMC4wLCAwLjAsIDAuMCwgMTk4LjExNSwgMC4wLCAwLjAsIDAuMCwgMjAwLjA3NywgMC4wLCAwLjAsIDAuMCwgMjAyLjAzOCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIwNC4wLCAwLjAsIDAuMCwgMC4wLCAyMDUuOTYyLCAwLjAsIDAuMCwgMC4wLCAyMDcuOTIzLCAwLjAsIDAuMCwgMC4wLCAyMDkuODg1LFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjExLjg0NiwgMC4wLCAwLjAsIDAuMCwgMjEzLjgwOCwgMC4wLCAwLjAsIDAuMCwgMjE1Ljc2OSwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIxNy43MzEsIDAuMCwgMC4wLCAwLjAsIDIxOS42OTIsIDAuMCwgMC4wLCAwLjAsIDIyMS42NTQsIDAuMCwgMC4wLCAwLjAsIDIyMy42MTUsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMjUuNTc3LCAwLjAsIDAuMCwgMC4wLCAyMjcuNTM4LCAwLjAsIDAuMCwgMC4wLCAyMjkuNSwgMC4wLCAwLjAsIDAuMCwgMjMwLjQ4MSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIzMS40NjIsIDAuMCwgMC4wLCAwLjAsIDIzMi40NDIsIDAuMCwgMC4wLCAwLjAsIDIzMy40MjMsIDAuMCwgMC4wLCAwLjAsIDIzNC40MDQsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMzUuMzg1LCAwLjAsIDAuMCwgMC4wLCAyMzYuMzY1LCAwLjAsIDAuMCwgMC4wLCAyMzcuMzQ2LCAwLjAsIDAuMCwgMC4wLCAyMzguMzI3LFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjM5LjMwOCwgMC4wLCAwLjAsIDAuMCwgMjQwLjI4OCwgMC4wLCAwLjAsIDAuMCwgMjQxLjI2OSwgMC4wLCAwLjAsIDAuMCwgMjQyLjI1LFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjQyLjY0MiwgMC4wLCAwLjAsIDAuMCwgMjQzLjAzNSwgMC4wLCAwLjAsIDAuMCwgMjQzLjQyNywgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI0My44MTksIDAuMCwgMC4wLCAwLjAsIDI0NC4yMTIsIDAuMCwgMC4wLCAwLjAsIDI0NC42MDQsIDAuMCwgMC4wLCAwLjAsIDI0NC45OTYsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNDUuMzg4LCAwLjAsIDAuMCwgMC4wLCAyNDUuNzgxLCAwLjAsIDAuMCwgMC4wLCAyNDYuMTczLCAwLjAsIDAuMCwgMC4wLCAyNDYuNTY1LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjQ2Ljk1OCwgMC4wLCAwLjAsIDAuMCwgMjQ3LjM1LCAwLjAsIDAuMCwgMC4wLCAyNDcuODE0LCAwLjAsIDAuMCwgMC4wLCAyNDguMjc3LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjQ4Ljc0MSwgMC4wLCAwLjAsIDAuMCwgMjQ5LjIwNSwgMC4wLCAwLjAsIDAuMCwgMjQ5LjY2OCwgMC4wLCAwLjAsIDAuMCwgMjUwLjEzMixcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1MC41OTUsIDAuMCwgMC4wLCAwLjAsIDI1MS4wNTksIDAuMCwgMC4wLCAwLjAsIDI1MS41MjMsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTEuOTg2LCAwLjAsIDAuMCwgMC4wLCAyNTIuNDUsIDAuMCwgMC4wLCAwLjBcbiAgICAgICAgXSksXG4gICAgICAgIGc6IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjUzODQ2LCAwLjAsIDAuMCwgMC4wLCAzLjA3NjkyLCAwLjAsIDAuMCwgMC4wLCA0LjYxNTM4LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgNi4xNTM4NSwgMC4wLCAwLjAsIDAuMCwgNy42OTIzMSwgMC4wLCAwLjAsIDAuMCwgOS4yMzA3NywgMC4wLCAwLjAsIDAuMCwgMTAuNzY5MiwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDEyLjMwNzcsIDAuMCwgMC4wLCAwLjAsIDEzLjg0NjIsIDAuMCwgMC4wLCAwLjAsIDE1LjM4NDYsIDAuMCwgMC4wLCAwLjAsIDE2LjkyMzEsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxOC40NjE1LCAwLjAsIDAuMCwgMC4wLCAyMC4wLCAwLjAsIDAuMCwgMC4wLCAzMi42MTU0LCAwLjAsIDAuMCwgMC4wLCA0NS4yMzA4LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNTcuODQ2MiwgMC4wLCAwLjAsIDAuMCwgNzAuNDYxNSwgMC4wLCAwLjAsIDAuMCwgODMuMDc2OSwgMC4wLCAwLjAsIDAuMCwgOTUuNjkyMyxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEwOC4zMDgsIDAuMCwgMC4wLCAwLjAsIDEyMC45MjMsIDAuMCwgMC4wLCAwLjAsIDEzMy41MzgsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNDYuMTU0LCAwLjAsIDAuMCwgMC4wLCAxNTguNzY5LCAwLjAsIDAuMCwgMC4wLCAxNzEuMzg1LCAwLjAsIDAuMCwgMC4wLCAxODQuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE4Ny45MjMsIDAuMCwgMC4wLCAwLjAsIDE5MS44NDYsIDAuMCwgMC4wLCAwLjAsIDE5NS43NjksIDAuMCwgMC4wLCAwLjAsIDE5OS42OTIsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMDMuNjE1LCAwLjAsIDAuMCwgMC4wLCAyMDcuNTM4LCAwLjAsIDAuMCwgMC4wLCAyMTEuNDYyLCAwLjAsIDAuMCwgMC4wLCAyMTUuMzg1LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjE5LjMwOCwgMC4wLCAwLjAsIDAuMCwgMjIzLjIzMSwgMC4wLCAwLjAsIDAuMCwgMjI3LjE1NCwgMC4wLCAwLjAsIDAuMCwgMjMxLjA3NyxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzNS4wLCAwLjAsIDAuMCwgMC4wLCAyMzUuMzA4LCAwLjAsIDAuMCwgMC4wLCAyMzUuNjE1LCAwLjAsIDAuMCwgMC4wLCAyMzUuOTIzLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjM2LjIzMSwgMC4wLCAwLjAsIDAuMCwgMjM2LjUzOCwgMC4wLCAwLjAsIDAuMCwgMjM2Ljg0NiwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIzNy4xNTQsIDAuMCwgMC4wLCAwLjAsIDIzNy40NjIsIDAuMCwgMC4wLCAwLjAsIDIzNy43NjksIDAuMCwgMC4wLCAwLjAsIDIzOC4wNzcsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMzguMzg1LCAwLjAsIDAuMCwgMC4wLCAyMzguNjkyLCAwLjAsIDAuMCwgMC4wLCAyMzkuMCwgMC4wLCAwLjAsIDAuMCwgMjM5LjA3NywgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIzOS4xNTQsIDAuMCwgMC4wLCAwLjAsIDIzOS4yMzEsIDAuMCwgMC4wLCAwLjAsIDIzOS4zMDgsIDAuMCwgMC4wLCAwLjAsIDIzOS4zODUsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMzkuNDYyLCAwLjAsIDAuMCwgMC4wLCAyMzkuNTM4LCAwLjAsIDAuMCwgMC4wLCAyMzkuNjE1LCAwLjAsIDAuMCwgMC4wLCAyMzkuNjkyLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjM5Ljc2OSwgMC4wLCAwLjAsIDAuMCwgMjM5Ljg0NiwgMC4wLCAwLjAsIDAuMCwgMjM5LjkyMywgMC4wLCAwLjAsIDAuMCwgMjQwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDAuMDkxLCAwLjAsIDAuMCwgMC4wLCAyNDAuMTgyLCAwLjAsIDAuMCwgMC4wLCAyNDAuMjczLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjQwLjM2NCwgMC4wLCAwLjAsIDAuMCwgMjQwLjQ1NSwgMC4wLCAwLjAsIDAuMCwgMjQwLjU0NSwgMC4wLCAwLjAsIDAuMCwgMjQwLjYzNiwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI0MC43MjcsIDAuMCwgMC4wLCAwLjAsIDI0MC44MTgsIDAuMCwgMC4wLCAwLjAsIDI0MC45MDksIDAuMCwgMC4wLCAwLjAsIDI0MS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQxLjAsIDAuMCwgMC4wLCAwLjAsIDI0MC45MDksIDAuMCwgMC4wLCAwLjAsIDI0MC44MTgsIDAuMCwgMC4wLCAwLjAsIDI0MC43MjcsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNDAuNjM2LCAwLjAsIDAuMCwgMC4wLCAyNDAuNTQ1LCAwLjAsIDAuMCwgMC4wLCAyNDAuNDU1LCAwLjAsIDAuMCwgMC4wLCAyNDAuMzY0LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjQwLjI3MywgMC4wLCAwLjAsIDAuMCwgMjQwLjE4MiwgMC4wLCAwLjAsIDAuMCwgMjQwLjA5MSwgMC4wLCAwLjAsIDAuMCwgMjQwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMzkuNjE1LCAwLjAsIDAuMCwgMC4wLCAyMzkuMjMxLCAwLjAsIDAuMCwgMC4wLCAyMzguODQ2LCAwLjAsIDAuMCwgMC4wLCAyMzguNDYyLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjM4LjA3NywgMC4wLCAwLjAsIDAuMCwgMjM3LjY5MiwgMC4wLCAwLjAsIDAuMCwgMjM3LjMwOCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIzNi45MjMsIDAuMCwgMC4wLCAwLjAsIDIzNi41MzgsIDAuMCwgMC4wLCAwLjAsIDIzNi4xNTQsIDAuMCwgMC4wLCAwLjAsIDIzNS43NjksIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMzUuMzg1LCAwLjAsIDAuMCwgMC4wLCAyMzUuMCwgMC4wLCAwLjAsIDAuMCwgMjMyLjYxNSwgMC4wLCAwLjAsIDAuMCwgMjMwLjIzMSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIyNy44NDYsIDAuMCwgMC4wLCAwLjAsIDIyNS40NjIsIDAuMCwgMC4wLCAwLjAsIDIyMy4wNzcsIDAuMCwgMC4wLCAwLjAsIDIyMC42OTIsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMTguMzA4LCAwLjAsIDAuMCwgMC4wLCAyMTUuOTIzLCAwLjAsIDAuMCwgMC4wLCAyMTMuNTM4LCAwLjAsIDAuMCwgMC4wLCAyMTEuMTU0LFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjA4Ljc2OSwgMC4wLCAwLjAsIDAuMCwgMjA2LjM4NSwgMC4wLCAwLjAsIDAuMCwgMjA0LjAsIDAuMCwgMC4wLCAwLjAsIDIwMC4wNzcsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxOTYuMTU0LCAwLjAsIDAuMCwgMC4wLCAxOTIuMjMxLCAwLjAsIDAuMCwgMC4wLCAxODguMzA4LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTg0LjM4NSwgMC4wLCAwLjAsIDAuMCwgMTgwLjQ2MiwgMC4wLCAwLjAsIDAuMCwgMTc2LjUzOCwgMC4wLCAwLjAsIDAuMCwgMTcyLjYxNSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE2OC42OTIsIDAuMCwgMC4wLCAwLjAsIDE2NC43NjksIDAuMCwgMC4wLCAwLjAsIDE2MC44NDYsIDAuMCwgMC4wLCAwLjAsIDE1Ni45MjMsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxNTMuMCwgMC4wLCAwLjAsIDAuMCwgMTQ3LjExNSwgMC4wLCAwLjAsIDAuMCwgMTQxLjIzMSwgMC4wLCAwLjAsIDAuMCwgMTM1LjM0NiwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEyOS40NjIsIDAuMCwgMC4wLCAwLjAsIDEyMy41NzcsIDAuMCwgMC4wLCAwLjAsIDExNy42OTIsIDAuMCwgMC4wLCAwLjAsIDExMS44MDgsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMDUuOTIzLCAwLjAsIDAuMCwgMC4wLCAxMDAuMDM4LCAwLjAsIDAuMCwgMC4wLCA5NC4xNTM4LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgODguMjY5MiwgMC4wLCAwLjAsIDAuMCwgODIuMzg0NiwgMC4wLCAwLjAsIDAuMCwgNzYuNSwgMC4wLCAwLjAsIDAuMCwgNzMuMDc2OSwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDY5LjY1MzgsIDAuMCwgMC4wLCAwLjAsIDY2LjIzMDgsIDAuMCwgMC4wLCAwLjAsIDYyLjgwNzcsIDAuMCwgMC4wLCAwLjAsIDU5LjM4NDYsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA1NS45NjE1LCAwLjAsIDAuMCwgMC4wLCA1Mi41Mzg1LCAwLjAsIDAuMCwgMC4wLCA0OS4xMTU0LCAwLjAsIDAuMCwgMC4wLCA0NS42OTIzLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNDIuMjY5MiwgMC4wLCAwLjAsIDAuMCwgMzguODQ2MiwgMC4wLCAwLjAsIDAuMCwgMzUuNDIzMSwgMC4wLCAwLjAsIDAuMCwgMzIuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI5LjUzODUsIDAuMCwgMC4wLCAwLjAsIDI3LjA3NjksIDAuMCwgMC4wLCAwLjAsIDI0LjYxNTQsIDAuMCwgMC4wLCAwLjAsIDIyLjE1MzgsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxOS42OTIzLCAwLjAsIDAuMCwgMC4wLCAxNy4yMzA4LCAwLjAsIDAuMCwgMC4wLCAxNC43NjkyLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTIuMzA3NywgMC4wLCAwLjAsIDAuMCwgOS44NDYxNSwgMC4wLCAwLjAsIDAuMCwgNy4zODQ2MiwgMC4wLCAwLjAsIDAuMCwgNC45MjMwOCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIuNDYxNTQsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgOS44MDc2OSwgMC4wLCAwLjAsIDAuMCwgMTkuNjE1NCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI5LjQyMzEsIDAuMCwgMC4wLCAwLjAsIDM5LjIzMDgsIDAuMCwgMC4wLCAwLjAsIDQ5LjAzODUsIDAuMCwgMC4wLCAwLjAsIDU4Ljg0NjIsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA2OC42NTM4LCAwLjAsIDAuMCwgMC4wLCA3OC40NjE1LCAwLjAsIDAuMCwgMC4wLCA4OC4yNjkyLCAwLjAsIDAuMCwgMC4wLCA5OC4wNzY5LFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTA3Ljg4NSwgMC4wLCAwLjAsIDAuMCwgMTE3LjY5MiwgMC4wLCAwLjAsIDAuMCwgMTI3LjUsIDAuMCwgMC4wLCAwLjAsIDEzMS40MjMsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMzUuMzQ2LCAwLjAsIDAuMCwgMC4wLCAxMzkuMjY5LCAwLjAsIDAuMCwgMC4wLCAxNDMuMTkyLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTQ3LjExNSwgMC4wLCAwLjAsIDAuMCwgMTUxLjAzOCwgMC4wLCAwLjAsIDAuMCwgMTU0Ljk2MiwgMC4wLCAwLjAsIDAuMCwgMTU4Ljg4NSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE2Mi44MDgsIDAuMCwgMC4wLCAwLjAsIDE2Ni43MzEsIDAuMCwgMC4wLCAwLjAsIDE3MC42NTQsIDAuMCwgMC4wLCAwLjAsIDE3NC41NzcsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxNzguNSwgMC4wLCAwLjAsIDAuMCwgMTgwLjQ2MiwgMC4wLCAwLjAsIDAuMCwgMTgyLjQyMywgMC4wLCAwLjAsIDAuMCwgMTg0LjM4NSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE4Ni4zNDYsIDAuMCwgMC4wLCAwLjAsIDE4OC4zMDgsIDAuMCwgMC4wLCAwLjAsIDE5MC4yNjksIDAuMCwgMC4wLCAwLjAsIDE5Mi4yMzEsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxOTQuMTkyLCAwLjAsIDAuMCwgMC4wLCAxOTYuMTU0LCAwLjAsIDAuMCwgMC4wLCAxOTguMTE1LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjAwLjA3NywgMC4wLCAwLjAsIDAuMCwgMjAyLjAzOCwgMC4wLCAwLjAsIDAuMCwgMjA0LjAsIDAuMCwgMC4wLCAwLjAsIDIwNS45NjIsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMDcuOTIzLCAwLjAsIDAuMCwgMC4wLCAyMDkuODg1LCAwLjAsIDAuMCwgMC4wLCAyMTEuODQ2LCAwLjAsIDAuMCwgMC4wLCAyMTMuODA4LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjE1Ljc2OSwgMC4wLCAwLjAsIDAuMCwgMjE3LjczMSwgMC4wLCAwLjAsIDAuMCwgMjE5LjY5MiwgMC4wLCAwLjAsIDAuMCwgMjIxLjY1NCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIyMy42MTUsIDAuMCwgMC4wLCAwLjAsIDIyNS41NzcsIDAuMCwgMC4wLCAwLjAsIDIyNy41MzgsIDAuMCwgMC4wLCAwLjAsIDIyOS41LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjMwLjQ4MSwgMC4wLCAwLjAsIDAuMCwgMjMxLjQ2MiwgMC4wLCAwLjAsIDAuMCwgMjMyLjQ0MiwgMC4wLCAwLjAsIDAuMCwgMjMzLjQyMyxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzNC40MDQsIDAuMCwgMC4wLCAwLjAsIDIzNS4zODUsIDAuMCwgMC4wLCAwLjAsIDIzNi4zNjUsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzcuMzQ2LCAwLjAsIDAuMCwgMC4wLCAyMzguMzI3LCAwLjAsIDAuMCwgMC4wLCAyMzkuMzA4LCAwLjAsIDAuMCwgMC4wLCAyNDAuMjg4LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQxLjI2OSwgMC4wLCAwLjAsIDAuMCwgMjQyLjI1LCAwLjAsIDAuMCwgMC4wLCAyNDIuNjQyLCAwLjAsIDAuMCwgMC4wLCAyNDMuMDM1LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQzLjQyNywgMC4wLCAwLjAsIDAuMCwgMjQzLjgxOSwgMC4wLCAwLjAsIDAuMCwgMjQ0LjIxMiwgMC4wLCAwLjAsIDAuMCwgMjQ0LjYwNCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0NC45OTYsIDAuMCwgMC4wLCAwLjAsIDI0NS4zODgsIDAuMCwgMC4wLCAwLjAsIDI0NS43ODEsIDAuMCwgMC4wLCAwLjAsIDI0Ni4xNzMsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDYuNTY1LCAwLjAsIDAuMCwgMC4wLCAyNDYuOTU4LCAwLjAsIDAuMCwgMC4wLCAyNDcuMzUsIDAuMCwgMC4wLCAwLjAsIDI0Ny44MTQsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDguMjc3LCAwLjAsIDAuMCwgMC4wLCAyNDguNzQxLCAwLjAsIDAuMCwgMC4wLCAyNDkuMjA1LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjQ5LjY2OCwgMC4wLCAwLjAsIDAuMCwgMjUwLjEzMiwgMC4wLCAwLjAsIDAuMCwgMjUwLjU5NSwgMC4wLCAwLjAsIDAuMCwgMjUxLjA1OSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI1MS41MjMsIDAuMCwgMC4wLCAwLjAsIDI1MS45ODYsIDAuMCwgMC4wLCAwLjAsIDI1Mi40NSwgMC4wLCAwLjAsIDAuMFxuICAgICAgICBdKSxcbiAgICAgICAgYjogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU0LjYxNSwgMC4wLCAwLjAsIDAuMCwgMjU0LjIzMSwgMC4wLCAwLjAsIDAuMCwgMjUzLjg0NixcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1My40NjIsIDAuMCwgMC4wLCAwLjAsIDI1My4wNzcsIDAuMCwgMC4wLCAwLjAsIDI1Mi42OTIsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTIuMzA4LCAwLjAsIDAuMCwgMC4wLCAyNTEuOTIzLCAwLjAsIDAuMCwgMC4wLCAyNTEuNTM4LCAwLjAsIDAuMCwgMC4wLCAyNTEuMTU0LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjUwLjc2OSwgMC4wLCAwLjAsIDAuMCwgMjUwLjM4NSwgMC4wLCAwLjAsIDAuMCwgMjUwLjAsIDAuMCwgMC4wLCAwLjAsIDI0OS42MTUsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNDkuMjMxLCAwLjAsIDAuMCwgMC4wLCAyNDguODQ2LCAwLjAsIDAuMCwgMC4wLCAyNDguNDYyLCAwLjAsIDAuMCwgMC4wLCAyNDguMDc3LCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjQ3LjY5MiwgMC4wLCAwLjAsIDAuMCwgMjQ3LjMwOCwgMC4wLCAwLjAsIDAuMCwgMjQ2LjkyMywgMC4wLCAwLjAsIDAuMCwgMjQ2LjUzOCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI0Ni4xNTQsIDAuMCwgMC4wLCAwLjAsIDI0NS43NjksIDAuMCwgMC4wLCAwLjAsIDI0NS4zODUsIDAuMCwgMC4wLCAwLjAsIDI0NS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjQyLjAsIDAuMCwgMC4wLCAwLjAsIDIzOS4wLCAwLjAsIDAuMCwgMC4wLCAyMzYuMCwgMC4wLCAwLjAsIDAuMCwgMjMzLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMzAuMCwgMC4wLCAwLjAsIDAuMCwgMjI3LjAsIDAuMCwgMC4wLCAwLjAsIDIyNC4wLCAwLjAsIDAuMCwgMC4wLCAyMjEuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIxOC4wLCAwLjAsIDAuMCwgMC4wLCAyMTUuMCwgMC4wLCAwLjAsIDAuMCwgMjEyLjAsIDAuMCwgMC4wLCAwLjAsIDIxMi4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjA4LjYzNiwgMC4wLCAwLjAsIDAuMCwgMjA1LjI3MywgMC4wLCAwLjAsIDAuMCwgMjAxLjkwOSwgMC4wLCAwLjAsIDAuMCwgMTk4LjU0NSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE5NS4xODIsIDAuMCwgMC4wLCAwLjAsIDE5MS44MTgsIDAuMCwgMC4wLCAwLjAsIDE4OC40NTUsIDAuMCwgMC4wLCAwLjAsIDE4NS4wOTEsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxODEuNzI3LCAwLjAsIDAuMCwgMC4wLCAxNzguMzY0LCAwLjAsIDAuMCwgMC4wLCAxNzUuMCwgMC4wLCAwLjAsIDAuMCwgMTcxLjUzOCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE2OC4wNzcsIDAuMCwgMC4wLCAwLjAsIDE2NC42MTUsIDAuMCwgMC4wLCAwLjAsIDE2MS4xNTQsIDAuMCwgMC4wLCAwLjAsIDE1Ny42OTIsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNTQuMjMxLCAwLjAsIDAuMCwgMC4wLCAxNTAuNzY5LCAwLjAsIDAuMCwgMC4wLCAxNDcuMzA4LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTQzLjg0NiwgMC4wLCAwLjAsIDAuMCwgMTQwLjM4NSwgMC4wLCAwLjAsIDAuMCwgMTM2LjkyMywgMC4wLCAwLjAsIDAuMCwgMTMzLjQ2MiwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDEzMC4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuOTQyLCAwLjAsIDAuMCwgMC4wLCAxMTUuODg1LCAwLjAsIDAuMCwgMC4wLCAxMDguODI3LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTAxLjc2OSwgMC4wLCAwLjAsIDAuMCwgOTQuNzExNSwgMC4wLCAwLjAsIDAuMCwgODcuNjUzOSwgMC4wLCAwLjAsIDAuMCwgODAuNTk2MiwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDczLjUzODUsIDAuMCwgMC4wLCAwLjAsIDY2LjQ4MDgsIDAuMCwgMC4wLCAwLjAsIDU5LjQyMzEsIDAuMCwgMC4wLCAwLjAsIDUyLjM2NTQsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA0NS4zMDc3LCAwLjAsIDAuMCwgMC4wLCAzOC4yNSwgMC4wLCAwLjAsIDAuMCwgMzYuMjg4NSwgMC4wLCAwLjAsIDAuMCwgMzQuMzI2OSxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDMyLjM2NTQsIDAuMCwgMC4wLCAwLjAsIDMwLjQwMzgsIDAuMCwgMC4wLCAwLjAsIDI4LjQ0MjMsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNi40ODA4LCAwLjAsIDAuMCwgMC4wLCAyNC41MTkyLCAwLjAsIDAuMCwgMC4wLCAyMi41NTc3LCAwLjAsIDAuMCwgMC4wLCAyMC41OTYyLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTguNjM0NiwgMC4wLCAwLjAsIDAuMCwgMTYuNjczMSwgMC4wLCAwLjAsIDAuMCwgMTQuNzExNSwgMC4wLCAwLjAsIDAuMCwgMTIuNzUsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMS43NjkyLCAwLjAsIDAuMCwgMC4wLCAxMC43ODg1LCAwLjAsIDAuMCwgMC4wLCA5LjgwNzY5LCAwLjAsIDAuMCwgMC4wLCA4LjgyNjkyLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNy44NDYxNSwgMC4wLCAwLjAsIDAuMCwgNi44NjUzOSwgMC4wLCAwLjAsIDAuMCwgNS44ODQ2MSwgMC4wLCAwLjAsIDAuMCwgNC45MDM4NSxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDMuOTIzMDgsIDAuMCwgMC4wLCAwLjAsIDIuOTQyMzEsIDAuMCwgMC4wLCAwLjAsIDEuOTYxNTQsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjk4MDc2OSwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAyLjQ2MTU0LCAwLjAsIDAuMCwgMC4wLCA0LjkyMzA4LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgNy4zODQ2MiwgMC4wLCAwLjAsIDAuMCwgOS44NDYxNiwgMC4wLCAwLjAsIDAuMCwgMTIuMzA3NywgMC4wLCAwLjAsIDAuMCwgMTQuNzY5MiwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE3LjIzMDgsIDAuMCwgMC4wLCAwLjAsIDE5LjY5MjMsIDAuMCwgMC4wLCAwLjAsIDIyLjE1MzgsIDAuMCwgMC4wLCAwLjAsIDI0LjYxNTQsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyNy4wNzY5LCAwLjAsIDAuMCwgMC4wLCAyOS41Mzg1LCAwLjAsIDAuMCwgMC4wLCAzMi4wLCAwLjAsIDAuMCwgMC4wLCAzMi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMzIuMCwgMC4wLCAwLjAsIDAuMCwgMzIuMCwgMC4wLCAwLjAsIDAuMCwgMzIuMCwgMC4wLCAwLjAsIDAuMCwgMzIuMCwgMC4wLCAwLjAsIDAuMCwgMzIuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDMyLjAsIDAuMCwgMC4wLCAwLjAsIDMyLjAsIDAuMCwgMC4wLCAwLjAsIDMyLjAsIDAuMCwgMC4wLCAwLjAsIDMyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAzMi4wLCAwLjAsIDAuMCwgMC4wLCAzMi4wLCAwLjAsIDAuMCwgMC4wLCAzMi4wLCAwLjAsIDAuMCwgMC4wLCA0MS4zMDc3LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgNTAuNjE1NCwgMC4wLCAwLjAsIDAuMCwgNTkuOTIzMSwgMC4wLCAwLjAsIDAuMCwgNjkuMjMwOCwgMC4wLCAwLjAsIDAuMCwgNzguNTM4NSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDg3Ljg0NjIsIDAuMCwgMC4wLCAwLjAsIDk3LjE1MzksIDAuMCwgMC4wLCAwLjAsIDEwNi40NjIsIDAuMCwgMC4wLCAwLjAsIDExNS43NjksIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxMjUuMDc3LCAwLjAsIDAuMCwgMC4wLCAxMzQuMzg1LCAwLjAsIDAuMCwgMC4wLCAxNDMuNjkyLCAwLjAsIDAuMCwgMC4wLCAxNTMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE1Ni45MjMsIDAuMCwgMC4wLCAwLjAsIDE2MC44NDYsIDAuMCwgMC4wLCAwLjAsIDE2NC43NjksIDAuMCwgMC4wLCAwLjAsIDE2OC42OTIsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNzIuNjE1LCAwLjAsIDAuMCwgMC4wLCAxNzYuNTM4LCAwLjAsIDAuMCwgMC4wLCAxODAuNDYyLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTg0LjM4NSwgMC4wLCAwLjAsIDAuMCwgMTg4LjMwOCwgMC4wLCAwLjAsIDAuMCwgMTkyLjIzMSwgMC4wLCAwLjAsIDAuMCwgMTk2LjE1NCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIwMC4wNzcsIDAuMCwgMC4wLCAwLjAsIDIwNC4wLCAwLjAsIDAuMCwgMC4wLCAyMDUuOTYyLCAwLjAsIDAuMCwgMC4wLCAyMDcuOTIzLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjA5Ljg4NSwgMC4wLCAwLjAsIDAuMCwgMjExLjg0NiwgMC4wLCAwLjAsIDAuMCwgMjEzLjgwOCwgMC4wLCAwLjAsIDAuMCwgMjE1Ljc2OSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIxNy43MzEsIDAuMCwgMC4wLCAwLjAsIDIxOS42OTIsIDAuMCwgMC4wLCAwLjAsIDIyMS42NTQsIDAuMCwgMC4wLCAwLjAsIDIyMy42MTUsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMjUuNTc3LCAwLjAsIDAuMCwgMC4wLCAyMjcuNTM4LCAwLjAsIDAuMCwgMC4wLCAyMjkuNSwgMC4wLCAwLjAsIDAuMCwgMjMwLjQ4MSxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzMS40NjIsIDAuMCwgMC4wLCAwLjAsIDIzMi40NDIsIDAuMCwgMC4wLCAwLjAsIDIzMy40MjMsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzQuNDA0LCAwLjAsIDAuMCwgMC4wLCAyMzUuMzg1LCAwLjAsIDAuMCwgMC4wLCAyMzYuMzY1LCAwLjAsIDAuMCwgMC4wLCAyMzcuMzQ2LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjM4LjMyNywgMC4wLCAwLjAsIDAuMCwgMjM5LjMwOCwgMC4wLCAwLjAsIDAuMCwgMjQwLjI4OCwgMC4wLCAwLjAsIDAuMCwgMjQxLjI2OSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0Mi4yNSwgMC4wLCAwLjAsIDAuMCwgMjQyLjgzOCwgMC4wLCAwLjAsIDAuMCwgMjQzLjQyNywgMC4wLCAwLjAsIDAuMCwgMjQ0LjAxNSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0NC42MDQsIDAuMCwgMC4wLCAwLjAsIDI0NS4xOTIsIDAuMCwgMC4wLCAwLjAsIDI0NS43ODEsIDAuMCwgMC4wLCAwLjAsIDI0Ni4zNjksXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDYuOTU4LCAwLjAsIDAuMCwgMC4wLCAyNDcuNTQ2LCAwLjAsIDAuMCwgMC4wLCAyNDguMTM1LCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjQ4LjcyMywgMC4wLCAwLjAsIDAuMCwgMjQ5LjMxMiwgMC4wLCAwLjAsIDAuMCwgMjQ5LjksIDAuMCwgMC4wLCAwLjAsIDI1MC4wOTYsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTAuMjkyLCAwLjAsIDAuMCwgMC4wLCAyNTAuNDg4LCAwLjAsIDAuMCwgMC4wLCAyNTAuNjg1LCAwLjAsIDAuMCwgMC4wLCAyNTAuODgxLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjUxLjA3NywgMC4wLCAwLjAsIDAuMCwgMjUxLjI3MywgMC4wLCAwLjAsIDAuMCwgMjUxLjQ2OSwgMC4wLCAwLjAsIDAuMCwgMjUxLjY2NSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1MS44NjIsIDAuMCwgMC4wLCAwLjAsIDI1Mi4wNTgsIDAuMCwgMC4wLCAwLjAsIDI1Mi4yNTQsIDAuMCwgMC4wLCAwLjAsIDI1Mi40NSwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1Mi42ODIsIDAuMCwgMC4wLCAwLjAsIDI1Mi45MTQsIDAuMCwgMC4wLCAwLjAsIDI1My4xNDUsIDAuMCwgMC4wLCAwLjAsIDI1My4zNzcsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTMuNjA5LCAwLjAsIDAuMCwgMC4wLCAyNTMuODQxLCAwLjAsIDAuMCwgMC4wLCAyNTQuMDczLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjU0LjMwNSwgMC4wLCAwLjAsIDAuMCwgMjU0LjUzNiwgMC4wLCAwLjAsIDAuMCwgMjU0Ljc2OCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjBcbiAgICAgICAgXSlcbiAgICB9O1xuICAgIFJBSU5CT1cgPSB7XG4gICAgICAgIHI6IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCA0LjAsIDAuMCwgMC4wLCAwLjAsIDkuMCwgMC4wLCAwLjAsIDAuMCwgMTMuMCwgMC4wLCAwLjAsIDAuMCwgMTguMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIyLjAsIDAuMCwgMC4wLCAwLjAsIDI3LjAsIDAuMCwgMC4wLCAwLjAsIDMxLjAsIDAuMCwgMC4wLCAwLjAsIDM2LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICA0MC4wLCAwLjAsIDAuMCwgMC4wLCA0NS4wLCAwLjAsIDAuMCwgMC4wLCA1MC4wLCAwLjAsIDAuMCwgMC4wLCA1NC4wLCAwLjAsIDAuMCwgMC4wLCA1OC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNjEuMCwgMC4wLCAwLjAsIDAuMCwgNjQuMCwgMC4wLCAwLjAsIDAuMCwgNjguMCwgMC4wLCAwLjAsIDAuMCwgNjkuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDcyLjAsIDAuMCwgMC4wLCAwLjAsIDc0LjAsIDAuMCwgMC4wLCAwLjAsIDc3LjAsIDAuMCwgMC4wLCAwLjAsIDc5LjAsIDAuMCwgMC4wLCAwLjAsIDgwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA4Mi4wLCAwLjAsIDAuMCwgMC4wLCA4My4wLCAwLjAsIDAuMCwgMC4wLCA4NS4wLCAwLjAsIDAuMCwgMC4wLCA4NC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgODYuMCwgMC4wLCAwLjAsIDAuMCwgODcuMCwgMC4wLCAwLjAsIDAuMCwgODguMCwgMC4wLCAwLjAsIDAuMCwgODYuMCwgMC4wLCAwLjAsIDAuMCwgODcuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDg3LjAsIDAuMCwgMC4wLCAwLjAsIDg3LjAsIDAuMCwgMC4wLCAwLjAsIDg1LjAsIDAuMCwgMC4wLCAwLjAsIDg0LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICA4NC4wLCAwLjAsIDAuMCwgMC4wLCA4NC4wLCAwLjAsIDAuMCwgMC4wLCA4My4wLCAwLjAsIDAuMCwgMC4wLCA3OS4wLCAwLjAsIDAuMCwgMC4wLCA3OC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNzcuMCwgMC4wLCAwLjAsIDAuMCwgNzYuMCwgMC4wLCAwLjAsIDAuMCwgNzEuMCwgMC4wLCAwLjAsIDAuMCwgNzAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDY4LjAsIDAuMCwgMC4wLCAwLjAsIDY2LjAsIDAuMCwgMC4wLCAwLjAsIDYwLjAsIDAuMCwgMC4wLCAwLjAsIDU4LjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA1My4wLCAwLjAsIDAuMCwgMC4wLCA0Ni4wLCAwLjAsIDAuMCwgMC4wLCA0My4wLCAwLjAsIDAuMCwgMC4wLCA0MC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMzYuMCwgMC4wLCAwLjAsIDAuMCwgMzMuMCwgMC4wLCAwLjAsIDAuMCwgMjUuMCwgMC4wLCAwLjAsIDAuMCwgMjEuMCwgMC4wLCAwLjAsIDAuMCwgMTYuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEyLjAsIDAuMCwgMC4wLCAwLjAsIDQuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDQuMCwgMC4wLCAwLjAsIDAuMCwgOC4wLCAwLjAsIDAuMCwgMC4wLCAxMi4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjUuMCwgMC4wLCAwLjAsIDAuMCwgMjkuMCwgMC4wLCAwLjAsIDAuMCwgMzMuMCwgMC4wLCAwLjAsIDAuMCwgNDIuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDQ2LjAsIDAuMCwgMC4wLCAwLjAsIDUxLjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCwgMC4wLCAwLjAsIDYzLjAsIDAuMCwgMC4wLCAwLjAsIDY3LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA3Mi4wLCAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA4MC4wLCAwLjAsIDAuMCwgMC4wLCA4OS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgOTMuMCwgMC4wLCAwLjAsIDAuMCwgOTcuMCwgMC4wLCAwLjAsIDAuMCwgMTAxLjAsIDAuMCwgMC4wLCAwLjAsIDExMC4wLCAwLjAsIDAuMCwgMC4wLCAxMTQuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDExOS4wLCAwLjAsIDAuMCwgMC4wLCAxMjMuMCwgMC4wLCAwLjAsIDAuMCwgMTMxLjAsIDAuMCwgMC4wLCAwLjAsIDEzNS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTQwLjAsIDAuMCwgMC4wLCAwLjAsIDE0NC4wLCAwLjAsIDAuMCwgMC4wLCAxNTMuMCwgMC4wLCAwLjAsIDAuMCwgMTU3LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxNjEuMCwgMC4wLCAwLjAsIDAuMCwgMTY1LjAsIDAuMCwgMC4wLCAwLjAsIDE2OS4wLCAwLjAsIDAuMCwgMC4wLCAxNzguMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE4Mi4wLCAwLjAsIDAuMCwgMC4wLCAxODcuMCwgMC4wLCAwLjAsIDAuMCwgMTkxLjAsIDAuMCwgMC4wLCAwLjAsIDE5OS4wLCAwLjAsIDAuMCwgMC4wLCAyMDMuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIwOC4wLCAwLjAsIDAuMCwgMC4wLCAyMTIuMCwgMC4wLCAwLjAsIDAuMCwgMjIxLjAsIDAuMCwgMC4wLCAwLjAsIDIyNS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIzMy4wLCAwLjAsIDAuMCwgMC4wLCAyNDIuMCwgMC4wLCAwLjAsIDAuMCwgMjQ2LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTAuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMFxuICAgICAgICBdKSxcbiAgICAgICAgZzogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDQuMCwgMC4wLCAwLjAsIDAuMCwgOC4wLCAwLjAsIDAuMCwgMC4wLCAxNi4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjkuMCwgMC4wLCAwLjAsIDAuMCwgMzguMCwgMC4wLCAwLjAsIDAuMCwgNDIuMCwgMC4wLCAwLjAsIDAuMCwgNDYuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDUxLjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCwgMC4wLCAwLjAsIDYzLjAsIDAuMCwgMC4wLCAwLjAsIDY3LjAsIDAuMCwgMC4wLCAwLjAsIDcyLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA4NC4wLCAwLjAsIDAuMCwgMC4wLCA4OS4wLCAwLjAsIDAuMCwgMC4wLCA5My4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgOTcuMCwgMC4wLCAwLjAsIDAuMCwgMTA2LjAsIDAuMCwgMC4wLCAwLjAsIDExMC4wLCAwLjAsIDAuMCwgMC4wLCAxMTQuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDExOS4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTMxLjAsIDAuMCwgMC4wLCAwLjAsIDEzNS4wLCAwLjAsIDAuMCwgMC4wLCAxNDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE0NC4wLCAwLjAsIDAuMCwgMC4wLCAxNTIuMCwgMC4wLCAwLjAsIDAuMCwgMTU3LjAsIDAuMCwgMC4wLCAwLjAsIDE2MS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTY1LjAsIDAuMCwgMC4wLCAwLjAsIDE3NC4wLCAwLjAsIDAuMCwgMC4wLCAxNzguMCwgMC4wLCAwLjAsIDAuMCwgMTgyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxODcuMCwgMC4wLCAwLjAsIDAuMCwgMTk1LjAsIDAuMCwgMC4wLCAwLjAsIDE5OS4wLCAwLjAsIDAuMCwgMC4wLCAyMDMuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIwOC4wLCAwLjAsIDAuMCwgMC4wLCAyMTYuMCwgMC4wLCAwLjAsIDAuMCwgMjIwLjAsIDAuMCwgMC4wLCAwLjAsIDIyNS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzMy4wLCAwLjAsIDAuMCwgMC4wLCAyNDIuMCwgMC4wLCAwLjAsIDAuMCwgMjQ2LjAsIDAuMCwgMC4wLCAwLjAsIDI1MC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1MC4wLCAwLjAsIDAuMCwgMC4wLCAyNDIuMCwgMC4wLCAwLjAsIDAuMCwgMjM4LjAsIDAuMCwgMC4wLCAwLjAsIDIzMy4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMTYuMCwgMC4wLCAwLjAsIDAuMCwgMjEyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMDguMCwgMC4wLCAwLjAsIDAuMCwgMTk5LjAsIDAuMCwgMC4wLCAwLjAsIDE5NS4wLCAwLjAsIDAuMCwgMC4wLCAxOTEuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE4Ny4wLCAwLjAsIDAuMCwgMC4wLCAxNzguMCwgMC4wLCAwLjAsIDAuMCwgMTc0LjAsIDAuMCwgMC4wLCAwLjAsIDE3MC4wLCAwLjAsIDAuMCwgMC4wLCAxNjUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE2MS4wLCAwLjAsIDAuMCwgMC4wLCAxNTMuMCwgMC4wLCAwLjAsIDAuMCwgMTQ4LjAsIDAuMCwgMC4wLCAwLjAsIDE0NC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTQwLjAsIDAuMCwgMC4wLCAwLjAsIDEzMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTIzLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMTkuMCwgMC4wLCAwLjAsIDAuMCwgMTEwLjAsIDAuMCwgMC4wLCAwLjAsIDEwNi4wLCAwLjAsIDAuMCwgMC4wLCAxMDIuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDk3LjAsIDAuMCwgMC4wLCAwLjAsIDg5LjAsIDAuMCwgMC4wLCAwLjAsIDg1LjAsIDAuMCwgMC4wLCAwLjAsIDgwLjAsIDAuMCwgMC4wLCAwLjAsIDc2LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA3Mi4wLCAwLjAsIDAuMCwgMC4wLCA2My4wLCAwLjAsIDAuMCwgMC4wLCA1OS4wLCAwLjAsIDAuMCwgMC4wLCA1NS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgNTEuMCwgMC4wLCAwLjAsIDAuMCwgNDIuMCwgMC4wLCAwLjAsIDAuMCwgMzguMCwgMC4wLCAwLjAsIDAuMCwgMzQuMCwgMC4wLCAwLjAsIDAuMCwgMjkuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIxLjAsIDAuMCwgMC4wLCAwLjAsIDE3LjAsIDAuMCwgMC4wLCAwLjAsIDEyLjAsIDAuMCwgMC4wLCAwLjAsIDguMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMFxuICAgICAgICBdKSxcbiAgICAgICAgYjogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDMuMCwgMC4wLCAwLjAsIDAuMCwgNy4wLCAwLjAsIDAuMCwgMC4wLCAxMC4wLCAwLjAsIDAuMCwgMC4wLCAxNC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTkuMCwgMC4wLCAwLjAsIDAuMCwgMjMuMCwgMC4wLCAwLjAsIDAuMCwgMjguMCwgMC4wLCAwLjAsIDAuMCwgMzIuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDM4LjAsIDAuMCwgMC4wLCAwLjAsIDQzLjAsIDAuMCwgMC4wLCAwLjAsIDQ4LjAsIDAuMCwgMC4wLCAwLjAsIDUzLjAsIDAuMCwgMC4wLCAwLjAsIDU5LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA2My4wLCAwLjAsIDAuMCwgMC4wLCA2OC4wLCAwLjAsIDAuMCwgMC4wLCA3Mi4wLCAwLjAsIDAuMCwgMC4wLCA3Ny4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgODEuMCwgMC4wLCAwLjAsIDAuMCwgODYuMCwgMC4wLCAwLjAsIDAuMCwgOTEuMCwgMC4wLCAwLjAsIDAuMCwgOTUuMCwgMC4wLCAwLjAsIDAuMCwgMTAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMDQuMCwgMC4wLCAwLjAsIDAuMCwgMTA5LjAsIDAuMCwgMC4wLCAwLjAsIDExMy4wLCAwLjAsIDAuMCwgMC4wLCAxMTguMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTMyLjAsIDAuMCwgMC4wLCAwLjAsIDEzNi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTQxLjAsIDAuMCwgMC4wLCAwLjAsIDE0NS4wLCAwLjAsIDAuMCwgMC4wLCAxNTAuMCwgMC4wLCAwLjAsIDAuMCwgMTU0LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNTkuMCwgMC4wLCAwLjAsIDAuMCwgMTYzLjAsIDAuMCwgMC4wLCAwLjAsIDE2OC4wLCAwLjAsIDAuMCwgMC4wLCAxNzMuMCwgMC4wLCAwLjAsIDAuMCwgMTc3LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxODIuMCwgMC4wLCAwLjAsIDAuMCwgMTg2LjAsIDAuMCwgMC4wLCAwLjAsIDE5MS4wLCAwLjAsIDAuMCwgMC4wLCAxOTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIwMC4wLCAwLjAsIDAuMCwgMC4wLCAyMDQuMCwgMC4wLCAwLjAsIDAuMCwgMjA5LjAsIDAuMCwgMC4wLCAwLjAsIDIxNC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjE4LjAsIDAuMCwgMC4wLCAwLjAsIDIyMy4wLCAwLjAsIDAuMCwgMC4wLCAyMjcuMCwgMC4wLCAwLjAsIDAuMCwgMjMyLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzYuMCwgMC4wLCAwLjAsIDAuMCwgMjQxLjAsIDAuMCwgMC4wLCAwLjAsIDI0NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTAuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNDYuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0Mi4wLCAwLjAsIDAuMCwgMC4wLCAyMzguMCwgMC4wLCAwLjAsIDAuMCwgMjMzLjAsIDAuMCwgMC4wLCAwLjAsIDIyNS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjIwLjAsIDAuMCwgMC4wLCAwLjAsIDIxNi4wLCAwLjAsIDAuMCwgMC4wLCAyMTIuMCwgMC4wLCAwLjAsIDAuMCwgMjAzLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxOTkuMCwgMC4wLCAwLjAsIDAuMCwgMTk1LjAsIDAuMCwgMC4wLCAwLjAsIDE5MS4wLCAwLjAsIDAuMCwgMC4wLCAxODcuMCwgMC4wLCAwLjAsIDAuMCwgMTc4LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNzQuMCwgMC4wLCAwLjAsIDAuMCwgMTcwLjAsIDAuMCwgMC4wLCAwLjAsIDE2NS4wLCAwLjAsIDAuMCwgMC4wLCAxNTcuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE1Mi4wLCAwLjAsIDAuMCwgMC4wLCAxNDguMCwgMC4wLCAwLjAsIDAuMCwgMTQ0LjAsIDAuMCwgMC4wLCAwLjAsIDEzNS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTMxLjAsIDAuMCwgMC4wLCAwLjAsIDEyNy4wLCAwLjAsIDAuMCwgMC4wLCAxMjMuMCwgMC4wLCAwLjAsIDAuMCwgMTE0LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxMTAuMCwgMC4wLCAwLjAsIDAuMCwgMTA2LjAsIDAuMCwgMC4wLCAwLjAsIDEwMi4wLCAwLjAsIDAuMCwgMC4wLCA5Ny4wLCAwLjAsIDAuMCwgMC4wLCA4OS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgODQuMCwgMC4wLCAwLjAsIDAuMCwgODAuMCwgMC4wLCAwLjAsIDAuMCwgNzYuMCwgMC4wLCAwLjAsIDAuMCwgNjcuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDYzLjAsIDAuMCwgMC4wLCAwLjAsIDU5LjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCwgMC4wLCAwLjAsIDQ2LjAsIDAuMCwgMC4wLCAwLjAsIDQyLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAzOC4wLCAwLjAsIDAuMCwgMC4wLCAzNC4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTYuMCwgMC4wLCAwLjAsIDAuMCwgMTIuMCwgMC4wLCAwLjAsIDAuMCwgOC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDBcbiAgICAgICAgXSlcbiAgICB9O1xuICAgIENNQiA9IHtcbiAgICAgICAgLy8gXCJyXCI6IG5ldyBGbG9hdDMyQXJyYXkoWzAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCA2LjAsIDEyLjAsIDE4LjAsIDI0LjAsIDMwLjAsIDM2LjAsIDQyLjAsIDQ4LjAsIDU0LjAsIDYwLjAsIDY2LjAsIDcyLjAsIDc4LjAsIDg1LjAsIDkxLjAsIDk3LjAsIDEwMy4wLCAxMDkuMCwgMTE1LjAsIDEyMS4wLCAxMjcuMCwgMTMzLjAsIDEzOS4wLCAxNDUuMCwgMTUxLjAsIDE1Ny4wLCAxNjMuMCwgMTcwLjAsIDE3Ni4wLCAxODIuMCwgMTg4LjAsIDE5NC4wLCAyMDAuMCwgMjA2LjAsIDIxMi4wLCAyMTguMCwgMjI0LjAsIDIzMC4wLCAyMzYuMCwgMjQyLjAsIDI0OC4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1MS4wLCAyNDcuMCwgMjQ0LjAsIDI0MC4wLCAyMzYuMCwgMjMzLjAsIDIyOS4wLCAyMjYuMCwgMjIyLjAsIDIxOC4wLCAyMTUuMCwgMjExLjAsIDIwOC4wLCAyMDQuMCwgMjAwLjAsIDE5Ny4wLCAxOTMuMCwgMTkwLjAsIDE4Ni4wLCAxODIuMCwgMTc5LjAsIDE3NS4wLCAxNzIuMCwgMTY4LjAsIDE2NC4wLCAxNjEuMCwgMTU3LjAsIDE1NC4wLCAxNTAuMCwgMTQ2LjAsIDE0My4wLCAxMzkuMCwgMTM2LjAsIDEzMi4wLCAxMjguMCwgMTI1LjAsIDEyMS4wLCAxMTguMCwgMTE0LjAsIDExMC4wLCAxMDcuMCwgMTAzLjAsIDEwMC4wXSksXG4gICAgICAgIC8vIFwiZ1wiOiBuZXcgRmxvYXQzMkFycmF5KFswLjAsIDIuMCwgNS4wLCA4LjAsIDEwLjAsIDEzLjAsIDE2LjAsIDE4LjAsIDIxLjAsIDI0LjAsIDI2LjAsIDI5LjAsIDMyLjAsIDM0LjAsIDM3LjAsIDQwLjAsIDQyLjAsIDQ1LjAsIDQ4LjAsIDUwLjAsIDUzLjAsIDU2LjAsIDU4LjAsIDYxLjAsIDY0LjAsIDY2LjAsIDY5LjAsIDcyLjAsIDc0LjAsIDc3LjAsIDgwLjAsIDgyLjAsIDg1LjAsIDg4LjAsIDkwLjAsIDkzLjAsIDk2LjAsIDk4LjAsIDEwMS4wLCAxMDQuMCwgMTA2LjAsIDEwOS4wLCAxMTIuMCwgMTE0LjAsIDExNy4wLCAxMTkuMCwgMTIyLjAsIDEyNC4wLCAxMjcuMCwgMTI5LjAsIDEzMi4wLCAxMzQuMCwgMTM3LjAsIDEzOS4wLCAxNDIuMCwgMTQ0LjAsIDE0Ny4wLCAxNTAuMCwgMTUyLjAsIDE1NS4wLCAxNTcuMCwgMTYwLjAsIDE2Mi4wLCAxNjUuMCwgMTY3LjAsIDE3MC4wLCAxNzIuMCwgMTc1LjAsIDE3Ny4wLCAxODAuMCwgMTgyLjAsIDE4NS4wLCAxODguMCwgMTkwLjAsIDE5My4wLCAxOTUuMCwgMTk4LjAsIDIwMC4wLCAyMDMuMCwgMjA1LjAsIDIwOC4wLCAyMTAuMCwgMjEzLjAsIDIxNS4wLCAyMTguMCwgMjIxLjAsIDIyMS4wLCAyMjEuMCwgMjIyLjAsIDIyMi4wLCAyMjIuMCwgMjIzLjAsIDIyMy4wLCAyMjQuMCwgMjI0LjAsIDIyNC4wLCAyMjUuMCwgMjI1LjAsIDIyNS4wLCAyMjYuMCwgMjI2LjAsIDIyNy4wLCAyMjcuMCwgMjI3LjAsIDIyOC4wLCAyMjguMCwgMjI5LjAsIDIyOS4wLCAyMjkuMCwgMjMwLjAsIDIzMC4wLCAyMzAuMCwgMjMxLjAsIDIzMS4wLCAyMzIuMCwgMjMyLjAsIDIzMi4wLCAyMzMuMCwgMjMzLjAsIDIzMy4wLCAyMzQuMCwgMjM0LjAsIDIzNS4wLCAyMzUuMCwgMjM1LjAsIDIzNi4wLCAyMzYuMCwgMjM3LjAsIDIzNS4wLCAyMzQuMCwgMjMzLjAsIDIzMS4wLCAyMzAuMCwgMjI5LjAsIDIyNy4wLCAyMjYuMCwgMjI1LjAsIDIyMy4wLCAyMjIuMCwgMjIxLjAsIDIxOS4wLCAyMTguMCwgMjE3LjAsIDIxNS4wLCAyMTQuMCwgMjEzLjAsIDIxMS4wLCAyMTAuMCwgMjA5LjAsIDIwNy4wLCAyMDYuMCwgMjA1LjAsIDIwMy4wLCAyMDIuMCwgMjAxLjAsIDE5OS4wLCAxOTguMCwgMTk3LjAsIDE5NS4wLCAxOTQuMCwgMTkzLjAsIDE5MS4wLCAxOTAuMCwgMTg5LjAsIDE4Ny4wLCAxODYuMCwgMTg1LjAsIDE4My4wLCAxODIuMCwgMTgxLjAsIDE4MC4wLCAxNzcuMCwgMTc1LjAsIDE3Mi4wLCAxNzAuMCwgMTY3LjAsIDE2NS4wLCAxNjIuMCwgMTYwLjAsIDE1Ny4wLCAxNTUuMCwgMTUyLjAsIDE1MC4wLCAxNDcuMCwgMTQ1LjAsIDE0Mi4wLCAxNDAuMCwgMTM3LjAsIDEzNS4wLCAxMzIuMCwgMTMwLjAsIDEyNy4wLCAxMjUuMCwgMTIyLjAsIDEyMC4wLCAxMTcuMCwgMTE1LjAsIDExMi4wLCAxMTAuMCwgMTA3LjAsIDEwNS4wLCAxMDIuMCwgMTAwLjAsIDk3LjAsIDk1LjAsIDkyLjAsIDkwLjAsIDg3LjAsIDg1LjAsIDgyLjAsIDgwLjAsIDc3LjAsIDc1LjAsIDczLjAsIDcxLjAsIDY5LjAsIDY4LjAsIDY2LjAsIDY0LjAsIDYyLjAsIDYxLjAsIDU5LjAsIDU3LjAsIDU1LjAsIDU0LjAsIDUyLjAsIDUwLjAsIDQ4LjAsIDQ3LjAsIDQ1LjAsIDQzLjAsIDQxLjAsIDQwLjAsIDM4LjAsIDM2LjAsIDM0LjAsIDMzLjAsIDMxLjAsIDI5LjAsIDI3LjAsIDI2LjAsIDI0LjAsIDIyLjAsIDIwLjAsIDE5LjAsIDE3LjAsIDE1LjAsIDEzLjAsIDEyLjAsIDEwLjAsIDguMCwgNi4wLCA1LjAsIDMuMCwgMS4wLCAwLjBdKSxcbiAgICAgICAgLy8gXCJiXCI6IG5ldyBGbG9hdDMyQXJyYXkoWzI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU1LjAsIDI1NS4wLCAyNTUuMCwgMjU0LjAsIDI1My4wLCAyNTIuMCwgMjUxLjAsIDI1MC4wLCAyNDkuMCwgMjQ4LjAsIDI0Ny4wLCAyNDYuMCwgMjQ1LjAsIDI0NS4wLCAyNDQuMCwgMjQzLjAsIDI0Mi4wLCAyNDEuMCwgMjQwLjAsIDIzOS4wLCAyMzguMCwgMjM3LjAsIDIzNi4wLCAyMzYuMCwgMjM1LjAsIDIzNC4wLCAyMzMuMCwgMjMyLjAsIDIzMS4wLCAyMzAuMCwgMjI5LjAsIDIyOC4wLCAyMjcuMCwgMjI2LjAsIDIyNi4wLCAyMjUuMCwgMjI0LjAsIDIyMy4wLCAyMjIuMCwgMjIxLjAsIDIyMC4wLCAyMTkuMCwgMjE4LjAsIDIxNy4wLCAyMTcuMCwgMjExLjAsIDIwNi4wLCAyMDEuMCwgMTk2LjAsIDE5MS4wLCAxODYuMCwgMTgxLjAsIDE3Ni4wLCAxNzEuMCwgMTY2LjAsIDE2MS4wLCAxNTYuMCwgMTUxLjAsIDE0Ni4wLCAxNDEuMCwgMTM2LjAsIDEzMS4wLCAxMjYuMCwgMTIxLjAsIDExNi4wLCAxMTEuMCwgMTA1LjAsIDEwMC4wLCA5NS4wLCA5MC4wLCA4NS4wLCA4MC4wLCA3NS4wLCA3MC4wLCA2NS4wLCA2MC4wLCA1NS4wLCA1MC4wLCA0NS4wLCA0MC4wLCAzNS4wLCAzMC4wLCAyNS4wLCAyMC4wLCAxNS4wLCAxMC4wLCA1LjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wXSlcbiAgICAgICAgcjogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNi4wLCAwLjAsIDAuMCwgMC4wLCAxMi4wLCAwLjAsIDAuMCwgMC4wLCAxOC4wLCAwLjAsIDAuMCwgMC4wLCAyNC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMzAuMCwgMC4wLCAwLjAsIDAuMCwgMzYuMCwgMC4wLCAwLjAsIDAuMCwgNDIuMCwgMC4wLCAwLjAsIDAuMCwgNDguMCwgMC4wLCAwLjAsIDAuMCwgNTQuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDYwLjAsIDAuMCwgMC4wLCAwLjAsIDY2LjAsIDAuMCwgMC4wLCAwLjAsIDcyLjAsIDAuMCwgMC4wLCAwLjAsIDc4LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICA4NS4wLCAwLjAsIDAuMCwgMC4wLCA5MS4wLCAwLjAsIDAuMCwgMC4wLCA5Ny4wLCAwLjAsIDAuMCwgMC4wLCAxMDMuMCwgMC4wLCAwLjAsIDAuMCwgMTA5LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMTUuMCwgMC4wLCAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLCAwLjAsIDEyNy4wLCAwLjAsIDAuMCwgMC4wLCAxMzMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEzOS4wLCAwLjAsIDAuMCwgMC4wLCAxNDUuMCwgMC4wLCAwLjAsIDAuMCwgMTUxLjAsIDAuMCwgMC4wLCAwLjAsIDE1Ny4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTYzLjAsIDAuMCwgMC4wLCAwLjAsIDE3MC4wLCAwLjAsIDAuMCwgMC4wLCAxNzYuMCwgMC4wLCAwLjAsIDAuMCwgMTgyLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxODguMCwgMC4wLCAwLjAsIDAuMCwgMTk0LjAsIDAuMCwgMC4wLCAwLjAsIDIwMC4wLCAwLjAsIDAuMCwgMC4wLCAyMDYuMCwgMC4wLCAwLjAsIDAuMCwgMjEyLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMTguMCwgMC4wLCAwLjAsIDAuMCwgMjI0LjAsIDAuMCwgMC4wLCAwLjAsIDIzMC4wLCAwLjAsIDAuMCwgMC4wLCAyMzYuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0Mi4wLCAwLjAsIDAuMCwgMC4wLCAyNDguMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1MS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQ3LjAsIDAuMCwgMC4wLCAwLjAsIDI0NC4wLCAwLjAsIDAuMCwgMC4wLCAyNDAuMCwgMC4wLCAwLjAsIDAuMCwgMjM2LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzMuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIyNi4wLCAwLjAsIDAuMCwgMC4wLCAyMjIuMCwgMC4wLCAwLjAsIDAuMCwgMjE4LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMTUuMCwgMC4wLCAwLjAsIDAuMCwgMjExLjAsIDAuMCwgMC4wLCAwLjAsIDIwOC4wLCAwLjAsIDAuMCwgMC4wLCAyMDQuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIwMC4wLCAwLjAsIDAuMCwgMC4wLCAxOTcuMCwgMC4wLCAwLjAsIDAuMCwgMTkzLjAsIDAuMCwgMC4wLCAwLjAsIDE5MC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTg2LjAsIDAuMCwgMC4wLCAwLjAsIDE4Mi4wLCAwLjAsIDAuMCwgMC4wLCAxNzkuMCwgMC4wLCAwLjAsIDAuMCwgMTc1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNzIuMCwgMC4wLCAwLjAsIDAuMCwgMTY4LjAsIDAuMCwgMC4wLCAwLjAsIDE2NC4wLCAwLjAsIDAuMCwgMC4wLCAxNjEuMCwgMC4wLCAwLjAsIDAuMCwgMTU3LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNTQuMCwgMC4wLCAwLjAsIDAuMCwgMTUwLjAsIDAuMCwgMC4wLCAwLjAsIDE0Ni4wLCAwLjAsIDAuMCwgMC4wLCAxNDMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEzOS4wLCAwLjAsIDAuMCwgMC4wLCAxMzYuMCwgMC4wLCAwLjAsIDAuMCwgMTMyLjAsIDAuMCwgMC4wLCAwLjAsIDEyOC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTI1LjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMTguMCwgMC4wLCAwLjAsIDAuMCwgMTE0LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxMTAuMCwgMC4wLCAwLjAsIDAuMCwgMTA3LjAsIDAuMCwgMC4wLCAwLjAsIDEwMy4wLCAwLjAsIDAuMCwgMC4wLCAxMDAuMCwgMC4wLCAwLjAsIDAuMFxuICAgICAgICBdKSxcbiAgICAgICAgZzogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDIuMCwgMC4wLCAwLjAsIDAuMCwgNS4wLCAwLjAsIDAuMCwgMC4wLCA4LjAsIDAuMCwgMC4wLCAwLjAsIDEwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxMy4wLCAwLjAsIDAuMCwgMC4wLCAxNi4wLCAwLjAsIDAuMCwgMC4wLCAxOC4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjQuMCwgMC4wLCAwLjAsIDAuMCwgMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjkuMCwgMC4wLCAwLjAsIDAuMCwgMzIuMCwgMC4wLCAwLjAsIDAuMCwgMzQuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDM3LjAsIDAuMCwgMC4wLCAwLjAsIDQwLjAsIDAuMCwgMC4wLCAwLjAsIDQyLjAsIDAuMCwgMC4wLCAwLjAsIDQ1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICA0OC4wLCAwLjAsIDAuMCwgMC4wLCA1MC4wLCAwLjAsIDAuMCwgMC4wLCA1My4wLCAwLjAsIDAuMCwgMC4wLCA1Ni4wLCAwLjAsIDAuMCwgMC4wLCA1OC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNjEuMCwgMC4wLCAwLjAsIDAuMCwgNjQuMCwgMC4wLCAwLjAsIDAuMCwgNjYuMCwgMC4wLCAwLjAsIDAuMCwgNjkuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDcyLjAsIDAuMCwgMC4wLCAwLjAsIDc0LjAsIDAuMCwgMC4wLCAwLjAsIDc3LjAsIDAuMCwgMC4wLCAwLjAsIDgwLjAsIDAuMCwgMC4wLCAwLjAsIDgyLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA4NS4wLCAwLjAsIDAuMCwgMC4wLCA4OC4wLCAwLjAsIDAuMCwgMC4wLCA5MC4wLCAwLjAsIDAuMCwgMC4wLCA5My4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgOTYuMCwgMC4wLCAwLjAsIDAuMCwgOTguMCwgMC4wLCAwLjAsIDAuMCwgMTAxLjAsIDAuMCwgMC4wLCAwLjAsIDEwNC4wLCAwLjAsIDAuMCwgMC4wLCAxMDYuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEwOS4wLCAwLjAsIDAuMCwgMC4wLCAxMTIuMCwgMC4wLCAwLjAsIDAuMCwgMTE0LjAsIDAuMCwgMC4wLCAwLjAsIDExNy4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTE5LjAsIDAuMCwgMC4wLCAwLjAsIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMjQuMCwgMC4wLCAwLjAsIDAuMCwgMTI3LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMjkuMCwgMC4wLCAwLjAsIDAuMCwgMTMyLjAsIDAuMCwgMC4wLCAwLjAsIDEzNC4wLCAwLjAsIDAuMCwgMC4wLCAxMzcuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDEzOS4wLCAwLjAsIDAuMCwgMC4wLCAxNDIuMCwgMC4wLCAwLjAsIDAuMCwgMTQ0LjAsIDAuMCwgMC4wLCAwLjAsIDE0Ny4wLCAwLjAsIDAuMCwgMC4wLCAxNTAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE1Mi4wLCAwLjAsIDAuMCwgMC4wLCAxNTUuMCwgMC4wLCAwLjAsIDAuMCwgMTU3LjAsIDAuMCwgMC4wLCAwLjAsIDE2MC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTYyLjAsIDAuMCwgMC4wLCAwLjAsIDE2NS4wLCAwLjAsIDAuMCwgMC4wLCAxNjcuMCwgMC4wLCAwLjAsIDAuMCwgMTcwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxNzIuMCwgMC4wLCAwLjAsIDAuMCwgMTc1LjAsIDAuMCwgMC4wLCAwLjAsIDE3Ny4wLCAwLjAsIDAuMCwgMC4wLCAxODAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE4Mi4wLCAwLjAsIDAuMCwgMC4wLCAxODUuMCwgMC4wLCAwLjAsIDAuMCwgMTg4LjAsIDAuMCwgMC4wLCAwLjAsIDE5MC4wLCAwLjAsIDAuMCwgMC4wLCAxOTMuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE5NS4wLCAwLjAsIDAuMCwgMC4wLCAxOTguMCwgMC4wLCAwLjAsIDAuMCwgMjAwLjAsIDAuMCwgMC4wLCAwLjAsIDIwMy4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjA1LjAsIDAuMCwgMC4wLCAwLjAsIDIwOC4wLCAwLjAsIDAuMCwgMC4wLCAyMTAuMCwgMC4wLCAwLjAsIDAuMCwgMjEzLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMTUuMCwgMC4wLCAwLjAsIDAuMCwgMjE4LjAsIDAuMCwgMC4wLCAwLjAsIDIyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMjEuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMjIuMCwgMC4wLCAwLjAsIDAuMCwgMjIyLjAsIDAuMCwgMC4wLCAwLjAsIDIyMi4wLCAwLjAsIDAuMCwgMC4wLCAyMjMuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIyMy4wLCAwLjAsIDAuMCwgMC4wLCAyMjQuMCwgMC4wLCAwLjAsIDAuMCwgMjI0LjAsIDAuMCwgMC4wLCAwLjAsIDIyNC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjI1LjAsIDAuMCwgMC4wLCAwLjAsIDIyNS4wLCAwLjAsIDAuMCwgMC4wLCAyMjUuMCwgMC4wLCAwLjAsIDAuMCwgMjI2LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjI3LjAsIDAuMCwgMC4wLCAwLjAsIDIyNy4wLCAwLjAsIDAuMCwgMC4wLCAyMjcuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIyOC4wLCAwLjAsIDAuMCwgMC4wLCAyMjguMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzMC4wLCAwLjAsIDAuMCwgMC4wLCAyMzAuMCwgMC4wLCAwLjAsIDAuMCwgMjMwLjAsIDAuMCwgMC4wLCAwLjAsIDIzMS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjMxLjAsIDAuMCwgMC4wLCAwLjAsIDIzMi4wLCAwLjAsIDAuMCwgMC4wLCAyMzIuMCwgMC4wLCAwLjAsIDAuMCwgMjMyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMzMuMCwgMC4wLCAwLjAsIDAuMCwgMjMzLjAsIDAuMCwgMC4wLCAwLjAsIDIzMy4wLCAwLjAsIDAuMCwgMC4wLCAyMzQuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIzNC4wLCAwLjAsIDAuMCwgMC4wLCAyMzUuMCwgMC4wLCAwLjAsIDAuMCwgMjM1LjAsIDAuMCwgMC4wLCAwLjAsIDIzNS4wLCAwLjAsIDAuMCwgMC4wLCAyMzYuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzNi4wLCAwLjAsIDAuMCwgMC4wLCAyMzcuMCwgMC4wLCAwLjAsIDAuMCwgMjM1LjAsIDAuMCwgMC4wLCAwLjAsIDIzNC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjMzLjAsIDAuMCwgMC4wLCAwLjAsIDIzMS4wLCAwLjAsIDAuMCwgMC4wLCAyMzAuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMjcuMCwgMC4wLCAwLjAsIDAuMCwgMjI2LjAsIDAuMCwgMC4wLCAwLjAsIDIyNS4wLCAwLjAsIDAuMCwgMC4wLCAyMjMuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIyMi4wLCAwLjAsIDAuMCwgMC4wLCAyMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjE5LjAsIDAuMCwgMC4wLCAwLjAsIDIxOC4wLCAwLjAsIDAuMCwgMC4wLCAyMTcuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIxNS4wLCAwLjAsIDAuMCwgMC4wLCAyMTQuMCwgMC4wLCAwLjAsIDAuMCwgMjEzLjAsIDAuMCwgMC4wLCAwLjAsIDIxMS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjEwLjAsIDAuMCwgMC4wLCAwLjAsIDIwOS4wLCAwLjAsIDAuMCwgMC4wLCAyMDcuMCwgMC4wLCAwLjAsIDAuMCwgMjA2LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMDUuMCwgMC4wLCAwLjAsIDAuMCwgMjAzLjAsIDAuMCwgMC4wLCAwLjAsIDIwMi4wLCAwLjAsIDAuMCwgMC4wLCAyMDEuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE5OS4wLCAwLjAsIDAuMCwgMC4wLCAxOTguMCwgMC4wLCAwLjAsIDAuMCwgMTk3LjAsIDAuMCwgMC4wLCAwLjAsIDE5NS4wLCAwLjAsIDAuMCwgMC4wLCAxOTQuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE5My4wLCAwLjAsIDAuMCwgMC4wLCAxOTEuMCwgMC4wLCAwLjAsIDAuMCwgMTkwLjAsIDAuMCwgMC4wLCAwLjAsIDE4OS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTg3LjAsIDAuMCwgMC4wLCAwLjAsIDE4Ni4wLCAwLjAsIDAuMCwgMC4wLCAxODUuMCwgMC4wLCAwLjAsIDAuMCwgMTgzLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxODIuMCwgMC4wLCAwLjAsIDAuMCwgMTgxLjAsIDAuMCwgMC4wLCAwLjAsIDE4MC4wLCAwLjAsIDAuMCwgMC4wLCAxNzcuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE3NS4wLCAwLjAsIDAuMCwgMC4wLCAxNzIuMCwgMC4wLCAwLjAsIDAuMCwgMTcwLjAsIDAuMCwgMC4wLCAwLjAsIDE2Ny4wLCAwLjAsIDAuMCwgMC4wLCAxNjUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE2Mi4wLCAwLjAsIDAuMCwgMC4wLCAxNjAuMCwgMC4wLCAwLjAsIDAuMCwgMTU3LjAsIDAuMCwgMC4wLCAwLjAsIDE1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTUyLjAsIDAuMCwgMC4wLCAwLjAsIDE1MC4wLCAwLjAsIDAuMCwgMC4wLCAxNDcuMCwgMC4wLCAwLjAsIDAuMCwgMTQ1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxNDIuMCwgMC4wLCAwLjAsIDAuMCwgMTQwLjAsIDAuMCwgMC4wLCAwLjAsIDEzNy4wLCAwLjAsIDAuMCwgMC4wLCAxMzUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDEzMi4wLCAwLjAsIDAuMCwgMC4wLCAxMzAuMCwgMC4wLCAwLjAsIDAuMCwgMTI3LjAsIDAuMCwgMC4wLCAwLjAsIDEyNS4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEyMC4wLCAwLjAsIDAuMCwgMC4wLCAxMTcuMCwgMC4wLCAwLjAsIDAuMCwgMTE1LjAsIDAuMCwgMC4wLCAwLjAsIDExMi4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTEwLjAsIDAuMCwgMC4wLCAwLjAsIDEwNy4wLCAwLjAsIDAuMCwgMC4wLCAxMDUuMCwgMC4wLCAwLjAsIDAuMCwgMTAyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMDAuMCwgMC4wLCAwLjAsIDAuMCwgOTcuMCwgMC4wLCAwLjAsIDAuMCwgOTUuMCwgMC4wLCAwLjAsIDAuMCwgOTIuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDkwLjAsIDAuMCwgMC4wLCAwLjAsIDg3LjAsIDAuMCwgMC4wLCAwLjAsIDg1LjAsIDAuMCwgMC4wLCAwLjAsIDgyLjAsIDAuMCwgMC4wLCAwLjAsIDgwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA3Ny4wLCAwLjAsIDAuMCwgMC4wLCA3NS4wLCAwLjAsIDAuMCwgMC4wLCA3My4wLCAwLjAsIDAuMCwgMC4wLCA3MS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgNjkuMCwgMC4wLCAwLjAsIDAuMCwgNjguMCwgMC4wLCAwLjAsIDAuMCwgNjYuMCwgMC4wLCAwLjAsIDAuMCwgNjQuMCwgMC4wLCAwLjAsIDAuMCwgNjIuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDYxLjAsIDAuMCwgMC4wLCAwLjAsIDU5LjAsIDAuMCwgMC4wLCAwLjAsIDU3LjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICA1NC4wLCAwLjAsIDAuMCwgMC4wLCA1Mi4wLCAwLjAsIDAuMCwgMC4wLCA1MC4wLCAwLjAsIDAuMCwgMC4wLCA0OC4wLCAwLjAsIDAuMCwgMC4wLCA0Ny4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgNDUuMCwgMC4wLCAwLjAsIDAuMCwgNDMuMCwgMC4wLCAwLjAsIDAuMCwgNDEuMCwgMC4wLCAwLjAsIDAuMCwgNDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDM4LjAsIDAuMCwgMC4wLCAwLjAsIDM2LjAsIDAuMCwgMC4wLCAwLjAsIDM0LjAsIDAuMCwgMC4wLCAwLjAsIDMzLjAsIDAuMCwgMC4wLCAwLjAsIDMxLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyOS4wLCAwLjAsIDAuMCwgMC4wLCAyNy4wLCAwLjAsIDAuMCwgMC4wLCAyNi4wLCAwLjAsIDAuMCwgMC4wLCAyNC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjIuMCwgMC4wLCAwLjAsIDAuMCwgMjAuMCwgMC4wLCAwLjAsIDAuMCwgMTkuMCwgMC4wLCAwLjAsIDAuMCwgMTcuMCwgMC4wLCAwLjAsIDAuMCwgMTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEzLjAsIDAuMCwgMC4wLCAwLjAsIDEyLjAsIDAuMCwgMC4wLCAwLjAsIDEwLjAsIDAuMCwgMC4wLCAwLjAsIDguMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDYuMCwgMC4wLCAwLjAsIDAuMCwgNS4wLCAwLjAsIDAuMCwgMC4wLCAzLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMFxuICAgICAgICBdKSxcbiAgICAgICAgYjogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU0LjAsIDAuMCwgMC4wLCAwLjAsIDI1My4wLCAwLjAsIDAuMCwgMC4wLCAyNTIuMCwgMC4wLCAwLjAsIDAuMCwgMjUxLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTAuMCwgMC4wLCAwLjAsIDAuMCwgMjQ5LjAsIDAuMCwgMC4wLCAwLjAsIDI0OC4wLCAwLjAsIDAuMCwgMC4wLCAyNDcuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0Ni4wLCAwLjAsIDAuMCwgMC4wLCAyNDUuMCwgMC4wLCAwLjAsIDAuMCwgMjQ1LjAsIDAuMCwgMC4wLCAwLjAsIDI0NC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQzLjAsIDAuMCwgMC4wLCAwLjAsIDI0Mi4wLCAwLjAsIDAuMCwgMC4wLCAyNDEuMCwgMC4wLCAwLjAsIDAuMCwgMjQwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzkuMCwgMC4wLCAwLjAsIDAuMCwgMjM4LjAsIDAuMCwgMC4wLCAwLjAsIDIzNy4wLCAwLjAsIDAuMCwgMC4wLCAyMzYuMCwgMC4wLCAwLjAsIDAuMCwgMjM2LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMzUuMCwgMC4wLCAwLjAsIDAuMCwgMjM0LjAsIDAuMCwgMC4wLCAwLjAsIDIzMy4wLCAwLjAsIDAuMCwgMC4wLCAyMzIuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIzMS4wLCAwLjAsIDAuMCwgMC4wLCAyMzAuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIyOC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjI3LjAsIDAuMCwgMC4wLCAwLjAsIDIyNi4wLCAwLjAsIDAuMCwgMC4wLCAyMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjI1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMjQuMCwgMC4wLCAwLjAsIDAuMCwgMjIzLjAsIDAuMCwgMC4wLCAwLjAsIDIyMi4wLCAwLjAsIDAuMCwgMC4wLCAyMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjIwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMTkuMCwgMC4wLCAwLjAsIDAuMCwgMjE4LjAsIDAuMCwgMC4wLCAwLjAsIDIxNy4wLCAwLjAsIDAuMCwgMC4wLCAyMTcuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIxMS4wLCAwLjAsIDAuMCwgMC4wLCAyMDYuMCwgMC4wLCAwLjAsIDAuMCwgMjAxLjAsIDAuMCwgMC4wLCAwLjAsIDE5Ni4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTkxLjAsIDAuMCwgMC4wLCAwLjAsIDE4Ni4wLCAwLjAsIDAuMCwgMC4wLCAxODEuMCwgMC4wLCAwLjAsIDAuMCwgMTc2LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNzEuMCwgMC4wLCAwLjAsIDAuMCwgMTY2LjAsIDAuMCwgMC4wLCAwLjAsIDE2MS4wLCAwLjAsIDAuMCwgMC4wLCAxNTYuMCwgMC4wLCAwLjAsIDAuMCwgMTUxLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNDYuMCwgMC4wLCAwLjAsIDAuMCwgMTQxLjAsIDAuMCwgMC4wLCAwLjAsIDEzNi4wLCAwLjAsIDAuMCwgMC4wLCAxMzEuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEyNi4wLCAwLjAsIDAuMCwgMC4wLCAxMjEuMCwgMC4wLCAwLjAsIDAuMCwgMTE2LjAsIDAuMCwgMC4wLCAwLjAsIDExMS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTA1LjAsIDAuMCwgMC4wLCAwLjAsIDEwMC4wLCAwLjAsIDAuMCwgMC4wLCA5NS4wLCAwLjAsIDAuMCwgMC4wLCA5MC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgODUuMCwgMC4wLCAwLjAsIDAuMCwgODAuMCwgMC4wLCAwLjAsIDAuMCwgNzUuMCwgMC4wLCAwLjAsIDAuMCwgNzAuMCwgMC4wLCAwLjAsIDAuMCwgNjUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDYwLjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCwgMC4wLCAwLjAsIDUwLjAsIDAuMCwgMC4wLCAwLjAsIDQ1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICA0MC4wLCAwLjAsIDAuMCwgMC4wLCAzNS4wLCAwLjAsIDAuMCwgMC4wLCAzMC4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTUuMCwgMC4wLCAwLjAsIDAuMCwgMTAuMCwgMC4wLCAwLjAsIDAuMCwgNS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMFxuICAgICAgICBdKVxuICAgIH07XG4gICAgQ1VCRUhFTElYID0ge1xuICAgICAgICByOiBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAzLjAsIDAuMCwgMC4wLCAwLjAsIDQuMCwgMC4wLCAwLjAsIDAuMCwgNi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgOC4wLCAwLjAsIDAuMCwgMC4wLCA5LjAsIDAuMCwgMC4wLCAwLjAsIDEwLjAsIDAuMCwgMC4wLCAwLjAsIDEyLjAsIDAuMCwgMC4wLCAwLjAsIDEzLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNC4wLCAwLjAsIDAuMCwgMC4wLCAxNS4wLCAwLjAsIDAuMCwgMC4wLCAxNy4wLCAwLjAsIDAuMCwgMC4wLCAxOC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTkuMCwgMC4wLCAwLjAsIDAuMCwgMjAuMCwgMC4wLCAwLjAsIDAuMCwgMjAuMCwgMC4wLCAwLjAsIDAuMCwgMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjIuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzLjAsIDAuMCwgMC4wLCAwLjAsIDIzLjAsIDAuMCwgMC4wLCAwLjAsIDI0LjAsIDAuMCwgMC4wLCAwLjAsIDI0LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyNi4wLCAwLjAsIDAuMCwgMC4wLCAyNi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjYuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI2LjAsIDAuMCwgMC4wLCAwLjAsIDI2LjAsIDAuMCwgMC4wLCAwLjAsIDI2LjAsIDAuMCwgMC4wLCAwLjAsIDI2LjAsIDAuMCwgMC4wLCAwLjAsIDI2LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCwgMC4wLCAyNS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQuMCwgMC4wLCAwLjAsIDAuMCwgMjQuMCwgMC4wLCAwLjAsIDAuMCwgMjQuMCwgMC4wLCAwLjAsIDAuMCwgMjMuMCwgMC4wLCAwLjAsIDAuMCwgMjMuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIzLjAsIDAuMCwgMC4wLCAwLjAsIDIzLjAsIDAuMCwgMC4wLCAwLjAsIDIyLjAsIDAuMCwgMC4wLCAwLjAsIDIyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMi4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjAuMCwgMC4wLCAwLjAsIDAuMCwgMjAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIwLjAsIDAuMCwgMC4wLCAwLjAsIDIxLjAsIDAuMCwgMC4wLCAwLjAsIDIxLjAsIDAuMCwgMC4wLCAwLjAsIDIxLjAsIDAuMCwgMC4wLCAwLjAsIDIxLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMi4wLCAwLjAsIDAuMCwgMC4wLCAyMi4wLCAwLjAsIDAuMCwgMC4wLCAyMi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjMuMCwgMC4wLCAwLjAsIDAuMCwgMjMuMCwgMC4wLCAwLjAsIDAuMCwgMjQuMCwgMC4wLCAwLjAsIDAuMCwgMjUuMCwgMC4wLCAwLjAsIDAuMCwgMjYuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI3LjAsIDAuMCwgMC4wLCAwLjAsIDI3LjAsIDAuMCwgMC4wLCAwLjAsIDI4LjAsIDAuMCwgMC4wLCAwLjAsIDMwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAzMS4wLCAwLjAsIDAuMCwgMC4wLCAzMi4wLCAwLjAsIDAuMCwgMC4wLCAzMy4wLCAwLjAsIDAuMCwgMC4wLCAzNS4wLCAwLjAsIDAuMCwgMC4wLCAzNi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMzguMCwgMC4wLCAwLjAsIDAuMCwgMzkuMCwgMC4wLCAwLjAsIDAuMCwgNDEuMCwgMC4wLCAwLjAsIDAuMCwgNDMuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDQ1LjAsIDAuMCwgMC4wLCAwLjAsIDQ3LjAsIDAuMCwgMC4wLCAwLjAsIDQ5LjAsIDAuMCwgMC4wLCAwLjAsIDUxLjAsIDAuMCwgMC4wLCAwLjAsIDUzLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA1NS4wLCAwLjAsIDAuMCwgMC4wLCA1Ny4wLCAwLjAsIDAuMCwgMC4wLCA2MC4wLCAwLjAsIDAuMCwgMC4wLCA2Mi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgNjUuMCwgMC4wLCAwLjAsIDAuMCwgNjcuMCwgMC4wLCAwLjAsIDAuMCwgNzAuMCwgMC4wLCAwLjAsIDAuMCwgNzIuMCwgMC4wLCAwLjAsIDAuMCwgNzUuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDc4LjAsIDAuMCwgMC4wLCAwLjAsIDgxLjAsIDAuMCwgMC4wLCAwLjAsIDgzLjAsIDAuMCwgMC4wLCAwLjAsIDg2LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA4OS4wLCAwLjAsIDAuMCwgMC4wLCA5Mi4wLCAwLjAsIDAuMCwgMC4wLCA5NS4wLCAwLjAsIDAuMCwgMC4wLCA5OC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTAxLjAsIDAuMCwgMC4wLCAwLjAsIDEwNC4wLCAwLjAsIDAuMCwgMC4wLCAxMDcuMCwgMC4wLCAwLjAsIDAuMCwgMTEwLjAsIDAuMCwgMC4wLCAwLjAsIDExMy4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTE2LjAsIDAuMCwgMC4wLCAwLjAsIDEyMC4wLCAwLjAsIDAuMCwgMC4wLCAxMjMuMCwgMC4wLCAwLjAsIDAuMCwgMTI2LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxMjkuMCwgMC4wLCAwLjAsIDAuMCwgMTMyLjAsIDAuMCwgMC4wLCAwLjAsIDEzNS4wLCAwLjAsIDAuMCwgMC4wLCAxMzguMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE0MS4wLCAwLjAsIDAuMCwgMC4wLCAxNDQuMCwgMC4wLCAwLjAsIDAuMCwgMTQ3LjAsIDAuMCwgMC4wLCAwLjAsIDE1MC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTUzLjAsIDAuMCwgMC4wLCAwLjAsIDE1NS4wLCAwLjAsIDAuMCwgMC4wLCAxNTguMCwgMC4wLCAwLjAsIDAuMCwgMTYxLjAsIDAuMCwgMC4wLCAwLjAsIDE2NC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTY2LjAsIDAuMCwgMC4wLCAwLjAsIDE2OS4wLCAwLjAsIDAuMCwgMC4wLCAxNzEuMCwgMC4wLCAwLjAsIDAuMCwgMTc0LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxNzYuMCwgMC4wLCAwLjAsIDAuMCwgMTc4LjAsIDAuMCwgMC4wLCAwLjAsIDE4MS4wLCAwLjAsIDAuMCwgMC4wLCAxODMuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE4NS4wLCAwLjAsIDAuMCwgMC4wLCAxODcuMCwgMC4wLCAwLjAsIDAuMCwgMTg5LjAsIDAuMCwgMC4wLCAwLjAsIDE5MS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTkzLjAsIDAuMCwgMC4wLCAwLjAsIDE5NC4wLCAwLjAsIDAuMCwgMC4wLCAxOTYuMCwgMC4wLCAwLjAsIDAuMCwgMTk4LjAsIDAuMCwgMC4wLCAwLjAsIDE5OS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjAxLjAsIDAuMCwgMC4wLCAwLjAsIDIwMi4wLCAwLjAsIDAuMCwgMC4wLCAyMDMuMCwgMC4wLCAwLjAsIDAuMCwgMjA0LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMDUuMCwgMC4wLCAwLjAsIDAuMCwgMjA2LjAsIDAuMCwgMC4wLCAwLjAsIDIwNy4wLCAwLjAsIDAuMCwgMC4wLCAyMDguMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIwOS4wLCAwLjAsIDAuMCwgMC4wLCAyMDkuMCwgMC4wLCAwLjAsIDAuMCwgMjEwLjAsIDAuMCwgMC4wLCAwLjAsIDIxMS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjExLjAsIDAuMCwgMC4wLCAwLjAsIDIxMS4wLCAwLjAsIDAuMCwgMC4wLCAyMTIuMCwgMC4wLCAwLjAsIDAuMCwgMjEyLjAsIDAuMCwgMC4wLCAwLjAsIDIxMi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjEyLjAsIDAuMCwgMC4wLCAwLjAsIDIxMi4wLCAwLjAsIDAuMCwgMC4wLCAyMTIuMCwgMC4wLCAwLjAsIDAuMCwgMjEyLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMTIuMCwgMC4wLCAwLjAsIDAuMCwgMjExLjAsIDAuMCwgMC4wLCAwLjAsIDIxMS4wLCAwLjAsIDAuMCwgMC4wLCAyMTEuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIxMC4wLCAwLjAsIDAuMCwgMC4wLCAyMTAuMCwgMC4wLCAwLjAsIDAuMCwgMjEwLjAsIDAuMCwgMC4wLCAwLjAsIDIwOS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjA4LjAsIDAuMCwgMC4wLCAwLjAsIDIwOC4wLCAwLjAsIDAuMCwgMC4wLCAyMDcuMCwgMC4wLCAwLjAsIDAuMCwgMjA3LjAsIDAuMCwgMC4wLCAwLjAsIDIwNi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjA1LjAsIDAuMCwgMC4wLCAwLjAsIDIwNS4wLCAwLjAsIDAuMCwgMC4wLCAyMDQuMCwgMC4wLCAwLjAsIDAuMCwgMjAzLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMDMuMCwgMC4wLCAwLjAsIDAuMCwgMjAyLjAsIDAuMCwgMC4wLCAwLjAsIDIwMS4wLCAwLjAsIDAuMCwgMC4wLCAyMDEuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIwMC4wLCAwLjAsIDAuMCwgMC4wLCAxOTkuMCwgMC4wLCAwLjAsIDAuMCwgMTk5LjAsIDAuMCwgMC4wLCAwLjAsIDE5OC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTk3LjAsIDAuMCwgMC4wLCAwLjAsIDE5Ny4wLCAwLjAsIDAuMCwgMC4wLCAxOTYuMCwgMC4wLCAwLjAsIDAuMCwgMTk2LjAsIDAuMCwgMC4wLCAwLjAsIDE5NS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTk1LjAsIDAuMCwgMC4wLCAwLjAsIDE5NC4wLCAwLjAsIDAuMCwgMC4wLCAxOTQuMCwgMC4wLCAwLjAsIDAuMCwgMTk0LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxOTMuMCwgMC4wLCAwLjAsIDAuMCwgMTkzLjAsIDAuMCwgMC4wLCAwLjAsIDE5My4wLCAwLjAsIDAuMCwgMC4wLCAxOTMuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE5My4wLCAwLjAsIDAuMCwgMC4wLCAxOTMuMCwgMC4wLCAwLjAsIDAuMCwgMTkzLjAsIDAuMCwgMC4wLCAwLjAsIDE5My4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTkzLjAsIDAuMCwgMC4wLCAwLjAsIDE5My4wLCAwLjAsIDAuMCwgMC4wLCAxOTQuMCwgMC4wLCAwLjAsIDAuMCwgMTk0LjAsIDAuMCwgMC4wLCAwLjAsIDE5NS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTk1LjAsIDAuMCwgMC4wLCAwLjAsIDE5Ni4wLCAwLjAsIDAuMCwgMC4wLCAxOTYuMCwgMC4wLCAwLjAsIDAuMCwgMTk3LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxOTguMCwgMC4wLCAwLjAsIDAuMCwgMTk5LjAsIDAuMCwgMC4wLCAwLjAsIDIwMC4wLCAwLjAsIDAuMCwgMC4wLCAyMDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIwMi4wLCAwLjAsIDAuMCwgMC4wLCAyMDMuMCwgMC4wLCAwLjAsIDAuMCwgMjA0LjAsIDAuMCwgMC4wLCAwLjAsIDIwNS4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjA2LjAsIDAuMCwgMC4wLCAwLjAsIDIwOC4wLCAwLjAsIDAuMCwgMC4wLCAyMDkuMCwgMC4wLCAwLjAsIDAuMCwgMjEwLjAsIDAuMCwgMC4wLCAwLjAsIDIxMi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjEzLjAsIDAuMCwgMC4wLCAwLjAsIDIxNS4wLCAwLjAsIDAuMCwgMC4wLCAyMTcuMCwgMC4wLCAwLjAsIDAuMCwgMjE4LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMjAuMCwgMC4wLCAwLjAsIDAuMCwgMjIyLjAsIDAuMCwgMC4wLCAwLjAsIDIyMy4wLCAwLjAsIDAuMCwgMC4wLCAyMjUuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIyNy4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjMxLjAsIDAuMCwgMC4wLCAwLjAsIDIzMi4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjM0LjAsIDAuMCwgMC4wLCAwLjAsIDIzNi4wLCAwLjAsIDAuMCwgMC4wLCAyMzguMCwgMC4wLCAwLjAsIDAuMCwgMjQwLjAsIDAuMCwgMC4wLCAwLjAsIDI0Mi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjQ0LjAsIDAuMCwgMC4wLCAwLjAsIDI0NS4wLCAwLjAsIDAuMCwgMC4wLCAyNDcuMCwgMC4wLCAwLjAsIDAuMCwgMjQ5LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyNTEuMCwgMC4wLCAwLjAsIDAuMCwgMjUzLjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wXG4gICAgICAgIF0pLFxuICAgICAgICBnOiBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMi4wLCAwLjAsIDAuMCwgMC4wLCAzLjAsIDAuMCwgMC4wLCAwLjAsIDQuMCwgMC4wLCAwLjAsIDAuMCwgNC4wLCAwLjAsIDAuMCwgMC4wLCA1LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCA2LjAsIDAuMCwgMC4wLCAwLjAsIDYuMCwgMC4wLCAwLjAsIDAuMCwgNy4wLCAwLjAsIDAuMCwgMC4wLCA4LjAsIDAuMCwgMC4wLCAwLjAsIDkuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEwLjAsIDAuMCwgMC4wLCAwLjAsIDExLjAsIDAuMCwgMC4wLCAwLjAsIDExLjAsIDAuMCwgMC4wLCAwLjAsIDEyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMy4wLCAwLjAsIDAuMCwgMC4wLCAxNC4wLCAwLjAsIDAuMCwgMC4wLCAxNS4wLCAwLjAsIDAuMCwgMC4wLCAxNy4wLCAwLjAsIDAuMCwgMC4wLCAxOC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTkuMCwgMC4wLCAwLjAsIDAuMCwgMjAuMCwgMC4wLCAwLjAsIDAuMCwgMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjIuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI0LjAsIDAuMCwgMC4wLCAwLjAsIDI1LjAsIDAuMCwgMC4wLCAwLjAsIDI2LjAsIDAuMCwgMC4wLCAwLjAsIDI4LjAsIDAuMCwgMC4wLCAwLjAsIDI5LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAzMS4wLCAwLjAsIDAuMCwgMC4wLCAzMi4wLCAwLjAsIDAuMCwgMC4wLCAzNC4wLCAwLjAsIDAuMCwgMC4wLCAzNS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMzcuMCwgMC4wLCAwLjAsIDAuMCwgMzguMCwgMC4wLCAwLjAsIDAuMCwgNDAuMCwgMC4wLCAwLjAsIDAuMCwgNDEuMCwgMC4wLCAwLjAsIDAuMCwgNDMuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDQ1LjAsIDAuMCwgMC4wLCAwLjAsIDQ2LjAsIDAuMCwgMC4wLCAwLjAsIDQ4LjAsIDAuMCwgMC4wLCAwLjAsIDUwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA1Mi4wLCAwLjAsIDAuMCwgMC4wLCA1My4wLCAwLjAsIDAuMCwgMC4wLCA1NS4wLCAwLjAsIDAuMCwgMC4wLCA1Ny4wLCAwLjAsIDAuMCwgMC4wLCA1OC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgNjAuMCwgMC4wLCAwLjAsIDAuMCwgNjIuMCwgMC4wLCAwLjAsIDAuMCwgNjQuMCwgMC4wLCAwLjAsIDAuMCwgNjYuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDY3LjAsIDAuMCwgMC4wLCAwLjAsIDY5LjAsIDAuMCwgMC4wLCAwLjAsIDcxLjAsIDAuMCwgMC4wLCAwLjAsIDczLjAsIDAuMCwgMC4wLCAwLjAsIDc0LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA3OC4wLCAwLjAsIDAuMCwgMC4wLCA3OS4wLCAwLjAsIDAuMCwgMC4wLCA4MS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgODMuMCwgMC4wLCAwLjAsIDAuMCwgODQuMCwgMC4wLCAwLjAsIDAuMCwgODYuMCwgMC4wLCAwLjAsIDAuMCwgODguMCwgMC4wLCAwLjAsIDAuMCwgODkuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDkxLjAsIDAuMCwgMC4wLCAwLjAsIDkyLjAsIDAuMCwgMC4wLCAwLjAsIDk0LjAsIDAuMCwgMC4wLCAwLjAsIDk1LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA5Ny4wLCAwLjAsIDAuMCwgMC4wLCA5OC4wLCAwLjAsIDAuMCwgMC4wLCA5OS4wLCAwLjAsIDAuMCwgMC4wLCAxMDEuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDEwMi4wLCAwLjAsIDAuMCwgMC4wLCAxMDMuMCwgMC4wLCAwLjAsIDAuMCwgMTA0LjAsIDAuMCwgMC4wLCAwLjAsIDEwNi4wLCAwLjAsIDAuMCwgMC4wLCAxMDcuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEwOC4wLCAwLjAsIDAuMCwgMC4wLCAxMDkuMCwgMC4wLCAwLjAsIDAuMCwgMTEwLjAsIDAuMCwgMC4wLCAwLjAsIDExMS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTEyLjAsIDAuMCwgMC4wLCAwLjAsIDExMy4wLCAwLjAsIDAuMCwgMC4wLCAxMTQuMCwgMC4wLCAwLjAsIDAuMCwgMTE0LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMTUuMCwgMC4wLCAwLjAsIDAuMCwgMTE2LjAsIDAuMCwgMC4wLCAwLjAsIDExNi4wLCAwLjAsIDAuMCwgMC4wLCAxMTcuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDExOC4wLCAwLjAsIDAuMCwgMC4wLCAxMTguMCwgMC4wLCAwLjAsIDAuMCwgMTE5LjAsIDAuMCwgMC4wLCAwLjAsIDExOS4wLCAwLjAsIDAuMCwgMC4wLCAxMjAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEyMC4wLCAwLjAsIDAuMCwgMC4wLCAxMjAuMCwgMC4wLCAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCwgMC4wLCAwLjAsIDAuMCwgMTIyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMjIuMCwgMC4wLCAwLjAsIDAuMCwgMTIyLjAsIDAuMCwgMC4wLCAwLjAsIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCwgMC4wLCAwLjAsIDAuMCwgMTIyLjAsIDAuMCwgMC4wLCAwLjAsIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCwgMC4wLCAwLjAsIDAuMCwgMTIyLjAsIDAuMCwgMC4wLCAwLjAsIDEyMi4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjEuMCwgMC4wLCAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMjEuMCwgMC4wLCAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjEuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjAuMCwgMC4wLCAwLjAsIDAuMCwgMTIwLjAsIDAuMCwgMC4wLCAwLjAsIDEyMC4wLCAwLjAsIDAuMCwgMC4wLCAxMjAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEyMC4wLCAwLjAsIDAuMCwgMC4wLCAxMjAuMCwgMC4wLCAwLjAsIDAuMCwgMTIwLjAsIDAuMCwgMC4wLCAwLjAsIDEyMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTIwLjAsIDAuMCwgMC4wLCAwLjAsIDEyMC4wLCAwLjAsIDAuMCwgMC4wLCAxMjEuMCwgMC4wLCAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMjEuMCwgMC4wLCAwLjAsIDAuMCwgMTIxLjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMjIuMCwgMC4wLCAwLjAsIDAuMCwgMTIzLjAsIDAuMCwgMC4wLCAwLjAsIDEyMy4wLCAwLjAsIDAuMCwgMC4wLCAxMjQuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEyNC4wLCAwLjAsIDAuMCwgMC4wLCAxMjUuMCwgMC4wLCAwLjAsIDAuMCwgMTI1LjAsIDAuMCwgMC4wLCAwLjAsIDEyNi4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTI3LjAsIDAuMCwgMC4wLCAwLjAsIDEyNy4wLCAwLjAsIDAuMCwgMC4wLCAxMjguMCwgMC4wLCAwLjAsIDAuMCwgMTI5LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxMzAuMCwgMC4wLCAwLjAsIDAuMCwgMTMxLjAsIDAuMCwgMC4wLCAwLjAsIDEzMS4wLCAwLjAsIDAuMCwgMC4wLCAxMzIuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDEzMy4wLCAwLjAsIDAuMCwgMC4wLCAxMzUuMCwgMC4wLCAwLjAsIDAuMCwgMTM2LjAsIDAuMCwgMC4wLCAwLjAsIDEzNy4wLCAwLjAsIDAuMCwgMC4wLCAxMzguMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDEzOS4wLCAwLjAsIDAuMCwgMC4wLCAxNDAuMCwgMC4wLCAwLjAsIDAuMCwgMTQyLjAsIDAuMCwgMC4wLCAwLjAsIDE0My4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTQ0LjAsIDAuMCwgMC4wLCAwLjAsIDE0Ni4wLCAwLjAsIDAuMCwgMC4wLCAxNDcuMCwgMC4wLCAwLjAsIDAuMCwgMTQ5LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxNTAuMCwgMC4wLCAwLjAsIDAuMCwgMTUyLjAsIDAuMCwgMC4wLCAwLjAsIDE1NC4wLCAwLjAsIDAuMCwgMC4wLCAxNTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE1Ny4wLCAwLjAsIDAuMCwgMC4wLCAxNTguMCwgMC4wLCAwLjAsIDAuMCwgMTYwLjAsIDAuMCwgMC4wLCAwLjAsIDE2Mi4wLCAwLjAsIDAuMCwgMC4wLCAxNjQuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE2NS4wLCAwLjAsIDAuMCwgMC4wLCAxNjcuMCwgMC4wLCAwLjAsIDAuMCwgMTY5LjAsIDAuMCwgMC4wLCAwLjAsIDE3MS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMTcyLjAsIDAuMCwgMC4wLCAwLjAsIDE3NC4wLCAwLjAsIDAuMCwgMC4wLCAxNzYuMCwgMC4wLCAwLjAsIDAuMCwgMTc4LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxODAuMCwgMC4wLCAwLjAsIDAuMCwgMTgyLjAsIDAuMCwgMC4wLCAwLjAsIDE4My4wLCAwLjAsIDAuMCwgMC4wLCAxODUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDE4Ny4wLCAwLjAsIDAuMCwgMC4wLCAxODkuMCwgMC4wLCAwLjAsIDAuMCwgMTkxLjAsIDAuMCwgMC4wLCAwLjAsIDE5My4wLCAwLjAsIDAuMCwgMC4wLCAxOTQuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDE5Ni4wLCAwLjAsIDAuMCwgMC4wLCAxOTguMCwgMC4wLCAwLjAsIDAuMCwgMjAwLjAsIDAuMCwgMC4wLCAwLjAsIDIwMi4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjAzLjAsIDAuMCwgMC4wLCAwLjAsIDIwNS4wLCAwLjAsIDAuMCwgMC4wLCAyMDcuMCwgMC4wLCAwLjAsIDAuMCwgMjA4LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMTAuMCwgMC4wLCAwLjAsIDAuMCwgMjEyLjAsIDAuMCwgMC4wLCAwLjAsIDIxMy4wLCAwLjAsIDAuMCwgMC4wLCAyMTUuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIxNi4wLCAwLjAsIDAuMCwgMC4wLCAyMTguMCwgMC4wLCAwLjAsIDAuMCwgMjE5LjAsIDAuMCwgMC4wLCAwLjAsIDIyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMjIuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDIyNC4wLCAwLjAsIDAuMCwgMC4wLCAyMjUuMCwgMC4wLCAwLjAsIDAuMCwgMjI2LjAsIDAuMCwgMC4wLCAwLjAsIDIyOC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIzMC4wLCAwLjAsIDAuMCwgMC4wLCAyMzEuMCwgMC4wLCAwLjAsIDAuMCwgMjMyLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMzMuMCwgMC4wLCAwLjAsIDAuMCwgMjM1LjAsIDAuMCwgMC4wLCAwLjAsIDIzNi4wLCAwLjAsIDAuMCwgMC4wLCAyMzcuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDIzOC4wLCAwLjAsIDAuMCwgMC4wLCAyMzkuMCwgMC4wLCAwLjAsIDAuMCwgMjQwLjAsIDAuMCwgMC4wLCAwLjAsIDI0MC4wLCAwLjAsIDAuMCwgMC4wLCAyNDEuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI0Mi4wLCAwLjAsIDAuMCwgMC4wLCAyNDMuMCwgMC4wLCAwLjAsIDAuMCwgMjQ0LjAsIDAuMCwgMC4wLCAwLjAsIDI0NC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMjQ1LjAsIDAuMCwgMC4wLCAwLjAsIDI0Ni4wLCAwLjAsIDAuMCwgMC4wLCAyNDcuMCwgMC4wLCAwLjAsIDAuMCwgMjQ3LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyNDguMCwgMC4wLCAwLjAsIDAuMCwgMjQ4LjAsIDAuMCwgMC4wLCAwLjAsIDI0OS4wLCAwLjAsIDAuMCwgMC4wLCAyNTAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDI1MC4wLCAwLjAsIDAuMCwgMC4wLCAyNTEuMCwgMC4wLCAwLjAsIDAuMCwgMjUxLjAsIDAuMCwgMC4wLCAwLjAsIDI1Mi4wLCAwLjAsIDAuMCwgMC4wLCAyNTIuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI1My4wLCAwLjAsIDAuMCwgMC4wLCAyNTMuMCwgMC4wLCAwLjAsIDAuMCwgMjU0LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMFxuICAgICAgICBdKSxcbiAgICAgICAgYjogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMy4wLCAwLjAsIDAuMCwgMC4wLCA0LjAsIDAuMCwgMC4wLCAwLjAsIDYuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDguMCwgMC4wLCAwLjAsIDAuMCwgOS4wLCAwLjAsIDAuMCwgMC4wLCAxMS4wLCAwLjAsIDAuMCwgMC4wLCAxMy4wLCAwLjAsIDAuMCwgMC4wLCAxNS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTcuMCwgMC4wLCAwLjAsIDAuMCwgMTkuMCwgMC4wLCAwLjAsIDAuMCwgMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjMuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDI1LjAsIDAuMCwgMC4wLCAwLjAsIDI3LjAsIDAuMCwgMC4wLCAwLjAsIDI5LjAsIDAuMCwgMC4wLCAwLjAsIDMxLjAsIDAuMCwgMC4wLCAwLjAsIDMzLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAzNS4wLCAwLjAsIDAuMCwgMC4wLCAzNy4wLCAwLjAsIDAuMCwgMC4wLCAzOS4wLCAwLjAsIDAuMCwgMC4wLCA0MS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgNDMuMCwgMC4wLCAwLjAsIDAuMCwgNDUuMCwgMC4wLCAwLjAsIDAuMCwgNDcuMCwgMC4wLCAwLjAsIDAuMCwgNDguMCwgMC4wLCAwLjAsIDAuMCwgNTAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDUyLjAsIDAuMCwgMC4wLCAwLjAsIDU0LjAsIDAuMCwgMC4wLCAwLjAsIDU2LjAsIDAuMCwgMC4wLCAwLjAsIDU3LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA1OS4wLCAwLjAsIDAuMCwgMC4wLCA2MC4wLCAwLjAsIDAuMCwgMC4wLCA2Mi4wLCAwLjAsIDAuMCwgMC4wLCA2My4wLCAwLjAsIDAuMCwgMC4wLCA2NS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgNjYuMCwgMC4wLCAwLjAsIDAuMCwgNjcuMCwgMC4wLCAwLjAsIDAuMCwgNjkuMCwgMC4wLCAwLjAsIDAuMCwgNzAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDcxLjAsIDAuMCwgMC4wLCAwLjAsIDcyLjAsIDAuMCwgMC4wLCAwLjAsIDczLjAsIDAuMCwgMC4wLCAwLjAsIDc0LjAsIDAuMCwgMC4wLCAwLjAsIDc0LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA3NS4wLCAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA3Ny4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgNzcuMCwgMC4wLCAwLjAsIDAuMCwgNzcuMCwgMC4wLCAwLjAsIDAuMCwgNzguMCwgMC4wLCAwLjAsIDAuMCwgNzguMCwgMC4wLCAwLjAsIDAuMCwgNzguMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDc4LjAsIDAuMCwgMC4wLCAwLjAsIDc4LjAsIDAuMCwgMC4wLCAwLjAsIDc4LjAsIDAuMCwgMC4wLCAwLjAsIDc4LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA3Ny4wLCAwLjAsIDAuMCwgMC4wLCA3Ny4wLCAwLjAsIDAuMCwgMC4wLCA3Ny4wLCAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA3Ni4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgNzUuMCwgMC4wLCAwLjAsIDAuMCwgNzUuMCwgMC4wLCAwLjAsIDAuMCwgNzQuMCwgMC4wLCAwLjAsIDAuMCwgNzMuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDczLjAsIDAuMCwgMC4wLCAwLjAsIDcyLjAsIDAuMCwgMC4wLCAwLjAsIDcxLjAsIDAuMCwgMC4wLCAwLjAsIDcwLjAsIDAuMCwgMC4wLCAwLjAsIDY5LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA2OC4wLCAwLjAsIDAuMCwgMC4wLCA2Ny4wLCAwLjAsIDAuMCwgMC4wLCA2Ni4wLCAwLjAsIDAuMCwgMC4wLCA2Ni4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgNjUuMCwgMC4wLCAwLjAsIDAuMCwgNjQuMCwgMC4wLCAwLjAsIDAuMCwgNjMuMCwgMC4wLCAwLjAsIDAuMCwgNjEuMCwgMC4wLCAwLjAsIDAuMCwgNjAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDU5LjAsIDAuMCwgMC4wLCAwLjAsIDU4LjAsIDAuMCwgMC4wLCAwLjAsIDU4LjAsIDAuMCwgMC4wLCAwLjAsIDU3LjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA1Ni4wLCAwLjAsIDAuMCwgMC4wLCA1NS4wLCAwLjAsIDAuMCwgMC4wLCA1NC4wLCAwLjAsIDAuMCwgMC4wLCA1My4wLCAwLjAsIDAuMCwgMC4wLCA1Mi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgNTEuMCwgMC4wLCAwLjAsIDAuMCwgNTEuMCwgMC4wLCAwLjAsIDAuMCwgNTAuMCwgMC4wLCAwLjAsIDAuMCwgNDkuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDQ5LjAsIDAuMCwgMC4wLCAwLjAsIDQ4LjAsIDAuMCwgMC4wLCAwLjAsIDQ4LjAsIDAuMCwgMC4wLCAwLjAsIDQ3LjAsIDAuMCwgMC4wLCAwLjAsIDQ3LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA0Ny4wLCAwLjAsIDAuMCwgMC4wLCA0Ni4wLCAwLjAsIDAuMCwgMC4wLCA0Ni4wLCAwLjAsIDAuMCwgMC4wLCA0Ni4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgNDYuMCwgMC4wLCAwLjAsIDAuMCwgNDYuMCwgMC4wLCAwLjAsIDAuMCwgNDcuMCwgMC4wLCAwLjAsIDAuMCwgNDcuMCwgMC4wLCAwLjAsIDAuMCwgNDcuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDQ4LjAsIDAuMCwgMC4wLCAwLjAsIDQ4LjAsIDAuMCwgMC4wLCAwLjAsIDQ5LjAsIDAuMCwgMC4wLCAwLjAsIDUwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA1MC4wLCAwLjAsIDAuMCwgMC4wLCA1MS4wLCAwLjAsIDAuMCwgMC4wLCA1Mi4wLCAwLjAsIDAuMCwgMC4wLCA1My4wLCAwLjAsIDAuMCwgMC4wLCA1NS4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgNTYuMCwgMC4wLCAwLjAsIDAuMCwgNTcuMCwgMC4wLCAwLjAsIDAuMCwgNTkuMCwgMC4wLCAwLjAsIDAuMCwgNjAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDYyLjAsIDAuMCwgMC4wLCAwLjAsIDY0LjAsIDAuMCwgMC4wLCAwLjAsIDY1LjAsIDAuMCwgMC4wLCAwLjAsIDY3LjAsIDAuMCwgMC4wLCAwLjAsIDY5LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA3MS4wLCAwLjAsIDAuMCwgMC4wLCA3NC4wLCAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA3OC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgODEuMCwgMC4wLCAwLjAsIDAuMCwgODMuMCwgMC4wLCAwLjAsIDAuMCwgODYuMCwgMC4wLCAwLjAsIDAuMCwgODguMCwgMC4wLCAwLjAsIDAuMCwgOTEuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDk0LjAsIDAuMCwgMC4wLCAwLjAsIDk2LjAsIDAuMCwgMC4wLCAwLjAsIDk5LjAsIDAuMCwgMC4wLCAwLjAsIDEwMi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTA1LjAsIDAuMCwgMC4wLCAwLjAsIDEwOC4wLCAwLjAsIDAuMCwgMC4wLCAxMTEuMCwgMC4wLCAwLjAsIDAuMCwgMTE0LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxMTcuMCwgMC4wLCAwLjAsIDAuMCwgMTIwLjAsIDAuMCwgMC4wLCAwLjAsIDEyNC4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTMwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMzMuMCwgMC4wLCAwLjAsIDAuMCwgMTM2LjAsIDAuMCwgMC4wLCAwLjAsIDE0MC4wLCAwLjAsIDAuMCwgMC4wLCAxNDMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE0Ni4wLCAwLjAsIDAuMCwgMC4wLCAxNDkuMCwgMC4wLCAwLjAsIDAuMCwgMTUzLjAsIDAuMCwgMC4wLCAwLjAsIDE1Ni4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTU5LjAsIDAuMCwgMC4wLCAwLjAsIDE2Mi4wLCAwLjAsIDAuMCwgMC4wLCAxNjUuMCwgMC4wLCAwLjAsIDAuMCwgMTY5LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNzIuMCwgMC4wLCAwLjAsIDAuMCwgMTc1LjAsIDAuMCwgMC4wLCAwLjAsIDE3OC4wLCAwLjAsIDAuMCwgMC4wLCAxODEuMCwgMC4wLCAwLjAsIDAuMCwgMTg0LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxODYuMCwgMC4wLCAwLjAsIDAuMCwgMTg5LjAsIDAuMCwgMC4wLCAwLjAsIDE5Mi4wLCAwLjAsIDAuMCwgMC4wLCAxOTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE5Ny4wLCAwLjAsIDAuMCwgMC4wLCAyMDAuMCwgMC4wLCAwLjAsIDAuMCwgMjAzLjAsIDAuMCwgMC4wLCAwLjAsIDIwNS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjA3LjAsIDAuMCwgMC4wLCAwLjAsIDIxMC4wLCAwLjAsIDAuMCwgMC4wLCAyMTIuMCwgMC4wLCAwLjAsIDAuMCwgMjE0LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMTYuMCwgMC4wLCAwLjAsIDAuMCwgMjE4LjAsIDAuMCwgMC4wLCAwLjAsIDIyMC4wLCAwLjAsIDAuMCwgMC4wLCAyMjIuMCwgMC4wLCAwLjAsIDAuMCwgMjI0LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjI3LjAsIDAuMCwgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyMzAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIzMS4wLCAwLjAsIDAuMCwgMC4wLCAyMzMuMCwgMC4wLCAwLjAsIDAuMCwgMjM0LjAsIDAuMCwgMC4wLCAwLjAsIDIzNS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjM2LjAsIDAuMCwgMC4wLCAwLjAsIDIzNy4wLCAwLjAsIDAuMCwgMC4wLCAyMzguMCwgMC4wLCAwLjAsIDAuMCwgMjM5LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzkuMCwgMC4wLCAwLjAsIDAuMCwgMjQwLjAsIDAuMCwgMC4wLCAwLjAsIDI0MS4wLCAwLjAsIDAuMCwgMC4wLCAyNDEuMCwgMC4wLCAwLjAsIDAuMCwgMjQyLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDIuMCwgMC4wLCAwLjAsIDAuMCwgMjQyLjAsIDAuMCwgMC4wLCAwLjAsIDI0My4wLCAwLjAsIDAuMCwgMC4wLCAyNDMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0My4wLCAwLjAsIDAuMCwgMC4wLCAyNDMuMCwgMC4wLCAwLjAsIDAuMCwgMjQzLjAsIDAuMCwgMC4wLCAwLjAsIDI0My4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQzLjAsIDAuMCwgMC4wLCAwLjAsIDI0My4wLCAwLjAsIDAuMCwgMC4wLCAyNDMuMCwgMC4wLCAwLjAsIDAuMCwgMjQzLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNDIuMCwgMC4wLCAwLjAsIDAuMCwgMjQyLjAsIDAuMCwgMC4wLCAwLjAsIDI0Mi4wLCAwLjAsIDAuMCwgMC4wLCAyNDIuMCwgMC4wLCAwLjAsIDAuMCwgMjQxLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDEuMCwgMC4wLCAwLjAsIDAuMCwgMjQxLjAsIDAuMCwgMC4wLCAwLjAsIDI0MS4wLCAwLjAsIDAuMCwgMC4wLCAyNDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0MC4wLCAwLjAsIDAuMCwgMC4wLCAyNDAuMCwgMC4wLCAwLjAsIDAuMCwgMjM5LjAsIDAuMCwgMC4wLCAwLjAsIDIzOS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjM5LjAsIDAuMCwgMC4wLCAwLjAsIDIzOS4wLCAwLjAsIDAuMCwgMC4wLCAyMzkuMCwgMC4wLCAwLjAsIDAuMCwgMjM4LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzguMCwgMC4wLCAwLjAsIDAuMCwgMjM4LjAsIDAuMCwgMC4wLCAwLjAsIDIzOC4wLCAwLjAsIDAuMCwgMC4wLCAyMzguMCwgMC4wLCAwLjAsIDAuMCwgMjM4LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMzguMCwgMC4wLCAwLjAsIDAuMCwgMjM4LjAsIDAuMCwgMC4wLCAwLjAsIDIzOS4wLCAwLjAsIDAuMCwgMC4wLCAyMzkuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIzOS4wLCAwLjAsIDAuMCwgMC4wLCAyNDAuMCwgMC4wLCAwLjAsIDAuMCwgMjQwLjAsIDAuMCwgMC4wLCAwLjAsIDI0MC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjQxLjAsIDAuMCwgMC4wLCAwLjAsIDI0Mi4wLCAwLjAsIDAuMCwgMC4wLCAyNDIuMCwgMC4wLCAwLjAsIDAuMCwgMjQzLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNDQuMCwgMC4wLCAwLjAsIDAuMCwgMjQ1LjAsIDAuMCwgMC4wLCAwLjAsIDI0Ni4wLCAwLjAsIDAuMCwgMC4wLCAyNDcuMCwgMC4wLCAwLjAsIDAuMCwgMjQ4LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDkuMCwgMC4wLCAwLjAsIDAuMCwgMjUwLjAsIDAuMCwgMC4wLCAwLjAsIDI1Mi4wLCAwLjAsIDAuMCwgMC4wLCAyNTMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wXG4gICAgICAgIF0pXG4gICAgfTtcbiAgICBFT1NCID0ge1xuICAgICAgICByOiBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgOS4wLCAwLjAsIDAuMCwgMC4wLCAxOC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjcuMCwgMC4wLCAwLjAsIDAuMCwgMzYuMCwgMC4wLCAwLjAsIDAuMCwgNDUuMCwgMC4wLCAwLjAsIDAuMCwgNDkuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDU3LjAsIDAuMCwgMC4wLCAwLjAsIDcyLjAsIDAuMCwgMC4wLCAwLjAsIDgxLjAsIDAuMCwgMC4wLCAwLjAsIDkxLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxMDAuMCwgMC4wLCAwLjAsIDAuMCwgMTA5LjAsIDAuMCwgMC4wLCAwLjAsIDExOC4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTM2LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMzEuMCwgMC4wLCAwLjAsIDAuMCwgMTM5LjAsIDAuMCwgMC4wLCAwLjAsIDE2My4wLCAwLjAsIDAuMCwgMC4wLCAxNzMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE4Mi4wLCAwLjAsIDAuMCwgMC4wLCAxOTEuMCwgMC4wLCAwLjAsIDAuMCwgMjAwLjAsIDAuMCwgMC4wLCAwLjAsIDIwOS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjE4LjAsIDAuMCwgMC4wLCAwLjAsIDIyNy4wLCAwLjAsIDAuMCwgMC4wLCAyMTMuMCwgMC4wLCAwLjAsIDAuMCwgMjIxLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjUzLjAsIDAuMCwgMC4wLCAwLjAsIDI1MS4wLCAwLjAsIDAuMCwgMC4wLCAyNDkuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI0Ny4wLCAwLjAsIDAuMCwgMC4wLCAyNDUuMCwgMC4wLCAwLjAsIDAuMCwgMjQzLjAsIDAuMCwgMC4wLCAwLjAsIDI0MS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjE1LjAsIDAuMCwgMC4wLCAwLjAsIDIxNC4wLCAwLjAsIDAuMCwgMC4wLCAyMzUuMCwgMC4wLCAwLjAsIDAuMCwgMjM0LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyMzIuMCwgMC4wLCAwLjAsIDAuMCwgMjMwLjAsIDAuMCwgMC4wLCAwLjAsIDIyOC4wLCAwLjAsIDAuMCwgMC4wLCAyMjYuMCwgMC4wLCAwLjAsIDAuMCwgMjI0LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMjIuMCwgMC4wLCAwLjAsIDAuMCwgMTk4LjAsIDAuMCwgMC4wLCAwLjAsIDE5Ni4wLCAwLjAsIDAuMCwgMC4wLCAyMTYuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIxNS4wLCAwLjAsIDAuMCwgMC4wLCAyMTMuMCwgMC4wLCAwLjAsIDAuMCwgMjExLjAsIDAuMCwgMC4wLCAwLjAsIDIwOS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjA3LjAsIDAuMCwgMC4wLCAwLjAsIDIwNS4wLCAwLjAsIDAuMCwgMC4wLCAyMDMuMCwgMC4wLCAwLjAsIDAuMCwgMTgxLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNzkuMCwgMC4wLCAwLjAsIDAuMCwgMTk3LjAsIDAuMCwgMC4wLCAwLjAsIDE5Ni4wLCAwLjAsIDAuMCwgMC4wLCAxOTQuMCwgMC4wLCAwLjAsIDAuMCwgMTkyLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxOTAuMCwgMC4wLCAwLjAsIDAuMCwgMTg4LjAsIDAuMCwgMC4wLCAwLjAsIDE4Ni4wLCAwLjAsIDAuMCwgMC4wLCAxODQuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE2NC4wLCAwLjAsIDAuMCwgMC4wLCAxNjIuMCwgMC4wLCAwLjAsIDAuMCwgMTc4LjAsIDAuMCwgMC4wLCAwLjAsIDE3Ni4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTc1LjAsIDAuMCwgMC4wLCAwLjAsIDE3My4wLCAwLjAsIDAuMCwgMC4wLCAxNzEuMCwgMC4wLCAwLjAsIDAuMCwgMTY5LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxNjcuMCwgMC4wLCAwLjAsIDAuMCwgMTY1LjAsIDAuMCwgMC4wLCAwLjAsIDE0Ny4wLCAwLjAsIDAuMCwgMC4wLCAxNDUuMCwgMC4wLCAwLjAsIDAuMCwgMTU5LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNTcuMCwgMC4wLCAwLjAsIDAuMCwgMTU2LjAsIDAuMCwgMC4wLCAwLjAsIDE1NC4wLCAwLjAsIDAuMCwgMC4wLCAxNTIuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE1MC4wLCAwLjAsIDAuMCwgMC4wLCAxNDguMCwgMC4wLCAwLjAsIDAuMCwgMTQ2LjAsIDAuMCwgMC4wLCAwLjAsIDEzMC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTI4LjAsIDAuMCwgMC4wLCAwLjAsIDE0MC4wLCAwLjAsIDAuMCwgMC4wLCAxMzguMCwgMC4wLCAwLjAsIDAuMCwgMTM3LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxMzUuMCwgMC4wLCAwLjAsIDAuMCwgMTMzLjAsIDAuMCwgMC4wLCAwLjAsIDEzMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjkuMCwgMC4wLCAwLjAsIDAuMCwgMTI3LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMTMuMCwgMC4wLCAwLjAsIDAuMCwgMTExLjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMTkuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDExNy4wLCAwLjAsIDAuMCwgMC4wLCAxMTcuMCwgMC4wLCAwLjAsIDAuMFxuICAgICAgICBdKSxcbiAgICAgICAgZzogbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCA3LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNS4wLCAwLjAsIDAuMCwgMC4wLCAyMy4wLCAwLjAsIDAuMCwgMC4wLCAzMS4wLCAwLjAsIDAuMCwgMC4wLCAzOS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgNDcuMCwgMC4wLCAwLjAsIDAuMCwgNTUuMCwgMC4wLCAwLjAsIDAuMCwgNTcuMCwgMC4wLCAwLjAsIDAuMCwgNjQuMCwgMC4wLCAwLjAsIDAuMCwgNzkuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDg3LjAsIDAuMCwgMC4wLCAwLjAsIDk1LjAsIDAuMCwgMC4wLCAwLjAsIDEwMy4wLCAwLjAsIDAuMCwgMC4wLCAxMTEuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDExOS4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTM1LjAsIDAuMCwgMC4wLCAwLjAsIDEyOS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTM2LjAsIDAuMCwgMC4wLCAwLjAsIDE1OS4wLCAwLjAsIDAuMCwgMC4wLCAxNjcuMCwgMC4wLCAwLjAsIDAuMCwgMTc1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxODMuMCwgMC4wLCAwLjAsIDAuMCwgMTkxLjAsIDAuMCwgMC4wLCAwLjAsIDE5OS4wLCAwLjAsIDAuMCwgMC4wLCAyMDcuMCwgMC4wLCAwLjAsIDAuMCwgMjE1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyMDAuMCwgMC4wLCAwLjAsIDAuMCwgMjA3LjAsIDAuMCwgMC4wLCAwLjAsIDIzOS4wLCAwLjAsIDAuMCwgMC4wLCAyNDcuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyMjkuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI1NS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjI5LjAsIDAuMCwgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyNTUuMCwgMC4wLCAwLjAsIDAuMCwgMjUwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAyNDYuMCwgMC4wLCAwLjAsIDAuMCwgMjQyLjAsIDAuMCwgMC4wLCAwLjAsIDIzOC4wLCAwLjAsIDAuMCwgMC4wLCAyMzMuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDIyOS4wLCAwLjAsIDAuMCwgMC4wLCAyMjUuMCwgMC4wLCAwLjAsIDAuMCwgMTk4LjAsIDAuMCwgMC4wLCAwLjAsIDE5NS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMjEyLjAsIDAuMCwgMC4wLCAwLjAsIDIwOC4wLCAwLjAsIDAuMCwgMC4wLCAyMDQuMCwgMC4wLCAwLjAsIDAuMCwgMTk5LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxOTUuMCwgMC4wLCAwLjAsIDAuMCwgMTkxLjAsIDAuMCwgMC4wLCAwLjAsIDE4Ny4wLCAwLjAsIDAuMCwgMC4wLCAxODIuMCwgMC4wLCAwLjAsIDAuMCwgMTYwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxNTYuMCwgMC4wLCAwLjAsIDAuMCwgMTY5LjAsIDAuMCwgMC4wLCAwLjAsIDE2NS4wLCAwLjAsIDAuMCwgMC4wLCAxNjEuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDE1Ny4wLCAwLjAsIDAuMCwgMC4wLCAxNTMuMCwgMC4wLCAwLjAsIDAuMCwgMTQ4LjAsIDAuMCwgMC4wLCAwLjAsIDE0NC4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMTQwLjAsIDAuMCwgMC4wLCAwLjAsIDEyMi4wLCAwLjAsIDAuMCwgMC4wLCAxMTguMCwgMC4wLCAwLjAsIDAuMCwgMTI3LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAxMjUuMCwgMC4wLCAwLjAsIDAuMCwgMTIzLjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMTkuMCwgMC4wLCAwLjAsIDAuMCwgMTE2LjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAxMTQuMCwgMC4wLCAwLjAsIDAuMCwgMTEyLjAsIDAuMCwgMC4wLCAwLjAsIDk5LjAsIDAuMCwgMC4wLCAwLjAsIDk3LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxMDYuMCwgMC4wLCAwLjAsIDAuMCwgMTA0LjAsIDAuMCwgMC4wLCAwLjAsIDEwMi4wLCAwLjAsIDAuMCwgMC4wLCA5OS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgOTcuMCwgMC4wLCAwLjAsIDAuMCwgOTUuMCwgMC4wLCAwLjAsIDAuMCwgOTMuMCwgMC4wLCAwLjAsIDAuMCwgOTEuMCwgMC4wLCAwLjAsIDAuMCwgODAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDc4LjAsIDAuMCwgMC4wLCAwLjAsIDg0LjAsIDAuMCwgMC4wLCAwLjAsIDgyLjAsIDAuMCwgMC4wLCAwLjAsIDgwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCA3OC4wLCAwLjAsIDAuMCwgMC4wLCA3Ni4wLCAwLjAsIDAuMCwgMC4wLCA3NC4wLCAwLjAsIDAuMCwgMC4wLCA3Mi4wLCAwLjAsIDAuMCwgMC4wLCA3MC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgNjEuMCwgMC4wLCAwLjAsIDAuMCwgNTkuMCwgMC4wLCAwLjAsIDAuMCwgNjMuMCwgMC4wLCAwLjAsIDAuMCwgNjEuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDU5LjAsIDAuMCwgMC4wLCAwLjAsIDU3LjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCwgMC4wLCAwLjAsIDUzLjAsIDAuMCwgMC4wLCAwLjAsIDUwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCA0OC4wLCAwLjAsIDAuMCwgMC4wLCA0Mi4wLCAwLjAsIDAuMCwgMC4wLCA0MC4wLCAwLjAsIDAuMCwgMC4wLCA0Mi4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgNDAuMCwgMC4wLCAwLjAsIDAuMCwgMzguMCwgMC4wLCAwLjAsIDAuMCwgMzYuMCwgMC4wLCAwLjAsIDAuMCwgMzMuMCwgMC4wLCAwLjAsIDAuMCwgMzEuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAwLjAsIDI5LjAsIDAuMCwgMC4wLCAwLjAsIDI3LjAsIDAuMCwgMC4wLCAwLjAsIDIyLjAsIDAuMCwgMC4wLCAwLjAsIDIxLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLCAxOS4wLCAwLjAsIDAuMCwgMC4wLCAxNi4wLCAwLjAsIDAuMCwgMC4wLCAxNC4wLCAwLjAsIDAuMCwgMC4wLCAxMi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTMuMCwgMC4wLCAwLjAsIDAuMCwgOC4wLCAwLjAsIDAuMCwgMC4wLCA2LjAsIDAuMCwgMC4wLCAwLjAsIDMuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjBcbiAgICAgICAgXSksXG4gICAgICAgIGI6IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMTE2LjAsIDAuMCwgMC4wLCAwLjAsIDEyMS4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTMxLjAsIDAuMCwgMC4wLCAwLjAsIDEzNi4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTQwLjAsIDAuMCwgMC4wLCAwLjAsIDE0NC4wLCAwLjAsIDAuMCwgMC4wLCAxNDguMCwgMC4wLCAwLjAsIDAuMCwgMTUzLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxNTcuMCwgMC4wLCAwLjAsIDAuMCwgMTQ1LjAsIDAuMCwgMC4wLCAwLjAsIDE0OS4wLCAwLjAsIDAuMCwgMC4wLCAxNzAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDE3NC4wLCAwLjAsIDAuMCwgMC4wLCAxNzguMCwgMC4wLCAwLjAsIDAuMCwgMTgyLjAsIDAuMCwgMC4wLCAwLjAsIDE4Ny4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMTkxLjAsIDAuMCwgMC4wLCAwLjAsIDE5NS4wLCAwLjAsIDAuMCwgMC4wLCAxOTkuMCwgMC4wLCAwLjAsIDAuMCwgMTgzLjAsIDAuMCwgMC4wLCAwLjAsIDE4Ny4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMjEyLjAsIDAuMCwgMC4wLCAwLjAsIDIxNi4wLCAwLjAsIDAuMCwgMC4wLCAyMjEuMCwgMC4wLCAwLjAsIDAuMCwgMjI1LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAyMjkuMCwgMC4wLCAwLjAsIDAuMCwgMjMzLjAsIDAuMCwgMC4wLCAwLjAsIDIzOC4wLCAwLjAsIDAuMCwgMC4wLCAyNDIuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDIyMS4wLCAwLjAsIDAuMCwgMC4wLCAyMjUuMCwgMC4wLCAwLjAsIDAuMCwgMjU1LjAsIDAuMCwgMC4wLCAwLjAsIDI0Ny4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMjM5LjAsIDAuMCwgMC4wLCAwLjAsIDIzMS4wLCAwLjAsIDAuMCwgMC4wLCAyMjMuMCwgMC4wLCAwLjAsIDAuMCwgMjE1LjAsIDAuMCwgMC4wLCAwLjAsIDIwNy4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMTk5LjAsIDAuMCwgMC4wLCAwLjAsIDE3Mi4wLCAwLjAsIDAuMCwgMC4wLCAxNjQuMCwgMC4wLCAwLjAsIDAuMCwgMTc1LjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxNjcuMCwgMC4wLCAwLjAsIDAuMCwgMTU5LjAsIDAuMCwgMC4wLCAwLjAsIDE1MS4wLCAwLjAsIDAuMCwgMC4wLCAxNDMuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDEzNS4wLCAwLjAsIDAuMCwgMC4wLCAxMjcuMCwgMC4wLCAwLjAsIDAuMCwgMTE5LjAsIDAuMCwgMC4wLCAwLjAsIDEwMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgOTMuMCwgMC4wLCAwLjAsIDAuMCwgOTUuMCwgMC4wLCAwLjAsIDAuMCwgODcuMCwgMC4wLCAwLjAsIDAuMCwgNzkuMCwgMC4wLCAwLjAsIDAuMCwgNzEuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDYzLjAsIDAuMCwgMC4wLCAwLjAsIDU1LjAsIDAuMCwgMC4wLCAwLjAsIDQ3LjAsIDAuMCwgMC4wLCAwLjAsIDM5LjAsIDAuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAyOC4wLCAwLjAsIDAuMCwgMC4wLCAyMS4wLCAwLjAsIDAuMCwgMC4wLCAxNS4wLCAwLjAsIDAuMCwgMC4wLCA3LjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMFxuICAgICAgICBdKVxuICAgIH07XG59XG5leHBvcnQgY29uc3QgY29sb3JNYXAgPSBuZXcgQ29sb3JNYXAoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbG9yTWFwLmpzLm1hcCIsIi8vIEZvVkhlbHBlci50c1xuJ3VzZSBzdHJpY3QnO1xuY2xhc3MgRm9WSGVscGVyIHtcbiAgICBnZXRIaVBTTm9yZGVyKGZvdikge1xuICAgICAgICBpZiAoZm92ID49IDE3OSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBpZiAoZm92ID49IDkwKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChmb3YgPj0gMzApXG4gICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgaWYgKGZvdiA+PSAyMClcbiAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICBpZiAoZm92ID49IDYpXG4gICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgaWYgKGZvdiA+PSAzLjIpXG4gICAgICAgICAgICByZXR1cm4gNTtcbiAgICAgICAgaWYgKGZvdiA+PSAxLjYpXG4gICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgaWYgKGZvdiA+PSAwLjg1KVxuICAgICAgICAgICAgcmV0dXJuIDc7XG4gICAgICAgIGlmIChmb3YgPj0gMC40MilcbiAgICAgICAgICAgIHJldHVybiA4O1xuICAgICAgICBpZiAoZm92ID49IDAuMjEpXG4gICAgICAgICAgICByZXR1cm4gOTtcbiAgICAgICAgaWYgKGZvdiA+PSAwLjEyKVxuICAgICAgICAgICAgcmV0dXJuIDEwO1xuICAgICAgICBpZiAoZm92ID49IDAuMDYpXG4gICAgICAgICAgICByZXR1cm4gMTE7XG4gICAgICAgIGlmIChmb3YgPCAwLjAxNSlcbiAgICAgICAgICAgIHJldHVybiAxMjtcbiAgICAgICAgcmV0dXJuIDEzO1xuICAgIH1cbiAgICBnZXRSQURlZ1N0ZXBzKGZvdikge1xuICAgICAgICBsZXQgcmFTdGVwO1xuICAgICAgICBsZXQgZGVjU3RlcDtcbiAgICAgICAgaWYgKGZvdiA+PSAxNzkpIHtcbiAgICAgICAgICAgIHJhU3RlcCA9IDEwO1xuICAgICAgICAgICAgZGVjU3RlcCA9IDEwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvdiA+PSAyNSkge1xuICAgICAgICAgICAgcmFTdGVwID0gOTtcbiAgICAgICAgICAgIGRlY1N0ZXAgPSA5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvdiA+PSAxMi41KSB7XG4gICAgICAgICAgICByYVN0ZXAgPSA4O1xuICAgICAgICAgICAgZGVjU3RlcCA9IDg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm92ID49IDYpIHtcbiAgICAgICAgICAgIHJhU3RlcCA9IDY7XG4gICAgICAgICAgICBkZWNTdGVwID0gNjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3YgPj0gMy4yKSB7XG4gICAgICAgICAgICByYVN0ZXAgPSA1O1xuICAgICAgICAgICAgZGVjU3RlcCA9IDU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm92ID49IDEuNikge1xuICAgICAgICAgICAgcmFTdGVwID0gNDtcbiAgICAgICAgICAgIGRlY1N0ZXAgPSA0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvdiA+PSAwLjg1KSB7XG4gICAgICAgICAgICByYVN0ZXAgPSAzO1xuICAgICAgICAgICAgZGVjU3RlcCA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm92ID49IDAuNDIpIHtcbiAgICAgICAgICAgIHJhU3RlcCA9IDI7XG4gICAgICAgICAgICBkZWNTdGVwID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3YgPj0gMC4yMSkge1xuICAgICAgICAgICAgcmFTdGVwID0gMTtcbiAgICAgICAgICAgIGRlY1N0ZXAgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvdiA+PSAwLjEyKSB7XG4gICAgICAgICAgICByYVN0ZXAgPSAwLjU7XG4gICAgICAgICAgICBkZWNTdGVwID0gMC41O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvdiA+PSAwLjA2KSB7XG4gICAgICAgICAgICByYVN0ZXAgPSAwLjI1O1xuICAgICAgICAgICAgZGVjU3RlcCA9IDAuMjU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByYVN0ZXAgPSAxMDtcbiAgICAgICAgICAgIGRlY1N0ZXAgPSAxMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByYVN0ZXAsIGRlY1N0ZXAgfTtcbiAgICB9XG4gICAgZ2V0UmVmT3JkZXIob3JkZXIpIHtcbiAgICAgICAgc3dpdGNoIChvcmRlcikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBvcmRlciArIDY7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyICsgNTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXIgKyA0O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXIgKyAzO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGZvdkhlbHBlciA9IG5ldyBGb1ZIZWxwZXIoKTtcbmV4cG9ydCBkZWZhdWx0IEZvVkhlbHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZvVkhlbHBlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG4vKipcbiAqIEBhdXRob3IgRmFicml6aW8gR2lvcmRhbm8gKEZhYjc3KVxuICovXG5pbXBvcnQgQWJzdHJhY3RTa3lFbnRpdHkgZnJvbSAnLi4vQWJzdHJhY3RTa3lFbnRpdHkuanMnO1xuaW1wb3J0IHsgZm92SGVscGVyIH0gZnJvbSAnLi9Gb1ZIZWxwZXIuanMnO1xuaW1wb3J0IHsgbmV3VGlsZUJ1ZmZlciB9IGZyb20gJy4vVGlsZUJ1ZmZlci5qcyc7XG5pbXBvcnQgQ29sb3JNYXBzIGZyb20gJy4uL0NvbG9yTWFwcy5qcyc7XG5pbXBvcnQgeyBoaXBzU2hhZGVyUHJvZ3JhbSB9IGZyb20gJy4uLy4uL3NoYWRlci9IaVBTU2hhZGVyUHJvZ3JhbS5qcyc7XG5pbXBvcnQgQW5jZXN0b3JUaWxlIGZyb20gJy4vQW5jZXN0b3JUaWxlLmpzJztcbmltcG9ydCB7IHZpc2libGVUaWxlc01hbmFnZXIgfSBmcm9tICcuL1Zpc2libGVUaWxlc01hbmFnZXIuanMnO1xuaW1wb3J0IEFsbFNreSBmcm9tICcuL0FsbFNreS5qcyc7XG5pbXBvcnQgaGVhbHBpeEdyaWRTaW5nbGV0b24gZnJvbSAnLi4vZ3JpZC9IZWFscGl4R3JpZFNpbmdsZXRvbi5qcyc7XG5pbXBvcnQgZ2xvYmFsIGZyb20gJy4uLy4uL0dsb2JhbC5qcyc7XG5pbXBvcnQgY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uIGZyb20gJy4uLy4uL3V0aWxzL0NvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeC5qcyc7XG5jbGFzcyBIaVBTIGV4dGVuZHMgQWJzdHJhY3RTa3lFbnRpdHkge1xuICAgIF9hbmNlc3RvclRpbGVzO1xuICAgIF9hbGxTa3lUaWxlO1xuICAgIF9mb3JtYXQ7XG4gICAgX2Jhc2V1cmw7XG4gICAgX21heG9yZGVyO1xuICAgIF9taW5vcmRlcjtcbiAgICBfdmlzaWJsZW9yZGVyID0gMztcbiAgICBfYWxsU2t5ID0gdHJ1ZTtcbiAgICBzYW1wbGVySWR4ID0gMDtcbiAgICBjb2xvck1hcElkeCA9IDA7XG4gICAgY29sb3JNYXAgPSBDb2xvck1hcHNbJ25hdGl2ZSddO1xuICAgIC8vIGV4cG9zZWQgcmVhZC1vbmx5IGhlbHBlcnNcbiAgICBnZXQgbWF4T3JkZXIoKSB7IHJldHVybiB0aGlzLl9tYXhvcmRlcjsgfVxuICAgIGdldCBtaW5PcmRlcigpIHsgcmV0dXJuIHRoaXMuX21pbm9yZGVyOyB9XG4gICAgZ2V0IGJhc2VVUkwoKSB7IHJldHVybiB0aGlzLl9iYXNldXJsOyB9XG4gICAgZ2V0IGZvcm1hdCgpIHsgcmV0dXJuIHRoaXMuX2Zvcm1hdDsgfVxuICAgIGNvbnN0cnVjdG9yKHJhZGl1cywgcG9zaXRpb24sIHhyYWQsIHlyYWQsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgc3VwZXIocmFkaXVzLCBwb3NpdGlvbiwgeHJhZCwgeXJhZCwgZGVzY3JpcHRvci5zdXJ2ZXlOYW1lLCBkZXNjcmlwdG9yLmlzR2FsYWN0aWMpO1xuICAgICAgICB0aGlzLmluaXRHTChnbG9iYWwuZ2wpO1xuICAgICAgICBuZXdUaWxlQnVmZmVyLmFkZEhpUFModGhpcyk7XG4gICAgICAgIC8vIERFQlVHIGxvZ3Mga2VwdCBmcm9tIEpTIChvcHRpb25hbClcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5sb2coJ0hpUFMgZnJhbWUgJyArIGRlc2NyaXB0b3IuaGlwc0ZyYW1lKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5sb2coJ0hpUFMgbWluT3JkZXIgJyArIGRlc2NyaXB0b3IubWluT3JkZXIpO1xuICAgICAgICB0aGlzLl9mb3JtYXQgPSBkZXNjcmlwdG9yLmltZ0Zvcm1hdHNbMF07XG4gICAgICAgIHRoaXMuX2Jhc2V1cmwgPSBkZXNjcmlwdG9yLnVybDtcbiAgICAgICAgdGhpcy5fbWF4b3JkZXIgPSBkZXNjcmlwdG9yLm1heE9yZGVyO1xuICAgICAgICB0aGlzLl9taW5vcmRlciA9IGRlc2NyaXB0b3IubWluT3JkZXI7XG4gICAgICAgIHRoaXMuaW5pdFNoYWRlcnMoKTtcbiAgICAgICAgLy8gcGljayBpbml0aWFsIG9yZGVyIGZyb20gYSBzdGFydGluZyBGb1ZcbiAgICAgICAgY29uc3QgZm92ID0gMTgwO1xuICAgICAgICBsZXQgb3JkZXIgPSBmb3ZIZWxwZXIuZ2V0SGlQU05vcmRlcihmb3YpO1xuICAgICAgICB0aGlzLl92aXNpYmxlb3JkZXIgPSBNYXRoLm1pbihvcmRlciwgdGhpcy5fbWF4b3JkZXIpO1xuICAgICAgICB0aGlzLl9hbmNlc3RvclRpbGVzID0gW107XG4gICAgICAgIHRoaXMuX2FsbFNreVRpbGUgPSBudWxsO1xuICAgICAgICAvLyBhdXRvLWRldGVjdCBhbGwtc2t5OiBvcmlnaW5hbCBjb2RlIGZvcmNlcyB0cnVlXG4gICAgICAgIHRoaXMuX2FsbFNreSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hbGxTa3kpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsbFNreVRpbGUgPSBuZXcgQWxsU2t5KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCAxMjsgdCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jZXN0b3JUaWxlcy5wdXNoKG5ldyBBbmNlc3RvclRpbGUodCwgMCwgdGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNoYW5nZUZvcm1hdChmb3JtYXQpIHtcbiAgICAgICAgdGhpcy5fZm9ybWF0ID0gZm9ybWF0O1xuICAgICAgICAvLyBvcmlnaW5hbCBjb2RlIHJlZmVyZW5jZWQgX3RpbGVCdWZmZXI7IGlmIHlvdSBoYXZlIG9uZSwgd2lyZSBpdCBiYWNrLlxuICAgICAgICAvLyBLZWVwaW5nIGNhbGxzIG5vLW9wIHRvIGF2b2lkIGJyZWFraW5nIGF0IHJ1bnRpbWUgaWYgX3RpbGVCdWZmZXIgaXMgdW5kZWZpbmVkLlxuICAgICAgICAvLyAobmV3VmlzaWJsZVRpbGVzTWFuYWdlciArIFRpbGVCdWZmZXIgZHJpdmUgdGhlIGFjdHVhbCB0aWxlIGxpZmVjeWNsZSlcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAodGhpcy5fdGlsZUJ1ZmZlcj8uY2xlYXJBbGwpXG4gICAgICAgICAgICB0aGlzLl90aWxlQnVmZmVyLmNsZWFyQWxsKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKHRoaXMuX3RpbGVCdWZmZXIpXG4gICAgICAgICAgICB0aGlzLl90aWxlQnVmZmVyLl9mb3JtYXQgPSB0aGlzLl9mb3JtYXQ7XG4gICAgICAgIGNvbnN0IHBpeGVsQnlPcmRlciA9IHRoaXMuaXNHYWxhY3RpY0hpcHNcbiAgICAgICAgICAgID8gdmlzaWJsZVRpbGVzTWFuYWdlci5nYWxWaXNpYmxlVGlsZXNCeU9yZGVyXG4gICAgICAgICAgICA6IHZpc2libGVUaWxlc01hbmFnZXIudmlzaWJsZVRpbGVzQnlPcmRlcjtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAodGhpcy5fdGlsZUJ1ZmZlcj8udXBkYXRlVGlsZXMpXG4gICAgICAgICAgICB0aGlzLl90aWxlQnVmZmVyLnVwZGF0ZVRpbGVzKHBpeGVsQnlPcmRlci5waXhlbHMsIHBpeGVsQnlPcmRlci5vcmRlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNoYWRlciBjb2xvcm1hcCBzd2l0Y2hlclxuICAgICAqIDAgLT4gbmF0aXZlXG4gICAgICogMSAtPiBncmF5c2NhbGVcbiAgICAgKiAyIC0+IHBsYW5ja1xuICAgICAqIDMgLT4gY21iXG4gICAgICogNCAtPiByYWluYm93XG4gICAgICogNSAtPiBlb3NiXG4gICAgICogNiAtPiBjdWJlaGVsaXhcbiAgICAgKi9cbiAgICBjaGFuZ2VDb2xvck1hcChjb2xvck1hcCkge1xuICAgICAgICB0aGlzLmNvbG9yTWFwID0gY29sb3JNYXA7XG4gICAgICAgIHN3aXRjaCAoY29sb3JNYXAubmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnZ3JheXNjYWxlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yTWFwSWR4ID0gMTtcbiAgICAgICAgICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5zZXRHcmF5c2NhbGVTaGFkZXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BsYW5jayc6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvck1hcElkeCA9IDI7XG4gICAgICAgICAgICAgICAgaGlwc1NoYWRlclByb2dyYW0uc2V0Q29sb3JNYXBTaGFkZXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NtYic6XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvck1hcElkeCA9IDM7XG4gICAgICAgICAgICAgICAgaGlwc1NoYWRlclByb2dyYW0uc2V0Q29sb3JNYXBTaGFkZXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JhaW5ib3cnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JNYXBJZHggPSA0O1xuICAgICAgICAgICAgICAgIGhpcHNTaGFkZXJQcm9ncmFtLnNldENvbG9yTWFwU2hhZGVyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlb3NiJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yTWFwSWR4ID0gNTtcbiAgICAgICAgICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5zZXRDb2xvck1hcFNoYWRlcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY3ViZWhlbGl4JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yTWFwSWR4ID0gNjtcbiAgICAgICAgICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5zZXRDb2xvck1hcFNoYWRlcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yTWFwSWR4ID0gMDtcbiAgICAgICAgICAgICAgICBoaXBzU2hhZGVyUHJvZ3JhbS5zZXROYXRpdmVTaGFkZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0U2hhZGVycygpIHtcbiAgICAgICAgaGlwc1NoYWRlclByb2dyYW0uZW5hYmxlUHJvZ3JhbSgpO1xuICAgICAgICB0aGlzLnNoYWRlclByb2dyYW0gPSBoaXBzU2hhZGVyUHJvZ3JhbS5zaGFkZXJQcm9ncmFtO1xuICAgIH1cbiAgICBnZXRDdXJyZW50SGVhbHBpeE9yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZW9yZGVyO1xuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBjb25zdCBmb3YgPSBoZWFscGl4R3JpZFNpbmdsZXRvbi5nZXRNaW5Gb1YoKTtcbiAgICAgICAgdGhpcy5fdmlzaWJsZW9yZGVyID0gTWF0aC5taW4oZm92SGVscGVyLmdldEhpUFNOb3JkZXIoZm92KSwgdGhpcy5fbWF4b3JkZXIpO1xuICAgIH1cbiAgICBkcmF3KCkge1xuICAgICAgICBpZiAoIWdsb2JhbC5jYW1lcmEgfHwgZ2xvYmFsLmNhbWVyYS5nZXRDYW1lcmFNYXRyaXgoKSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgY29uc3Qgdk1hdHJpeCA9IGdsb2JhbC5jYW1lcmEuZ2V0Q2FtZXJhTWF0cml4KCk7XG4gICAgICAgIGNvbnN0IHBNYXRyaXggPSBjb21wdXRlUGVyc3BlY3RpdmVNYXRyaXhTaW5nbGV0b24ucE1hdHJpeDtcbiAgICAgICAgY29uc3QgbU1hdHJpeCA9IHRoaXMuZ2V0TW9kZWxNYXRyaXgoKTtcbiAgICAgICAgaWYgKHRoaXMuX2FsbFNreSAmJiB0aGlzLl9hbGxTa3lUaWxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0dhbGFjdGljSGlwcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsbFNreVRpbGUuZHJhdyh2aXNpYmxlVGlsZXNNYW5hZ2VyLmdhbFZpc2libGVUaWxlc0J5T3JkZXIub3JkZXIsIHZpc2libGVUaWxlc01hbmFnZXIuZ2FsQW5jZXN0b3JzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCB0aGlzLmNvbG9yTWFwSWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsbFNreVRpbGUuZHJhdyh2aXNpYmxlVGlsZXNNYW5hZ2VyLnZpc2libGVUaWxlc0J5T3JkZXIub3JkZXIsIHZpc2libGVUaWxlc01hbmFnZXIuYW5jZXN0b3JzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCB0aGlzLmNvbG9yTWFwSWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb24gYWxsLXNreSBwYXRoXG4gICAgICAgIGNvbnN0IG9yZGVyID0gdGhpcy5pc0dhbGFjdGljSGlwc1xuICAgICAgICAgICAgPyB2aXNpYmxlVGlsZXNNYW5hZ2VyLmdhbFZpc2libGVUaWxlc0J5T3JkZXIub3JkZXJcbiAgICAgICAgICAgIDogdmlzaWJsZVRpbGVzTWFuYWdlci52aXNpYmxlVGlsZXNCeU9yZGVyLm9yZGVyO1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLmlzR2FsYWN0aWNIaXBzXG4gICAgICAgICAgICA/IHZpc2libGVUaWxlc01hbmFnZXIuZ2FsQW5jZXN0b3JzTWFwXG4gICAgICAgICAgICA6IHZpc2libGVUaWxlc01hbmFnZXIuYW5jZXN0b3JzTWFwO1xuICAgICAgICB0aGlzLl9hbmNlc3RvclRpbGVzLmZvckVhY2goKGFuY2VzdG9yKSA9PiB7XG4gICAgICAgICAgICBhbmNlc3Rvci5kcmF3KG9yZGVyLCBtYXAsIHBNYXRyaXgsIHZNYXRyaXgsIG1NYXRyaXgsIHRoaXMuY29sb3JNYXBJZHgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBIaVBTO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGlQUy5qcy5tYXAiLCIvLyBIaVBTRGVzY3JpcHRvci50c1xuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0IGNsYXNzIEhpUFNEZXNjcmlwdG9yIHtcbiAgICBfbWluT3JkZXIgPSAzO1xuICAgIF9pbWdmb3JtYXRzID0gW107XG4gICAgX2RhdGFyYW5nZSA9IHsgbWluOiB1bmRlZmluZWQsIG1heDogdW5kZWZpbmVkIH07XG4gICAgX21heE9yZGVyO1xuICAgIF90aWxld2lkdGg7XG4gICAgX2hpcHNGcmFtZTtcbiAgICBfaGlwc05hbWUgPSAnTk9OQU1FJztcbiAgICBfaGlwc3VybDtcbiAgICBfZW1NaW47XG4gICAgX2VtTWF4O1xuICAgIF9pc0dhbGN0aWMgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcihoaXBzcHJvcGVydGllcywgaGlwc3VybCkge1xuICAgICAgICB0aGlzLl9oaXBzdXJsID0gaGlwc3VybDtcbiAgICAgICAgY29uc3QgbGluZXMgPSBoaXBzcHJvcGVydGllcy5zcGxpdCgvXFxyXFxufFxcbi8pO1xuICAgICAgICBmb3IgKGNvbnN0IHJhdyBvZiBsaW5lcykge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IHJhdy50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWxpbmUgfHwgbGluZS5zdGFydHNXaXRoKCcjJykpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCdoaXBzX3RpbGVfZm9ybWF0JykgfHwgbGluZS5zdGFydHNXaXRoKCdmb3JtYXQnKSkge1xuICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBqcGVn4oaSanBnXG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuZ2V0VmFsdWUobGluZSk/LnJlcGxhY2UoL2pwZWcvZ2ksICdqcGcnKSA/PyAnJztcbiAgICAgICAgICAgICAgICB0aGlzLl9pbWdmb3JtYXRzID0gbGlzdC5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuc3RhcnRzV2l0aCgnaGlwc19kYXRhX3JhbmdlJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5nZXRWYWx1ZShsaW5lKTtcbiAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbbWluU3RyLCBtYXhTdHJdID0gdi5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhcmFuZ2UubWluID0gcGFyc2VGbG9hdChtaW5TdHIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhcmFuZ2UubWF4ID0gcGFyc2VGbG9hdChtYXhTdHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuc3RhcnRzV2l0aCgnaGlwc190aWxlX3dpZHRoJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gTnVtYmVyKHRoaXMuZ2V0VmFsdWUobGluZSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGV3aWR0aCA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoJ2hpcHNfb3JkZXJfbWluJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gTnVtYmVyKHRoaXMuZ2V0VmFsdWUobGluZSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbk9yZGVyID0gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IHRoaXMuX21pbk9yZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdoaXBzX29yZGVyJykgfHwgbGluZS5zdGFydHNXaXRoKCdtYXhPcmRlcicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IE51bWJlcih0aGlzLmdldFZhbHVlKGxpbmUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXhPcmRlciA9IE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiB0aGlzLl9tYXhPcmRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuc3RhcnRzV2l0aCgnaGlwc19mcmFtZScpIHx8IGxpbmUuc3RhcnRzV2l0aCgnZnJhbWUnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpcHNGcmFtZSA9IHRoaXMuZ2V0VmFsdWUobGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoJ29ic19jb2xsZWN0aW9uJykgfHwgbGluZS5zdGFydHNXaXRoKCdsYWJlbCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGlwc05hbWUgPSB0aGlzLmdldFZhbHVlKGxpbmUpID8/IHRoaXMuX2hpcHNOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdlbV9taW4nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBOdW1iZXIodGhpcy5nZXRWYWx1ZShsaW5lKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1NaW4gPSBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdlbV9tYXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBOdW1iZXIodGhpcy5nZXRWYWx1ZShsaW5lKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1NYXggPSBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGlwc05hbWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0hpUFNEZXNjcmlwdG9yXSBoaXBzTmFtZSBub3QgZGVmaW5lZCBpbiBwcm9wZXJ0aWVzIG9mICR7dGhpcy5faGlwc3VybH0uIERlZmF1bHRpbmcgdG8gJ05PTkFNRScuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oaXBzRnJhbWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0hpUFNEZXNjcmlwdG9yXSBoaXBzX2ZyYW1lIG5vdCBkZWZpbmVkIGluIHByb3BlcnRpZXMgb2YgJHt0aGlzLl9oaXBzdXJsfS4gRGVmYXVsdGluZyB0byAnZXF1YXRvcmlhbCcuYCk7XG4gICAgICAgICAgICB0aGlzLl9oaXBzRnJhbWUgPSAnZXF1YXRvcmlhbCc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNHYWxjdGljID0gdGhpcy5faGlwc0ZyYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2dhbCcpO1xuICAgICAgICBpZiAodGhpcy5fbWF4T3JkZXIgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9pbWdmb3JtYXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbSGlQU0Rlc2NyaXB0b3JdIEludmFsaWQgcHJvcGVydGllcyBmb3IgJHt0aGlzLl9oaXBzdXJsfS4gbWF4T3JkZXI9JHt0aGlzLl9tYXhPcmRlcn0sIGltZ0Zvcm1hdHMubGVuZ3RoPSR7dGhpcy5faW1nZm9ybWF0cy5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VmFsdWUobGluZSkge1xuICAgICAgICBjb25zdCBpZHggPSBsaW5lLmluZGV4T2YoJz0nKTtcbiAgICAgICAgaWYgKGlkeCA8IDApXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbGluZS5zbGljZShpZHggKyAxKS50cmltKCk7XG4gICAgfVxuICAgIC8vIC0tLSBHZXR0ZXJzIC0tLVxuICAgIGdldCBzdXJ2ZXlOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGlwc05hbWU7XG4gICAgfVxuICAgIGdldCB1cmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaXBzdXJsO1xuICAgIH1cbiAgICBnZXQgbWF4T3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhPcmRlcjtcbiAgICB9XG4gICAgZ2V0IG1pbk9yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWluT3JkZXI7XG4gICAgfVxuICAgIGdldCBpbWdGb3JtYXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW1nZm9ybWF0cztcbiAgICB9XG4gICAgZ2V0IGhpcHNGcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpcHNGcmFtZTtcbiAgICB9XG4gICAgZ2V0IGlzR2FsYWN0aWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0dhbGN0aWM7XG4gICAgfVxuICAgIGdldCBlbU1pbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtTWluO1xuICAgIH1cbiAgICBnZXQgZW1NYXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbU1heDtcbiAgICB9XG4gICAgZ2V0IHRpbGVXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbGV3aWR0aDtcbiAgICB9XG4gICAgZ2V0IGRhdGFSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFyYW5nZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IaVBTRGVzY3JpcHRvci5qcy5tYXAiLCIvLyBUaWxlLnRzXG5pbXBvcnQgZ2xvYmFsIGZyb20gJy4uLy4uL0dsb2JhbC5qcyc7XG5pbXBvcnQgeyBoaXBzU2hhZGVyUHJvZ3JhbSB9IGZyb20gJy4uLy4uL3NoYWRlci9IaVBTU2hhZGVyUHJvZ3JhbS5qcyc7XG5pbXBvcnQgeyBuZXdUaWxlQnVmZmVyIH0gZnJvbSAnLi9UaWxlQnVmZmVyLmpzJztcbmltcG9ydCB7IHZpc2libGVUaWxlc01hbmFnZXIgfSBmcm9tICcuL1Zpc2libGVUaWxlc01hbmFnZXIuanMnO1xuaW1wb3J0IHsgZm92SGVscGVyIH0gZnJvbSAnLi9Gb1ZIZWxwZXIuanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlIHtcbiAgICBfaGlwcztcbiAgICBfdGlsZW5vO1xuICAgIF9iYXNldXJsO1xuICAgIF9vcmRlcjtcbiAgICBfZm9ybWF0O1xuICAgIF9tYXhvcmRlcjtcbiAgICBfaXNHYWxhY3RpY0hpcHM7XG4gICAgX3JlYWR5ID0gZmFsc2U7XG4gICAgX2Fib3J0ID0gZmFsc2U7XG4gICAgX2ltYWdlO1xuICAgIF90ZXh0dXJlTG9hZGVkID0gZmFsc2U7XG4gICAgX3RleHR1cmU7XG4gICAgX3RleHVybCA9ICcnO1xuICAgIF9oaXBzU2hhZGVySW5kZXggPSAwO1xuICAgIF9jYWNoZVRpbWUwO1xuICAgIF9pblZpZXcgPSB0cnVlO1xuICAgIF9hbUlTdGlsbEluRm9WX3JlcXVzZXRJRDtcbiAgICAvLyBnZW9tZXRyeSBidWZmZXJzXG4gICAgdmVydGV4UG9zaXRpb24gPSBbXTtcbiAgICB2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciA9IFtdO1xuICAgIHZlcnRleEluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoKTtcbiAgICB2ZXJ0ZXhJbmRleEJ1ZmZlcjtcbiAgICBvcGFjaXR5ID0gMS4wO1xuICAgIGNvbnN0cnVjdG9yKHRpbGVubywgb3JkZXIsIGhpcHMpIHtcbiAgICAgICAgdGhpcy5faGlwcyA9IGhpcHM7XG4gICAgICAgIHRoaXMuX3RpbGVubyA9IHRpbGVubztcbiAgICAgICAgdGhpcy5fZm9ybWF0ID0gaGlwcy5mb3JtYXQ7XG4gICAgICAgIHRoaXMuX2Jhc2V1cmwgPSBoaXBzLmJhc2VVUkw7XG4gICAgICAgIHRoaXMuX21heG9yZGVyID0gaGlwcy5tYXhPcmRlcjtcbiAgICAgICAgdGhpcy5faXNHYWxhY3RpY0hpcHMgPSBoaXBzLmlzR2FsYWN0aWNIaXBzO1xuICAgICAgICB0aGlzLl9vcmRlciA9IG9yZGVyO1xuICAgICAgICB0aGlzLl9hbUlTdGlsbEluRm9WX3JlcXVzZXRJRCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFtSVN0aWxsSW5Gb1YoKTtcbiAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgIHRoaXMuaW5pdEltYWdlKCk7XG4gICAgfVxuICAgIGRlc3Ryb3lJbnRlcnZhbHMoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2FtSVN0aWxsSW5Gb1ZfcmVxdXNldElEKTtcbiAgICB9XG4gICAgZ2V0UmVhZHlTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cbiAgICBnZXQgY2FjaGVUaW1lMCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlVGltZTA7XG4gICAgfVxuICAgIHJlc2V0Q2FjaGVUaW1lMCgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVUaW1lMCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc2V0Q2FjaGVUaW1lMCgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVUaW1lMCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH1cbiAgICBpbml0SW1hZ2UoKSB7XG4gICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGNvbnN0IGRpcm51bWJlciA9IE1hdGguZmxvb3IodGhpcy5fdGlsZW5vIC8gMTAwMDApICogMTAwMDA7XG4gICAgICAgIHRoaXMuX3RleHVybCA9IGAke3RoaXMuX2Jhc2V1cmx9L05vcmRlciR7dGhpcy5fb3JkZXJ9L0RpciR7ZGlybnVtYmVyfS9OcGl4JHt0aGlzLl90aWxlbm99LiR7dGhpcy5fZm9ybWF0fWA7XG4gICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9ICgpID0+IHRoaXMuaW1hZ2VMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5faW1hZ2Uub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgbm90IGZvdW5kPycsIHRoaXMuX3RleHVybCk7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fYWJvcnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95SW50ZXJ2YWxzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2ltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX3RleHVybDtcbiAgICB9XG4gICAgaW1hZ2VMb2FkZWQoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZUxvYWRlZCgpO1xuICAgICAgICB0aGlzLmluaXRNb2RlbEJ1ZmZlcigpO1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRoaXMuX2hpcHNTaGFkZXJJbmRleCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRoaXMuX2ltYWdlKTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUxvYWRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlTG9hZGVkKVxuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB0cnVlO1xuICAgIH1cbiAgICB0ZXh0dXJlTG9hZGVkKCkge1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgaGlwc1NoYWRlclByb2dyYW0uZW5hYmxlUHJvZ3JhbSgpO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGhpcy5faGlwc1NoYWRlckluZGV4KTtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgLy8gRklYOiB1c2UgdGhlIHNhbXBsZXIgbG9jYXRpb24gd2UgZmV0Y2hlZCBpbiBlbmFibGVTaGFkZXJzKClcbiAgICAgICAgZ2wudW5pZm9ybTFpKGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy5zYW1wbGVyLCB0aGlzLl9oaXBzU2hhZGVySW5kZXgpO1xuICAgICAgICBpZiAoIWdsLmlzVGV4dHVyZSh0aGlzLl90ZXh0dXJlKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUZXh0dXJlIGNyZWF0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRNb2RlbEJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIHRoaXMudmVydGV4UG9zaXRpb24gPSBbXTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnZlcnRleEluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoKTtcbiAgICAgICAgY29uc3QgcmVmb3JkZXIgPSBmb3ZIZWxwZXIuZ2V0UmVmT3JkZXIodGhpcy5fb3JkZXIpO1xuICAgICAgICBjb25zdCBvcmlnaGVhbHBpeCA9IGdsb2JhbC5nZXRIZWFscGl4KHRoaXMuX29yZGVyKTtcbiAgICAgICAgY29uc3Qgb3JpZ3h5ZiA9IG9yaWdoZWFscGl4Lm5lc3QyeHlmKHRoaXMuX3RpbGVubyk7XG4gICAgICAgIGNvbnN0IG9yZGVyanVtcCA9IHJlZm9yZGVyIC0gdGhpcy5fb3JkZXI7XG4gICAgICAgIGNvbnN0IGR4bWluID0gb3JpZ3h5Zi5peCA8PCBvcmRlcmp1bXA7XG4gICAgICAgIGNvbnN0IGR4bWF4ID0gKG9yaWd4eWYuaXggPDwgb3JkZXJqdW1wKSArICgxIDw8IG9yZGVyanVtcCk7XG4gICAgICAgIGNvbnN0IGR5bWluID0gb3JpZ3h5Zi5peSA8PCBvcmRlcmp1bXA7XG4gICAgICAgIGNvbnN0IGR5bWF4ID0gKG9yaWd4eWYuaXkgPDwgb3JkZXJqdW1wKSArICgxIDw8IG9yZGVyanVtcCk7XG4gICAgICAgIGNvbnN0IGhlYWxwaXggPSBnbG9iYWwuZ2V0SGVhbHBpeChyZWZvcmRlcik7XG4gICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQyKGR4bWluLCBkeG1pbiArIChkeG1heCAtIGR4bWluKSAvIDIsIGR5bWluLCBkeW1pbiArIChkeW1heCAtIGR5bWluKSAvIDIsIDAsIGhlYWxwaXgsIG9yZGVyanVtcCwgb3JpZ3h5Zik7XG4gICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQyKGR4bWluICsgKGR4bWF4IC0gZHhtaW4pIC8gMiwgZHhtYXgsIGR5bWluLCBkeW1pbiArIChkeW1heCAtIGR5bWluKSAvIDIsIDEsIGhlYWxwaXgsIG9yZGVyanVtcCwgb3JpZ3h5Zik7XG4gICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQyKGR4bWluLCBkeG1pbiArIChkeG1heCAtIGR4bWluKSAvIDIsIGR5bWluICsgKGR5bWF4IC0gZHltaW4pIC8gMiwgZHltYXgsIDIsIGhlYWxwaXgsIG9yZGVyanVtcCwgb3JpZ3h5Zik7XG4gICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbkFuZFRleHR1cmU0UXVhZHJhbnQyKGR4bWluICsgKGR4bWF4IC0gZHhtaW4pIC8gMiwgZHhtYXgsIGR5bWluICsgKGR5bWF4IC0gZHltaW4pIC8gMiwgZHltYXgsIDMsIGhlYWxwaXgsIG9yZGVyanVtcCwgb3JpZ3h5Zik7XG4gICAgICAgIGNvbnN0IHBpeGVsc1hRdWFkcmFudCA9IHRoaXMudmVydGV4UG9zaXRpb25bMF0ubGVuZ3RoIC8gMjA7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29tcHV0ZVZlcnRleEluZGljZXMocGl4ZWxzWFF1YWRyYW50KTtcbiAgICAgICAgLy8gSWYgbGFyZ2UsIHVwZ3JhZGUgdG8gVWludDMyIGluZGljZXNcbiAgICAgICAgaWYgKGlkeC5sZW5ndGggPiA2NTUzNSkge1xuICAgICAgICAgICAgLy8gT3B0aW9uYWw6IHJlcXVpcmUgT0VTX2VsZW1lbnRfaW5kZXhfdWludCBpZiB5b3XigJlyZSBzdGlsbCBvbiBXZWJHTDFcbiAgICAgICAgICAgIHRoaXMudmVydGV4SW5kaWNlcyA9IG5ldyBVaW50MzJBcnJheShpZHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhJbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGlkeCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZXJ0ZXhJbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleEluZGV4QnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhJbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgfVxuICAgIGNvbXB1dGVWZXJ0ZXhJbmRpY2VzKHBpeGVsc1hRdWFkcmFudCkge1xuICAgICAgICBjb25zdCB2ZXJ0ZXhJbmRpY2VzID0gbmV3IFVpbnQzMkFycmF5KDYgKiBwaXhlbHNYUXVhZHJhbnQpO1xuICAgICAgICBsZXQgYmFzZUZhY2VJbmRleCA9IDA7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGl4ZWxzWFF1YWRyYW50OyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBiYXNlRmFjZUluZGV4O1xuICAgICAgICAgICAgdmVydGV4SW5kaWNlc1s2ICogal0gPSBiO1xuICAgICAgICAgICAgdmVydGV4SW5kaWNlc1s2ICogaiArIDFdID0gYiArIDE7XG4gICAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzWzYgKiBqICsgMl0gPSBiICsgMjtcbiAgICAgICAgICAgIHZlcnRleEluZGljZXNbNiAqIGogKyAzXSA9IGIgKyAyO1xuICAgICAgICAgICAgdmVydGV4SW5kaWNlc1s2ICogaiArIDRdID0gYiArIDM7XG4gICAgICAgICAgICB2ZXJ0ZXhJbmRpY2VzWzYgKiBqICsgNV0gPSBiO1xuICAgICAgICAgICAgYmFzZUZhY2VJbmRleCArPSA0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2ZXJ0ZXhJbmRpY2VzO1xuICAgIH1cbiAgICBzZXR1cFBvc2l0aW9uQW5kVGV4dHVyZTRRdWFkcmFudDIoZHhtaW4sIGR4bWF4LCBkeW1pbiwgZHltYXgsIHFpZHgsIGhlYWxwaXgsIG9yZGVyanVtcCwgb3JpZ3h5Zikge1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XSA9IG5ldyBGbG9hdDMyQXJyYXkoMjAgKiAoZHhtYXggLSBkeG1pbikgKiAoZHltYXggLSBkeW1pbikpO1xuICAgICAgICBjb25zdCBzdGVwID0gMSAvICgxIDw8IG9yZGVyanVtcCk7XG4gICAgICAgIGxldCBwID0gMDtcbiAgICAgICAgY29uc3Qgc19waXhlbF9zaXplID0gMDtcbiAgICAgICAgY29uc3QgdF9waXhlbF9zaXplID0gMDtcbiAgICAgICAgZm9yIChsZXQgZHggPSBkeG1pbjsgZHggPCBkeG1heDsgZHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgZHkgPSBkeW1pbjsgZHkgPCBkeW1heDsgZHkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY2VzVmVjM0FycmF5ID0gaGVhbHBpeC5nZXRQb2ludHNGb3JYeWZOb1N0ZXAoZHgsIGR5LCBvcmlneHlmLmZhY2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVpbmRleCA9IGR5IC0gKG9yaWd4eWYuaXkgPDwgb3JkZXJqdW1wKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2aW5kZXggPSBkeCAtIChvcmlneHlmLml4IDw8IG9yZGVyanVtcCk7XG4gICAgICAgICAgICAgICAgLy8gdjBcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcF0gPSBmYWNlc1ZlYzNBcnJheVswXS54O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMV0gPSBmYWNlc1ZlYzNBcnJheVswXS55O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMl0gPSBmYWNlc1ZlYzNBcnJheVswXS56O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgM10gPSBzdGVwICsgc3RlcCAqIHVpbmRleCArIHNfcGl4ZWxfc2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDRdID0gMSAtIChzdGVwICsgc3RlcCAqIHZpbmRleCkgLSB0X3BpeGVsX3NpemU7XG4gICAgICAgICAgICAgICAgLy8gdjFcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDVdID0gZmFjZXNWZWMzQXJyYXlbMV0ueDtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDZdID0gZmFjZXNWZWMzQXJyYXlbMV0ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDddID0gZmFjZXNWZWMzQXJyYXlbMV0uejtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDhdID0gc3RlcCArIHN0ZXAgKiB1aW5kZXggKyBzX3BpeGVsX3NpemU7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyA5XSA9IDEgLSBzdGVwICogdmluZGV4ICsgdF9waXhlbF9zaXplO1xuICAgICAgICAgICAgICAgIC8vIHYyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxMF0gPSBmYWNlc1ZlYzNBcnJheVsyXS54O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTFdID0gZmFjZXNWZWMzQXJyYXlbMl0ueTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDEyXSA9IGZhY2VzVmVjM0FycmF5WzJdLno7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxM10gPSBzdGVwICogdWluZGV4IC0gc19waXhlbF9zaXplO1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTRdID0gMSAtIHN0ZXAgKiB2aW5kZXggKyB0X3BpeGVsX3NpemU7XG4gICAgICAgICAgICAgICAgLy8gdjNcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDE1XSA9IGZhY2VzVmVjM0FycmF5WzNdLng7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxNl0gPSBmYWNlc1ZlYzNBcnJheVszXS55O1xuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4UG9zaXRpb25bcWlkeF1bMjAgKiBwICsgMTddID0gZmFjZXNWZWMzQXJyYXlbM10uejtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdWzIwICogcCArIDE4XSA9IHN0ZXAgKiB1aW5kZXggLSBzX3BpeGVsX3NpemU7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbltxaWR4XVsyMCAqIHAgKyAxOV0gPSAxIC0gKHN0ZXAgKyBzdGVwICogdmluZGV4KSAtIHRfcGl4ZWxfc2l6ZTtcbiAgICAgICAgICAgICAgICBwKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcltxaWR4XSA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcltxaWR4XSk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFBvc2l0aW9uW3FpZHhdLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgfVxuICAgIGdldCBpblZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pblZpZXc7XG4gICAgfVxuICAgIG1vdmVUb0NhY2hlKCkge1xuICAgICAgICBuZXdUaWxlQnVmZmVyLm1vdmVUaWxlVG9DYWNoZSh0aGlzLl90aWxlbm8sIHRoaXMuX29yZGVyLCB0aGlzLl9oaXBzKTtcbiAgICAgICAgdGhpcy5faW5WaWV3ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVzdHJveUludGVydmFscygpO1xuICAgIH1cbiAgICBhbUlTdGlsbEluRm9WKCkge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUxvYWRlZClcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2lzR2FsYWN0aWNIaXBzKSB7XG4gICAgICAgICAgICBpZiAodmlzaWJsZVRpbGVzTWFuYWdlci5nYWxBbmNlc3RvcnNNYXAuaGFzKHRoaXMuX29yZGVyKSkge1xuICAgICAgICAgICAgICAgIGlmICghdmlzaWJsZVRpbGVzTWFuYWdlci5nYWxBbmNlc3RvcnNNYXAuZ2V0KHRoaXMuX29yZGVyKS5pbmNsdWRlcyh0aGlzLl90aWxlbm8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luVmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX29yZGVyID09IHZpc2libGVUaWxlc01hbmFnZXIudmlzaWJsZU9yZGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlVGlsZXNNYW5hZ2VyLmdhbFZpc2libGVUaWxlc0J5T3JkZXIucGl4ZWxzLmluY2x1ZGVzKHRoaXMuX3RpbGVubykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG9DYWNoZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodmlzaWJsZVRpbGVzTWFuYWdlci5hbmNlc3RvcnNNYXAuaGFzKHRoaXMuX29yZGVyKSkge1xuICAgICAgICAgICAgICAgIGlmICghdmlzaWJsZVRpbGVzTWFuYWdlci5hbmNlc3RvcnNNYXAuZ2V0KHRoaXMuX29yZGVyKS5pbmNsdWRlcyh0aGlzLl90aWxlbm8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luVmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX29yZGVyID09IHZpc2libGVUaWxlc01hbmFnZXIudmlzaWJsZU9yZGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlVGlsZXNNYW5hZ2VyLnZpc2libGVUaWxlc0J5T3JkZXIucGl4ZWxzLmluY2x1ZGVzKHRoaXMuX3RpbGVubykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG9DYWNoZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhdyh2aXNpYmxlT3JkZXIsIHZpc2libGVUaWxlc01hcCwgcE1hdHJpeCwgdk1hdHJpeCwgbU1hdHJpeCwgY29sb3JNYXBJZHgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSB8fCB0aGlzLl9hYm9ydClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHF1YWRyYW50c1RvRHJhdyA9IG5ldyBTZXQoWzAsIDEsIDIsIDNdKTtcbiAgICAgICAgaWYgKHZpc2libGVPcmRlciA+IHRoaXMuX29yZGVyICYmIHRoaXMuX29yZGVyIDwgdGhpcy5fbWF4b3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGtpZHMgPSB0aGlzLmRyYXdDaGlsZHJlbih2aXNpYmxlT3JkZXIsIHZpc2libGVUaWxlc01hcCwgcE1hdHJpeCwgdk1hdHJpeCwgbU1hdHJpeCwgY29sb3JNYXBJZHgpO1xuICAgICAgICAgICAgaWYgKGtpZHMpXG4gICAgICAgICAgICAgICAgcXVhZHJhbnRzVG9EcmF3ID0ga2lkcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgaGlwc1NoYWRlclByb2dyYW0uZW5hYmxlU2hhZGVycyhwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCk7XG4gICAgICAgIC8vIEVuYWJsZSBhdHRyaWJ1dGVzICh0aGVzZSBsb2NhdGlvbnMgYXJlIHJldHJpZXZlZCBpbiBlbmFibGVTaGFkZXJzKVxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoaXBzU2hhZGVyUHJvZ3JhbS5sb2NhdGlvbnMudmVydGV4UG9zaXRpb25BdHRyaWJ1dGUpO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoaXBzU2hhZGVyUHJvZ3JhbS5sb2NhdGlvbnMudGV4dHVyZUNvb3JkQXR0cmlidXRlKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRoaXMuX2hpcHNTaGFkZXJJbmRleCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICAgICAgICBnbC51bmlmb3JtMWYoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnRleHR1cmVBbHBoYSwgdGhpcy5vcGFjaXR5KTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhJbmRleEJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IGVsZW1ubyA9IHRoaXMudmVydGV4SW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGluZGV4VHlwZSA9IHRoaXMudmVydGV4SW5kaWNlcyBpbnN0YW5jZW9mIFVpbnQzMkFycmF5ID8gZ2wuVU5TSUdORURfSU5UIDogZ2wuVU5TSUdORURfU0hPUlQ7XG4gICAgICAgIHF1YWRyYW50c1RvRHJhdy5mb3JFYWNoKChxaWR4KSA9PiB7XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcltxaWR4XSk7XG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSwgMywgZ2wuRkxPQVQsIGZhbHNlLCA1ICogNCwgMCk7XG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGhpcHNTaGFkZXJQcm9ncmFtLmxvY2F0aW9ucy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUsIDIsIGdsLkZMT0FULCBmYWxzZSwgNSAqIDQsIDMgKiA0KTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGVsZW1ubywgaW5kZXhUeXBlLCAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShoaXBzU2hhZGVyUHJvZ3JhbS5sb2NhdGlvbnMudmVydGV4UG9zaXRpb25BdHRyaWJ1dGUpO1xuICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaGlwc1NoYWRlclByb2dyYW0ubG9jYXRpb25zLnRleHR1cmVDb29yZEF0dHJpYnV0ZSk7XG4gICAgfVxuICAgIGRyYXdDaGlsZHJlbih2aXNpYmxlT3JkZXIsIHZpc2libGVUaWxlc01hcCwgcE1hdHJpeCwgdk1hdHJpeCwgbU1hdHJpeCwgY29sb3JNYXBJZHgpIHtcbiAgICAgICAgY29uc3QgcXVhZHJhbnRzVG9EcmF3ID0gbmV3IFNldChbMCwgMSwgMiwgM10pO1xuICAgICAgICBjb25zdCBjaGlsZHJlbk9yZGVyID0gdGhpcy5fb3JkZXIgKyAxO1xuICAgICAgICBpZiAoIXZpc2libGVUaWxlc01hcC5oYXMoY2hpbGRyZW5PcmRlcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgNDsgYysrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFRpbGVObyA9ICh0aGlzLl90aWxlbm8gPDwgMikgKyBjO1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IHZpc2libGVUaWxlc01hcC5nZXQoY2hpbGRyZW5PcmRlcik7XG4gICAgICAgICAgICBpZiAobGlzdC5pbmNsdWRlcyhjaGlsZFRpbGVObykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFRpbGUgPSB0aGlzLl9pc0dhbGFjdGljSGlwc1xuICAgICAgICAgICAgICAgICAgICA/IG5ld1RpbGVCdWZmZXIuZ2V0R2FsVGlsZShjaGlsZFRpbGVObywgY2hpbGRyZW5PcmRlciwgdGhpcy5faGlwcylcbiAgICAgICAgICAgICAgICAgICAgOiBuZXdUaWxlQnVmZmVyLmdldFRpbGUoY2hpbGRUaWxlTm8sIGNoaWxkcmVuT3JkZXIsIHRoaXMuX2hpcHMpO1xuICAgICAgICAgICAgICAgIGNoaWxkVGlsZS5kcmF3KHZpc2libGVPcmRlciwgdmlzaWJsZVRpbGVzTWFwLCBwTWF0cml4LCB2TWF0cml4LCBtTWF0cml4LCBjb2xvck1hcElkeCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVGlsZS5fcmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVhZHJhbnRzVG9EcmF3LmRlbGV0ZShjaGlsZFRpbGVObyAtICh0aGlzLl90aWxlbm8gPDwgMikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVhZHJhbnRzVG9EcmF3O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwiLy8gVGlsZUJ1ZmZlci50c1xuaW1wb3J0IFRpbGUgZnJvbSAnLi9UaWxlLmpzJzsgLy8gYWRqdXN0IGlmIHlvdXIgZmlsZSBpcyBuYW1lZCBkaWZmZXJlbnRseVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUJ1ZmZlciB7XG4gICAgLy8gRXF1YXRvcmlhbFxuICAgIF90aWxlcztcbiAgICBfY2FjaGVkVGlsZXM7XG4gICAgX2FjdGl2ZUhpUFM7XG4gICAgLy8gR2FsYWN0aWNcbiAgICBfZ2FsVGlsZXM7XG4gICAgX2dhbENhY2hlZFRpbGVzO1xuICAgIF9nYWxBY3RpdmVIaVBTO1xuICAgIF9jYWNoZUFsaXZlTWlsbGlTZWNvbmRzO1xuICAgIF9jbGVhbmVySWQ7XG4gICAgY29uc3RydWN0b3IobWludXRlc1RvTGl2ZUluQ2FjaGUgPSAxKSB7XG4gICAgICAgIHRoaXMuX3RpbGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaWxlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlSGlQUyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fZ2FsVGlsZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2dhbENhY2hlZFRpbGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9nYWxBY3RpdmVIaVBTID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9jYWNoZUFsaXZlTWlsbGlTZWNvbmRzID0gbWludXRlc1RvTGl2ZUluQ2FjaGUgKiA2MCAqIDEwMDA7XG4gICAgICAgIHRoaXMuX2NsZWFuZXJJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlQ2xlYW5lcigpO1xuICAgICAgICB9LCAxMF8wMDApO1xuICAgIH1cbiAgICAvKiogUmVnaXN0ZXIgYW4gZXF1YXRvcmlhbCBIaVBTIGludG8gdGhlIGJ1ZmZlci4gKi9cbiAgICBhZGRIaVBTKGhpcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZUhpUFMuaGFzKGhpcHMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdIaVBTIGFscmVhZHkgcHJlc2VudCBpbiBUaWxlQnVmZmVyJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYWN0aXZlSGlQUy5zZXQoaGlwcywgbmV3IE1hcCgpKTtcbiAgICB9XG4gICAgLyoqIFJlZ2lzdGVyIGEgZ2FsYWN0aWMgSGlQUyBpbnRvIHRoZSBidWZmZXIuICovXG4gICAgYWRkR2FsSGlQUyhoaXBzKSB7XG4gICAgICAgIGlmICh0aGlzLl9nYWxBY3RpdmVIaVBTLmhhcyhoaXBzKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSGlQUyBhbHJlYWR5IHByZXNlbnQgaW4gVGlsZUJ1ZmZlcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dhbEFjdGl2ZUhpUFMuc2V0KGhpcHMsIG5ldyBNYXAoKSk7XG4gICAgfVxuICAgIC8qKiBQcmVsb2FkL2FkZCB0aWxlIGZvciBldmVyeSByZWdpc3RlcmVkIGVxdWF0b3JpYWwgSGlQUy4gKi9cbiAgICBhZGRUaWxlKG9yZGVyLCB0aWxlbm8pIHtcbiAgICAgICAgZm9yIChjb25zdCBoaXBzIG9mIHRoaXMuX2FjdGl2ZUhpUFMua2V5cygpKSB7XG4gICAgICAgICAgICB0aGlzLmdldFRpbGUodGlsZW5vLCBvcmRlciwgaGlwcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFByZWxvYWQvYWRkIHRpbGUgZm9yIGV2ZXJ5IHJlZ2lzdGVyZWQgZ2FsYWN0aWMgSGlQUy4gKi9cbiAgICBhZGRHYWxUaWxlKG9yZGVyLCB0aWxlbm8pIHtcbiAgICAgICAgZm9yIChjb25zdCBoaXBzIG9mIHRoaXMuX2dhbEFjdGl2ZUhpUFMua2V5cygpKSB7XG4gICAgICAgICAgICB0aGlzLmdldEdhbFRpbGUodGlsZW5vLCBvcmRlciwgaGlwcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEZldGNoIChvciBjcmVhdGUpIGFuIGVxdWF0b3JpYWwgdGlsZSwgcmV2aXZpbmcgZnJvbSBjYWNoZSBpZiBwcmVzZW50LiAqL1xuICAgIGdldFRpbGUodGlsZW5vLCBvcmRlciwgaGlwcykge1xuICAgICAgICBjb25zdCB0aWxlS2V5ID0gdGhpcy5rZXkob3JkZXIsIHRpbGVubywgaGlwcy5iYXNlVVJMKTtcbiAgICAgICAgaWYgKCF0aGlzLl90aWxlcy5oYXModGlsZUtleSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZWRUaWxlcy5oYXModGlsZUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fY2FjaGVkVGlsZXMuZ2V0KHRpbGVLZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVzLnNldCh0aWxlS2V5LCB0aWxlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRUaWxlcy5kZWxldGUodGlsZUtleSk7XG4gICAgICAgICAgICAgICAgdGlsZS5yZXNldENhY2hlVGltZTAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBuZXcgVGlsZSh0aWxlbm8sIG9yZGVyLCBoaXBzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWxlcy5zZXQodGlsZUtleSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbGVzLmdldCh0aWxlS2V5KTtcbiAgICB9XG4gICAgLyoqIEZldGNoIChvciBjcmVhdGUpIGEgZ2FsYWN0aWMgdGlsZSwgcmV2aXZpbmcgZnJvbSBjYWNoZSBpZiBwcmVzZW50LiAqL1xuICAgIGdldEdhbFRpbGUodGlsZW5vLCBvcmRlciwgaGlwcykge1xuICAgICAgICBjb25zdCB0aWxlS2V5ID0gdGhpcy5rZXkob3JkZXIsIHRpbGVubywgaGlwcy5iYXNlVVJMKTtcbiAgICAgICAgaWYgKCF0aGlzLl9nYWxUaWxlcy5oYXModGlsZUtleSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9nYWxDYWNoZWRUaWxlcy5oYXModGlsZUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fZ2FsQ2FjaGVkVGlsZXMuZ2V0KHRpbGVLZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dhbFRpbGVzLnNldCh0aWxlS2V5LCB0aWxlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nYWxDYWNoZWRUaWxlcy5kZWxldGUodGlsZUtleSk7XG4gICAgICAgICAgICAgICAgdGlsZS5yZXNldENhY2hlVGltZTAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBuZXcgVGlsZSh0aWxlbm8sIG9yZGVyLCBoaXBzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nYWxUaWxlcy5zZXQodGlsZUtleSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dhbFRpbGVzLmdldCh0aWxlS2V5KTtcbiAgICB9XG4gICAgLyoqIE1vdmUgYSB0aWxlIChlcXVhdG9yaWFsIG9yIGdhbGFjdGljKSBpbnRvIGNhY2hlLiAqL1xuICAgIG1vdmVUaWxlVG9DYWNoZSh0aWxlbm8sIG9yZGVyLCBoaXBzKSB7XG4gICAgICAgIGNvbnN0IHRpbGVLZXkgPSB0aGlzLmtleShvcmRlciwgdGlsZW5vLCBoaXBzLmJhc2VVUkwpO1xuICAgICAgICBpZiAodGhpcy5fdGlsZXMuaGFzKHRpbGVLZXkpKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXMuZ2V0KHRpbGVLZXkpO1xuICAgICAgICAgICAgdGlsZS5zZXRDYWNoZVRpbWUwKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUaWxlcy5zZXQodGlsZUtleSwgdGlsZSk7XG4gICAgICAgICAgICB0aGlzLl90aWxlcy5kZWxldGUodGlsZUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2dhbFRpbGVzLmhhcyh0aWxlS2V5KSkge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX2dhbFRpbGVzLmdldCh0aWxlS2V5KTtcbiAgICAgICAgICAgIHRpbGUuc2V0Q2FjaGVUaW1lMCgpO1xuICAgICAgICAgICAgdGhpcy5fZ2FsQ2FjaGVkVGlsZXMuc2V0KHRpbGVLZXksIHRpbGUpO1xuICAgICAgICAgICAgdGhpcy5fZ2FsVGlsZXMuZGVsZXRlKHRpbGVLZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBQZXJpb2RpY2FsbHkgcHVyZ2Ugc3RhbGUgY2FjaGVkIHRpbGVzLiAqL1xuICAgIGNhY2hlQ2xlYW5lcigpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgZm9yIChjb25zdCBbdGlsZUtleSwgdGlsZV0gb2YgdGhpcy5fY2FjaGVkVGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHQwID0gdGlsZS5jYWNoZVRpbWUwO1xuICAgICAgICAgICAgaWYgKCF0aWxlLmluVmlldyAmJiB0MCAhPT0gdW5kZWZpbmVkICYmIG5vdyAtIHQwID4gdGhpcy5fY2FjaGVBbGl2ZU1pbGxpU2Vjb25kcykge1xuICAgICAgICAgICAgICAgIHRpbGUuZGVzdHJveUludGVydmFscygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRpbGVzLmRlbGV0ZSh0aWxlS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFt0aWxlS2V5LCB0aWxlXSBvZiB0aGlzLl9nYWxDYWNoZWRUaWxlcykge1xuICAgICAgICAgICAgY29uc3QgdDAgPSB0aWxlLmNhY2hlVGltZTA7XG4gICAgICAgICAgICBpZiAoIXRpbGUuaW5WaWV3ICYmIHQwICE9PSB1bmRlZmluZWQgJiYgbm93IC0gdDAgPiB0aGlzLl9jYWNoZUFsaXZlTWlsbGlTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5kZXN0cm95SW50ZXJ2YWxzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2FsQ2FjaGVkVGlsZXMuZGVsZXRlKHRpbGVLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBDb21wb3NlIGEgc3RhYmxlIGtleSBmb3IgbWFwcy4gKi9cbiAgICBrZXkob3JkZXIsIHRpbGVubywgYmFzZVVSTCkge1xuICAgICAgICByZXR1cm4gYCR7b3JkZXJ9IyR7dGlsZW5vfSMke2Jhc2VVUkx9YDtcbiAgICB9XG4gICAgLyoqIE9wdGlvbmFsOiBjYWxsIHRvIHN0b3AgaW50ZXJuYWwgdGltZXJzIGlmIHlvdSBkaXNwb3NlIHRoaXMgYnVmZmVyLiAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2NsZWFuZXJJZCk7XG4gICAgfVxufVxuLy8gU2luZ2xldG9uIChrZXB0IGZvciBjb21wYXRpYmlsaXR5IHdpdGggeW91ciBvcmlnaW5hbCBleHBvcnQpXG5leHBvcnQgY29uc3QgbmV3VGlsZUJ1ZmZlciA9IG5ldyBUaWxlQnVmZmVyKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlQnVmZmVyLmpzLm1hcCIsImltcG9ydCBnbG9iYWwgZnJvbSAnLi4vLi4vR2xvYmFsLmpzJztcbmltcG9ydCB7IFBvaW50aW5nLCBWZWMzIH0gZnJvbSAnaGVhbHBpeGpzJztcbmltcG9ydCBSYXlQaWNraW5nVXRpbHMgZnJvbSAnLi4vLi4vdXRpbHMvUmF5UGlja2luZ1V0aWxzLmpzJztcbmltcG9ydCB7IG5ld1RpbGVCdWZmZXIgfSBmcm9tICcuL1RpbGVCdWZmZXIuanMnO1xuaW1wb3J0IHsgdmVjNCwgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgaGVhbHBpeEdyaWRTaW5nbGV0b24gZnJvbSAnLi4vZ3JpZC9IZWFscGl4R3JpZFNpbmdsZXRvbi5qcyc7XG5pbXBvcnQgeyBib290U2V0dXAgfSBmcm9tICcuLi8uLi9Db25maWcuanMnO1xuY2xhc3MgVmlzaWJsZVRpbGVzTWFuYWdlciB7XG4gICAgX3Zpc2libGVUaWxlc0J5T3JkZXI7XG4gICAgX2FuY2VzdG9yc01hcDtcbiAgICBpbml0aWFsaXNlZDtcbiAgICBfZ2FsVmlzaWJsZVRpbGVzQnlPcmRlcjtcbiAgICBfZ2FsQW5jZXN0b3JzTWFwO1xuICAgIF9nYWxhY3RpY01hdHJpeEludmVydGVkO1xuICAgIF9nYWxhY3RpY01hdHJpeDtcbiAgICBpbnNpZGVTcGhlcmUgPSBib290U2V0dXAuaW5zaWRlU3BoZXJlO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl92aXNpYmxlVGlsZXNCeU9yZGVyID0geyBwaXhlbHM6IFtdLCBvcmRlcjogMCB9O1xuICAgICAgICB0aGlzLl9hbmNlc3RvcnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZ2FsVmlzaWJsZVRpbGVzQnlPcmRlciA9IHsgcGl4ZWxzOiBbXSwgb3JkZXI6IDAgfTtcbiAgICAgICAgdGhpcy5fZ2FsQW5jZXN0b3JzTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBNYXRyaWNlcyBmb3IgZ2FsYWN0aWMgPC0+IGVxdWF0b3JpYWxcbiAgICAgICAgdGhpcy5fZ2FsYWN0aWNNYXRyaXhJbnZlcnRlZCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX2dhbGFjdGljTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgLy8gRnJvbSBodHRwczovL29ic2VydmFibGVocS5jb20vQGZpbC9nYWxhY3RpYy1yb3RhdGlvbnMgKHNpbmdsZS1wcmVjaXNpb24gZnJpZW5kbHkpXG4gICAgICAgIC8vIFRoaXMgbWF0cml4IGlzIChnYWxhY3RpYyAtPiBlcXVhdG9yaWFsKTsgd2Ugc3RvcmUgaXRzIGludmVyc2UgdG9vLlxuICAgICAgICBtYXQ0LnNldCh0aGlzLl9nYWxhY3RpY01hdHJpeEludmVydGVkLCAtMC4wNTQ4NzYsIC0wLjg3MzQzNywgLTAuNDgzODM1LCAwLCAwLjQ5NDEwOSwgLTAuNDQ0ODMsIDAuNzQ2OTgyLCAtMCwgLTAuODY3NjY2LCAtMC4xOTgwNzYsIDAuNDU1OTg0LCAwLCAwLCAwLCAwLCAxKTtcbiAgICAgICAgbWF0NC5pbnZlcnQodGhpcy5fZ2FsYWN0aWNNYXRyaXgsIHRoaXMuX2dhbGFjdGljTWF0cml4SW52ZXJ0ZWQpO1xuICAgIH1cbiAgICBpbml0KGluc2lkZVNwaGVyZSkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbnNpZGVTcGhlcmUgPSBpbnNpZGVTcGhlcmU7XG4gICAgICAgIHRoaXMuY29tcHV0ZVZpc2libGVQaXhlbHMoKTtcbiAgICAgICAgLy8gQ29uc2lkZXIgZGVib3VuY2luZy90aHJvdHRsaW5nIGluIHJlYWwtdGltZSBVSXNcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5jb21wdXRlVmlzaWJsZVBpeGVscygpLCA1MDApO1xuICAgIH1cbiAgICBnZXRWaXNpYmxlT3JkZXIoKSB7XG4gICAgICAgIHJldHVybiBoZWFscGl4R3JpZFNpbmdsZXRvbi52aXNpYmxlb3JkZXI7XG4gICAgfVxuICAgIC8vIHRvZ2dsZUluc2lkZVNwaGVyZSgpe1xuICAgIC8vICAgdGhpcy5pbnNpZGVTcGhlcmUgPSAhdGhpcy5pbnNpZGVTcGhlcmVcbiAgICAvLyAgIHRoaXMuY29tcHV0ZVZpc2libGVQaXhlbHMoKTtcbiAgICAvLyB9XG4gICAgY29tcHV0ZVZpc2libGVQaXhlbHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXNlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IG9yZGVyID0gaGVhbHBpeEdyaWRTaW5nbGV0b24udmlzaWJsZW9yZGVyO1xuICAgICAgICBpZiAoZ2xvYmFsLmluc2lkZVNwaGVyZSAmJiBvcmRlciA8IDMpIHtcbiAgICAgICAgICAgIG9yZGVyID0gMztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hbmNlc3RvcnNNYXAuc2V0KG9yZGVyLCBbXSk7XG4gICAgICAgIHRoaXMuX2dhbEFuY2VzdG9yc01hcC5zZXQob3JkZXIsIFtdKTtcbiAgICAgICAgbGV0IHBpeGVscyA9IFtdO1xuICAgICAgICBsZXQgZ2FsVGlsZXMgPSBbXTtcbiAgICAgICAgaWYgKG9yZGVyID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBnZW9taGVhbHBpeCA9IGdsb2JhbC5nZXRIZWFscGl4KDApO1xuICAgICAgICAgICAgY29uc3QgbnBpeCA9IGdlb21oZWFscGl4LmdldE5QaXgoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnBpeDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGl4ZWxzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jZXN0b3JzTWFwLmdldChvcmRlcikucHVzaChpKTtcbiAgICAgICAgICAgICAgICBnYWxUaWxlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dhbEFuY2VzdG9yc01hcC5nZXQob3JkZXIpLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBnZW9taGVhbHBpeCA9IGdsb2JhbC5nZXRIZWFscGl4KG9yZGVyKTtcbiAgICAgICAgICAgIGNvbnN0IG1heFggPSBnbG9iYWwuZ2wuY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgbWF4WSA9IGdsb2JhbC5nbC5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgLy8gU2FtcGxlIGEgZ3JpZCBvZiBzY3JlZW4gcG9pbnRzLCBwcm9qZWN0IHRvIHRoZSBzcGhlcmUsIHRoZW4gdG8gZ2FsYWN0aWNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG1heFg7IGkgKz0gbWF4WCAvIDMwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gbWF4WTsgaiArPSBtYXhZIC8gMzApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGl0ID0gUmF5UGlja2luZ1V0aWxzLmdldEludGVyc2VjdGlvblBvaW50V2l0aFNpbmdsZU1vZGVsKGksIGopO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGl0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVxdWF0b3JpYWwgLT4gR2FsYWN0aWMgKHVzZSBfZ2FsYWN0aWNNYXRyaXgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYWxWZWMgPSB2ZWM0LmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGdhbFZlYywgW2hpdFswXSwgaGl0WzFdLCBoaXRbMl0sIDFdLCB0aGlzLl9nYWxhY3RpY01hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmRleCBpbiBnYWxhY3RpYyBIRUFMUGl4XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYWxQb2ludCA9IG5ldyBQb2ludGluZyhuZXcgVmVjMyhnYWxWZWNbMF0sIGdhbFZlY1sxXSwgZ2FsVmVjWzJdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnYWxUaWxlTm8gPSBnZW9taGVhbHBpeC5hbmcycGl4KGdhbFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluZGV4IGluIGVxdWF0b3JpYWwgSEVBTFBpeFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyUG9pbnQgPSBuZXcgUG9pbnRpbmcobmV3IFZlYzMoaGl0WzBdLCBoaXRbMV0sIGhpdFsyXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyclBpeE5vID0gZ2VvbWhlYWxwaXguYW5nMnBpeChjdXJQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBpeGVscy5pbmNsdWRlcyhjdXJyUGl4Tm8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzLnB1c2goY3VyclBpeE5vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNlc3RvcnNNYXAuZ2V0KG9yZGVyKS5wdXNoKGN1cnJQaXhObyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VGlsZUJ1ZmZlci5hZGRUaWxlKG9yZGVyLCBjdXJyUGl4Tm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFnYWxUaWxlcy5pbmNsdWRlcyhnYWxUaWxlTm8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FsVGlsZXMucHVzaChnYWxUaWxlTm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dhbEFuY2VzdG9yc01hcC5nZXQob3JkZXIpLnB1c2goZ2FsVGlsZU5vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdUaWxlQnVmZmVyLmFkZEdhbFRpbGUob3JkZXIsIGdhbFRpbGVObyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlzaWJsZVRpbGVzQnlPcmRlciA9IHsgcGl4ZWxzOiBwaXhlbHMsIG9yZGVyOiBvcmRlciB9O1xuICAgICAgICB0aGlzLl9nYWxWaXNpYmxlVGlsZXNCeU9yZGVyID0geyBwaXhlbHM6IGdhbFRpbGVzLCBvcmRlcjogb3JkZXIgfTtcbiAgICAgICAgLy8gQnVpbGQgYW5jZXN0b3IgcHlyYW1pZHMgZG93biB0byBvcmRlciAwXG4gICAgICAgIGZvciAobGV0IG8gPSAxOyBvIDwgb3JkZXI7IG8rKykge1xuICAgICAgICAgICAgY29uc3QgdGd0T3JkZXIgPSBvcmRlciAtIG87XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5fYW5jZXN0b3JzTWFwLmdldCh0Z3RPcmRlcikgPz8gW107XG4gICAgICAgICAgICB0aGlzLl9hbmNlc3RvcnNNYXAuc2V0KHRndE9yZGVyLCBsaXN0KTtcbiAgICAgICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGl4ZWxzLmxlbmd0aDsgcCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gcGl4ZWxzW3BdID4+ICgyICogbyk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0LmluY2x1ZGVzKHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld1RpbGVCdWZmZXIuYWRkVGlsZSh0Z3RPcmRlciwgcGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbyA9IDE7IG8gPCBvcmRlcjsgbysrKSB7XG4gICAgICAgICAgICBjb25zdCB0Z3RPcmRlciA9IG9yZGVyIC0gbztcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLl9nYWxBbmNlc3RvcnNNYXAuZ2V0KHRndE9yZGVyKSA/PyBbXTtcbiAgICAgICAgICAgIHRoaXMuX2dhbEFuY2VzdG9yc01hcC5zZXQodGd0T3JkZXIsIGxpc3QpO1xuICAgICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCBnYWxUaWxlcy5sZW5ndGg7IHArKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGdhbFRpbGVzW3BdID4+ICgyICogbyk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0LmluY2x1ZGVzKHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld1RpbGVCdWZmZXIuYWRkR2FsVGlsZSh0Z3RPcmRlciwgcGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHZpc2libGVUaWxlc0J5T3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlVGlsZXNCeU9yZGVyO1xuICAgIH1cbiAgICBnZXQgYW5jZXN0b3JzTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jZXN0b3JzTWFwO1xuICAgIH1cbiAgICBnZXQgZ2FsVmlzaWJsZVRpbGVzQnlPcmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dhbFZpc2libGVUaWxlc0J5T3JkZXI7XG4gICAgfVxuICAgIGdldCBnYWxBbmNlc3RvcnNNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nYWxBbmNlc3RvcnNNYXA7XG4gICAgfVxuICAgIGdldCB2aXNpYmxlT3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlVGlsZXNCeU9yZGVyLm9yZGVyO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCB2aXNpYmxlVGlsZXNNYW5hZ2VyID0gbmV3IFZpc2libGVUaWxlc01hbmFnZXIoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpc2libGVUaWxlc01hbmFnZXIuanMubWFwIiwiLy8gR3JpZFNoYWRlck1hbmFnZXIudHNcbid1c2Ugc3RyaWN0JztcbmNsYXNzIEdyaWRTaGFkZXJNYW5hZ2VyIHtcbiAgICBzdGF0aWMgaGVhbHBpeEdyaWRWUygpIHtcbiAgICAgICAgcmV0dXJuIGAjdmVyc2lvbiAzMDAgZXNcbiAgICAgICAgaW4gdmVjNCBhQ2F0UG9zaXRpb247XG4gICAgICAgIHVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XG4gICAgICAgIHVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcblxuICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHVQTWF0cml4ICogdU1WTWF0cml4ICogYUNhdFBvc2l0aW9uO1xuICAgICAgICAgICAgZ2xfUG9pbnRTaXplID0gNy4wO1xuICAgICAgICB9YDtcbiAgICB9XG4gICAgc3RhdGljIGhlYWxwaXhHcmlkRlMoKSB7XG4gICAgICAgIHJldHVybiBgI3ZlcnNpb24gMzAwIGVzXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIHVuaWZvcm0gdmVjNCB1X2ZyYWdjb2xvcjtcbiAgICAgICAgb3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4gICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgIC8vIGZyYWdDb2xvciA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAgICAgICAgIGZyYWdDb2xvciA9IHVfZnJhZ2NvbG9yO1xuICAgICAgICB9YDtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBHcmlkU2hhZGVyTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyaWRTaGFkZXJNYW5hZ2VyLmpzLm1hcCIsIi8vIEhpUFNTaGFkZXJQcm9ncmFtLnRzXG5pbXBvcnQgZ2xvYmFsIGZyb20gJy4uL0dsb2JhbC5qcyc7XG5pbXBvcnQgU2hhZGVyTWFuYWdlciBmcm9tICcuL1NoYWRlck1hbmFnZXIuanMnO1xuaW1wb3J0IHsgY29sb3JNYXAgfSBmcm9tICcuLi9tb2RlbC9oaXBzL0NvbG9yTWFwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhpUFNTaGFkZXJQcm9ncmFtIHtcbiAgICBfc2hhZGVyUHJvZ3JhbTtcbiAgICBfdmVydGV4U2hhZGVyO1xuICAgIF9mcmFnbWVudFNoYWRlcjtcbiAgICBfVUJPX2NvbG9yTWFwQnVmZmVyID0gbnVsbDtcbiAgICBfVUJPX2NvbG9yTWFwVmFyaWFibGVJbmZvID0ge1xuICAgICAgICByX3BhbGV0dGU6IHsgaW5kZXg6IDAsIG9mZnNldDogMCB9LFxuICAgICAgICBnX3BhbGV0dGU6IHsgaW5kZXg6IDAsIG9mZnNldDogMCB9LFxuICAgICAgICBiX3BhbGV0dGU6IHsgaW5kZXg6IDAsIG9mZnNldDogMCB9XG4gICAgfTtcbiAgICBnbF91bmlmb3JtcztcbiAgICBnbF9hdHRyaWJ1dGVzO1xuICAgIGxvY2F0aW9ucztcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nbF91bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHNhbXBsZXI6ICd1U2FtcGxlcjAnLFxuICAgICAgICAgICAgZmFjdG9yOiAndUZhY3RvcjAnLFxuICAgICAgICAgICAgbV9wZXJzcGVjdGl2ZTogJ3VQTWF0cml4JyxcbiAgICAgICAgICAgIG1fbW9kZWw6ICd1TU1hdHJpeCcsXG4gICAgICAgICAgICBtX3ZpZXc6ICd1Vk1hdHJpeCcsXG4gICAgICAgICAgICBjb2xvcm1hcElkeDogJ2NtYXBJZHgnLFxuICAgICAgICAgICAgY29sb3JtYXBfcmVkOiAncicsXG4gICAgICAgICAgICBjb2xvcm1hcF9ncmVlbjogJ2cnLFxuICAgICAgICAgICAgY29sb3JtYXBfYmx1ZTogJ2InXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2xfYXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIHZlcnRleF9wb3M6ICdhVmVydGV4UG9zaXRpb24nLFxuICAgICAgICAgICAgdGV4dF9jb29yZHM6ICdhVGV4dHVyZUNvb3JkJ1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IHtcbiAgICAgICAgICAgIHBNYXRyaXg6IG51bGwsXG4gICAgICAgICAgICBtTWF0cml4OiBudWxsLFxuICAgICAgICAgICAgdk1hdHJpeDogbnVsbCxcbiAgICAgICAgICAgIHNhbXBsZXI6IG51bGwsXG4gICAgICAgICAgICB0ZXh0dXJlQWxwaGE6IG51bGwsXG4gICAgICAgICAgICBjbG9yTWFwSWR4OiBudWxsLFxuICAgICAgICAgICAgdmVydGV4UG9zaXRpb25BdHRyaWJ1dGU6IC0xLFxuICAgICAgICAgICAgdGV4dHVyZUNvb3JkQXR0cmlidXRlOiAtMVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgc2hhZGVyUHJvZ3JhbSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zaGFkZXJQcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRTaGFkZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBnbG9iYWwuZ2wudXNlUHJvZ3JhbSh0aGlzLl9zaGFkZXJQcm9ncmFtKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYWRlclByb2dyYW07XG4gICAgfVxuICAgIGluaXRTaGFkZXJzKCkge1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTdHIgPSBTaGFkZXJNYW5hZ2VyLmhpcHNOYXRpdmVGUygpO1xuICAgICAgICB0aGlzLl9mcmFnbWVudFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodGhpcy5fZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U2hhZGVyU3RyKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih0aGlzLl9mcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuX2ZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGFsZXJ0KGdsLmdldFNoYWRlckluZm9Mb2codGhpcy5fZnJhZ21lbnRTaGFkZXIpIHx8ICdGcmFnbWVudCBzaGFkZXIgY29tcGlsZSBlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlclN0ciA9IFNoYWRlck1hbmFnZXIuaGlwc1ZTKCk7XG4gICAgICAgIHRoaXMuX3ZlcnRleFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHRoaXMuX3ZlcnRleFNoYWRlciwgdmVydGV4U2hhZGVyU3RyKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih0aGlzLl92ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcih0aGlzLl92ZXJ0ZXhTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgYWxlcnQoZ2wuZ2V0U2hhZGVySW5mb0xvZyh0aGlzLl92ZXJ0ZXhTaGFkZXIpIHx8ICdWZXJ0ZXggc2hhZGVyIGNvbXBpbGUgZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5hdHRhY2hTaGFkZXIodGhpcy5fc2hhZGVyUHJvZ3JhbSwgdGhpcy5fdmVydGV4U2hhZGVyKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuX2ZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgZ2wubGlua1Byb2dyYW0odGhpcy5fc2hhZGVyUHJvZ3JhbSk7XG4gICAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLl9zaGFkZXJQcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdDb3VsZCBub3QgaW5pdGlhbGlzZSBzaGFkZXJzJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5hYmxlUHJvZ3JhbSgpIHtcbiAgICAgICAgO1xuICAgICAgICBnbG9iYWwuZ2wudXNlUHJvZ3JhbSh0aGlzLl9zaGFkZXJQcm9ncmFtKTtcbiAgICB9XG4gICAgc2V0R3JheXNjYWxlU2hhZGVyKCkge1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgZ2wuZGV0YWNoU2hhZGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuX2ZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTdHIgPSBTaGFkZXJNYW5hZ2VyLmhpcHNHcmF5c2NhbGVGUygpO1xuICAgICAgICB0aGlzLmNoYW5nZUZTU2hhZGVyKGZyYWdtZW50U2hhZGVyU3RyKTtcbiAgICB9XG4gICAgc2V0TmF0aXZlU2hhZGVyKCkge1xuICAgICAgICBjb25zdCBnbCA9IGdsb2JhbC5nbDtcbiAgICAgICAgZ2wuZGV0YWNoU2hhZGVyKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuX2ZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTdHIgPSBTaGFkZXJNYW5hZ2VyLmhpcHNOYXRpdmVGUygpO1xuICAgICAgICB0aGlzLmNoYW5nZUZTU2hhZGVyKGZyYWdtZW50U2hhZGVyU3RyKTtcbiAgICB9XG4gICAgc2V0Q29sb3JNYXBTaGFkZXIoKSB7XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICBnbC5kZXRhY2hTaGFkZXIodGhpcy5fc2hhZGVyUHJvZ3JhbSwgdGhpcy5fZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBjb25zdCBmcmFnbWVudFNoYWRlclN0ciA9IFNoYWRlck1hbmFnZXIuaGlwc0NvbG9yTWFwRlMoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VGU1NoYWRlcihmcmFnbWVudFNoYWRlclN0cik7XG4gICAgICAgIC8vIFVCTyBkaXNjb3ZlcnlcbiAgICAgICAgY29uc3QgYmxvY2tJbmRleCA9IGdsLmdldFVuaWZvcm1CbG9ja0luZGV4KHRoaXMuX3NoYWRlclByb2dyYW0sICdjb2xvcm1hcCcpO1xuICAgICAgICBjb25zdCBibG9ja1NpemUgPSBnbC5nZXRBY3RpdmVVbmlmb3JtQmxvY2tQYXJhbWV0ZXIodGhpcy5fc2hhZGVyUHJvZ3JhbSwgYmxvY2tJbmRleCwgZ2wuVU5JRk9STV9CTE9DS19EQVRBX1NJWkUpO1xuICAgICAgICBjb25zdCB1Ym9WYXJpYWJsZU5hbWVzID0gWydyX3BhbGV0dGUnLCAnZ19wYWxldHRlJywgJ2JfcGFsZXR0ZSddO1xuICAgICAgICBjb25zdCB1Ym9WYXJpYWJsZUluZGljZXMgPSBnbC5nZXRVbmlmb3JtSW5kaWNlcyh0aGlzLl9zaGFkZXJQcm9ncmFtLCB1Ym9WYXJpYWJsZU5hbWVzKTtcbiAgICAgICAgY29uc3QgdWJvVmFyaWFibGVPZmZzZXRzID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybXModGhpcy5fc2hhZGVyUHJvZ3JhbSwgdWJvVmFyaWFibGVJbmRpY2VzLCBnbC5VTklGT1JNX09GRlNFVCk7XG4gICAgICAgIHRoaXMuX1VCT19jb2xvck1hcEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLlVOSUZPUk1fQlVGRkVSLCB0aGlzLl9VQk9fY29sb3JNYXBCdWZmZXIpO1xuICAgICAgICAvLyBzdGQxNDAgbGF5b3V0OiAyNTYgZmxvYXRzIGVhY2ggcGFkZGVkIHRvIDE2IGJ5dGVzID0+IDQwOTYgYnl0ZXMgcGVyIHBhbGV0dGUsIHRvdGFsIDEyMjg4XG4gICAgICAgIGNvbnN0IEJZVEVTID0gMTIyODg7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuVU5JRk9STV9CVUZGRVIsIEJZVEVTLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuVU5JRk9STV9CVUZGRVIsIG51bGwpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyQmFzZShnbC5VTklGT1JNX0JVRkZFUiwgMCwgdGhpcy5fVUJPX2NvbG9yTWFwQnVmZmVyKTtcbiAgICAgICAgdWJvVmFyaWFibGVOYW1lcy5mb3JFYWNoKChuYW1lLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fVUJPX2NvbG9yTWFwVmFyaWFibGVJbmZvW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiB1Ym9WYXJpYWJsZUluZGljZXNbaW5kZXhdLFxuICAgICAgICAgICAgICAgIG9mZnNldDogdWJvVmFyaWFibGVPZmZzZXRzW2luZGV4XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNoYW5nZUZTU2hhZGVyKGZyYWdtZW50U2hhZGVyU3RyKSB7XG4gICAgICAgIGNvbnN0IGdsID0gZ2xvYmFsLmdsO1xuICAgICAgICB0aGlzLl9mcmFnbWVudFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodGhpcy5fZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U2hhZGVyU3RyKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih0aGlzLl9mcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuX2ZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGFsZXJ0KGdsLmdldFNoYWRlckluZm9Mb2codGhpcy5fZnJhZ21lbnRTaGFkZXIpIHx8ICdGcmFnbWVudCBzaGFkZXIgY29tcGlsZSBlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcih0aGlzLl9zaGFkZXJQcm9ncmFtLCB0aGlzLl9mcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHRoaXMuX3NoYWRlclByb2dyYW0pO1xuICAgICAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fc2hhZGVyUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgICAgICBhbGVydCgnQ291bGQgbm90IGluaXRpYWxpc2Ugc2hhZGVycycpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5fc2hhZGVyUHJvZ3JhbSk7XG4gICAgfVxuICAgIGVuYWJsZVNoYWRlcnMocE1hdHJpeCwgdk1hdHJpeCwgbU1hdHJpeCwgY29sb3JNYXBJZHgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5fc2hhZGVyUHJvZ3JhbSk7XG4gICAgICAgIHRoaXMubG9jYXRpb25zLnBNYXRyaXggPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fc2hhZGVyUHJvZ3JhbSwgdGhpcy5nbF91bmlmb3Jtcy5tX3BlcnNwZWN0aXZlKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMubU1hdHJpeCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9zaGFkZXJQcm9ncmFtLCB0aGlzLmdsX3VuaWZvcm1zLm1fbW9kZWwpO1xuICAgICAgICB0aGlzLmxvY2F0aW9ucy52TWF0cml4ID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuZ2xfdW5pZm9ybXMubV92aWV3KTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMuc2FtcGxlciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9zaGFkZXJQcm9ncmFtLCB0aGlzLmdsX3VuaWZvcm1zLnNhbXBsZXIpO1xuICAgICAgICB0aGlzLmxvY2F0aW9ucy50ZXh0dXJlQWxwaGEgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fc2hhZGVyUHJvZ3JhbSwgdGhpcy5nbF91bmlmb3Jtcy5mYWN0b3IpO1xuICAgICAgICB0aGlzLmxvY2F0aW9ucy5jbG9yTWFwSWR4ID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuZ2xfdW5pZm9ybXMuY29sb3JtYXBJZHgpO1xuICAgICAgICB0aGlzLmxvY2F0aW9ucy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuX3NoYWRlclByb2dyYW0sIHRoaXMuZ2xfYXR0cmlidXRlcy52ZXJ0ZXhfcG9zKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMudGV4dHVyZUNvb3JkQXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5fc2hhZGVyUHJvZ3JhbSwgdGhpcy5nbF9hdHRyaWJ1dGVzLnRleHRfY29vcmRzKTtcbiAgICAgICAgaWYgKGNvbG9yTWFwSWR4ID49IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgodGhpcy5fc2hhZGVyUHJvZ3JhbSwgJ2NvbG9ybWFwJyk7XG4gICAgICAgICAgICBnbC51bmlmb3JtQmxvY2tCaW5kaW5nKHRoaXMuX3NoYWRlclByb2dyYW0sIGluZGV4LCAwKTtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuVU5JRk9STV9CVUZGRVIsIHRoaXMuX1VCT19jb2xvck1hcEJ1ZmZlcik7XG4gICAgICAgICAgICBsZXQgY3VycmVudENvbG9yTWFwO1xuICAgICAgICAgICAgaWYgKGNvbG9yTWFwSWR4ID09PSAyKVxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xvck1hcCA9IGNvbG9yTWFwLlBMQU5DSztcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbG9yTWFwSWR4ID09PSAzKVxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xvck1hcCA9IGNvbG9yTWFwLkNNQjtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbG9yTWFwSWR4ID09PSA0KVxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xvck1hcCA9IGNvbG9yTWFwLlJBSU5CT1c7XG4gICAgICAgICAgICBlbHNlIGlmIChjb2xvck1hcElkeCA9PT0gNSlcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29sb3JNYXAgPSBjb2xvck1hcC5FT1NCO1xuICAgICAgICAgICAgZWxzZSBpZiAoY29sb3JNYXBJZHggPT09IDYpXG4gICAgICAgICAgICAgICAgY3VycmVudENvbG9yTWFwID0gY29sb3JNYXAuQ1VCRUhFTElYO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRDb2xvck1hcCkge1xuICAgICAgICAgICAgICAgIC8vIE9mZnNldHMgbWF0Y2ggc3RkMTQwIHBhZGRlZCBhcnJheXMgKDAsIDQwOTYsIDgxOTIpXG4gICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5VTklGT1JNX0JVRkZFUiwgMCwgY3VycmVudENvbG9yTWFwLnIsIDApO1xuICAgICAgICAgICAgICAgIGdsLmJ1ZmZlclN1YkRhdGEoZ2wuVU5JRk9STV9CVUZGRVIsIDQwOTYsIGN1cnJlbnRDb2xvck1hcC5nLCAwKTtcbiAgICAgICAgICAgICAgICBnbC5idWZmZXJTdWJEYXRhKGdsLlVOSUZPUk1fQlVGRkVSLCA4MTkyLCBjdXJyZW50Q29sb3JNYXAuYiwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLlVOSUZPUk1fQlVGRkVSLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMubG9jYXRpb25zLm1NYXRyaXgsIGZhbHNlLCBtTWF0cml4KTtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9ucy5wTWF0cml4LCBmYWxzZSwgcE1hdHJpeCk7XG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbnMudk1hdHJpeCwgZmFsc2UsIHZNYXRyaXgpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBoaXBzU2hhZGVyUHJvZ3JhbSA9IG5ldyBIaVBTU2hhZGVyUHJvZ3JhbSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGlQU1NoYWRlclByb2dyYW0uanMubWFwIiwiLy8gU2hhZGVyTWFuYWdlci50c1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyTWFuYWdlciB7XG4gICAgc3RhdGljIGNhdGFsb2d1ZVZTKCkge1xuICAgICAgICByZXR1cm4gYCN2ZXJzaW9uIDMwMCBlc1xuICAgIGluIHZlYzQgYUNhdFBvc2l0aW9uO1xuICAgIGluIGZsb2F0IGFfc2VsZWN0ZWQ7XG4gICAgaW4gZmxvYXQgYV9wb2ludHNpemU7XG4gICAgaW4gZmxvYXQgYV9icmlnaHRuZXNzO1xuXG4gICAgb3V0IGZsb2F0IHZfc2VsZWN0ZWQ7XG4gICAgb3V0IGZsb2F0IHZfYnJpZ2h0bmVzcztcbiAgICBvdXQgbG93cCB2ZWM0IHZDb2xvcjsgIC8vIG5vdCB1c2VkXG5cbiAgICB1bmlmb3JtIG1hdDQgdVBNYXRyaXg7XG4gICAgdW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcblxuICAgIHZvaWQgbWFpbigpIHtcblxuICAgICAgZ2xfUG9zaXRpb24gPSAodVBNYXRyaXggKiB1TVZNYXRyaXggKiBhQ2F0UG9zaXRpb24pO1xuICAgICAgZ2xfUG9pbnRTaXplID0gYV9wb2ludHNpemU7XG4gICAgICB2X3NlbGVjdGVkID0gYV9zZWxlY3RlZDtcbiAgICAgIHZfYnJpZ2h0bmVzcyA9IGFfYnJpZ2h0bmVzcztcbiAgICB9YDtcbiAgICB9XG4gICAgc3RhdGljIGNhdGFsb2d1ZUZTKCkge1xuICAgICAgICByZXR1cm4gYCN2ZXJzaW9uIDMwMCBlc1xuICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuICAgIFxuICAgICNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcbiAgICAjZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxuICAgICNlbmRpZlxuXG4gICAgLy8gaHR0cHM6Ly93d3cuZGVzdWx0b3J5cXVlc3QuY29tL2Jsb2cvZHJhd2luZy1hbnRpLWFsaWFzZWQtY2lyY3VsYXItcG9pbnRzLXVzaW5nLW9wZW5nbC1zbGFzaC13ZWJnbC9cblxuICAgIC8vIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgaW4gZmxvYXQgdl9zZWxlY3RlZDtcbiAgICBpbiBmbG9hdCB2X2JyaWdodG5lc3M7XG5cbiAgICB1bmlmb3JtIHZlYzQgdV9mcmFnY29sb3I7XG5cbiAgICBvdXQgdmVjNCBmcmFnQ29sb3I7XG5cbiAgICAvLyB2YXJ5aW5nIGZsb2F0IHZfc2VsZWN0ZWQ7XG4gICAgLy8gdmFyeWluZyBmbG9hdCB2X2JyaWdodG5lc3M7XG5cbiAgICBjb25zdCBmbG9hdCBFUFNJTE9OID0gMWUtMTA7XG4gICAgXG4gICAgdmVjMyBSR0J0b0hDVihpbiB2ZWMzIHJnYikge1xuICAgICAgLy8gUkdCIFswLi4xXSB0byBIdWUtQ2hyb21hLVZhbHVlIFswLi4xXVxuICAgICAgLy8gQmFzZWQgb24gd29yayBieSBTYW0gSG9jZXZhciBhbmQgRW1pbCBQZXJzc29uXG4gICAgICB2ZWM0IHAgPSAocmdiLmcgPCByZ2IuYikgPyB2ZWM0KHJnYi5iZywgLTEuLCAyLiAvIDMuKSA6IHZlYzQocmdiLmdiLCAwLiwgLTEuIC8gMy4pO1xuICAgICAgdmVjNCBxID0gKHJnYi5yIDwgcC54KSA/IHZlYzQocC54eXcsIHJnYi5yKSA6IHZlYzQocmdiLnIsIHAueXp4KTtcbiAgICAgIGZsb2F0IGMgPSBxLnggLSBtaW4ocS53LCBxLnkpO1xuICAgICAgZmxvYXQgaCA9IGFicygocS53IC0gcS55KSAvICg2LiAqIGMgKyBFUFNJTE9OKSArIHEueik7XG4gICAgICByZXR1cm4gdmVjMyhoLCBjLCBxLngpO1xuICAgIH1cblxuICAgIHZlYzMgUkdCdG9IU0woaW4gdmVjMyByZ2IpIHtcbiAgICAgIC8vIFJHQiBbMC4uMV0gdG8gSHVlLVNhdHVyYXRpb24tTGlnaHRuZXNzIFswLi4xXVxuICAgICAgdmVjMyBoY3YgPSBSR0J0b0hDVihyZ2IpO1xuICAgICAgLy92ZWMzIGhjdiA9IHZlYzMoMS4sIDEuLCAxLik7XG4gICAgICBmbG9hdCB6ID0gaGN2LnogLSBoY3YueSAqIDAuNTtcbiAgICAgIGZsb2F0IHMgPSBoY3YueSAvICgxLiAtIGFicyh6ICogMi4gLSAxLikgKyBFUFNJTE9OKTtcbiAgICAgIHJldHVybiB2ZWMzKGhjdi54LCBzLCB6KTtcbiAgICB9XG5cbiAgICB2ZWMzIEhVRXRvUkdCKGluIGZsb2F0IGh1ZSl7XG4gICAgICAvLyBIdWUgWzAuLjFdIHRvIFJHQiBbMC4uMV1cbiAgICAgIC8vIFNlZSBodHRwOi8vd3d3LmNoaWxsaWFudC5jb20vcmdiMmhzdi5odG1sXG4gICAgICB2ZWMzIHJnYiA9IGFicyhodWUgKiA2LiAtIHZlYzMoMywgMiwgNCkpICogdmVjMygxLCAtMSwgLTEpICsgdmVjMygtMSwgMiwgMik7XG4gICAgICByZXR1cm4gY2xhbXAocmdiLCAwLiwgMS4pO1xuICAgIH1cblxuICAgIHZlYzMgSFNMdG9SR0IoaW4gdmVjMyBoc2wpIHtcbiAgICAgIC8vIEh1ZS1TYXR1cmF0aW9uLUxpZ2h0bmVzcyBbMC4uMV0gdG8gUkdCIFswLi4xXVxuICAgICAgdmVjMyByZ2IgPSBIVUV0b1JHQihoc2wueCk7XG4gICAgICBmbG9hdCBjID0gKDEuIC0gYWJzKDIuICogaHNsLnogLSAxLikpICogaHNsLnk7XG4gICAgICByZXR1cm4gKHJnYiAtIDAuNSkgKiBjICsgaHNsLno7XG4gICAgfVxuICBcbiAgICB2b2lkIG1haW4oKSB7XG5cbiAgICAgIGZsb2F0IHIgPSAwLjAsIGRlbHRhID0gMC4wLCBhbHBoYSA9IDEuMDtcbiAgICAgIHZlYzIgY3h5ID0gMi4wICogZ2xfUG9pbnRDb29yZCAtIDEuMDtcbiAgICAgIHIgPSBkb3QoY3h5LCBjeHkpO1xuICAgICAgaWYgKHIgPiAxLjApIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cblxuICAgICAgI2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1xuICAgICAgICBkZWx0YSA9IGZ3aWR0aChyKTtcbiAgICAgICAgYWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKDEuMCAtIGRlbHRhLCAxLjAgKyBkZWx0YSwgcik7XG4gICAgICAjZW5kaWZcblxuICAgICAgaWYgKHZfc2VsZWN0ZWQgPT0gMS4wKXtcbiAgICAgICAgLy8gZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApICogKGFscGhhKTtcbiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApICogKGFscGhhKTtcbiAgICAgIH0gZWxzZSBpZiAodl9zZWxlY3RlZCA9PSAyLjApe1xuICAgICAgICAvLyBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMS4wLCAwLjAsIDEuMCkgKiAoYWxwaGEpO1xuICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMS4wLCAwLjAsIDEuMCkgKiAoYWxwaGEpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGlmIChyIDwgMC40KSB7XG4gICAgICAgICAgZGlzY2FyZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIHZfYnJpZ2h0bmVzcyA+PSAtMS4wICYmIHZfYnJpZ2h0bmVzcyA8PSAxLjApIHtcbiAgICAgICAgICAvLyBSb3VuZC10cmlwIFJHQi0+SFNMLT5SR0Igd2l0aCB0aW1lLWRlcGVuZGVudCBsaWdodG5lc3NcbiAgICAgICAgICB2ZWMzIGhzbCA9IFJHQnRvSFNMKHZlYzModV9mcmFnY29sb3IpKTtcbiAgICAgICAgICAvL2hzbC56ID0gcG93KGhzbC56LCBzaW4oaVRpbWUpICsgMS41KTtcbiAgICAgICAgICAvLyBoc2wueiA9IHBvdyhoc2wueiwgdl9icmlnaHRuZXNzICsgMS41KTtcbiAgICAgICAgICBoc2wueiA9IHBvdyhoc2wueiwgdl9icmlnaHRuZXNzICsgMS41KTtcbiAgICAgICAgICB2ZWMzIGhzbGNvbG9yID0gSFNMdG9SR0IoaHNsKTtcbiAgICAgICAgICAvLyBnbF9GcmFnQ29sb3IgPSB2ZWM0KGhzbGNvbG9yLCB1X2ZyYWdjb2xvclszXSkgKiAoYWxwaGEpO1xuICAgICAgICAgIGZyYWdDb2xvciA9IHZlYzQoaHNsY29sb3IsIHVfZnJhZ2NvbG9yWzNdKSAqIChhbHBoYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZ2xfRnJhZ0NvbG9yID0gdV9mcmFnY29sb3IgKiAoYWxwaGEpO1xuICAgICAgICAgIGZyYWdDb2xvciA9IHVfZnJhZ2NvbG9yICogKGFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1gO1xuICAgIH1cbiAgICBzdGF0aWMgZm9vdHByaW50VlMoKSB7XG4gICAgICAgIHJldHVybiBgI3ZlcnNpb24gMzAwIGVzXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgbGF5b3V0KGxvY2F0aW9uID0gMCkgaW4gdmVjNCBhQ2F0UG9zaXRpb247XG5cbiAgICB1bmlmb3JtIGZsb2F0IHVfcG9pbnRzaXplO1xuICAgIHVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XG4gICAgdW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIGFDYXRQb3NpdGlvbjtcbiAgICAgIGdsX1BvaW50U2l6ZSA9IHVfcG9pbnRzaXplOyAgIC8vIFdvcmtzIGluIFdlYkdMMlxuICAgIH1gO1xuICAgIH1cbiAgICBzdGF0aWMgZm9vdHByaW50RlMoKSB7XG4gICAgICAgIHJldHVybiBgI3ZlcnNpb24gMzAwIGVzXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHZlYzQgdV9mcmFnY29sb3I7XG4gICAgb3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZnJhZ0NvbG9yID0gdV9mcmFnY29sb3I7XG4gICAgfWA7XG4gICAgfVxuICAgIHN0YXRpYyBoaXBzVlMoKSB7XG4gICAgICAgIHJldHVybiBgI3ZlcnNpb24gMzAwIGVzXG4gICAgaW4gdmVjMyBhVmVydGV4UG9zaXRpb247XG4gICAgaW4gdmVjMiBhVGV4dHVyZUNvb3JkO1xuXG4gICAgdW5pZm9ybSBtYXQ0IHVNTWF0cml4O1xuICAgIHVuaWZvcm0gbWF0NCB1Vk1hdHJpeDtcbiAgICB1bmlmb3JtIG1hdDQgdVBNYXRyaXg7XG5cbiAgICBvdXQgdmVjMiB2VGV4dHVyZUNvb3JkO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVWTWF0cml4ICogdU1NYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcbiAgICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xuICAgIH1gO1xuICAgIH1cbiAgICBzdGF0aWMgaGlwc05hdGl2ZUZTKCkge1xuICAgICAgICByZXR1cm4gYCN2ZXJzaW9uIDMwMCBlc1xuICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgaW4gdmVjMiB2VGV4dHVyZUNvb3JkO1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXIwO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyMTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjI7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXIzO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyNDtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI2O1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyNztcblxuICAgIHVuaWZvcm0gZmxvYXQgdUZhY3RvcjA7XG4gICAgdW5pZm9ybSBmbG9hdCB1RmFjdG9yMTtcbiAgICB1bmlmb3JtIGZsb2F0IHVGYWN0b3IyO1xuICAgIHVuaWZvcm0gZmxvYXQgdUZhY3RvcjM7XG4gICAgdW5pZm9ybSBmbG9hdCB1RmFjdG9yNDtcbiAgICB1bmlmb3JtIGZsb2F0IHVGYWN0b3I1O1xuICAgIHVuaWZvcm0gZmxvYXQgdUZhY3RvcjY7XG4gICAgdW5pZm9ybSBmbG9hdCB1RmFjdG9yNztcblxuICAgIG91dCB2ZWM0IGZyYWdDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzMgZmluYWxDb2xvciA9IHZlYzMoMC4wKTtcblxuICAgICAgaWYgKHVGYWN0b3IwID49IDAuMCl7XG4gICAgICAgIHZlYzQgbXljb2xvcjtcbiAgICAgICAgI2lmIF9fVkVSU0lPTl9fID4gMTIwXG4gICAgICAgICAgdmVjNCBjb2xvcjAgPSB0ZXh0dXJlKHVTYW1wbGVyMCwgdlRleHR1cmVDb29yZCk7XG4gICAgICAgICNlbHNlXG4gICAgICAgICAgdmVjNCBjb2xvcjAgPSB0ZXh0dXJlMkQodVNhbXBsZXIwLCB2VGV4dHVyZUNvb3JkKTtcbiAgICAgICAgI2VuZGlmXG4gICAgICAgIG15Y29sb3IgPSBjb2xvcjA7XG4gICAgICAgIGZpbmFsQ29sb3IgKz0gbXljb2xvci5yZ2IgKiB1RmFjdG9yMDtcbiAgICAgIH0gZWxzZSBpZiAodUZhY3RvcjcgPj0gMC4wKXtcbiAgICAgICAgZmluYWxDb2xvciA9IHZlYzMoMS4wLCAwLjAsIDAuMCk7XG4gICAgICB9XG4gICAgICBmcmFnQ29sb3IgPSB2ZWM0KGZpbmFsQ29sb3IsIDEuMCk7XG4gICAgfWA7XG4gICAgfVxuICAgIHN0YXRpYyBoaXBzR3JheXNjYWxlRlMoKSB7XG4gICAgICAgIHJldHVybiBgI3ZlcnNpb24gMzAwIGVzXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICBpbiB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjA7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXIxO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyMjtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjM7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI0O1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyNTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjY7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI3O1xuXG4gICAgdW5pZm9ybSBmbG9hdCB1RmFjdG9yMDtcbiAgICB1bmlmb3JtIGZsb2F0IHVGYWN0b3IxO1xuICAgIHVuaWZvcm0gZmxvYXQgdUZhY3RvcjI7XG4gICAgdW5pZm9ybSBmbG9hdCB1RmFjdG9yMztcbiAgICB1bmlmb3JtIGZsb2F0IHVGYWN0b3I0O1xuICAgIHVuaWZvcm0gZmxvYXQgdUZhY3RvcjU7XG4gICAgdW5pZm9ybSBmbG9hdCB1RmFjdG9yNjtcbiAgICB1bmlmb3JtIGZsb2F0IHVGYWN0b3I3O1xuXG4gICAgb3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMyBmaW5hbENvbG9yID0gdmVjMygwLjApO1xuXG4gICAgICBpZiAodUZhY3RvcjAgPj0gMC4wKXtcbiAgICAgICAgI2lmIF9fVkVSU0lPTl9fID4gMTIwXG4gICAgICAgICAgdmVjNCBjb2xvcjAgPSB0ZXh0dXJlKHVTYW1wbGVyMCwgdlRleHR1cmVDb29yZCk7XG4gICAgICAgICNlbHNlXG4gICAgICAgICAgdmVjNCBjb2xvcjAgPSB0ZXh0dXJlMkQodVNhbXBsZXIwLCB2VGV4dHVyZUNvb3JkKTtcbiAgICAgICAgI2VuZGlmXG4gICAgICAgIGZsb2F0IGdyYXkgPSAwLjIxICogY29sb3IwLnIgKyAwLjcxICogY29sb3IwLmcgKyAwLjA3ICogY29sb3IwLmI7XG4gICAgICAgIGZpbmFsQ29sb3IgPSBjb2xvcjAucmdiICogKDEuMCAtIHVGYWN0b3IwKSArIHZlYzMoZ3JheSkgKiB1RmFjdG9yMDtcbiAgICAgIH1cbiAgICAgIGlmICh1RmFjdG9yMSA+PSAwLjApe1xuICAgICAgICAjaWYgX19WRVJTSU9OX18gPiAxMjBcbiAgICAgICAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUodVNhbXBsZXIxLCB2VGV4dHVyZUNvb3JkKTtcbiAgICAgICAgI2Vsc2VcbiAgICAgICAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUyRCh1U2FtcGxlcjEsIHZUZXh0dXJlQ29vcmQpO1xuICAgICAgICAjZW5kaWZcbiAgICAgICAgZmluYWxDb2xvciArPSBjb2xvcjEucmdiICogdUZhY3RvcjE7XG4gICAgICB9XG4gICAgICBpZiAodUZhY3RvcjIgPj0gMC4wKXtcbiAgICAgICAgI2lmIF9fVkVSU0lPTl9fID4gMTIwXG4gICAgICAgICAgdmVjNCBjb2xvcjIgPSB0ZXh0dXJlKHVTYW1wbGVyMiwgdlRleHR1cmVDb29yZCk7XG4gICAgICAgICNlbHNlXG4gICAgICAgICAgdmVjNCBjb2xvcjIgPSB0ZXh0dXJlMkQodVNhbXBsZXIyLCB2VGV4dHVyZUNvb3JkKTtcbiAgICAgICAgI2VuZGlmXG4gICAgICAgIGZpbmFsQ29sb3IgKz0gY29sb3IyLnJnYiAqIHVGYWN0b3IyO1xuICAgICAgfVxuICAgICAgaWYgKHVGYWN0b3IzID49IDAuMCl7XG4gICAgICAgICNpZiBfX1ZFUlNJT05fXyA+IDEyMFxuICAgICAgICAgIHZlYzQgY29sb3IzID0gdGV4dHVyZSh1U2FtcGxlcjMsIHZUZXh0dXJlQ29vcmQpO1xuICAgICAgICAjZWxzZVxuICAgICAgICAgIHZlYzQgY29sb3IzID0gdGV4dHVyZTJEKHVTYW1wbGVyMywgdlRleHR1cmVDb29yZCk7XG4gICAgICAgICNlbmRpZlxuICAgICAgICBmaW5hbENvbG9yICs9IGNvbG9yMy5yZ2IgKiB1RmFjdG9yMztcbiAgICAgIH1cbiAgICAgIGlmICh1RmFjdG9yNCA+PSAwLjApe1xuICAgICAgICAjaWYgX19WRVJTSU9OX18gPiAxMjBcbiAgICAgICAgICB2ZWM0IGNvbG9yNCA9IHRleHR1cmUodVNhbXBsZXI0LCB2VGV4dHVyZUNvb3JkKTtcbiAgICAgICAgI2Vsc2VcbiAgICAgICAgICB2ZWM0IGNvbG9yNCA9IHRleHR1cmUyRCh1U2FtcGxlcjQsIHZUZXh0dXJlQ29vcmQpO1xuICAgICAgICAjZW5kaWZcbiAgICAgICAgZmluYWxDb2xvciArPSBjb2xvcjQucmdiICogdUZhY3RvcjQ7XG4gICAgICB9XG4gICAgICBpZiAodUZhY3RvcjUgPj0gMC4wKXtcbiAgICAgICAgI2lmIF9fVkVSU0lPTl9fID4gMTIwXG4gICAgICAgICAgdmVjNCBjb2xvcjUgPSB0ZXh0dXJlKHVTYW1wbGVyNSwgdlRleHR1cmVDb29yZCk7XG4gICAgICAgICNlbHNlXG4gICAgICAgICAgdmVjNCBjb2xvcjUgPSB0ZXh0dXJlMkQodVNhbXBsZXI1LCB2VGV4dHVyZUNvb3JkKTtcbiAgICAgICAgI2VuZGlmXG4gICAgICAgIGZpbmFsQ29sb3IgKz0gY29sb3I1LnJnYiAqIHVGYWN0b3I1O1xuICAgICAgfVxuICAgICAgaWYgKHVGYWN0b3I2ID49IDAuMCl7XG4gICAgICAgICNpZiBfX1ZFUlNJT05fXyA+IDEyMFxuICAgICAgICAgIHZlYzQgY29sb3I2ID0gdGV4dHVyZSh1U2FtcGxlcjYsIHZUZXh0dXJlQ29vcmQpO1xuICAgICAgICAjZWxzZVxuICAgICAgICAgIHZlYzQgY29sb3I2ID0gdGV4dHVyZTJEKHVTYW1wbGVyNiwgdlRleHR1cmVDb29yZCk7XG4gICAgICAgICNlbmRpZlxuICAgICAgICBmaW5hbENvbG9yICs9IGNvbG9yNi5yZ2IgKiB1RmFjdG9yNjtcbiAgICAgIH1cbiAgICAgIGlmICh1RmFjdG9yNyA+PSAwLjApe1xuICAgICAgICAjaWYgX19WRVJTSU9OX18gPiAxMjBcbiAgICAgICAgICB2ZWM0IGNvbG9yNyA9IHRleHR1cmUodVNhbXBsZXI3LCB2VGV4dHVyZUNvb3JkKTtcbiAgICAgICAgI2Vsc2VcbiAgICAgICAgICB2ZWM0IGNvbG9yNyA9IHRleHR1cmUyRCh1U2FtcGxlcjcsIHZUZXh0dXJlQ29vcmQpO1xuICAgICAgICAjZW5kaWZcbiAgICAgICAgZmluYWxDb2xvciArPSBjb2xvcjcucmdiICogdUZhY3Rvcjc7XG4gICAgICB9XG4gICAgICBmcmFnQ29sb3IgPSB2ZWM0KGZpbmFsQ29sb3IsIDEuMCk7XG4gICAgfWA7XG4gICAgfVxuICAgIHN0YXRpYyBoaXBzQ29sb3JNYXBGUygpIHtcbiAgICAgICAgcmV0dXJuIGAjdmVyc2lvbiAzMDAgZXNcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgIGluIHZlYzIgdlRleHR1cmVDb29yZDtcblxuICAgIC8vIFVCT1xuICAgIGxheW91dCAoc3RkMTQwKSB1bmlmb3JtIGNvbG9ybWFwIHtcbiAgICAgIGZsb2F0IHJfcGFsZXR0ZVsyNTZdO1xuICAgICAgZmxvYXQgZ19wYWxldHRlWzI1Nl07XG4gICAgICBmbG9hdCBiX3BhbGV0dGVbMjU2XTtcbiAgICB9O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXIwO1xuICAgIHVuaWZvcm0gZmxvYXQgdUZhY3RvcjA7XG5cbiAgICBvdXQgdmVjNCBmcmFnQ29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAjaWYgX19WRVJTSU9OX18gPiAxMjBcbiAgICAgICAgdmVjNCBjb2xvcjAgPSB0ZXh0dXJlKHVTYW1wbGVyMCwgdlRleHR1cmVDb29yZCk7XG4gICAgICAjZWxzZVxuICAgICAgICB2ZWM0IGNvbG9yMCA9IHRleHR1cmUyRCh1U2FtcGxlcjAsIHZUZXh0dXJlQ29vcmQpO1xuICAgICAgI2VuZGlmXG5cbiAgICAgIGludCB4ID0gaW50KGNvbG9yMC5yICogMjU1LjApO1xuICAgICAgZmxvYXQgcHggPSByX3BhbGV0dGVbeF0gLyAyNTYuMDtcblxuICAgICAgaW50IHkgPSBpbnQoY29sb3IwLmcgKiAyNTUuMCk7XG4gICAgICBmbG9hdCBweSA9IGdfcGFsZXR0ZVt5XSAvIDI1Ni4wO1xuXG4gICAgICBpbnQgeiA9IGludChjb2xvcjAuYiAqIDI1NS4wKTtcbiAgICAgIGZsb2F0IHB6ID0gYl9wYWxldHRlW3pdIC8gMjU2LjA7XG5cbiAgICAgIC8vIHVGYWN0b3IwIHJlc2VydmVkIGZvciBmdXR1cmUgYmxlbmRpbmcgaWYgbmVlZGVkXG4gICAgICBmcmFnQ29sb3IgPSB2ZWM0KHB4LCBweSwgcHosIDEuMCk7XG4gICAgfWA7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2hhZGVyTWFuYWdlci5qcy5tYXAiLCJpbXBvcnQgeyBtYXQ0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuY2xhc3MgQ29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uIHtcbiAgICBfcE1hdHJpeCA9IG51bGw7XG4gICAgX2FzcGVjdFJhdGlvID0gMTtcbiAgICBnZXQgcE1hdHJpeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XG4gICAgfVxuICAgIGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeChjYW52YXMsIGNhbWVyYSwgZm92RGVnLCBuZWFyUGxhbmUgPSAwLjEsIGluc2lkZVNwaGVyZSkge1xuICAgICAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IGNhbnZhcy53aWR0aCAvIGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHAgPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICBsZXQgZmFyUGxhbmU7XG4gICAgICAgIGlmIChpbnNpZGVTcGhlcmUpIHtcbiAgICAgICAgICAgIC8vIEluc2lkZSB0aGUgc3BoZXJlOiBjYXAgc2xpZ2h0bHkgYmV5b25kIHJhZGl1c1xuICAgICAgICAgICAgZmFyUGxhbmUgPSAxLjE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjYW1NYXQgPSBjYW1lcmEuZ2V0Q2FtZXJhTWF0cml4KCk7XG4gICAgICAgICAgICBjb25zdCBkaXN0Q2FtZXJhID0gLU51bWJlcihjYW1NYXRbMTRdKTsgLy8gY2FtZXJhIHogdHJhbnNsYXRpb25cbiAgICAgICAgICAgIGNvbnN0IHIgPSAxOyAvLyBIaVBTIHNwaGVyZSByYWRpdXMgKGluamVjdCByZWFsIHZhbHVlIGlmIGF2YWlsYWJsZSlcbiAgICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3QgbmVnYXRpdmUgZHVlIHRvIHJvdW5kaW5nL2xvZ2ljXG4gICAgICAgICAgICBjb25zdCBjMiA9IE1hdGguc3FydChNYXRoLm1heChkaXN0Q2FtZXJhICoqIDIgLSByICoqIDIsIDApKTtcbiAgICAgICAgICAgIGNvbnN0IGJldGEgPSBNYXRoLmF0YW4yKGMyLCByKTtcbiAgICAgICAgICAgIGNvbnN0IGNmID0gYzIgKiBNYXRoLnNpbihiZXRhKTtcbiAgICAgICAgICAgIGZhclBsYW5lID0gY2YgPiAwID8gY2YgOiByO1xuICAgICAgICB9XG4gICAgICAgIG1hdDQucGVyc3BlY3RpdmUocCwgKGZvdkRlZyAqIE1hdGguUEkpIC8gMTgwLCB0aGlzLl9hc3BlY3RSYXRpbywgbmVhclBsYW5lLCBmYXJQbGFuZSk7XG4gICAgICAgIHRoaXMuX3BNYXRyaXggPSBwO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG59XG5jb25zdCBjb21wdXRlUGVyc3BlY3RpdmVNYXRyaXhTaW5nbGV0b24gPSBuZXcgQ29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uKCk7XG5leHBvcnQgZGVmYXVsdCBjb21wdXRlUGVyc3BlY3RpdmVNYXRyaXhTaW5nbGV0b247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db21wdXRlUGVyc3BlY3RpdmVNYXRyaXguanMubWFwIiwiLyoqXG4gKiBFbnVtIGZvciBjb29yZGluYXRlIHR5cGVzLlxuICogQGF1dGhvciBGYWJyaXppbyBHaW9yZGFubyAoRmFiNzcpXG4gKi9cbmV4cG9ydCB2YXIgQ29vcmRzVHlwZTtcbihmdW5jdGlvbiAoQ29vcmRzVHlwZSkge1xuICAgIENvb3Jkc1R5cGVbXCJDQVJURVNJQU5cIl0gPSBcImNhcnRlc2lhblwiO1xuICAgIENvb3Jkc1R5cGVbXCJTUEhFUklDQUxcIl0gPSBcInNwaGVyaWNhbFwiO1xuICAgIENvb3Jkc1R5cGVbXCJBU1RST1wiXSA9IFwiYXN0cm9cIjtcbn0pKENvb3Jkc1R5cGUgfHwgKENvb3Jkc1R5cGUgPSB7fSkpO1xuLy8gZXhwb3J0IGRlZmF1bHQgQ29vcmRzVHlwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvb3Jkc1R5cGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBAYXV0aG9yIEZhYnJpemlvIEdpb3JkYW5vIChGYWIpXG4gKi9cbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvUG9pbnQuanMnO1xuaW1wb3J0IFJheVBpY2tpbmdVdGlscyBmcm9tICcuL1JheVBpY2tpbmdVdGlscy5qcyc7XG5pbXBvcnQgeyBDb29yZHNUeXBlIH0gZnJvbSAnLi9Db29yZHNUeXBlLmpzJztcbmltcG9ydCB7IG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeFNpbmdsZXRvbiBmcm9tICcuL0NvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeC5qcyc7XG5leHBvcnQgY2xhc3MgRm9WVXRpbHMge1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWluaW11bSBGb1YgdmFsdWUgYmV0d2VlbiBgX2ZvdllfZGVnYCBhbmQgYF9mb3ZYX2RlZ2AuXG4gICAgICogKEtlcHQgaGVyZSBmb3IgcGFyaXR5OyB0aGlzIGNsYXNzIGRvZXNu4oCZdCBtYWludGFpbiB0aG9zZSBmaWVsZHMuKVxuICAgICAqL1xuICAgIGdldE1pbkZvVigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvdllfZGVnIDw9IHRoaXMuX2ZvdlhfZGVnID8gdGhpcy5fZm92WV9kZWcgOiB0aGlzLl9mb3ZYX2RlZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgRm9WIHBvbHlnb24gYXMgYSBsaXN0IG9mIFBvaW50cyAoY2xvY2t3aXNlKS5cbiAgICAgKiBVc2VzIHJheSBwaWNraW5nICsgZnJ1c3R1bSBwbGFuZXMgYWdhaW5zdCBhIHVuaXQgc3BoZXJlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRGb1ZQb2x5Z29uKFxuICAgIC8vIF9wTWF0cml4OiBSZWFkb25seU1hdDQgfCBudWxsLFxuICAgIGNhbWVyYSwgY2FudmFzLCBtb2RlbCkge1xuICAgICAgICAvLyBjb25zdCBwTWF0cml4ID0gKGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeFNpbmdsZXRvbi5wTWF0cml4ID8/XG4gICAgICAgIC8vICAgX3BNYXRyaXgpIGFzIFJlYWRvbmx5TWF0NDtcbiAgICAgICAgY29uc3QgcE1hdHJpeCA9IGNvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeFNpbmdsZXRvbi5wTWF0cml4O1xuICAgICAgICBjb25zdCB2TWF0cml4ID0gY2FtZXJhLmdldENhbWVyYU1hdHJpeCgpO1xuICAgICAgICBjb25zdCBtTWF0cml4ID0gbW9kZWwuZ2V0TW9kZWxNYXRyaXgoKTtcbiAgICAgICAgY29uc3QgY2FudmFzV2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGxldCBwb2ludHMgPSBbXTtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2s6IGRvZXMgdGhlIHNwaGVyZSBjb3ZlciB0aGUgd2hvbGUgc2NyZWVuP1xuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25XaXRoTW9kZWwgPSBSYXlQaWNraW5nVXRpbHMuZ2V0SW50ZXJzZWN0aW9uUG9pbnRXaXRoU2luZ2xlTW9kZWwoMCwgMCk7XG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb25XaXRoTW9kZWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRnVsbHkgY292ZXJlZCDihpIgZ3JhYiBjb3JuZXJzICsgbWlkcG9pbnRzIChDQVNFIEMpXG4gICAgICAgICAgICBjb25zdCBjb3JuZXJzUG9pbnRzID0gRm9WVXRpbHMuZ2V0U2NyZWVuQ29ybmVyc0ludGVyc2VjdGlvbihwTWF0cml4LCBjYW1lcmEsIGNhbnZhcyk7XG4gICAgICAgICAgICBwb2ludHMgPSBjb3JuZXJzUG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUGFydGlhbCBjb3ZlcmFnZTogYnVpbGQgZnJ1c3R1bSBwbGFuZXNcbiAgICAgICAgICAgIGxldCBNID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgICAgIE0gPSBtYXQ0Lm11bHRpcGx5KE0sIHZNYXRyaXgsIG1NYXRyaXgpO1xuICAgICAgICAgICAgTSA9IG1hdDQubXVsdGlwbHkoTSwgcE1hdHJpeCwgTSk7XG4gICAgICAgICAgICBjb25zdCB0b3BQbGFuZSA9IFtNWzNdIC0gTVsxXSwgTVs3XSAtIE1bNV0sIE1bMTFdIC0gTVs5XSwgTVsxNV0gLSBNWzEzXV07IC8vIG00MS1tMjEsIC4uLlxuICAgICAgICAgICAgY29uc3QgYm90dG9tUGxhbmUgPSBbTVszXSArIE1bMV0sIE1bN10gKyBNWzVdLCBNWzExXSArIE1bOV0sIE1bMTVdICsgTVsxM11dO1xuICAgICAgICAgICAgY29uc3QgcmlnaHRQbGFuZSA9IFtNWzNdIC0gTVswXSwgTVs3XSAtIE1bNF0sIE1bMTFdIC0gTVs4XSwgTVsxNV0gLSBNWzEyXV07XG4gICAgICAgICAgICBjb25zdCBsZWZ0UGxhbmUgPSBbTVszXSArIE1bMF0sIE1bN10gKyBNWzRdLCBNWzExXSArIE1bOF0sIE1bMTVdICsgTVsxMl1dO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uVG9wTWlkZGxlID0gUmF5UGlja2luZ1V0aWxzLmdldEludGVyc2VjdGlvblBvaW50V2l0aFNpbmdsZU1vZGVsKGNhbnZhc1dpZHRoIC8gMiwgMCk7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25SaWdodE1pZGRsZSA9IFJheVBpY2tpbmdVdGlscy5nZXRJbnRlcnNlY3Rpb25Qb2ludFdpdGhTaW5nbGVNb2RlbChjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAvLyBDQVNFIEE6IHpvb21lZCBvdXQsIGhlbWlzcGhlcmUgZnVsbHkgdmlzaWJsZVxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvblRvcE1pZGRsZS5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25SaWdodE1pZGRsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3BQb2ludHMgPSBGb1ZVdGlscy5nZXROZWFyZXN0U3BoZXJlUG9pbnQodG9wUGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdHRvbVBvaW50cyA9IEZvVlV0aWxzLmdldE5lYXJlc3RTcGhlcmVQb2ludChib3R0b21QbGFuZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdFBvaW50cyA9IEZvVlV0aWxzLmdldE5lYXJlc3RTcGhlcmVQb2ludChsZWZ0UGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0UG9pbnRzID0gRm9WVXRpbHMuZ2V0TmVhcmVzdFNwaGVyZVBvaW50KHJpZ2h0UGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pZGRsZUxlZnRUb3AgPSBGb1ZVdGlscy5jb21wdXRlTWlkZGxlUG9pbnQobGVmdFBvaW50c1swXSwgdG9wUG9pbnRzWzBdKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaWRkbGVUb3BSaWdodCA9IEZvVlV0aWxzLmNvbXB1dGVNaWRkbGVQb2ludCh0b3BQb2ludHNbMF0sIHJpZ2h0UG9pbnRzWzBdKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaWRkbGVSaWdodEJvdHRvbSA9IEZvVlV0aWxzLmNvbXB1dGVNaWRkbGVQb2ludChyaWdodFBvaW50c1swXSwgYm90dG9tUG9pbnRzWzBdKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaWRkbGVCb3R0b21MZWZ0ID0gRm9WVXRpbHMuY29tcHV0ZU1pZGRsZVBvaW50KGJvdHRvbVBvaW50c1swXSwgbGVmdFBvaW50c1swXSlbMF07XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2godG9wUG9pbnRzWzBdLCBtaWRkbGVUb3BSaWdodCwgcmlnaHRQb2ludHNbMF0sIG1pZGRsZVJpZ2h0Qm90dG9tLCBib3R0b21Qb2ludHNbMF0sIG1pZGRsZUJvdHRvbUxlZnQsIGxlZnRQb2ludHNbMF0sIG1pZGRsZUxlZnRUb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ0FTRSBFOiBubyBpbnRlcnNlY3Rpb24gb24gdG9wL2JvdHRvbSBwbGFuZXNcbiAgICAgICAgICAgIGVsc2UgaWYgKGludGVyc2VjdGlvblRvcE1pZGRsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3BQb2ludHMgPSBGb1ZVdGlscy5nZXROZWFyZXN0U3BoZXJlUG9pbnQodG9wUGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdHRvbVBvaW50cyA9IEZvVlV0aWxzLmdldE5lYXJlc3RTcGhlcmVQb2ludChib3R0b21QbGFuZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdFBvaW50cyA9IEZvVlV0aWxzLmdldEZydXN0dW1JbnRlcnNlY3Rpb25XaXRoU3BoZXJlKE0sIGxlZnRQbGFuZSwgYm90dG9tUGxhbmUsIHRvcFBsYW5lKTtcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodFBvaW50cyA9IEZvVlV0aWxzLmdldEZydXN0dW1JbnRlcnNlY3Rpb25XaXRoU3BoZXJlKE0sIHJpZ2h0UGxhbmUsIHRvcFBsYW5lLCBib3R0b21QbGFuZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWlkZGxlTGVmdFRvcCA9IEZvVlV0aWxzLmNvbXB1dGVNaWRkbGVQb2ludChsZWZ0UG9pbnRzWzFdLCB0b3BQb2ludHNbMF0pWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pZGRsZVRvcFJpZ2h0ID0gRm9WVXRpbHMuY29tcHV0ZU1pZGRsZVBvaW50KHRvcFBvaW50c1swXSwgcmlnaHRQb2ludHNbMF0pWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pZGRsZVJpZ2h0Qm90dG9tID0gRm9WVXRpbHMuY29tcHV0ZU1pZGRsZVBvaW50KHJpZ2h0UG9pbnRzWzFdLCBib3R0b21Qb2ludHNbMF0pWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pZGRsZUJvdHRvbUxlZnQgPSBGb1ZVdGlscy5jb21wdXRlTWlkZGxlUG9pbnQoYm90dG9tUG9pbnRzWzBdLCBsZWZ0UG9pbnRzWzBdKVswXTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh0b3BQb2ludHNbMF0sIG1pZGRsZVRvcFJpZ2h0LCByaWdodFBvaW50c1swXSwgcmlnaHRQb2ludHNbMV0sIG1pZGRsZVJpZ2h0Qm90dG9tLCBib3R0b21Qb2ludHNbMF0sIG1pZGRsZUJvdHRvbUxlZnQsIGxlZnRQb2ludHNbMF0sIGxlZnRQb2ludHNbMV0sIG1pZGRsZUxlZnRUb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ0FTRSBEOiBubyBpbnRlcnNlY3Rpb24gb24gcmlnaHQvbGVmdCBwbGFuZXNcbiAgICAgICAgICAgIGVsc2UgaWYgKGludGVyc2VjdGlvblJpZ2h0TWlkZGxlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvcFBvaW50cyA9IEZvVlV0aWxzLmdldEZydXN0dW1JbnRlcnNlY3Rpb25XaXRoU3BoZXJlKE0sIHRvcFBsYW5lLCBsZWZ0UGxhbmUsIHJpZ2h0UGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdHRvbVBvaW50cyA9IEZvVlV0aWxzLmdldEZydXN0dW1JbnRlcnNlY3Rpb25XaXRoU3BoZXJlKE0sIGJvdHRvbVBsYW5lLCByaWdodFBsYW5lLCBsZWZ0UGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRQb2ludHMgPSBGb1ZVdGlscy5nZXROZWFyZXN0U3BoZXJlUG9pbnQobGVmdFBsYW5lKTtcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodFBvaW50cyA9IEZvVlV0aWxzLmdldE5lYXJlc3RTcGhlcmVQb2ludChyaWdodFBsYW5lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaWRkbGVMZWZ0VG9wID0gRm9WVXRpbHMuY29tcHV0ZU1pZGRsZVBvaW50KGxlZnRQb2ludHNbMF0sIHRvcFBvaW50c1swXSlbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWlkZGxlVG9wUmlnaHQgPSBGb1ZVdGlscy5jb21wdXRlTWlkZGxlUG9pbnQodG9wUG9pbnRzWzFdLCByaWdodFBvaW50c1swXSlbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWlkZGxlUmlnaHRCb3R0b20gPSBGb1ZVdGlscy5jb21wdXRlTWlkZGxlUG9pbnQocmlnaHRQb2ludHNbMF0sIGJvdHRvbVBvaW50c1swXSlbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWlkZGxlQm90dG9tTGVmdCA9IEZvVlV0aWxzLmNvbXB1dGVNaWRkbGVQb2ludChib3R0b21Qb2ludHNbMV0sIGxlZnRQb2ludHNbMF0pWzBdO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHRvcFBvaW50c1swXSwgdG9wUG9pbnRzWzFdLCBtaWRkbGVUb3BSaWdodCwgcmlnaHRQb2ludHNbMF0sIG1pZGRsZVJpZ2h0Qm90dG9tLCBib3R0b21Qb2ludHNbMF0sIGJvdHRvbVBvaW50c1sxXSwgbWlkZGxlQm90dG9tTGVmdCwgbGVmdFBvaW50c1swXSwgbWlkZGxlTGVmdFRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDQVNFIEI6IGFsbCBmcnVzdHVtIHBsYW5lcyBpbnRlcnNlY3RcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvcFBvaW50cyA9IEZvVlV0aWxzLmdldEZydXN0dW1JbnRlcnNlY3Rpb25XaXRoU3BoZXJlKE0sIHRvcFBsYW5lLCBsZWZ0UGxhbmUsIHJpZ2h0UGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdHRvbVBvaW50cyA9IEZvVlV0aWxzLmdldEZydXN0dW1JbnRlcnNlY3Rpb25XaXRoU3BoZXJlKE0sIGJvdHRvbVBsYW5lLCByaWdodFBsYW5lLCBsZWZ0UGxhbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRQb2ludHMgPSBGb1ZVdGlscy5nZXRGcnVzdHVtSW50ZXJzZWN0aW9uV2l0aFNwaGVyZShNLCBsZWZ0UGxhbmUsIGJvdHRvbVBsYW5lLCB0b3BQbGFuZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHRQb2ludHMgPSBGb1ZVdGlscy5nZXRGcnVzdHVtSW50ZXJzZWN0aW9uV2l0aFNwaGVyZShNLCByaWdodFBsYW5lLCB0b3BQbGFuZSwgYm90dG9tUGxhbmUpO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHRvcFBvaW50c1swXSwgdG9wUG9pbnRzWzFdLCByaWdodFBvaW50c1swXSwgcmlnaHRQb2ludHNbMV0sIGJvdHRvbVBvaW50c1swXSwgYm90dG9tUG9pbnRzWzFdLCBsZWZ0UG9pbnRzWzBdLCBsZWZ0UG9pbnRzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSYXkgcGljayBhZ2FpbnN0IDgga2V5IHNjcmVlbiBwb3NpdGlvbnMgKGNvcm5lcnMgKyBtaWRwb2ludHMpLlxuICAgICAqIFJldHVybnMgUG9pbnRzIGluIGNsb2Nrd2lzZSBvcmRlciBzdGFydGluZyBmcm9tIHRvcC1sZWZ0LlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRTY3JlZW5Db3JuZXJzSW50ZXJzZWN0aW9uKHBNYXRyaXgsIGNhbWVyYSwgY2FudmFzKSB7XG4gICAgICAgIGNvbnN0IHcgPSBjYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgICAgICBjb25zdCB0b3BMZWZ0ID0gUmF5UGlja2luZ1V0aWxzLmdldEludGVyc2VjdGlvblBvaW50V2l0aFNpbmdsZU1vZGVsKDAsIDApO1xuICAgICAgICBjb25zdCBtaWRkbGVUb3AgPSBSYXlQaWNraW5nVXRpbHMuZ2V0SW50ZXJzZWN0aW9uUG9pbnRXaXRoU2luZ2xlTW9kZWwodyAvIDIsIDApO1xuICAgICAgICBjb25zdCB0b3BSaWdodCA9IFJheVBpY2tpbmdVdGlscy5nZXRJbnRlcnNlY3Rpb25Qb2ludFdpdGhTaW5nbGVNb2RlbCh3LCAwKTtcbiAgICAgICAgY29uc3QgbWlkZGxlUmlnaHQgPSBSYXlQaWNraW5nVXRpbHMuZ2V0SW50ZXJzZWN0aW9uUG9pbnRXaXRoU2luZ2xlTW9kZWwodywgaCAvIDIpO1xuICAgICAgICBjb25zdCBib3R0b21SaWdodCA9IFJheVBpY2tpbmdVdGlscy5nZXRJbnRlcnNlY3Rpb25Qb2ludFdpdGhTaW5nbGVNb2RlbCh3LCBoKTtcbiAgICAgICAgY29uc3QgbWlkZGxlQm90dG9tID0gUmF5UGlja2luZ1V0aWxzLmdldEludGVyc2VjdGlvblBvaW50V2l0aFNpbmdsZU1vZGVsKHcgLyAyLCBoKTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IFJheVBpY2tpbmdVdGlscy5nZXRJbnRlcnNlY3Rpb25Qb2ludFdpdGhTaW5nbGVNb2RlbCgwLCBoKTtcbiAgICAgICAgY29uc3QgbWlkZGxlTGVmdCA9IFJheVBpY2tpbmdVdGlscy5nZXRJbnRlcnNlY3Rpb25Qb2ludFdpdGhTaW5nbGVNb2RlbCgwLCBoIC8gMik7XG4gICAgICAgIGNvbnN0IG91dCA9IFtdO1xuICAgICAgICBjb25zdCBwdXNoSWYgPSAoaXApID0+IHtcbiAgICAgICAgICAgIGlmIChpcC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2gobmV3IFBvaW50KHsgeDogaXBbMF0sIHk6IGlwWzFdLCB6OiBpcFsyXSB9LCBDb29yZHNUeXBlLkNBUlRFU0lBTikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwdXNoSWYodG9wTGVmdCk7XG4gICAgICAgIHB1c2hJZihtaWRkbGVUb3ApO1xuICAgICAgICBwdXNoSWYodG9wUmlnaHQpO1xuICAgICAgICBwdXNoSWYobWlkZGxlUmlnaHQpO1xuICAgICAgICBwdXNoSWYoYm90dG9tUmlnaHQpO1xuICAgICAgICBwdXNoSWYobWlkZGxlQm90dG9tKTtcbiAgICAgICAgcHVzaElmKGJvdHRvbUxlZnQpO1xuICAgICAgICBwdXNoSWYobWlkZGxlTGVmdCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBjZW50ZXIgcG9pbnQgKGluIEoyMDAwKSBvZiB0aGUgY3VycmVudCB2aWV3IGFzIGEgYFBvaW50YC4gKi9cbiAgICBzdGF0aWMgZ2V0Q2VudGVySjIwMDAoY2FudmFzKSB7XG4gICAgICAgIGNvbnN0IHcgPSBjYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBSYXlQaWNraW5nVXRpbHMuZ2V0SW50ZXJzZWN0aW9uUG9pbnRXaXRoU2luZ2xlTW9kZWwodyAvIDIsIGggLyAyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh7IHg6IGNlbnRlclswXSwgeTogY2VudGVyWzFdLCB6OiBjZW50ZXJbMl0gfSwgQ29vcmRzVHlwZS5DQVJURVNJQU4pO1xuICAgIH1cbiAgICAvKiogTWlkZGxlIHBvaW50IG9uIHRoZSB1bml0IHNwaGVyZSBhbG9uZyB0aGUgYXJjIGJldHdlZW4gdHdvIDNEIHBvaW50cy4gKi9cbiAgICBzdGF0aWMgY29tcHV0ZU1pZGRsZVBvaW50KHAxLCBwMikge1xuICAgICAgICAvLyBtaWRwb2ludCBvZiBzZWdtZW50XG4gICAgICAgIGNvbnN0IHhtID0gKHAxLnggKyBwMi54KSAvIDI7XG4gICAgICAgIGNvbnN0IHltID0gKHAxLnkgKyBwMi55KSAvIDI7XG4gICAgICAgIGNvbnN0IHptID0gKHAxLnogKyBwMi56KSAvIDI7XG4gICAgICAgIC8vIHByb2plY3QgdGhlIG1pZHBvaW50IGJhY2sgdG8gdW5pdCBzcGhlcmVcbiAgICAgICAgY29uc3QgbGVuID0gTWF0aC5oeXBvdCh4bSwgeW0sIHptKSB8fCAxO1xuICAgICAgICBjb25zdCB4ID0geG0gLyBsZW47XG4gICAgICAgIGNvbnN0IHkgPSB5bSAvIGxlbjtcbiAgICAgICAgY29uc3QgeiA9IHptIC8gbGVuO1xuICAgICAgICByZXR1cm4gW25ldyBQb2ludCh7IHgsIHksIHogfSwgQ29vcmRzVHlwZS5DQVJURVNJQU4pXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTmVhcmVzdCBpbnRlcnNlY3Rpb24gcG9pbnQgYmV0d2VlbiBhIGZydXN0dW0gcGxhbmUgYW5kIHRoZSB1bml0IHNwaGVyZSxcbiAgICAgKiB1c2luZyB0aGUgcGxhbmUgbm9ybWFsLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXROZWFyZXN0U3BoZXJlUG9pbnQocGxhbmUpIHtcbiAgICAgICAgY29uc3QgW0EsIEIsIEMsIERdID0gcGxhbmU7XG4gICAgICAgIGNvbnN0IFIgPSAxO1xuICAgICAgICBjb25zdCBpbnZMZW4gPSAxIC8gTWF0aC5zcXJ0KEEgKiBBICsgQiAqIEIgKyBDICogQyk7XG4gICAgICAgIGNvbnN0IHQxID0gUiAqIGludkxlbjtcbiAgICAgICAgY29uc3QgdDIgPSAtUiAqIGludkxlbjtcbiAgICAgICAgY29uc3QgUDEgPSBbQSAqIHQxLCBCICogdDEsIEMgKiB0MV07XG4gICAgICAgIGNvbnN0IFAyID0gW0EgKiB0MiwgQiAqIHQyLCBDICogdDJdO1xuICAgICAgICBjb25zdCBkZW4gPSBNYXRoLnNxcnQoQSAqIEEgKyBCICogQiArIEMgKiBDKSB8fCAxO1xuICAgICAgICBjb25zdCBkaXN0MSA9IE1hdGguYWJzKEEgKiBQMVswXSArIEIgKiBQMVsxXSArIEMgKiBQMVsyXSArIEQpIC8gZGVuO1xuICAgICAgICBjb25zdCBkaXN0MiA9IE1hdGguYWJzKEEgKiBQMlswXSArIEIgKiBQMlsxXSArIEMgKiBQMlsyXSArIEQpIC8gZGVuO1xuICAgICAgICBjb25zdCBQID0gZGlzdDEgPD0gZGlzdDIgPyBQMSA6IFAyO1xuICAgICAgICByZXR1cm4gW25ldyBQb2ludCh7IHg6IFBbMF0sIHk6IFBbMV0sIHo6IFBbMl0gfSwgQ29vcmRzVHlwZS5DQVJURVNJQU4pXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJzZWN0aW9ucyBiZXR3ZWVuIGEgZnJ1c3R1bSBwbGFuZSBhbmQgdGhlIHVuaXQgc3BoZXJlLFxuICAgICAqIGNvbXB1dGVkIHZpYSB0d28gcGVycGVuZGljdWxhciBwbGFuZXMuXG4gICAgICogUmV0dXJucyB0d28gcG9pbnRzIChmaXJzdCBmcm9tIGBwbGFuZTRDaXJjbGVfMWAsIHNlY29uZCBmcm9tIGBwbGFuZTRDaXJjbGVfMmApLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRGcnVzdHVtSW50ZXJzZWN0aW9uV2l0aFNwaGVyZShfTSwgcGxhbmU0U3BoZXJlLCBwbGFuZTRDaXJjbGVfMSwgcGxhbmU0Q2lyY2xlXzIpIHtcbiAgICAgICAgY29uc3QgW0EwLCBCMCwgQzAsIEQwXSA9IHBsYW5lNFNwaGVyZTtcbiAgICAgICAgLy8gY2VudGVyIG9mIHRoZSBjaXJjbGUgKHByb2plY3Rpb24gb2Ygc3BoZXJlIGNlbnRlciBvbnRvIHBsYW5lKVxuICAgICAgICBjb25zdCBkZW5vbTAgPSAoQTAgKiBBMCArIEIwICogQjAgKyBDMCAqIEMwKSB8fCAxO1xuICAgICAgICBjb25zdCB4X2MgPSAtKEEwICogRDApIC8gZGVub20wO1xuICAgICAgICBjb25zdCB5X2MgPSAtKEIwICogRDApIC8gZGVub20wO1xuICAgICAgICBjb25zdCB6X2MgPSAtKEMwICogRDApIC8gZGVub20wO1xuICAgICAgICBjb25zdCBkID0gTWF0aC5hYnMoRDApIC8gTWF0aC5zcXJ0KGRlbm9tMCk7IC8vIGRpc3RhbmNlIGZyb20gc3BoZXJlIGNlbnRlciAoMCwwLDApXG4gICAgICAgIGNvbnN0IFIgPSAxO1xuICAgICAgICBjb25zdCBvdXQgPSBbXTtcbiAgICAgICAgaWYgKFIgPiBkKSB7XG4gICAgICAgICAgICBjb25zdCByID0gTWF0aC5zcXJ0KFIgKiBSIC0gZCAqIGQpO1xuICAgICAgICAgICAgY29uc3QgcGljayA9IChwbGFuZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtBLCBCLCBDLCBEXSA9IHBsYW5lO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludkxlbiA9IDEgLyBNYXRoLnNxcnQoQSAqIEEgKyBCICogQiArIEMgKiBDKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0MSA9IHIgKiBpbnZMZW47XG4gICAgICAgICAgICAgICAgY29uc3QgdDIgPSAtciAqIGludkxlbjtcbiAgICAgICAgICAgICAgICBjb25zdCBQMSA9IFt4X2MgKyBBICogdDEsIHlfYyArIEIgKiB0MSwgel9jICsgQyAqIHQxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBQMiA9IFt4X2MgKyBBICogdDIsIHlfYyArIEIgKiB0Miwgel9jICsgQyAqIHQyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZW4gPSBNYXRoLnNxcnQoQSAqIEEgKyBCICogQiArIEMgKiBDKSB8fCAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QxID0gTWF0aC5hYnMoQSAqIFAxWzBdICsgQiAqIFAxWzFdICsgQyAqIFAxWzJdICsgRCkgLyBkZW47XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdDIgPSBNYXRoLmFicyhBICogUDJbMF0gKyBCICogUDJbMV0gKyBDICogUDJbMl0gKyBEKSAvIGRlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzdDEgPD0gZGlzdDIgPyBQMSA6IFAyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IFBfaW50ZXJzZWN0aW9uXzEgPSBwaWNrKHBsYW5lNENpcmNsZV8xKTtcbiAgICAgICAgICAgIGNvbnN0IFBfaW50ZXJzZWN0aW9uXzIgPSBwaWNrKHBsYW5lNENpcmNsZV8yKTtcbiAgICAgICAgICAgIG91dC5wdXNoKG5ldyBQb2ludCh7IHg6IFBfaW50ZXJzZWN0aW9uXzFbMF0sIHk6IFBfaW50ZXJzZWN0aW9uXzFbMV0sIHo6IFBfaW50ZXJzZWN0aW9uXzFbMl0gfSwgQ29vcmRzVHlwZS5DQVJURVNJQU4pLCBuZXcgUG9pbnQoeyB4OiBQX2ludGVyc2VjdGlvbl8yWzBdLCB5OiBQX2ludGVyc2VjdGlvbl8yWzFdLCB6OiBQX2ludGVyc2VjdGlvbl8yWzJdIH0sIENvb3Jkc1R5cGUuQ0FSVEVTSUFOKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoUiA9PT0gZCkge1xuICAgICAgICAgICAgLy8gVGFuZ2VudDogYm90aCBpbnRlcnNlY3Rpb25zIGNvbGxhcHNlIHRvIHRoZSBjaXJjbGUgY2VudGVyIG9uIHRoZSBwbGFuZVxuICAgICAgICAgICAgb3V0LnB1c2gobmV3IFBvaW50KHsgeDogeF9jLCB5OiB5X2MsIHo6IHpfYyB9LCBDb29yZHNUeXBlLkNBUlRFU0lBTiksIG5ldyBQb2ludCh7IHg6IHhfYywgeTogeV9jLCB6OiB6X2MgfSwgQ29vcmRzVHlwZS5DQVJURVNJQU4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIGludGVyc2VjdGlvbjsgcmV0dXJuIGVtcHR5IHRvIGF2b2lkIHB1c2hpbmcgdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0ZydXN0dW0gcGxhbmUgbm90IGludGVyc2VjdGluZyB0aGUgc3BoZXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqIEJ1aWxkIEFEUUwgc3RyaW5nIGZyb20gYW4gYXJyYXkgb2YgUG9pbnRzIChyYSxkZWMgcGFpcnMpLiAqL1xuICAgIHN0YXRpYyBnZXRBc3Ryb0ZvVlBvbHlnb24ocG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludHMubWFwKHAgPT4gcC50b0FEUUwoKSkuam9pbignLCcpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZvVlV0aWxzLmpzLm1hcCIsImltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4uL21vZGVsL1BvaW50LmpzXCI7XG5pbXBvcnQgUG9pbnQyRCBmcm9tIFwiLi4vbW9kZWwvUG9pbnQyRC5qc1wiO1xuaW1wb3J0IHsgQ29vcmRzVHlwZSB9IGZyb20gXCIuL0Nvb3Jkc1R5cGUuanNcIjtcbmNsYXNzIEdlb21VdGlscyB7XG4gICAgLy8gT3J0aG9kcm9taWMgKGdyZWF0LWNpcmNsZSkgZGlzdGFuY2UgaW4gcmFkaWFuc1xuICAgIHN0YXRpYyBvcnRob2Ryb21pY0Rpc3RhbmNlKHAxLCBwMikge1xuICAgICAgICByZXR1cm4gTWF0aC5hY29zKE1hdGguc2luKHAxLmRlY0RlZyAqIE1hdGguUEkgLyAxODApICogTWF0aC5zaW4ocDIuZGVjRGVnICogTWF0aC5QSSAvIDE4MCkgK1xuICAgICAgICAgICAgTWF0aC5jb3MocDEuZGVjRGVnICogTWF0aC5QSSAvIDE4MCkgKiBNYXRoLmNvcyhwMi5kZWNEZWcgKiBNYXRoLlBJIC8gMTgwKSAqXG4gICAgICAgICAgICAgICAgTWF0aC5jb3MoKHAyLnJhRGVnIC0gcDEucmFEZWcpICogTWF0aC5QSSAvIDE4MCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNpZGUgdGhlIDJEIHByb2plY3Rpb24gc3RyYXRlZ3kgYW5kIHByZS1wcm9qZWN0IHBvbHlnb25zIGZvciBwb2ludC1pbi1wb2x5Z29uIHRlc3RzLlxuICAgICAqIFJldHVybnMgdGhlIHByb2plY3RlZCBwb2x5Z29ucyArIGJib3ggKyBhIGZsYWcgZGVzY3JpYmluZyB0aGUgcHJvamVjdGlvbiB1c2VkOlxuICAgICAqIDAg4oaSIGFsbCBwb2ludHMgaW4gc2FtZSBoZW1pc3BoZXJlIHdpdGggfERlY3wgPiAxMCDihpIgc3RlcmVvZ3JhcGhpYy1saWtlIHByb2plY3Rpb24gdXNpbmcgeCx5IGZyb20gM0RcbiAgICAgKiAxIOKGkiBhbGwgcG9pbnRzIGluIGVxdWF0b3JpYWwgYmVsdCAofERlY3wgPCAxMCkg4oaSIHVzZSBSQS9EZWMgZGlyZWN0bHlcbiAgICAgKiAyIOKGkiBlcXVhdG9yaWFsIGJlbHQgYW5kIHBvbHlnb24gY3Jvc3NlcyBSQT0wIOKGkiBzaGlmdCBSQT4xODAgYnkgLTM2MFxuICAgICAqL1xuICAgIHN0YXRpYyBjb21wdXRlU2VsZWN0aW9uT2JqZWN0KHBvbHlnb25zKSB7XG4gICAgICAgIGxldCBwb2x5NHNlbGVjdGlvbiA9IFtdO1xuICAgICAgICBsZXQgZmxhZyA9IDA7XG4gICAgICAgIGxldCBtYXh4O1xuICAgICAgICBsZXQgbWF4eTtcbiAgICAgICAgbGV0IG1pbng7XG4gICAgICAgIGxldCBtaW55O1xuICAgICAgICBjb25zdCBERUNfVEhSRVNIT0xEID0gMTA7XG4gICAgICAgIC8vICAxIOKGkiBub3J0aGVybiBoZW1pc3BoZXJlIChEZWMgPiArMTApLCAtMSDihpIgc291dGhlcm4gKERlYyA8IC0xMCksIDAg4oaSIGVxdWF0b3JpYWwgYmVsdFxuICAgICAgICBsZXQgaGVtaXNwaGVyZSA9IDA7XG4gICAgICAgIGlmIChwb2x5Z29uc1swXVswXS5kZWNEZWcgPj0gREVDX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgaGVtaXNwaGVyZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9seWdvbnNbMF1bMF0uZGVjRGVnIDw9IC1ERUNfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICBoZW1pc3BoZXJlID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmbGFnID0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXNlIGZsYWcgPSAwIOKGkiBzdGVyZW9ncmFwaGljLWxpa2UgcHJvamVjdGlvbiB1c2luZyB4LHkseiBmcm9tIDNEIHBvaW50XG4gICAgICAgIGlmIChmbGFnID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IEdlb21VdGlscy5wcm9qZWN0SW4yRChwb2x5Z29uc1swXVswXSk7XG4gICAgICAgICAgICBtYXh4ID0gbWlueCA9IGZpcnN0Lng7XG4gICAgICAgICAgICBtYXh5ID0gbWlueSA9IGZpcnN0Lnk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJwb2x5IG9mIHBvbHlnb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VscG9seSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgY3VycnBvbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBwb2ludCB2aW9sYXRlcyB0aGUgaGVtaXNwaGVyZSBjb25zdHJhaW50LCBmYWxsIGJhY2sgdG8gYmVsdCBsb2dpY1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHBvaW50LmRlY0RlZyA+IGhlbWlzcGhlcmUgKiBERUNfVEhSRVNIT0xEICYmIGhlbWlzcGhlcmUgPT09IC0xKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHBvaW50LmRlY0RlZyA8IGhlbWlzcGhlcmUgKiBERUNfVEhSRVNIT0xEICYmIGhlbWlzcGhlcmUgPT09IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHk0c2VsZWN0aW9uID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gR2VvbVV0aWxzLnByb2plY3RJbjJEKHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgc2VscG9seS5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICBpZiAocC54ID4gbWF4eClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heHggPSBwLng7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwLnkgPiBtYXh5KVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHAueTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAueCA8IG1pbngpXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW54ID0gcC54O1xuICAgICAgICAgICAgICAgICAgICBpZiAocC55IDwgbWlueSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvbHk0c2VsZWN0aW9uLnB1c2goc2VscG9seSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWcgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9seTRzZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgZmxhZyxcbiAgICAgICAgICAgICAgICBtYXh4OiBtYXh4LFxuICAgICAgICAgICAgICAgIG1heHk6IG1heHksXG4gICAgICAgICAgICAgICAgbWlueDogbWlueCxcbiAgICAgICAgICAgICAgICBtaW55OiBtaW55LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXNlIGZsYWcgPSAxIG9yIDIg4oaSIHdvcmsgZGlyZWN0bHkgaW4gKFJBLERlYylcbiAgICAgICAgY29uc3QgUkFfVEhSRVNIT0xEID0gMTgwO1xuICAgICAgICBsZXQgYmVsb3dUaHJlc2hvbGQgPSBwb2x5Z29uc1swXVswXS5yYURlZyA8IFJBX1RIUkVTSE9MRDtcbiAgICAgICAgbWF4eCA9IG1pbnggPSBwb2x5Z29uc1swXVswXS5yYURlZztcbiAgICAgICAgbWF4eSA9IG1pbnkgPSBwb2x5Z29uc1swXVswXS5kZWNEZWc7XG4gICAgICAgIGZvciAoY29uc3QgY3VycnBvbHkgb2YgcG9seWdvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbHBvbHkgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgY3VycnBvbHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gbmV3IFBvaW50MkQocG9pbnQucmFEZWcsIHBvaW50LmRlY0RlZyk7XG4gICAgICAgICAgICAgICAgc2VscG9seS5wdXNoKHApO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludC5yYURlZyA+IG1heHgpXG4gICAgICAgICAgICAgICAgICAgIG1heHggPSBwb2ludC5yYURlZztcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQuZGVjRGVnID4gbWF4eSlcbiAgICAgICAgICAgICAgICAgICAgbWF4eSA9IHBvaW50LmRlY0RlZztcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQucmFEZWcgPCBtaW54KVxuICAgICAgICAgICAgICAgICAgICBtaW54ID0gcG9pbnQucmFEZWc7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50LmRlY0RlZyA8IG1pbnkpXG4gICAgICAgICAgICAgICAgICAgIG1pbnkgPSBwb2ludC5kZWNEZWc7XG4gICAgICAgICAgICAgICAgLy8gRGV0ZWN0IGNyb3NzaW5nIG9mIFJBPTAgbWVyaWRpYW5cbiAgICAgICAgICAgICAgICBpZiAoKHBvaW50LnJhRGVnID49IFJBX1RIUkVTSE9MRCAmJiBiZWxvd1RocmVzaG9sZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHBvaW50LnJhRGVnIDw9IFJBX1RIUkVTSE9MRCAmJiAhYmVsb3dUaHJlc2hvbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSAyO1xuICAgICAgICAgICAgICAgICAgICBwb2x5NHNlbGVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2x5NHNlbGVjdGlvbi5wdXNoKHNlbHBvbHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFnID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBvbHk0c2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGZsYWcsXG4gICAgICAgICAgICAgICAgbWF4eCxcbiAgICAgICAgICAgICAgICBtYXh5LFxuICAgICAgICAgICAgICAgIG1pbngsXG4gICAgICAgICAgICAgICAgbWlueSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FzZSBmbGFnID0gMiDihpIgc2hpZnQgUkE+MTgwIGJ5IC0zNjAgdG8gdW53cmFwIGFyb3VuZCBSQT0wXG4gICAgICAgIGxldCBzdGFydFJBID0gcG9seWdvbnNbMF1bMF0ucmFEZWc7XG4gICAgICAgIG1heHggPSBzdGFydFJBID49IFJBX1RIUkVTSE9MRCA/IHN0YXJ0UkEgLSAzNjAgOiBzdGFydFJBO1xuICAgICAgICBtYXh5ID0gcG9seWdvbnNbMF1bMF0uZGVjRGVnO1xuICAgICAgICBtaW54ID0gbWF4eDtcbiAgICAgICAgbWlueSA9IG1heHk7XG4gICAgICAgIGZvciAoY29uc3QgY3VycnBvbHkgb2YgcG9seWdvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbHBvbHkgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgY3VycnBvbHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyYSA9IHBvaW50LnJhRGVnID49IFJBX1RIUkVTSE9MRCA/IHBvaW50LnJhRGVnIC0gMzYwIDogcG9pbnQucmFEZWc7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJhID4gbWF4eClcbiAgICAgICAgICAgICAgICAgICAgbWF4eCA9IGN1cnJhO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludC5kZWNEZWcgPiBtYXh5KVxuICAgICAgICAgICAgICAgICAgICBtYXh5ID0gcG9pbnQuZGVjRGVnO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyYSA8IG1pbngpXG4gICAgICAgICAgICAgICAgICAgIG1pbnggPSBjdXJyYTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQuZGVjRGVnIDwgbWlueSlcbiAgICAgICAgICAgICAgICAgICAgbWlueSA9IHBvaW50LmRlY0RlZztcbiAgICAgICAgICAgICAgICBzZWxwb2x5LnB1c2gobmV3IFBvaW50MkQoY3VycmEsIHBvaW50LmRlY0RlZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9seTRzZWxlY3Rpb24ucHVzaChzZWxwb2x5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9seTRzZWxlY3Rpb24sXG4gICAgICAgICAgICBmbGFnLFxuICAgICAgICAgICAgbWF4eCxcbiAgICAgICAgICAgIG1heHksXG4gICAgICAgICAgICBtaW54LFxuICAgICAgICAgICAgbWlueSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIFN0ZXJlb2dyYXBoaWMgcHJvamVjdGlvbiBmcm9tIDNEIHBvaW50IG9uIHVuaXQgc3BoZXJlIG9udG8gcGxhbmUgKi9cbiAgICBzdGF0aWMgc3RlcmVvZ3JhcGhpYyhwb2ludCkge1xuICAgICAgICBjb25zdCB4ID0gTnVtYmVyKHBvaW50Lnh5elswXSk7XG4gICAgICAgIGNvbnN0IHkgPSBOdW1iZXIocG9pbnQueHl6WzFdKTtcbiAgICAgICAgY29uc3QgeiA9IE51bWJlcihwb2ludC54eXpbMl0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogKDIgKiB4KSAvICgxIC0geiksXG4gICAgICAgICAgICB5OiAoMiAqIHkpIC8gKDEgLSB6KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHByb2plY3RJbjJEKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHAgPSBHZW9tVXRpbHMuc3RlcmVvZ3JhcGhpYyhwb2ludCk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQyRChwLngsIHAueSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvYnVzdCBwb2ludC1pbi1wb2x5Z29uIChyYXkgY2FzdGluZykgdXNpbmcgdGhlIHByZWNvbXB1dGVkIHNlbGVjdGlvbiBvYmplY3QuXG4gICAgICogV29ya3Mgd2l0aCBhbnkgb2YgdGhlIHRocmVlIGZsYWdzICgwLDEsMikuXG4gICAgICovXG4gICAgc3RhdGljIGNoZWNrUG9pbnRJbnNpZGVQb2x5Z29uNShzZWxlY3Rpb25PYmosIHBvaW50KSB7XG4gICAgICAgIGxldCBwMDtcbiAgICAgICAgaWYgKHNlbGVjdGlvbk9iai5mbGFnID09PSAwKSB7XG4gICAgICAgICAgICBwMCA9IEdlb21VdGlscy5wcm9qZWN0SW4yRChwb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2VsZWN0aW9uT2JqLmZsYWcgPT09IDEpIHtcbiAgICAgICAgICAgIHAwID0gbmV3IFBvaW50MkQocG9pbnQucmFEZWcsIHBvaW50LmRlY0RlZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBSQV9USFJFU0hPTEQgPSAxODA7XG4gICAgICAgICAgICBjb25zdCByYVNoaWZ0ZWQgPSBwb2ludC5yYURlZyA+PSBSQV9USFJFU0hPTEQgPyBwb2ludC5yYURlZyAtIDM2MCA6IHBvaW50LnJhRGVnO1xuICAgICAgICAgICAgcDAgPSBuZXcgUG9pbnQyRChyYVNoaWZ0ZWQsIHBvaW50LmRlY0RlZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcDEgPSBuZXcgUG9pbnQyRChwMC54LCBwMC55ICsgMiAqIE1hdGguYWJzKHNlbGVjdGlvbk9iai5tYXh5IC0gc2VsZWN0aW9uT2JqLm1pbnkpKTtcbiAgICAgICAgLy8gcXVpY2sgcmVqZWN0IGJ5IGJib3hcbiAgICAgICAgaWYgKHAwLnggPiBzZWxlY3Rpb25PYmoubWF4eCB8fFxuICAgICAgICAgICAgcDAueCA8IHNlbGVjdGlvbk9iai5taW54IHx8XG4gICAgICAgICAgICBwMC55ID4gc2VsZWN0aW9uT2JqLm1heHkgfHxcbiAgICAgICAgICAgIHAwLnkgPCBzZWxlY3Rpb25PYmoubWlueSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJheSBjYXN0aW5nIGFnYWluc3QgZWFjaCBzdWItcG9seWdvblxuICAgICAgICBmb3IgKGNvbnN0IGN1cnJwb2x5IG9mIHNlbGVjdGlvbk9iai5wb2x5NHNlbGVjdGlvbikge1xuICAgICAgICAgICAgbGV0IGludGVyc2VjdGlvbnMgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJycG9seS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwMiA9IGN1cnJwb2x5W2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHAzID0gY3VycnBvbHlbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gKHAzLnkgLSBwMi55KSAqIChwMS54IC0gcDAueCkgLSAocDMueCAtIHAyLngpICogKHAxLnkgLSBwMC55KTtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1lcmF0b3IwMSA9IChwMy54IC0gcDIueCkgKiAocDAueSAtIHAyLnkpIC0gKHAzLnkgLSBwMi55KSAqIChwMC54IC0gcDIueCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtZXJhdG9yMjMgPSAocDEueCAtIHAwLngpICogKHAwLnkgLSBwMi55KSAtIChwMS55IC0gcDAueSkgKiAocDAueCAtIHAyLngpO1xuICAgICAgICAgICAgICAgIGlmIChkZW5vbWluYXRvciAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW1kYTAxID0gbnVtZXJhdG9yMDEgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFtYmRhMjMgPSBudW1lcmF0b3IyMyAvIGRlbm9taW5hdG9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFtZGEwMSA+PSAwICYmIGxhbWRhMDEgPD0gMSAmJiBsYW1iZGEyMyA+PSAwICYmIGxhbWJkYTIzIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uOiBsYXN0IHdpdGggZmlyc3RcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwMiA9IGN1cnJwb2x5W2N1cnJwb2x5Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHAzID0gY3VycnBvbHlbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZGVub21pbmF0b3IgPSAocDMueSAtIHAyLnkpICogKHAxLnggLSBwMC54KSAtIChwMy54IC0gcDIueCkgKiAocDEueSAtIHAwLnkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bWVyYXRvcjAxID0gKHAzLnggLSBwMi54KSAqIChwMC55IC0gcDIueSkgLSAocDMueSAtIHAyLnkpICogKHAwLnggLSBwMi54KTtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1lcmF0b3IyMyA9IChwMS54IC0gcDAueCkgKiAocDAueSAtIHAyLnkpIC0gKHAxLnkgLSBwMC55KSAqIChwMC54IC0gcDIueCk7XG4gICAgICAgICAgICAgICAgaWYgKGRlbm9taW5hdG9yICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbWRhMDEgPSBudW1lcmF0b3IwMSAvIGRlbm9taW5hdG9yO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW1iZGEyMyA9IG51bWVyYXRvcjIzIC8gZGVub21pbmF0b3I7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYW1kYTAxID49IDAgJiYgbGFtZGEwMSA8PSAxICYmIGxhbWJkYTIzID49IDAgJiYgbGFtYmRhMjMgPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvbnMgJSAyID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGluc2lkZSB0aGlzIHN1YnBvbHlnb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIExlZ2FjeSB2ZXJzaW9uIGtlcHQgZm9yIHJlZmVyZW5jZTsgbm93IHR5cGVkIGFuZCB1c2luZyBnZXR0ZXJzXG4gICAgc3RhdGljIGNoZWNrUG9pbnRJbnNpZGVQb2x5Z29uNChwb2x5Z29ucywgcG9pbnQpIHtcbiAgICAgICAgY29uc3QgcDAgPSBHZW9tVXRpbHMucHJvamVjdEluMkQocG9pbnQpO1xuICAgICAgICBsZXQgbWF4ZGlzdCA9IHBvaW50LnJhRGVnICsgMTU7XG4gICAgICAgIGlmIChtYXhkaXN0ID4gMzYwKVxuICAgICAgICAgICAgbWF4ZGlzdCA9IHBvaW50LnJhRGVnIC0gMTU7XG4gICAgICAgIGNvbnN0IHAxcG9pbnQgPSBuZXcgUG9pbnQoeyByYURlZzogbWF4ZGlzdCwgZGVjRGVnOiBwb2ludC5kZWNEZWcgfSwgQ29vcmRzVHlwZS5BU1RSTyk7XG4gICAgICAgIGNvbnN0IHAxID0gR2VvbVV0aWxzLnByb2plY3RJbjJEKHAxcG9pbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IGN1cnJwb2x5IG9mIHBvbHlnb25zKSB7XG4gICAgICAgICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJwb2x5Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAyID0gR2VvbVV0aWxzLnByb2plY3RJbjJEKGN1cnJwb2x5W2ldKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwMyA9IEdlb21VdGlscy5wcm9qZWN0SW4yRChjdXJycG9seVtpICsgMV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gKHAzLnkgLSBwMi55KSAqIChwMS54IC0gcDAueCkgLSAocDMueCAtIHAyLngpICogKHAxLnkgLSBwMC55KTtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1lcmF0b3IwMSA9IChwMy54IC0gcDIueCkgKiAocDAueSAtIHAyLnkpIC0gKHAzLnkgLSBwMi55KSAqIChwMC54IC0gcDIueCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtZXJhdG9yMjMgPSAocDEueCAtIHAwLngpICogKHAwLnkgLSBwMi55KSAtIChwMS55IC0gcDAueSkgKiAocDAueCAtIHAyLngpO1xuICAgICAgICAgICAgICAgIGlmIChkZW5vbWluYXRvciAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW1kYTAxID0gbnVtZXJhdG9yMDEgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFtYmRhMjMgPSBudW1lcmF0b3IyMyAvIGRlbm9taW5hdG9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFtZGEwMSA+PSAwICYmIGxhbWRhMDEgPD0gMSAmJiBsYW1iZGEyMyA+PSAwICYmIGxhbWJkYTIzIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwMiA9IEdlb21VdGlscy5wcm9qZWN0SW4yRChjdXJycG9seVtjdXJycG9seS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcDMgPSBHZW9tVXRpbHMucHJvamVjdEluMkQoY3VycnBvbHlbMF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gKHAzLnkgLSBwMi55KSAqIChwMS54IC0gcDAueCkgLSAocDMueCAtIHAyLngpICogKHAxLnkgLSBwMC55KTtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1lcmF0b3IwMSA9IChwMy54IC0gcDIueCkgKiAocDAueSAtIHAyLnkpIC0gKHAzLnkgLSBwMi55KSAqIChwMC54IC0gcDIueCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtZXJhdG9yMjMgPSAocDEueCAtIHAwLngpICogKHAwLnkgLSBwMi55KSAtIChwMS55IC0gcDAueSkgKiAocDAueCAtIHAyLngpO1xuICAgICAgICAgICAgICAgIGlmIChkZW5vbWluYXRvciAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW1kYTAxID0gbnVtZXJhdG9yMDEgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFtYmRhMjMgPSBudW1lcmF0b3IyMyAvIGRlbm9taW5hdG9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFtZGEwMSA+PSAwICYmIGxhbWRhMDEgPD0gMSAmJiBsYW1iZGEyMyA+PSAwICYmIGxhbWJkYTIzIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb25zICUgMiA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgR2VvbVV0aWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VvbVV0aWxzLmpzLm1hcCIsIi8qKlxuICogQGF1dGhvciBGYWJyaXppbyBHaW9yZGFubyAoRmFiKVxuICovXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuaW1wb3J0IHsgVmVjMywgUG9pbnRpbmcgfSBmcm9tIFwiaGVhbHBpeGpzXCI7XG5pbXBvcnQgZ2xvYmFsIGZyb20gXCIuLi9HbG9iYWwuanNcIjtcbmltcG9ydCB7IGNhcnRlc2lhblRvU3BoZXJpY2FsLCBzcGhlcmljYWxUb0FzdHJvRGVnLCByYURlZ1RvSE1TLCBkZWNEZWdUb0RNUywgfSBmcm9tIFwiLi9VdGlscy5qc1wiO1xuZnVuY3Rpb24gdG9WZWMzKHApIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwKSA/IHZlYzMuZnJvbVZhbHVlcyhwWzBdLCBwWzFdLCBwWzJdKSA6IHA7XG59XG5jbGFzcyBNb3VzZUhlbHBlciB7XG4gICAgX3h5eiA9IG51bGw7XG4gICAgX3JhRGVjRGVnID0gbnVsbDtcbiAgICBfcGhpVGhldGFEZWcgPSBudWxsO1xuICAgIHJhSE1TO1xuICAgIGRlY0RNUztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaW5feHl6IFt4LCB5LCB6XVxuICAgICAqIEBwYXJhbSBpbl9yYURlY0RlZyB7IHJhLCBkZWMgfSBpbiBkZWdyZWVzIChJQ1JTL0oyMDAwKVxuICAgICAqIEBwYXJhbSBpbl9waGlUaGV0YURlZyB7IHBoaSwgdGhldGEgfSBpbiBkZWdyZWVzIChzcGhlcmljYWwpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW5feHl6LCBpbl9yYURlY0RlZywgaW5fcGhpVGhldGFEZWcpIHtcbiAgICAgICAgaWYgKGluX3h5eiAhPSBudWxsKVxuICAgICAgICAgICAgdGhpcy5feHl6ID0gaW5feHl6O1xuICAgICAgICBpZiAoaW5fcmFEZWNEZWcgIT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuX3JhRGVjRGVnID0gaW5fcmFEZWNEZWc7XG4gICAgICAgIGlmIChpbl9waGlUaGV0YURlZyAhPSBudWxsKVxuICAgICAgICAgICAgdGhpcy5fcGhpVGhldGFEZWcgPSBpbl9waGlUaGV0YURlZztcbiAgICAgICAgaWYgKHRoaXMuX3JhRGVjRGVnKSB7XG4gICAgICAgICAgICB0aGlzLnJhSE1TID0gcmFEZWdUb0hNUyh0aGlzLl9yYURlY0RlZy5yYSk7XG4gICAgICAgICAgICB0aGlzLmRlY0RNUyA9IGRlY0RlZ1RvRE1TKHRoaXMuX3JhRGVjRGVnLmRlYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIChGb3JtZXJseSBgY29tcHV0ZU5waXgyNTZgKSBVc2VzIGdsb2JhbC5uc2lkZUZvclNlbGVjdGlvbi4gKi9cbiAgICBjb21wdXRlTnBpeCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl94eXopXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgaHAgPSBnbG9iYWwuZ2V0SGVhbHBpeChnbG9iYWwubnNpZGVGb3JTZWxlY3Rpb24pO1xuICAgICAgICBjb25zdCB2ID0gbmV3IFZlYzModGhpcy5feHl6WzBdLCB0aGlzLl94eXpbMV0sIHRoaXMuX3h5elsyXSk7XG4gICAgICAgIGNvbnN0IHB0ZyA9IG5ldyBQb2ludGluZyh2LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBocC5hbmcycGl4KHB0ZywgZmFsc2UpO1xuICAgIH1cbiAgICAvKiogVXBkYXRlIGhlbHBlciBzdGF0ZSBmcm9tIGEgd29ybGQtc3BhY2UgM0QgcG9pbnQgb24gdGhlIHVuaXQgc3BoZXJlLiAqL1xuICAgIHVwZGF0ZShtb3VzZVBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1wID0gdG9WZWMzKG1vdXNlUG9pbnQpO1xuICAgICAgICBjb25zdCBzcGggPSBjYXJ0ZXNpYW5Ub1NwaGVyaWNhbChtcCk7XG4gICAgICAgIGNvbnN0IHJhZGVjID0gc3BoZXJpY2FsVG9Bc3Ryb0RlZyhzcGgucGhpLCBzcGgudGhldGEpO1xuICAgICAgICB0aGlzLl94eXogPSBbbXBbMF0sIG1wWzFdLCBtcFsyXV07XG4gICAgICAgIHRoaXMuX3BoaVRoZXRhRGVnID0gc3BoO1xuICAgICAgICB0aGlzLl9yYURlY0RlZyA9IHJhZGVjO1xuICAgICAgICB0aGlzLnJhSE1TID0gcmFEZWdUb0hNUyhyYWRlYy5yYSk7XG4gICAgICAgIHRoaXMuZGVjRE1TID0gZGVjRGVnVG9ETVMocmFkZWMuZGVjKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3h5eiA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JhRGVjRGVnID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGhpVGhldGFEZWcgPSBudWxsO1xuICAgICAgICB0aGlzLnJhSE1TID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRlY0RNUyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gLS0tIGdldHRlcnMgLS0tXG4gICAgZ2V0IHh5eigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3h5ejtcbiAgICB9XG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl94eXogPyB0aGlzLl94eXpbMF0gOiBudWxsO1xuICAgIH1cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3h5eiA/IHRoaXMuX3h5elsxXSA6IG51bGw7XG4gICAgfVxuICAgIGdldCB6KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feHl6ID8gdGhpcy5feHl6WzJdIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IHJhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmFEZWNEZWcgPyB0aGlzLl9yYURlY0RlZy5yYSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBkZWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYURlY0RlZyA/IHRoaXMuX3JhRGVjRGVnLmRlYyA6IG51bGw7XG4gICAgfVxuICAgIGdldCBwaGkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waGlUaGV0YURlZyA/IHRoaXMuX3BoaVRoZXRhRGVnLnBoaSA6IG51bGw7XG4gICAgfVxuICAgIGdldCB0aGV0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BoaVRoZXRhRGVnID8gdGhpcy5fcGhpVGhldGFEZWcudGhldGEgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgcmFEZWNEZWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYURlY0RlZztcbiAgICB9XG4gICAgZ2V0IHBoaVRoZXRhRGVnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGhpVGhldGFEZWc7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgTW91c2VIZWxwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb3VzZUhlbHBlci5qcy5tYXAiLCIvKipcbiAqIEBhdXRob3IgRmFicml6aW8gR2lvcmRhbm8gKEZhYilcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuaW1wb3J0IGdsb2JhbCBmcm9tIFwiLi4vR2xvYmFsLmpzXCI7XG5pbXBvcnQgY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uIGZyb20gXCIuL0NvbXB1dGVQZXJzcGVjdGl2ZU1hdHJpeC5qc1wiO1xuaW1wb3J0IGhlYWxwaXhHcmlkU2luZ2xldG9uIGZyb20gXCIuLi9tb2RlbC9ncmlkL0hlYWxwaXhHcmlkU2luZ2xldG9uLmpzXCI7XG5jbGFzcyBSYXlQaWNraW5nVXRpbHMge1xuICAgIHN0YXRpYyBsYXN0TmVhcmVzdFZpc2libGVPYmplY3RJZHggPSAtMTtcbiAgICAvKiogR2V0IGluZGV4IG9mIHRoZSBsYXN0IG9iamVjdCBmb3VuZCB1bmRlciB0aGUgbW91c2UgKGlmIGFueSkuICovXG4gICAgc3RhdGljIGdldE5lYXJlc3RWaXNpYmxlT2JqZWN0SWR4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0TmVhcmVzdFZpc2libGVPYmplY3RJZHg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhIHdvcmxkLXNwYWNlIHJheSBmcm9tIG1vdXNlIGNvb3Jkcy5cbiAgICAgKiBAcGFyYW0gbW91c2VYIENsaWVudFggKHBhZ2UgcGl4ZWxzKVxuICAgICAqIEBwYXJhbSBtb3VzZVkgQ2xpZW50WSAocGFnZSBwaXhlbHMpXG4gICAgICogQHBhcmFtIHBNYXRyaXggUHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyBXb3JsZC1zcGFjZSBkaXJlY3Rpb24gKG5vcm1hbGl6ZWQpIGFzIGEgdmVjM1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRSYXlGcm9tTW91c2UobW91c2VYLCBtb3VzZVksIHBNYXRyaXgpIHtcbiAgICAgICAgaWYgKCFnbG9iYWwuY2FtZXJhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW1lcmEgaXMgbm90IGluaXRpYWxpemVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2TWF0cml4ID0gZ2xvYmFsLmNhbWVyYS5nZXRDYW1lcmFNYXRyaXgoKTtcbiAgICAgICAgY29uc3QgZ2wgPSBnbG9iYWwuZ2w7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBnbC5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGNhbnZhc01YID0gbW91c2VYIC0gcmVjdC5sZWZ0O1xuICAgICAgICBjb25zdCBjYW52YXNNWSA9IG1vdXNlWSAtIHJlY3QudG9wO1xuICAgICAgICAvLyB2aWV3cG9ydCDihpIgTkRDXG4gICAgICAgIGNvbnN0IHggPSAoMi4wICogY2FudmFzTVgpIC8gZ2wuY2FudmFzLmNsaWVudFdpZHRoIC0gMS4wO1xuICAgICAgICBjb25zdCB5ID0gMS4wIC0gKDIuMCAqIGNhbnZhc01ZKSAvIGdsLmNhbnZhcy5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHogPSAtMS4wO1xuICAgICAgICAvLyBOREMg4oaSIGNsaXBcbiAgICAgICAgY29uc3QgcmF5Q2xpcCA9IFt4LCB5LCB6LCAxLjBdO1xuICAgICAgICAvLyBjbGlwIOKGkiBleWVcbiAgICAgICAgY29uc3QgcEludiA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuaW52ZXJ0KHBJbnYsIHBNYXRyaXgpO1xuICAgICAgICBjb25zdCByYXlFeWU0ID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICBSYXlQaWNraW5nVXRpbHMubWF0NE11bHRpcGx5VmVjNChwSW52LCByYXlDbGlwLCByYXlFeWU0KTtcbiAgICAgICAgLy8gZGlyZWN0aW9uIGluIGV5ZSBzcGFjZSAoeiA9IC0xLCB3ID0gMClcbiAgICAgICAgY29uc3QgcmF5RXllID0gW3JheUV5ZTRbMF0sIHJheUV5ZTRbMV0sIC0xLjAsIDAuMF07XG4gICAgICAgIC8vIGV5ZSDihpIgd29ybGRcbiAgICAgICAgY29uc3QgdkludiA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuaW52ZXJ0KHZJbnYsIHZNYXRyaXgpO1xuICAgICAgICBjb25zdCByYXlXb3JsZDQgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIFJheVBpY2tpbmdVdGlscy5tYXQ0TXVsdGlwbHlWZWM0KHZJbnYsIHJheUV5ZSwgcmF5V29ybGQ0KTtcbiAgICAgICAgY29uc3QgcmF5V29ybGQgPSB2ZWMzLmZyb21WYWx1ZXMocmF5V29ybGQ0WzBdLCByYXlXb3JsZDRbMV0sIHJheVdvcmxkNFsyXSk7XG4gICAgICAgIHZlYzMubm9ybWFsaXplKHJheVdvcmxkLCByYXlXb3JsZCk7XG4gICAgICAgIHJldHVybiByYXlXb3JsZDtcbiAgICB9XG4gICAgLyoqIGEqYiAoNHg0ICogdmVjNCkg4oaSIHZlYzQgKGluIGBvdXRgKSAqL1xuICAgIHN0YXRpYyBtYXQ0TXVsdGlwbHlWZWM0KGEsIGIsIG91dCkge1xuICAgICAgICBjb25zdCBkID0gYlswXSwgZSA9IGJbMV0sIGcgPSBiWzJdLCB3ID0gYlszXTtcbiAgICAgICAgb3V0WzBdID0gYVswXSAqIGQgKyBhWzRdICogZSArIGFbOF0gKiBnICsgYVsxMl0gKiB3O1xuICAgICAgICBvdXRbMV0gPSBhWzFdICogZCArIGFbNV0gKiBlICsgYVs5XSAqIGcgKyBhWzEzXSAqIHc7XG4gICAgICAgIG91dFsyXSA9IGFbMl0gKiBkICsgYVs2XSAqIGUgKyBhWzEwXSAqIGcgKyBhWzE0XSAqIHc7XG4gICAgICAgIG91dFszXSA9IGFbM10gKiBkICsgYVs3XSAqIGUgKyBhWzExXSAqIGcgKyBhWzE1XSAqIHc7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJheeKAk3NwaGVyZSBpbnRlcnNlY3Rpb24gKHdvcmxkIHNwYWNlKS5cbiAgICAgKiBAcmV0dXJucyBkaXN0YW5jZSBgdGAgYWxvbmcgdGhlIHJheSB0byB0aGUgZmlyc3QgaGl0LCBvciBgLTFgIGlmIG5vIGhpdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmF5U3BoZXJlKHJheU9yaWdXb3JsZCwgcmF5RGlyZWN0aW9uV29ybGQpIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbkRpc3RhbmNlID0gLTE7XG4gICAgICAgIGNvbnN0IEwgPSB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgICB2ZWMzLnN1YnRyYWN0KEwsIHJheU9yaWdXb3JsZCwgaGVhbHBpeEdyaWRTaW5nbGV0b24uY2VudGVyKTtcbiAgICAgICAgY29uc3QgYiA9IHZlYzMuZG90KHJheURpcmVjdGlvbldvcmxkLCBMKTtcbiAgICAgICAgY29uc3QgYyA9IHZlYzMuZG90KEwsIEwpIC0gaGVhbHBpeEdyaWRTaW5nbGV0b24ucmFkaXVzICogaGVhbHBpeEdyaWRTaW5nbGV0b24ucmFkaXVzO1xuICAgICAgICBjb25zdCBkaXNjID0gYiAqIGIgLSBjO1xuICAgICAgICBpZiAoZGlzYyA+IDAuMCkge1xuICAgICAgICAgICAgY29uc3QgcyA9IE1hdGguc3FydChkaXNjKTtcbiAgICAgICAgICAgIGNvbnN0IHRhID0gLWIgKyBzO1xuICAgICAgICAgICAgY29uc3QgdGIgPSAtYiAtIHM7XG4gICAgICAgICAgICBpZiAodGEgPCAwLjAgJiYgdGIgPCAwLjApIHtcbiAgICAgICAgICAgICAgICAvLyBiZWhpbmQgY2FtZXJhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0YiA8IDAuMCkge1xuICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbkRpc3RhbmNlID0gdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25EaXN0YW5jZSA9IE1hdGgubWluKHRhLCB0Yik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlzYyA9PT0gMC4wKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gLWI7IC8vIHRhbmdlbnRcbiAgICAgICAgICAgIGlmICh0ID49IDAuMCkge1xuICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbkRpc3RhbmNlID0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uRGlzdGFuY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgaW50ZXJzZWN0aW9uIHdpdGggYSBzaW5nbGUgbW9kZWwgKGRlZmF1bHRzIHRvIHRoZSBIZWFscGl4IGdyaWQpLlxuICAgICAqIEByZXR1cm5zIG1vZGVsLXNwYWNlIGludGVyc2VjdGlvbiBwb2ludCAodmVjMykgaWYgaGl0LCBvdGhlcndpc2UgZW1wdHkgYXJyYXk7IGFuZCB0aGUgcGlja2VkIG1vZGVsLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnRlcnNlY3Rpb25Qb2ludFdpdGhTaW5nbGVNb2RlbChtb3VzZVgsIG1vdXNlWSkge1xuICAgICAgICBjb25zdCBwTWF0cml4ID0gY29tcHV0ZVBlcnNwZWN0aXZlTWF0cml4U2luZ2xldG9uLnBNYXRyaXg7XG4gICAgICAgIGNvbnN0IGNhbWVyYSA9IGdsb2JhbC5jYW1lcmE7XG4gICAgICAgIGlmICghY2FtZXJhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW1lcmEgaXMgbm90IGluaXRpYWxpemVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXlXb3JsZCA9IFJheVBpY2tpbmdVdGlscy5nZXRSYXlGcm9tTW91c2UobW91c2VYLCBtb3VzZVksIHBNYXRyaXgpO1xuICAgICAgICBjb25zdCB0ID0gUmF5UGlja2luZ1V0aWxzLnJheVNwaGVyZShjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKSwgcmF5V29ybGQpO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uTW9kZWxQb2ludCA9IFtdO1xuICAgICAgICBpZiAodCA+PSAwKSB7XG4gICAgICAgICAgICAvLyB3b3JsZCBpbnRlcnNlY3Rpb25cbiAgICAgICAgICAgIGNvbnN0IHdvcmxkSGl0ID0gdmVjMy5jcmVhdGUoKTtcbiAgICAgICAgICAgIHZlYzMuc2NhbGUod29ybGRIaXQsIHJheVdvcmxkLCB0KTtcbiAgICAgICAgICAgIHZlYzMuYWRkKHdvcmxkSGl0LCBjYW1lcmEuZ2V0Q2FtZXJhUG9zaXRpb24oKSwgd29ybGRIaXQpO1xuICAgICAgICAgICAgLy8gd29ybGQg4oaSIG1vZGVsXG4gICAgICAgICAgICBjb25zdCB3b3JsZEhpdDQgPSBbd29ybGRIaXRbMF0sIHdvcmxkSGl0WzFdLCB3b3JsZEhpdFsyXSwgMS4wXTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsSGl0NCA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgICAgIFJheVBpY2tpbmdVdGlscy5tYXQ0TXVsdGlwbHlWZWM0KGhlYWxwaXhHcmlkU2luZ2xldG9uLmdldE1vZGVsTWF0cml4SW52ZXJzZSgpLCB3b3JsZEhpdDQsIG1vZGVsSGl0NCk7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Nb2RlbFBvaW50ID0gW21vZGVsSGl0NFswXSwgbW9kZWxIaXQ0WzFdLCBtb2RlbEhpdDRbMl1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25Nb2RlbFBvaW50O1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFJheVBpY2tpbmdVdGlscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJheVBpY2tpbmdVdGlscy5qcy5tYXAiLCIvKipcbiAqIEBhdXRob3IgRmFicml6aW8gR2lvcmRhbm8gKEZhYilcbiAqL1xuaW1wb3J0IHsgdmVjMyB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbi8vIHJlc3VsdHMgaW4gZGVncmVlc1xuZXhwb3J0IGZ1bmN0aW9uIGNhcnRlc2lhblRvU3BoZXJpY2FsKHh5eikge1xuICAgIGNvbnN0IGRvdFhZWiA9IHZlYzMuZG90KHh5eiwgeHl6KTtcbiAgICBjb25zdCByID0gTWF0aC5zcXJ0KGRvdFhZWik7XG4gICAgbGV0IHRoZXRhID0gTWF0aC5hY29zKHh5elsyXSAvIHIpO1xuICAgIHRoZXRhID0gcmFkVG9EZWcodGhldGEpO1xuICAgIC8vIE5COiBpbiBhdGFuKHkveCkgaXMgd3JpdHRlbiB3aXRoIHBhcmFtcyBzd2l0Y2hlZCBhdGFuMih4LCB5KVxuICAgIGxldCBwaGkgPSBNYXRoLmF0YW4yKHh5elsxXSwgeHl6WzBdKTtcbiAgICBwaGkgPSByYWRUb0RlZyhwaGkpO1xuICAgIGlmIChwaGkgPCAwKSB7XG4gICAgICAgIHBoaSArPSAzNjA7XG4gICAgfVxuICAgIHJldHVybiB7IHBoaSwgdGhldGEgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckhleDJSR0IoaGV4Q29sb3IpIHtcbiAgICBjb25zdCBoZXgxID0gaGV4Q29sb3Iuc3Vic3RyaW5nKDEsIDMpO1xuICAgIGNvbnN0IGhleDIgPSBoZXhDb2xvci5zdWJzdHJpbmcoMywgNSk7XG4gICAgY29uc3QgaGV4MyA9IGhleENvbG9yLnN1YnN0cmluZyg1LCA3KTtcbiAgICBjb25zdCBkZWMxID0gcGFyc2VJbnQoaGV4MSwgMTYpO1xuICAgIGNvbnN0IGRlYzIgPSBwYXJzZUludChoZXgyLCAxNik7XG4gICAgY29uc3QgZGVjMyA9IHBhcnNlSW50KGhleDMsIDE2KTtcbiAgICBjb25zdCByZ2IxID0gKGRlYzEgLyAyNTUpLnRvRml4ZWQoMik7XG4gICAgY29uc3QgcmdiMiA9IChkZWMyIC8gMjU1KS50b0ZpeGVkKDIpO1xuICAgIGNvbnN0IHJnYjMgPSAoZGVjMyAvIDI1NSkudG9GaXhlZCgyKTtcbiAgICByZXR1cm4gW3BhcnNlRmxvYXQocmdiMSksIHBhcnNlRmxvYXQocmdiMiksIHBhcnNlRmxvYXQocmdiMyldO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZ1RvUmFkKGRlZ3JlZXMpIHtcbiAgICByZXR1cm4gKGRlZ3JlZXMgLyAxODApICogTWF0aC5QSTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByYWRUb0RlZyhyYWRpYW5zKSB7XG4gICAgcmV0dXJuIChyYWRpYW5zICogMTgwKSAvIE1hdGguUEk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3BoZXJpY2FsVG9Bc3Ryb0RlZyhwaGlEZWcsIHRoZXRhRGVnKSB7XG4gICAgbGV0IHJhRGVnID0gcGhpRGVnO1xuICAgIGlmIChyYURlZyA8IDApIHtcbiAgICAgICAgcmFEZWcgKz0gMzYwO1xuICAgIH1cbiAgICBjb25zdCBkZWNEZWcgPSA5MCAtIHRoZXRhRGVnO1xuICAgIHJldHVybiB7IHJhOiByYURlZywgZGVjOiBkZWNEZWcgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzcGhlcmljYWxUb0NhcnRlc2lhbihwaGlEZWcsIHRoZXRhRGVnLCByID0gMSkge1xuICAgIGNvbnN0IHggPSByICogTWF0aC5zaW4oZGVnVG9SYWQodGhldGFEZWcpKSAqIE1hdGguY29zKGRlZ1RvUmFkKHBoaURlZykpO1xuICAgIGNvbnN0IHkgPSByICogTWF0aC5zaW4oZGVnVG9SYWQodGhldGFEZWcpKSAqIE1hdGguc2luKGRlZ1RvUmFkKHBoaURlZykpO1xuICAgIGNvbnN0IHogPSByICogTWF0aC5jb3MoZGVnVG9SYWQodGhldGFEZWcpKTtcbiAgICByZXR1cm4gW3gsIHksIHpdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzdHJvRGVnVG9TcGhlcmljYWwocmFEZWcsIGRlY0RlZykge1xuICAgIGxldCBwaGlEZWcgPSByYURlZztcbiAgICBpZiAocGhpRGVnIDwgMCkge1xuICAgICAgICBwaGlEZWcgKz0gMzYwO1xuICAgIH1cbiAgICBjb25zdCB0aGV0YURlZyA9IDkwIC0gZGVjRGVnO1xuICAgIHJldHVybiB7IHBoaTogcGhpRGVnLCB0aGV0YTogdGhldGFEZWcgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByYURlZ1RvSE1TKHJhRGVnKSB7XG4gICAgY29uc3QgaCA9IE1hdGguZmxvb3IocmFEZWcgLyAxNSk7XG4gICAgY29uc3QgbSA9IE1hdGguZmxvb3IoKHJhRGVnIC8gMTUgLSBoKSAqIDYwKTtcbiAgICBjb25zdCBzID0gKHJhRGVnIC8gMTUgLSBoIC0gbSAvIDYwKSAqIDM2MDA7XG4gICAgcmV0dXJuIHsgaCwgbSwgcyB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlY0RlZ1RvRE1TKGRlY0RlZykge1xuICAgIGxldCBzaWduID0gMTtcbiAgICBpZiAoZGVjRGVnIDwgMCkge1xuICAgICAgICBzaWduID0gLTE7XG4gICAgfVxuICAgIGNvbnN0IGRlY0RlZ0FicyA9IE1hdGguYWJzKGRlY0RlZyk7XG4gICAgbGV0IGQgPSBNYXRoLnRydW5jKGRlY0RlZ0Ficyk7XG4gICAgY29uc3QgbSA9IE1hdGgudHJ1bmMoKGRlY0RlZ0FicyAtIGQpICogNjApO1xuICAgIGNvbnN0IHMgPSAoZGVjRGVnQWJzIC0gZCAtIG0gLyA2MCkgKiAzNjAwO1xuICAgIGQgPSBkICogc2lnbjtcbiAgICByZXR1cm4geyBkLCBtLCBzIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VdGlscy5qcy5tYXAiLCIvKipcbiAqIENvbW1vbiB1dGlsaXRpZXNcbiAqIEBtb2R1bGUgZ2xNYXRyaXhcbiAqL1xuXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xuZXhwb3J0IHZhciBFUFNJTE9OID0gMC4wMDAwMDE7XG5leHBvcnQgdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSBcInVuZGVmaW5lZFwiID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuZXhwb3J0IHZhciBBTkdMRV9PUkRFUiA9IFwienl4XCI7XG5cbi8qKlxuICogU3ltbWV0cmljIHJvdW5kXG4gKiBzZWUgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvcm91bmQtaGFsZi11cC1zeW1tZXRyaWMjdXNlci1jb250ZW50LWRldGFpbGVkLWJhY2tncm91bmRcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSB2YWx1ZSB0byByb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQoYSkge1xuICBpZiAoYSA+PSAwKSByZXR1cm4gTWF0aC5yb3VuZChhKTtcbiAgcmV0dXJuIGEgJSAwLjUgPT09IDAgPyBNYXRoLmZsb29yKGEpIDogTWF0aC5yb3VuZChhKTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIG9mIGFycmF5IHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdmVjdG9ycyBhbmQgbWF0cmljZXNcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpIHtcbiAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG52YXIgZGVncmVlID0gTWF0aC5QSSAvIDE4MDtcbnZhciByYWRpYW4gPSAxODAgLyBNYXRoLlBJO1xuXG4vKipcbiAqIENvbnZlcnQgRGVncmVlIFRvIFJhZGlhblxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFuKGEpIHtcbiAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG5cbi8qKlxuICogQ29udmVydCBSYWRpYW4gVG8gRGVncmVlXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gUmFkaWFuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9EZWdyZWUoYSkge1xuICByZXR1cm4gYSAqIHJhZGlhbjtcbn1cblxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXG4gKiBvciByZWxhdGl2ZSB0b2xlcmFuY2Ugb2YgZ2xNYXRyaXguRVBTSUxPTiAoYW4gYWJzb2x1dGUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIHZhbHVlcyBsZXNzXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgICAgICAgICAgVGhlIGZpcnN0IG51bWJlciB0byB0ZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IGIgICAgICAgICAgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b2xlcmFuY2UgIEFic29sdXRlIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSAoZGVmYXVsdCBnbE1hdHJpeC5FUFNJTE9OKVxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciB0b2xlcmFuY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IEVQU0lMT047XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gdG9sZXJhbmNlICogTWF0aC5tYXgoMSwgTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn0iLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcblxuLyoqXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cbiAqIEBtb2R1bGUgbWF0NFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XG4gKlxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCBhIG1hdDQgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0IHwgbnVsbH0gb3V0LCBvciBudWxsIGlmIHNvdXJjZSBtYXRyaXggaXMgbm90IGludmVydGlibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgYTAxID0gYVsxXSxcbiAgICBhMDIgPSBhWzJdLFxuICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgIGExMSA9IGFbNV0sXG4gICAgYTEyID0gYVs2XSxcbiAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICBhMjEgPSBhWzldLFxuICAgIGEyMiA9IGFbMTBdLFxuICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgYTMxID0gYVsxM10sXG4gICAgYTMyID0gYVsxNF0sXG4gICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICBhMDEgPSBhWzFdLFxuICAgIGEwMiA9IGFbMl0sXG4gICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgYTExID0gYVs1XSxcbiAgICBhMTIgPSBhWzZdLFxuICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgIGEyMSA9IGFbOV0sXG4gICAgYTIyID0gYVsxMF0sXG4gICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICBhMzEgPSBhWzEzXSxcbiAgICBhMzIgPSBhWzE0XSxcbiAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjtcbiAgb3V0WzBdID0gYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5O1xuICBvdXRbMV0gPSBhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDk7XG4gIG91dFsyXSA9IGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMztcbiAgb3V0WzNdID0gYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzO1xuICBvdXRbNF0gPSBhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDc7XG4gIG91dFs1XSA9IGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNztcbiAgb3V0WzZdID0gYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxO1xuICBvdXRbN10gPSBhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDE7XG4gIG91dFs4XSA9IGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNjtcbiAgb3V0WzldID0gYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2O1xuICBvdXRbMTBdID0gYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwO1xuICBvdXRbMTFdID0gYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwO1xuICBvdXRbMTJdID0gYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2O1xuICBvdXRbMTNdID0gYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2O1xuICBvdXRbMTRdID0gYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwO1xuICBvdXRbMTVdID0gYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICBhMTEgPSBhWzVdLFxuICAgIGExMiA9IGFbNl0sXG4gICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgYTIxID0gYVs5XSxcbiAgICBhMjIgPSBhWzEwXSxcbiAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgIGEzMSA9IGFbMTNdLFxuICAgIGEzMiA9IGFbMTRdLFxuICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIyID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjMgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiNCA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGI1ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjYgPSBhMDAgKiBiNSAtIGEwMSAqIGI0ICsgYTAyICogYjM7XG4gIHZhciBiNyA9IGExMCAqIGI1IC0gYTExICogYjQgKyBhMTIgKiBiMztcbiAgdmFyIGI4ID0gYTIwICogYjIgLSBhMjEgKiBiMSArIGEyMiAqIGIwO1xuICB2YXIgYjkgPSBhMzAgKiBiMiAtIGEzMSAqIGIxICsgYTMyICogYjA7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuICByZXR1cm4gYTEzICogYjYgLSBhMDMgKiBiNyArIGEzMyAqIGI4IC0gYTIzICogYjk7XG59XG5cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgIGEwMSA9IGFbMV0sXG4gICAgYTAyID0gYVsyXSxcbiAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICBhMTEgPSBhWzVdLFxuICAgIGExMiA9IGFbNl0sXG4gICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgYTIxID0gYVs5XSxcbiAgICBhMjIgPSBhWzEwXSxcbiAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgIGEzMSA9IGFbMTNdLFxuICAgIGEzMiA9IGFbMTRdLFxuICAgIGEzMyA9IGFbMTVdO1xuXG4gIC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzRdO1xuICBiMSA9IGJbNV07XG4gIGIyID0gYls2XTtcbiAgYjMgPSBiWzddO1xuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzhdO1xuICBiMSA9IGJbOV07XG4gIGIyID0gYlsxMF07XG4gIGIzID0gYlsxMV07XG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYlsxMl07XG4gIGIxID0gYlsxM107XG4gIGIyID0gYlsxNF07XG4gIGIzID0gYlsxNV07XG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgIHkgPSB2WzFdLFxuICAgIHogPSB2WzJdO1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICB5ID0gdlsxXSxcbiAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICB5ID0gYXhpc1sxXSxcbiAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYztcbiAgYTAwID0gYVswXTtcbiAgYTAxID0gYVsxXTtcbiAgYTAyID0gYVsyXTtcbiAgYTAzID0gYVszXTtcbiAgYTEwID0gYVs0XTtcbiAgYTExID0gYVs1XTtcbiAgYTEyID0gYVs2XTtcbiAgYTEzID0gYVs3XTtcbiAgYTIwID0gYVs4XTtcbiAgYTIxID0gYVs5XTtcbiAgYTIyID0gYVsxMF07XG4gIGEyMyA9IGFbMTFdO1xuXG4gIC8vIENvbnN0cnVjdCB0aGUgZWxlbWVudHMgb2YgdGhlIHJvdGF0aW9uIG1hdHJpeFxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBiMjIgPSB6ICogeiAqIHQgKyBjO1xuXG4gIC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYTAwICogYyArIGExMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgKyBhMTEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjICsgYTEyICogcztcbiAgb3V0WzNdID0gYTAzICogYyArIGExMyAqIHM7XG4gIG91dFs0XSA9IGExMCAqIGMgLSBhMDAgKiBzO1xuICBvdXRbNV0gPSBhMTEgKiBjIC0gYTAxICogcztcbiAgb3V0WzZdID0gYTEyICogYyAtIGEwMiAqIHM7XG4gIG91dFs3XSA9IGExMyAqIGMgLSBhMDMgKiBzO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgIHkgPSBheGlzWzFdLFxuICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gIHZhciBzLCBjLCB0O1xuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjO1xuXG4gIC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG5cbiAgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAtcztcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcblxuICAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuXG4gIC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBtYXQ0LmZyb21RdWF0KHF1YXRNYXQsIHF1YXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgZGVzdCwgcXVhdE1hdCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgeSA9IHFbMV0sXG4gICAgeiA9IHFbMl0sXG4gICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgYnkgPSAtYVsxXSxcbiAgICBieiA9IC1hWzJdLFxuICAgIGJ3ID0gYVszXSxcbiAgICBheCA9IGFbNF0sXG4gICAgYXkgPSBhWzVdLFxuICAgIGF6ID0gYVs2XSxcbiAgICBhdyA9IGFbN107XG4gIHZhciBtYWduaXR1ZGUgPSBieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnogKyBidyAqIGJ3O1xuICAvL09ubHkgc2NhbGUgaWYgaXQgbWFrZXMgc2Vuc2VcbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgfVxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xuICBvdXRbMF0gPSBtYXRbMTJdO1xuICBvdXRbMV0gPSBtYXRbMTNdO1xuICBvdXRbMl0gPSBtYXRbMTRdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtZXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5zcXJ0KG0xMSAqIG0xMSArIG0xMiAqIG0xMiArIG0xMyAqIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguc3FydChtMjEgKiBtMjEgKyBtMjIgKiBtMjIgKyBtMjMgKiBtMjMpO1xuICBvdXRbMl0gPSBNYXRoLnNxcnQobTMxICogbTMxICsgbTMyICogbTMyICsgbTMzICogbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0aW9uKG91dCwgbWF0KSB7XG4gIHZhciBzY2FsaW5nID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIGdldFNjYWxpbmcoc2NhbGluZywgbWF0KTtcbiAgdmFyIGlzMSA9IDEgLyBzY2FsaW5nWzBdO1xuICB2YXIgaXMyID0gMSAvIHNjYWxpbmdbMV07XG4gIHZhciBpczMgPSAxIC8gc2NhbGluZ1syXTtcbiAgdmFyIHNtMTEgPSBtYXRbMF0gKiBpczE7XG4gIHZhciBzbTEyID0gbWF0WzFdICogaXMyO1xuICB2YXIgc20xMyA9IG1hdFsyXSAqIGlzMztcbiAgdmFyIHNtMjEgPSBtYXRbNF0gKiBpczE7XG4gIHZhciBzbTIyID0gbWF0WzVdICogaXMyO1xuICB2YXIgc20yMyA9IG1hdFs2XSAqIGlzMztcbiAgdmFyIHNtMzEgPSBtYXRbOF0gKiBpczE7XG4gIHZhciBzbTMyID0gbWF0WzldICogaXMyO1xuICB2YXIgc20zMyA9IG1hdFsxMF0gKiBpczM7XG4gIHZhciB0cmFjZSA9IHNtMTEgKyBzbTIyICsgc20zMztcbiAgdmFyIFMgPSAwO1xuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIERlY29tcG9zZXMgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggaW50byBpdHMgcm90YXRpb24sIHRyYW5zbGF0aW9uXG4gKiBhbmQgc2NhbGUgY29tcG9uZW50cy4gUmV0dXJucyBvbmx5IHRoZSByb3RhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge3F1YXR9IG91dF9yIFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXRfdCBWZWN0b3IgdG8gcmVjZWl2ZSB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXRfcyBWZWN0b3IgdG8gcmVjZWl2ZSB0aGUgc2NhbGluZyBmYWN0b3JcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRfclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wb3NlKG91dF9yLCBvdXRfdCwgb3V0X3MsIG1hdCkge1xuICBvdXRfdFswXSA9IG1hdFsxMl07XG4gIG91dF90WzFdID0gbWF0WzEzXTtcbiAgb3V0X3RbMl0gPSBtYXRbMTRdO1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0X3NbMF0gPSBNYXRoLnNxcnQobTExICogbTExICsgbTEyICogbTEyICsgbTEzICogbTEzKTtcbiAgb3V0X3NbMV0gPSBNYXRoLnNxcnQobTIxICogbTIxICsgbTIyICogbTIyICsgbTIzICogbTIzKTtcbiAgb3V0X3NbMl0gPSBNYXRoLnNxcnQobTMxICogbTMxICsgbTMyICogbTMyICsgbTMzICogbTMzKTtcbiAgdmFyIGlzMSA9IDEgLyBvdXRfc1swXTtcbiAgdmFyIGlzMiA9IDEgLyBvdXRfc1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBvdXRfc1syXTtcbiAgdmFyIHNtMTEgPSBtMTEgKiBpczE7XG4gIHZhciBzbTEyID0gbTEyICogaXMyO1xuICB2YXIgc20xMyA9IG0xMyAqIGlzMztcbiAgdmFyIHNtMjEgPSBtMjEgKiBpczE7XG4gIHZhciBzbTIyID0gbTIyICogaXMyO1xuICB2YXIgc20yMyA9IG0yMyAqIGlzMztcbiAgdmFyIHNtMzEgPSBtMzEgKiBpczE7XG4gIHZhciBzbTMyID0gbTMyICogaXMyO1xuICB2YXIgc20zMyA9IG0zMyAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG4gIGlmICh0cmFjZSA+IDApIHtcbiAgICBTID0gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKSAqIDI7XG4gICAgb3V0X3JbM10gPSAwLjI1ICogUztcbiAgICBvdXRfclswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dF9yWzFdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0X3JbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0X3JbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRfclswXSA9IDAuMjUgKiBTO1xuICAgIG91dF9yWzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0X3JbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0X3JbM10gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRfclswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dF9yWzFdID0gMC4yNSAqIFM7XG4gICAgb3V0X3JbMl0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgfSBlbHNlIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMzMgLSBzbTExIC0gc20yMikgKiAyO1xuICAgIG91dF9yWzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0X3JbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRfclsxXSA9IChzbTIzICsgc20zMikgLyBTO1xuICAgIG91dF9yWzJdID0gMC4yNSAqIFM7XG4gIH1cbiAgcmV0dXJuIG91dF9yO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBtYXQ0LmZyb21RdWF0KHF1YXRNYXQsIHF1YXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCBzY2FsZSlcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICB5ID0gcVsxXSxcbiAgICB6ID0gcVsyXSxcbiAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgb3JpZ2luKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgbWF0NC5mcm9tUXVhdChxdWF0TWF0LCBxdWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgZGVzdCwgc2NhbGUpXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICB5ID0gcVsxXSxcbiAgICB6ID0gcVsyXSxcbiAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgIHkgPSBxWzFdLFxuICAgIHogPSBxWzJdLFxuICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKTtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBwZXJzcGVjdGl2ZSA9IHBlcnNwZWN0aXZlTk87XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZVpPKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMik7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSBmYXIgKiBuZjtcbiAgICBvdXRbMTRdID0gZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLW5lYXI7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBmaWVsZCBvZiB2aWV3LlxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxuICogd2l0aCB0aGUgc3RpbGwgZXhwZXJpZW1lbnRhbCBXZWJWUiBBUEkuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtPYmplY3R9IGZvdiBPYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHZhbHVlczogdXBEZWdyZWVzLCBkb3duRGVncmVlcywgbGVmdERlZ3JlZXMsIHJpZ2h0RGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5vcnRob05PfVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gbmVhciAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBsb29rLWF0IG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBleWUgcG9zaXRpb24sIGZvY2FsIHBvaW50LCBhbmQgdXAgYXhpcy5cbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xuICB2YXIgZXlleCA9IGV5ZVswXTtcbiAgdmFyIGV5ZXkgPSBleWVbMV07XG4gIHZhciBleWV6ID0gZXllWzJdO1xuICB2YXIgdXB4ID0gdXBbMF07XG4gIHZhciB1cHkgPSB1cFsxXTtcbiAgdmFyIHVweiA9IHVwWzJdO1xuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuICB6MCA9IGV5ZXggLSBjZW50ZXJ4O1xuICB6MSA9IGV5ZXkgLSBjZW50ZXJ5O1xuICB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xuICBsZW4gPSAxIC8gTWF0aC5zcXJ0KHowICogejAgKyB6MSAqIHoxICsgejIgKiB6Mik7XG4gIHowICo9IGxlbjtcbiAgejEgKj0gbGVuO1xuICB6MiAqPSBsZW47XG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IE1hdGguc3FydCh4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDIpO1xuICBpZiAoIWxlbikge1xuICAgIHgwID0gMDtcbiAgICB4MSA9IDA7XG4gICAgeDIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgbGVuID0gTWF0aC5zcXJ0KHkwICogeTAgKyB5MSAqIHkxICsgeTIgKiB5Mik7XG4gIGlmICghbGVuKSB7XG4gICAgeTAgPSAwO1xuICAgIHkxID0gMDtcbiAgICB5MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB5MCAqPSBsZW47XG4gICAgeTEgKj0gbGVuO1xuICAgIHkyICo9IGxlbjtcbiAgfVxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geTA7XG4gIG91dFsyXSA9IHowO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4MTtcbiAgb3V0WzVdID0geTE7XG4gIG91dFs2XSA9IHoxO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4MjtcbiAgb3V0WzldID0geTI7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIG1hdHJpeCB0aGF0IG1ha2VzIHNvbWV0aGluZyBsb29rIGF0IHNvbWV0aGluZyBlbHNlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHRhcmdldCBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICBleWV5ID0gZXllWzFdLFxuICAgIGV5ZXogPSBleWVbMl0sXG4gICAgdXB4ID0gdXBbMF0sXG4gICAgdXB5ID0gdXBbMV0sXG4gICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXG4gICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB4MTtcbiAgb3V0WzJdID0geDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHowO1xuICBvdXRbOV0gPSB6MTtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IGV5ZXg7XG4gIG91dFsxM10gPSBleWV5O1xuICBvdXRbMTRdID0gZXllejtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoYVswXSAqIGFbMF0gKyBhWzFdICogYVsxXSArIGFbMl0gKiBhWzJdICsgYVszXSAqIGFbM10gKyBhWzRdICogYVs0XSArIGFbNV0gKiBhWzVdICsgYVs2XSAqIGFbNl0gKyBhWzddICogYVs3XSArIGFbOF0gKiBhWzhdICsgYVs5XSAqIGFbOV0gKyBhWzEwXSAqIGFbMTBdICsgYVsxMV0gKiBhWzExXSArIGFbMTJdICogYVsxMl0gKyBhWzEzXSAqIGFbMTNdICsgYVsxNF0gKiBhWzE0XSArIGFbMTVdICogYVsxNV0pO1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDQnc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuICB2YXIgYTQgPSBhWzRdLFxuICAgIGE1ID0gYVs1XSxcbiAgICBhNiA9IGFbNl0sXG4gICAgYTcgPSBhWzddO1xuICB2YXIgYTggPSBhWzhdLFxuICAgIGE5ID0gYVs5XSxcbiAgICBhMTAgPSBhWzEwXSxcbiAgICBhMTEgPSBhWzExXTtcbiAgdmFyIGExMiA9IGFbMTJdLFxuICAgIGExMyA9IGFbMTNdLFxuICAgIGExNCA9IGFbMTRdLFxuICAgIGExNSA9IGFbMTVdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICB2YXIgYjQgPSBiWzRdLFxuICAgIGI1ID0gYls1XSxcbiAgICBiNiA9IGJbNl0sXG4gICAgYjcgPSBiWzddO1xuICB2YXIgYjggPSBiWzhdLFxuICAgIGI5ID0gYls5XSxcbiAgICBiMTAgPSBiWzEwXSxcbiAgICBiMTEgPSBiWzExXTtcbiAgdmFyIGIxMiA9IGJbMTJdLFxuICAgIGIxMyA9IGJbMTNdLFxuICAgIGIxNCA9IGJbMTRdLFxuICAgIGIxNSA9IGJbMTVdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xufVxuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcbiAqXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIHN5bW1ldHJpYyByb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gZ2xNYXRyaXgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IGdsTWF0cml4LnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBnbE1hdHJpeC5yb3VuZChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjMydzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuXG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICBheSA9IGFbMV0sXG4gICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgIGJ5ID0gYlsxXSxcbiAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBhbmdsZSA9IE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChkb3QoYSwgYiksIC0xKSwgMSkpO1xuICB2YXIgc2luVG90YWwgPSBNYXRoLnNpbihhbmdsZSk7XG4gIHZhciByYXRpb0EgPSBNYXRoLnNpbigoMSAtIHQpICogYW5nbGUpIC8gc2luVG90YWw7XG4gIHZhciByYXRpb0IgPSBNYXRoLnNpbih0ICogYW5nbGUpIC8gc2luVG90YWw7XG4gIG91dFswXSA9IHJhdGlvQSAqIGFbMF0gKyByYXRpb0IgKiBiWzBdO1xuICBvdXRbMV0gPSByYXRpb0EgKiBhWzFdICsgcmF0aW9CICogYlsxXTtcbiAgb3V0WzJdID0gcmF0aW9BICogYVsyXSArIHJhdGlvQiAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSA9PT0gdW5kZWZpbmVkID8gMS4wIDogc2NhbGU7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgIHkgPSBhWzFdLFxuICAgIHogPSBhWzJdO1xuICB2YXIgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgdyA9IHcgfHwgMS4wO1xuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pIC8gdztcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gdGhlIDN4MyBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICB5ID0gYVsxXSxcbiAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgbm9ybWFsaXplZCBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBGYXN0IFZlY3RvciBSb3RhdGlvbiB1c2luZyBRdWF0ZXJuaW9ucyBieSBSb2JlcnQgRWlzZWxlXG4gIC8vIGh0dHBzOi8vcmF3Lm9yZy9wcm9vZi92ZWN0b3Itcm90YXRpb24tdXNpbmctcXVhdGVybmlvbnMvXG5cbiAgdmFyIHF4ID0gcVswXSxcbiAgICBxeSA9IHFbMV0sXG4gICAgcXogPSBxWzJdLFxuICAgIHF3ID0gcVszXTtcbiAgdmFyIHZ4ID0gYVswXSxcbiAgICB2eSA9IGFbMV0sXG4gICAgdnogPSBhWzJdO1xuXG4gIC8vIHQgPSBxIHggdlxuICB2YXIgdHggPSBxeSAqIHZ6IC0gcXogKiB2eTtcbiAgdmFyIHR5ID0gcXogKiB2eCAtIHF4ICogdno7XG4gIHZhciB0eiA9IHF4ICogdnkgLSBxeSAqIHZ4O1xuXG4gIC8vIHQgPSAydFxuICB0eCA9IHR4ICsgdHg7XG4gIHR5ID0gdHkgKyB0eTtcbiAgdHogPSB0eiArIHR6O1xuXG4gIC8vIHYgKyB3IHQgKyBxIHggdFxuICBvdXRbMF0gPSB2eCArIHF3ICogdHggKyBxeSAqIHR6IC0gcXogKiB0eTtcbiAgb3V0WzFdID0gdnkgKyBxdyAqIHR5ICsgcXogKiB0eCAtIHF4ICogdHo7XG4gIG91dFsyXSA9IHZ6ICsgcXcgKiB0eiArIHF4ICogdHkgLSBxeSAqIHR4O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgciA9IFtdO1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07XG5cbiAgLy9wZXJmb3JtIHJvdGF0aW9uXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7XG5cbiAgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgciA9IFtdO1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07XG5cbiAgLy9wZXJmb3JtIHJvdGF0aW9uXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7XG5cbiAgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgciA9IFtdO1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07XG5cbiAgLy9wZXJmb3JtIHJvdGF0aW9uXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07XG5cbiAgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICBheSA9IGFbMV0sXG4gICAgYXogPSBhWzJdLFxuICAgIGJ4ID0gYlswXSxcbiAgICBieSA9IGJbMV0sXG4gICAgYnogPSBiWzJdLFxuICAgIG1hZyA9IE1hdGguc3FydCgoYXggKiBheCArIGF5ICogYXkgKyBheiAqIGF6KSAqIChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopKSxcbiAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgYTEgPSBhWzFdLFxuICAgIGEyID0gYVsyXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICBiMSA9IGJbMV0sXG4gICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG5cbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG4vKipcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzRcbiAqXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHosIHcpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6LCB3KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgb3V0WzNdID0gYVszXSAqIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAvIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5jZWlsKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguZmxvb3IoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5tYXgoYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogc3ltbWV0cmljIHJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBnbE1hdHJpeC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gZ2xNYXRyaXgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IGdsTWF0cml4LnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBnbE1hdHJpeC5yb3VuZChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG5cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSAtYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICBvdXRbM10gPSAxLjAgLyBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cbiAgb3V0WzBdID0geCAqIGxlbjtcbiAgb3V0WzFdID0geSAqIGxlbjtcbiAgb3V0WzJdID0geiAqIGxlbjtcbiAgb3V0WzNdID0gdyAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycyBpbiBhIDQtZGltZW5zaW9uYWwgc3BhY2VcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gdSB0aGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gdiB0aGUgc2Vjb25kIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHcgdGhlIHRoaXJkIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IHJlc3VsdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICBCID0gdlswXSAqIHdbMl0gLSB2WzJdICogd1swXSxcbiAgICBDID0gdlswXSAqIHdbM10gLSB2WzNdICogd1swXSxcbiAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICBFID0gdlsxXSAqIHdbM10gLSB2WzNdICogd1sxXSxcbiAgICBGID0gdlsyXSAqIHdbM10gLSB2WzNdICogd1syXTtcbiAgdmFyIEcgPSB1WzBdO1xuICB2YXIgSCA9IHVbMV07XG4gIHZhciBJID0gdVsyXTtcbiAgdmFyIEogPSB1WzNdO1xuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XG4gIG91dFsxXSA9IC0oRyAqIEYpICsgSSAqIEMgLSBKICogQjtcbiAgb3V0WzJdID0gRyAqIEUgLSBIICogQyArIEogKiBBO1xuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgdmFyIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSA9PT0gdW5kZWZpbmVkID8gMS4wIDogc2NhbGU7XG5cbiAgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcbiAgdmFyIHMxLCBzMjtcbiAgdmFyIHJhbmQ7XG4gIHJhbmQgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdjEgPSByYW5kICogMiAtIDE7XG4gIHYyID0gKDQgKiBnbE1hdHJpeC5SQU5ET00oKSAtIDIpICogTWF0aC5zcXJ0KHJhbmQgKiAtcmFuZCArIHJhbmQpO1xuICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xuICByYW5kID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHYzID0gcmFuZCAqIDIgLSAxO1xuICB2NCA9ICg0ICogZ2xNYXRyaXguUkFORE9NKCkgLSAyKSAqIE1hdGguc3FydChyYW5kICogLXJhbmQgKyByYW5kKTtcbiAgczIgPSB2MyAqIHYzICsgdjQgKiB2NDtcbiAgdmFyIGQgPSBNYXRoLnNxcnQoKDEgLSBzMSkgLyBzMik7XG4gIG91dFswXSA9IHNjYWxlICogdjE7XG4gIG91dFsxXSA9IHNjYWxlICogdjI7XG4gIG91dFsyXSA9IHNjYWxlICogdjMgKiBkO1xuICBvdXRbM10gPSBzY2FsZSAqIHY0ICogZDtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBtYXQ0LlxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgeSA9IGFbMV0sXG4gICAgeiA9IGFbMl0sXG4gICAgdyA9IGFbM107XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdICogdztcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xuICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0gKiB3O1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIG5vcm1hbGl6ZWQgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gRmFzdCBWZWN0b3IgUm90YXRpb24gdXNpbmcgUXVhdGVybmlvbnMgYnkgUm9iZXJ0IEVpc2VsZVxuICAvLyBodHRwczovL3Jhdy5vcmcvcHJvb2YvdmVjdG9yLXJvdGF0aW9uLXVzaW5nLXF1YXRlcm5pb25zL1xuXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgcXkgPSBxWzFdLFxuICAgIHF6ID0gcVsyXSxcbiAgICBxdyA9IHFbM107XG4gIHZhciB2eCA9IGFbMF0sXG4gICAgdnkgPSBhWzFdLFxuICAgIHZ6ID0gYVsyXTtcblxuICAvLyB0ID0gcSB4IHZcbiAgdmFyIHR4ID0gcXkgKiB2eiAtIHF6ICogdnk7XG4gIHZhciB0eSA9IHF6ICogdnggLSBxeCAqIHZ6O1xuICB2YXIgdHogPSBxeCAqIHZ5IC0gcXkgKiB2eDtcblxuICAvLyB0ID0gMnRcbiAgdHggPSB0eCArIHR4O1xuICB0eSA9IHR5ICsgdHk7XG4gIHR6ID0gdHogKyB0ejtcblxuICAvLyB2ICsgdyB0ICsgcSB4IHRcbiAgb3V0WzBdID0gdnggKyBxdyAqIHR4ICsgcXkgKiB0eiAtIHF6ICogdHk7XG4gIG91dFsxXSA9IHZ5ICsgcXcgKiB0eSArIHF6ICogdHggLSBxeCAqIHR6O1xuICBvdXRbMl0gPSB2eiArIHF3ICogdHogKyBxeCAqIHR5IC0gcXkgKiB0eDtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgIGExID0gYVsxXSxcbiAgICBhMiA9IGFbMl0sXG4gICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgIGIxID0gYlsxXSxcbiAgICBiMiA9IGJbMl0sXG4gICAgYjMgPSBiWzNdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xufVxuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuXG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSA0O1xuICAgIH1cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4vVmVjMy5qcyc7XG5leHBvcnQgY2xhc3MgQ2lyY2xlRmluZGVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcG9pbnQ6IFZlYzNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwb2ludCkge1xuICAgICAgICBsZXQgbnAgPSBwb2ludC5sZW5ndGg7XG4gICAgICAgIC8vSGVhbHBpeFV0aWxzLmNoZWNrKG5wPj0yLFwidG9vIGZldyBwb2ludHNcIik7XG4gICAgICAgIGlmICghKG5wID49IDIpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRvbyBmZXcgcG9pbnRzXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2VudGVyID0gcG9pbnRbMF0uYWRkKHBvaW50WzFdKTtcbiAgICAgICAgdGhpcy5jZW50ZXIubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMuY29zcmFkID0gcG9pbnRbMF0uZG90KHRoaXMuY2VudGVyKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCBucDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRbaV0uZG90KHRoaXMuY2VudGVyKSA8IHRoaXMuY29zcmFkKSB7IC8vIHBvaW50IG91dHNpZGUgdGhlIGN1cnJlbnQgY2lyY2xlXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaXJjbGUocG9pbnQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBAcGFybSBwb2ludDogVmVjM1xuICAgICAqIEBwYXJhbSBxOiBpbnRcbiAgICAgKi9cbiAgICBnZXRDaXJjbGUocG9pbnQsIHEpIHtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBwb2ludFswXS5hZGQocG9pbnRbcV0pO1xuICAgICAgICB0aGlzLmNlbnRlci5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5jb3NyYWQgPSBwb2ludFswXS5kb3QodGhpcy5jZW50ZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHE7ICsraSkge1xuICAgICAgICAgICAgaWYgKHBvaW50W2ldLmRvdCh0aGlzLmNlbnRlcikgPCB0aGlzLmNvc3JhZCkgeyAvLyBwb2ludCBvdXRzaWRlIHRoZSBjdXJyZW50IGNpcmNsZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2lyY2xlMihwb2ludCwgaSwgcSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIEBwYXJtIHBvaW50OiBWZWMzXG4gICAgICogQHBhcmFtIHExOiBpbnRcbiAgICAgKiBAcGFyYW0gcTI6IGludFxuICAgICAqL1xuICAgIGdldENpcmNsZTIocG9pbnQsIHExLCBxMikge1xuICAgICAgICB0aGlzLmNlbnRlciA9IHBvaW50W3ExXS5hZGQocG9pbnRbcTJdKTtcbiAgICAgICAgdGhpcy5jZW50ZXIubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMuY29zcmFkID0gcG9pbnRbcTFdLmRvdCh0aGlzLmNlbnRlcik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcTE7ICsraSkge1xuICAgICAgICAgICAgaWYgKHBvaW50W2ldLmRvdCh0aGlzLmNlbnRlcikgPCB0aGlzLmNvc3JhZCkgeyAvLyBwb2ludCBvdXRzaWRlIHRoZSBjdXJyZW50IGNpcmNsZVxuICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyID0gKHBvaW50W3ExXS5zdWIocG9pbnRbaV0pKS5jcm9zcyhwb2ludFtxMl0uc3ViKHBvaW50W2ldKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jZW50ZXIubm9ybWFsaXplKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3NyYWQgPSBwb2ludFtpXS5kb3QodGhpcy5jZW50ZXIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvc3JhZCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZW50ZXIuZmxpcCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvc3JhZCA9IC10aGlzLmNvc3JhZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgO1xuICAgIGdldENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMuY2VudGVyLngsIHRoaXMuY2VudGVyLnksIHRoaXMuY2VudGVyLnopO1xuICAgIH1cbiAgICBnZXRDb3NyYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvc3JhZDtcbiAgICB9XG4gICAgO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2lyY2xlRmluZGVyLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBDb25zdGFudHMge1xufVxuLy9cdHN0YXRpYyBoYWxmcGkgPSBNYXRoLlBJLzIuO1xuQ29uc3RhbnRzLmhhbGZwaSA9IDEuNTcwNzk2MzI2Nzk0ODk2NjtcbkNvbnN0YW50cy5pbnZfaGFsZnBpID0gMi4gLyBNYXRoLlBJO1xuLyoqIFRoZSBDb25zdGFudCB0d29waS4gKi9cbkNvbnN0YW50cy50d29waSA9IDIgKiBNYXRoLlBJO1xuQ29uc3RhbnRzLmludl90d29waSA9IDEuIC8gKDIgKiBNYXRoLlBJKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIFBhcnRpYWwgcG9ydGluZyB0byBKYXZhc2NyaXB0IG9mIEZ4eWYuamF2YSBmcm9tIEhlYWxwaXgzLjMwXG4gKi9cbmltcG9ydCB7IEhwbG9jIH0gZnJvbSAnLi9IcGxvYy5qcyc7XG5leHBvcnQgY2xhc3MgRnh5ZiB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgZikge1xuICAgICAgICB0aGlzLmZ4ID0geDtcbiAgICAgICAgdGhpcy5meSA9IHk7XG4gICAgICAgIHRoaXMuZmFjZSA9IGY7XG4gICAgICAgIC8vIGNvb3JkaW5hdGUgb2YgdGhlIGxvd2VzdCBjb3JuZXIgb2YgZWFjaCBmYWNlXG4gICAgICAgIHRoaXMuanJsbCA9IG5ldyBVaW50OEFycmF5KFsyLCAyLCAyLCAyLCAzLCAzLCAzLCAzLCA0LCA0LCA0LCA0XSk7XG4gICAgICAgIHRoaXMuanBsbCA9IG5ldyBVaW50OEFycmF5KFsxLCAzLCA1LCA3LCAwLCAyLCA0LCA2LCAxLCAzLCA1LCA3XSk7XG4gICAgICAgIHRoaXMuaGFsZnBpID0gTWF0aC5QSSAvIDIuO1xuICAgIH1cbiAgICB0b0hwbG9jKCkge1xuICAgICAgICBsZXQgbG9jID0gbmV3IEhwbG9jKCk7XG4gICAgICAgIGxldCBqciA9IHRoaXMuanJsbFt0aGlzLmZhY2VdIC0gdGhpcy5meCAtIHRoaXMuZnk7XG4gICAgICAgIGxldCBucjtcbiAgICAgICAgaWYgKGpyIDwgMSkge1xuICAgICAgICAgICAgbnIgPSBqcjtcbiAgICAgICAgICAgIGxldCB0bXAgPSBuciAqIG5yIC8gMy47XG4gICAgICAgICAgICBsb2MueiA9IDEgLSB0bXA7XG4gICAgICAgICAgICBpZiAobG9jLnogPiAwLjk5KSB7XG4gICAgICAgICAgICAgICAgbG9jLnN0aCA9IE1hdGguc3FydCh0bXAgKiAoMi4wIC0gdG1wKSk7XG4gICAgICAgICAgICAgICAgbG9jLmhhdmVfc3RoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChqciA+IDMpIHtcbiAgICAgICAgICAgIG5yID0gNCAtIGpyO1xuICAgICAgICAgICAgbGV0IHRtcCA9IG5yICogbnIgLyAzLjtcbiAgICAgICAgICAgIGxvYy56ID0gdG1wIC0gMTtcbiAgICAgICAgICAgIGlmIChsb2MueiA8IC0wLjk5KSB7XG4gICAgICAgICAgICAgICAgbG9jLnN0aCA9IE1hdGguc3FydCh0bXAgKiAoMi4wIC0gdG1wKSk7XG4gICAgICAgICAgICAgICAgbG9jLmhhdmVfc3RoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5yID0gMTtcbiAgICAgICAgICAgIGxvYy56ID0gKDIgLSBqcikgKiAyLjAgLyAzLjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG1wID0gdGhpcy5qcGxsW3RoaXMuZmFjZV0gKiBuciArIHRoaXMuZnggLSB0aGlzLmZ5O1xuICAgICAgICBpZiAodG1wIDwgMCkge1xuICAgICAgICAgICAgdG1wICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRtcCA+PSA4KSB7XG4gICAgICAgICAgICB0bXAgLT0gODtcbiAgICAgICAgfVxuICAgICAgICBsb2MucGhpID0gKG5yIDwgMWUtMTUpID8gMCA6ICgwLjUgKiB0aGlzLmhhbGZwaSAqIHRtcCkgLyBucjtcbiAgICAgICAgcmV0dXJuIGxvYztcbiAgICB9XG4gICAgO1xuICAgIHRvVmVjMygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IcGxvYygpLnRvVmVjMygpO1xuICAgIH1cbiAgICA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GeHlmLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgQ2lyY2xlRmluZGVyIH0gZnJvbSBcIi4vQ2lyY2xlRmluZGVyLmpzXCI7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi9Db25zdGFudHMuanNcIjtcbmltcG9ydCB7IEZ4eWYgfSBmcm9tIFwiLi9GeHlmLmpzXCI7XG5pbXBvcnQgeyBIcGxvYyB9IGZyb20gXCIuL0hwbG9jLmpzXCI7XG5pbXBvcnQgeyBQb2ludGluZyB9IGZyb20gXCIuL1BvaW50aW5nLmpzXCI7XG5pbXBvcnQgeyBwc3RhY2sgfSBmcm9tIFwiLi9wc3RhY2suanNcIjtcbmltcG9ydCB7IFJhbmdlU2V0IH0gZnJvbSBcIi4vUmFuZ2VTZXQuanNcIjtcbmltcG9ydCB7IFZlYzMgfSBmcm9tIFwiLi9WZWMzLmpzXCI7XG5pbXBvcnQgeyBYeWYgfSBmcm9tIFwiLi9YeWYuanNcIjtcbmltcG9ydCB7IFpwaGkgfSBmcm9tIFwiLi9acGhpLmpzXCI7XG4vKipcbiAqIFBhcnRpYWwgcG9ydGluZyB0byBKYXZhc2NyaXB0IG9mIEhlYWxwaXhCYXNlLmphdmEgZnJvbSBIZWFscGl4My4zMFxuICovXG4vLyBpbXBvcnQgRnh5ZiBmcm9tICcuL0Z4eWYuanMnO1xuLy8gaW1wb3J0IEhwbG9jIGZyb20gJy4vSHBsb2MuanMnO1xuLy8gaW1wb3J0IFh5ZiBmcm9tICcuL1h5Zi5qcyc7XG4vLyBpbXBvcnQgVmVjMyBmcm9tICcuL1ZlYzMuanMnO1xuLy8gaW1wb3J0IFBvaW50aW5nIGZyb20gJy4vUG9pbnRpbmcuanMnO1xuLy8gaW1wb3J0IENpcmNsZUZpbmRlciBmcm9tICcuL0NpcmNsZUZpbmRlci5qcyc7XG4vLyBpbXBvcnQgWnBoaSBmcm9tICcuL1pwaGkuanMnO1xuLy8gaW1wb3J0IHBzdGFjayBmcm9tICcuL3BzdGFjay5qcyc7XG4vLyBpbXBvcnQgQ29uc3RhbnRzIGZyb20gJy4vQ29uc3RhbnRzLmpzJztcbi8vIGltcG9ydCBSYW5nZVNldCBmcm9tICcuL1JhbmdlU2V0LmpzJztcbmV4cG9ydCBjbGFzcyBIZWFscGl4IHtcbiAgICBjb25zdHJ1Y3Rvcihuc2lkZV9pbikge1xuICAgICAgICB0aGlzLm9yZGVyX21heCA9IDI5O1xuICAgICAgICB0aGlzLmludl9oYWxmcGkgPSAyLjAgLyBNYXRoLlBJO1xuICAgICAgICB0aGlzLnR3b3RoaXJkID0gMi4wIC8gMy47XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidHdvdGhpcmQgXCIrdGhpcy50d290aGlyZCk7XG4gICAgICAgIC8vIHRoaXMubnNfbWF4PTFMPDxvcmRlcl9tYXg7XG4gICAgICAgIHRoaXMubnNfbWF4ID0gTWF0aC5wb3coMiwgdGhpcy5vcmRlcl9tYXgpO1xuICAgICAgICB0aGlzLmN0YWIgPSBuZXcgVWludDE2QXJyYXkoW1xuICAgICAgICAgICAgMCwgMSwgMjU2LCAyNTcsIDIsIDMsIDI1OCwgMjU5LCA1MTIsIDUxMywgNzY4LCA3NjksIDUxNCwgNTE1LCA3NzAsIDc3MSwgNCwgNSwgMjYwLCAyNjEsIDYsIDcsIDI2MixcbiAgICAgICAgICAgIDI2MywgNTE2LCA1MTcsIDc3MiwgNzczLCA1MTgsIDUxOSwgNzc0LCA3NzUsIDEwMjQsIDEwMjUsIDEyODAsIDEyODEsIDEwMjYsIDEwMjcsIDEyODIsIDEyODMsXG4gICAgICAgICAgICAxNTM2LCAxNTM3LCAxNzkyLCAxNzkzLCAxNTM4LCAxNTM5LCAxNzk0LCAxNzk1LCAxMDI4LCAxMDI5LCAxMjg0LCAxMjg1LCAxMDMwLCAxMDMxLCAxMjg2LFxuICAgICAgICAgICAgMTI4NywgMTU0MCwgMTU0MSwgMTc5NiwgMTc5NywgMTU0MiwgMTU0MywgMTc5OCwgMTc5OSwgOCwgOSwgMjY0LCAyNjUsIDEwLCAxMSwgMjY2LCAyNjcsIDUyMCxcbiAgICAgICAgICAgIDUyMSwgNzc2LCA3NzcsIDUyMiwgNTIzLCA3NzgsIDc3OSwgMTIsIDEzLCAyNjgsIDI2OSwgMTQsIDE1LCAyNzAsIDI3MSwgNTI0LCA1MjUsIDc4MCwgNzgxLCA1MjYsXG4gICAgICAgICAgICA1MjcsIDc4MiwgNzgzLCAxMDMyLCAxMDMzLCAxMjg4LCAxMjg5LCAxMDM0LCAxMDM1LCAxMjkwLCAxMjkxLCAxNTQ0LCAxNTQ1LCAxODAwLCAxODAxLCAxNTQ2LFxuICAgICAgICAgICAgMTU0NywgMTgwMiwgMTgwMywgMTAzNiwgMTAzNywgMTI5MiwgMTI5MywgMTAzOCwgMTAzOSwgMTI5NCwgMTI5NSwgMTU0OCwgMTU0OSwgMTgwNCwgMTgwNSxcbiAgICAgICAgICAgIDE1NTAsIDE1NTEsIDE4MDYsIDE4MDcsIDIwNDgsIDIwNDksIDIzMDQsIDIzMDUsIDIwNTAsIDIwNTEsIDIzMDYsIDIzMDcsIDI1NjAsIDI1NjEsIDI4MTYsXG4gICAgICAgICAgICAyODE3LCAyNTYyLCAyNTYzLCAyODE4LCAyODE5LCAyMDUyLCAyMDUzLCAyMzA4LCAyMzA5LCAyMDU0LCAyMDU1LCAyMzEwLCAyMzExLCAyNTY0LCAyNTY1LFxuICAgICAgICAgICAgMjgyMCwgMjgyMSwgMjU2NiwgMjU2NywgMjgyMiwgMjgyMywgMzA3MiwgMzA3MywgMzMyOCwgMzMyOSwgMzA3NCwgMzA3NSwgMzMzMCwgMzMzMSwgMzU4NCxcbiAgICAgICAgICAgIDM1ODUsIDM4NDAsIDM4NDEsIDM1ODYsIDM1ODcsIDM4NDIsIDM4NDMsIDMwNzYsIDMwNzcsIDMzMzIsIDMzMzMsIDMwNzgsIDMwNzksIDMzMzQsIDMzMzUsXG4gICAgICAgICAgICAzNTg4LCAzNTg5LCAzODQ0LCAzODQ1LCAzNTkwLCAzNTkxLCAzODQ2LCAzODQ3LCAyMDU2LCAyMDU3LCAyMzEyLCAyMzEzLCAyMDU4LCAyMDU5LCAyMzE0LFxuICAgICAgICAgICAgMjMxNSwgMjU2OCwgMjU2OSwgMjgyNCwgMjgyNSwgMjU3MCwgMjU3MSwgMjgyNiwgMjgyNywgMjA2MCwgMjA2MSwgMjMxNiwgMjMxNywgMjA2MiwgMjA2MyxcbiAgICAgICAgICAgIDIzMTgsIDIzMTksIDI1NzIsIDI1NzMsIDI4MjgsIDI4MjksIDI1NzQsIDI1NzUsIDI4MzAsIDI4MzEsIDMwODAsIDMwODEsIDMzMzYsIDMzMzcsIDMwODIsXG4gICAgICAgICAgICAzMDgzLCAzMzM4LCAzMzM5LCAzNTkyLCAzNTkzLCAzODQ4LCAzODQ5LCAzNTk0LCAzNTk1LCAzODUwLCAzODUxLCAzMDg0LCAzMDg1LCAzMzQwLCAzMzQxLFxuICAgICAgICAgICAgMzA4NiwgMzA4NywgMzM0MiwgMzM0MywgMzU5NiwgMzU5NywgMzg1MiwgMzg1MywgMzU5OCwgMzU5OSwgMzg1NCwgMzg1NVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy51dGFiID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCA0LCA1LCAxNiwgMTcsIDIwLCAyMSwgNjQsIDY1LCA2OCwgNjksIDgwLCA4MSwgODQsIDg1LCAyNTYsIDI1NywgMjYwLCAyNjEsIDI3MiwgMjczLCAyNzYsIDI3NyxcbiAgICAgICAgICAgIDMyMCwgMzIxLCAzMjQsIDMyNSwgMzM2LCAzMzcsIDM0MCwgMzQxLCAxMDI0LCAxMDI1LCAxMDI4LCAxMDI5LCAxMDQwLCAxMDQxLCAxMDQ0LCAxMDQ1LCAxMDg4LFxuICAgICAgICAgICAgMTA4OSwgMTA5MiwgMTA5MywgMTEwNCwgMTEwNSwgMTEwOCwgMTEwOSwgMTI4MCwgMTI4MSwgMTI4NCwgMTI4NSwgMTI5NiwgMTI5NywgMTMwMCwgMTMwMSxcbiAgICAgICAgICAgIDEzNDQsIDEzNDUsIDEzNDgsIDEzNDksIDEzNjAsIDEzNjEsIDEzNjQsIDEzNjUsIDQwOTYsIDQwOTcsIDQxMDAsIDQxMDEsIDQxMTIsIDQxMTMsIDQxMTYsXG4gICAgICAgICAgICA0MTE3LCA0MTYwLCA0MTYxLCA0MTY0LCA0MTY1LCA0MTc2LCA0MTc3LCA0MTgwLCA0MTgxLCA0MzUyLCA0MzUzLCA0MzU2LCA0MzU3LCA0MzY4LCA0MzY5LFxuICAgICAgICAgICAgNDM3MiwgNDM3MywgNDQxNiwgNDQxNywgNDQyMCwgNDQyMSwgNDQzMiwgNDQzMywgNDQzNiwgNDQzNywgNTEyMCwgNTEyMSwgNTEyNCwgNTEyNSwgNTEzNixcbiAgICAgICAgICAgIDUxMzcsIDUxNDAsIDUxNDEsIDUxODQsIDUxODUsIDUxODgsIDUxODksIDUyMDAsIDUyMDEsIDUyMDQsIDUyMDUsIDUzNzYsIDUzNzcsIDUzODAsIDUzODEsXG4gICAgICAgICAgICA1MzkyLCA1MzkzLCA1Mzk2LCA1Mzk3LCA1NDQwLCA1NDQxLCA1NDQ0LCA1NDQ1LCA1NDU2LCA1NDU3LCA1NDYwLCA1NDYxLCAxNjM4NCwgMTYzODUsIDE2Mzg4LFxuICAgICAgICAgICAgMTYzODksIDE2NDAwLCAxNjQwMSwgMTY0MDQsIDE2NDA1LCAxNjQ0OCwgMTY0NDksIDE2NDUyLCAxNjQ1MywgMTY0NjQsIDE2NDY1LCAxNjQ2OCwgMTY0NjksXG4gICAgICAgICAgICAxNjY0MCwgMTY2NDEsIDE2NjQ0LCAxNjY0NSwgMTY2NTYsIDE2NjU3LCAxNjY2MCwgMTY2NjEsIDE2NzA0LCAxNjcwNSwgMTY3MDgsIDE2NzA5LCAxNjcyMCxcbiAgICAgICAgICAgIDE2NzIxLCAxNjcyNCwgMTY3MjUsIDE3NDA4LCAxNzQwOSwgMTc0MTIsIDE3NDEzLCAxNzQyNCwgMTc0MjUsIDE3NDI4LCAxNzQyOSwgMTc0NzIsIDE3NDczLFxuICAgICAgICAgICAgMTc0NzYsIDE3NDc3LCAxNzQ4OCwgMTc0ODksIDE3NDkyLCAxNzQ5MywgMTc2NjQsIDE3NjY1LCAxNzY2OCwgMTc2NjksIDE3NjgwLCAxNzY4MSwgMTc2ODQsXG4gICAgICAgICAgICAxNzY4NSwgMTc3MjgsIDE3NzI5LCAxNzczMiwgMTc3MzMsIDE3NzQ0LCAxNzc0NSwgMTc3NDgsIDE3NzQ5LCAyMDQ4MCwgMjA0ODEsIDIwNDg0LCAyMDQ4NSxcbiAgICAgICAgICAgIDIwNDk2LCAyMDQ5NywgMjA1MDAsIDIwNTAxLCAyMDU0NCwgMjA1NDUsIDIwNTQ4LCAyMDU0OSwgMjA1NjAsIDIwNTYxLCAyMDU2NCwgMjA1NjUsIDIwNzM2LFxuICAgICAgICAgICAgMjA3MzcsIDIwNzQwLCAyMDc0MSwgMjA3NTIsIDIwNzUzLCAyMDc1NiwgMjA3NTcsIDIwODAwLCAyMDgwMSwgMjA4MDQsIDIwODA1LCAyMDgxNiwgMjA4MTcsXG4gICAgICAgICAgICAyMDgyMCwgMjA4MjEsIDIxNTA0LCAyMTUwNSwgMjE1MDgsIDIxNTA5LCAyMTUyMCwgMjE1MjEsIDIxNTI0LCAyMTUyNSwgMjE1NjgsIDIxNTY5LCAyMTU3MixcbiAgICAgICAgICAgIDIxNTczLCAyMTU4NCwgMjE1ODUsIDIxNTg4LCAyMTU4OSwgMjE3NjAsIDIxNzYxLCAyMTc2NCwgMjE3NjUsIDIxNzc2LCAyMTc3NywgMjE3ODAsIDIxNzgxLFxuICAgICAgICAgICAgMjE4MjQsIDIxODI1LCAyMTgyOCwgMjE4MjksIDIxODQwLCAyMTg0MSwgMjE4NDQsIDIxODQ1XSk7XG4gICAgICAgIHRoaXMuanJsbCA9IG5ldyBJbnQxNkFycmF5KFsyLCAyLCAyLCAyLCAzLCAzLCAzLCAzLCA0LCA0LCA0LCA0XSk7XG4gICAgICAgIHRoaXMuanBsbCA9IG5ldyBJbnQxNkFycmF5KFsxLCAzLCA1LCA3LCAwLCAyLCA0LCA2LCAxLCAzLCA1LCA3XSk7XG4gICAgICAgIHRoaXMueG9mZnNldCA9IG5ldyBJbnQxNkFycmF5KFstMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXSk7XG4gICAgICAgIHRoaXMueW9mZnNldCA9IG5ldyBJbnQxNkFycmF5KFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXSk7XG4gICAgICAgIHRoaXMuZmFjZWFycmF5ID0gW1xuICAgICAgICAgICAgbmV3IEludDE2QXJyYXkoWzgsIDksIDEwLCAxMSwgLTEsIC0xLCAtMSwgLTEsIDEwLCAxMSwgOCwgOV0pLFxuICAgICAgICAgICAgbmV3IEludDE2QXJyYXkoWzUsIDYsIDcsIDQsIDgsIDksIDEwLCAxMSwgOSwgMTAsIDExLCA4XSksXG4gICAgICAgICAgICBuZXcgSW50MTZBcnJheShbLTEsIC0xLCAtMSwgLTEsIDUsIDYsIDcsIDQsIC0xLCAtMSwgLTEsIC0xXSksXG4gICAgICAgICAgICBuZXcgSW50MTZBcnJheShbNCwgNSwgNiwgNywgMTEsIDgsIDksIDEwLCAxMSwgOCwgOSwgMTBdKSxcbiAgICAgICAgICAgIG5ldyBJbnQxNkFycmF5KFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTFdKSxcbiAgICAgICAgICAgIG5ldyBJbnQxNkFycmF5KFsxLCAyLCAzLCAwLCAwLCAxLCAyLCAzLCA1LCA2LCA3LCA0XSksXG4gICAgICAgICAgICBuZXcgSW50MTZBcnJheShbLTEsIC0xLCAtMSwgLTEsIDcsIDQsIDUsIDYsIC0xLCAtMSwgLTEsIC0xXSksXG4gICAgICAgICAgICBuZXcgSW50MTZBcnJheShbMywgMCwgMSwgMiwgMywgMCwgMSwgMiwgNCwgNSwgNiwgN10pLFxuICAgICAgICAgICAgbmV3IEludDE2QXJyYXkoWzIsIDMsIDAsIDEsIC0xLCAtMSwgLTEsIC0xLCAwLCAxLCAyLCAzXSkgLy8gTlxuICAgICAgICBdO1xuICAgICAgICAvLyBxdWVzdG8gZm9yc2UgZGV2ZSBlc3NlcmUgdW4gVUludDhBcnJheS4gVmllbmUgdXNhdG8gZGEgbmVpZ2hib3Vyc1xuICAgICAgICB0aGlzLnN3YXBhcnJheSA9IFtcbiAgICAgICAgICAgIG5ldyBJbnQxNkFycmF5KFswLCAwLCAzXSksXG4gICAgICAgICAgICBuZXcgSW50MTZBcnJheShbMCwgMCwgNl0pLFxuICAgICAgICAgICAgbmV3IEludDE2QXJyYXkoWzAsIDAsIDBdKSxcbiAgICAgICAgICAgIG5ldyBJbnQxNkFycmF5KFswLCAwLCA1XSksXG4gICAgICAgICAgICBuZXcgSW50MTZBcnJheShbMCwgMCwgMF0pLFxuICAgICAgICAgICAgbmV3IEludDE2QXJyYXkoWzUsIDAsIDBdKSxcbiAgICAgICAgICAgIG5ldyBJbnQxNkFycmF5KFswLCAwLCAwXSksXG4gICAgICAgICAgICBuZXcgSW50MTZBcnJheShbNiwgMCwgMF0pLFxuICAgICAgICAgICAgbmV3IEludDE2QXJyYXkoWzMsIDAsIDBdKSAvLyBOXG4gICAgICAgIF07XG4gICAgICAgIGlmIChuc2lkZV9pbiA8PSB0aGlzLm5zX21heCAmJiBuc2lkZV9pbiA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubnNpZGUgPSBuc2lkZV9pbjtcbiAgICAgICAgICAgIHRoaXMubnBmYWNlID0gdGhpcy5uc2lkZSAqIHRoaXMubnNpZGU7XG4gICAgICAgICAgICB0aGlzLm5waXggPSAxMiAqIHRoaXMubnBmYWNlO1xuICAgICAgICAgICAgdGhpcy5vcmRlciA9IHRoaXMubnNpZGUyb3JkZXIodGhpcy5uc2lkZSk7XG4gICAgICAgICAgICB0aGlzLm5sMiA9IDIgKiB0aGlzLm5zaWRlO1xuICAgICAgICAgICAgdGhpcy5ubDMgPSAzICogdGhpcy5uc2lkZTtcbiAgICAgICAgICAgIHRoaXMubmw0ID0gNCAqIHRoaXMubnNpZGU7XG4gICAgICAgICAgICB0aGlzLmZhY3QyID0gNC4wIC8gdGhpcy5ucGl4O1xuICAgICAgICAgICAgdGhpcy5mYWN0MSA9ICh0aGlzLm5zaWRlIDw8IDEpICogdGhpcy5mYWN0MjtcbiAgICAgICAgICAgIHRoaXMubmNhcCA9IDIgKiB0aGlzLm5zaWRlICogKHRoaXMubnNpZGUgLSAxKTsgLy8gcGl4ZWxzIGluIGVhY2ggcG9sYXIgY2FwXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm9yZGVyOiBcIit0aGlzLm9yZGVyKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwibnNpZGU6IFwiK3RoaXMubnNpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm4gPSBbXTtcbiAgICAgICAgdGhpcy5tcHIgPSBbXTtcbiAgICAgICAgdGhpcy5jbXByID0gW107XG4gICAgICAgIHRoaXMuc21wciA9IFtdO1xuICAgICAgICAvLyBUT0RPIElORklOSVRFIExPT1AhISEhISEgRklYIElUVFRUVFRUVFRUXG4gICAgICAgIC8vIFRPRE8gSU5GSU5JVEUgTE9PUCEhISEhISBGSVggSVRUVFRUVFRUVFRcbiAgICAgICAgLy8gVE9ETyBJTkZJTklURSBMT09QISEhISEhIEZJWCBJVFRUVFRUVFRUVFxuICAgICAgICAvLyBUT0RPIElORklOSVRFIExPT1AhISEhISEgRklYIElUVFRUVFRUVFRUXG4gICAgICAgIC8vIFRPRE8gSU5GSU5JVEUgTE9PUCEhISEhISBGSVggSVRUVFRUVFRUVFRcbiAgICAgICAgLy8gVE9ETyBJTkZJTklURSBMT09QISEhISEhIEZJWCBJVFRUVFRUVFRUVFxuICAgICAgICAvLyBUT0RPIElORklOSVRFIExPT1AhISEhISEgRklYIElUVFRUVFRUVFRUXG4gICAgICAgIC8vIFVuY2F1Z2h0IFJhbmdlRXJyb3I6IE1heGltdW0gY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXG4gICAgICAgIC8vIE1PVkVEIFRPIGNvbXB1dGVCbigpXG4gICAgICAgIC8vICAgICAgICBmb3IgKGxldCBpPTA7IGkgPD0gdGhpcy5vcmRlcl9tYXg7ICsraSkge1xuICAgICAgICAvLyAgICAgICAgXHR0aGlzLmJuW2ldPW5ldyBIZWFscGl4KDE8PGkpO1xuICAgICAgICAvLyAgICAgICAgXHR0aGlzLm1wcltpXT1ibltpXS5tYXhQaXhyYWQoKTtcbiAgICAgICAgLy8gICAgICAgIFx0dGhpcy5jbXByW2ldPU1hdGguY29zKG1wcltpXSk7XG4gICAgICAgIC8vICAgICAgICBcdHRoaXMuc21wcltpXT1NYXRoLnNpbihtcHJbaV0pO1xuICAgICAgICAvLyAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlQm4oKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMub3JkZXJfbWF4OyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuYm5baV0gPSBuZXcgSGVhbHBpeCgxIDw8IGkpO1xuICAgICAgICAgICAgdGhpcy5tcHJbaV0gPSB0aGlzLmJuW2ldLm1heFBpeHJhZCgpO1xuICAgICAgICAgICAgdGhpcy5jbXByW2ldID0gSHBsb2MuY29zKHRoaXMubXByW2ldKTtcbiAgICAgICAgICAgIHRoaXMuc21wcltpXSA9IEhwbG9jLnNpbih0aGlzLm1wcltpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0TlBpeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnBpeDtcbiAgICB9XG4gICAgO1xuICAgIGdldEJvdW5kYXJpZXMocGl4KSB7XG4gICAgICAgIGxldCBwb2ludHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgbGV0IHh5ZiA9IHRoaXMubmVzdDJ4eWYocGl4KTtcbiAgICAgICAgbGV0IGRjID0gMC41IC8gdGhpcy5uc2lkZTtcbiAgICAgICAgbGV0IHhjID0gKHh5Zi5peCArIDAuNSkgLyB0aGlzLm5zaWRlO1xuICAgICAgICBsZXQgeWMgPSAoeHlmLml5ICsgMC41KSAvIHRoaXMubnNpZGU7XG4gICAgICAgIHBvaW50c1swXSA9IG5ldyBGeHlmKHhjICsgZGMsIHljICsgZGMsIHh5Zi5mYWNlKS50b1ZlYzMoKTtcbiAgICAgICAgcG9pbnRzWzFdID0gbmV3IEZ4eWYoeGMgLSBkYywgeWMgKyBkYywgeHlmLmZhY2UpLnRvVmVjMygpO1xuICAgICAgICBwb2ludHNbMl0gPSBuZXcgRnh5Zih4YyAtIGRjLCB5YyAtIGRjLCB4eWYuZmFjZSkudG9WZWMzKCk7XG4gICAgICAgIHBvaW50c1szXSA9IG5ldyBGeHlmKHhjICsgZGMsIHljIC0gZGMsIHh5Zi5mYWNlKS50b1ZlYzMoKTtcbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICB9XG4gICAgO1xuICAgIC8qKiBSZXR1cm5zIGEgc2V0IG9mIHBvaW50cyBhbG9uZyB0aGUgYm91bmRhcnkgb2YgdGhlIGdpdmVuIHBpeGVsLlxuICAgICAqIFN0ZXAgMSBnaXZlcyA0IHBvaW50cyBvbiB0aGUgY29ybmVycy4gVGhlIGZpcnN0IHBvaW50IGNvcnJlc3BvbmRzXG4gICAgICogdG8gdGhlIG5vcnRoZXJubW9zdCBjb3JuZXIsIHRoZSBzdWJzZXF1ZW50IHBvaW50cyBmb2xsb3cgdGhlIHBpeGVsXG4gICAgICogYm91bmRhcnkgdGhyb3VnaCB3ZXN0LCBzb3V0aCBhbmQgZWFzdCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBpeCBwaXhlbCBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0gc3RlcCB0aGUgbnVtYmVyIG9mIHJldHVybmVkIHBvaW50cyBpcyA0KnN0ZXBcbiAgICAgKiBAcmV0dXJuIHtAbGluayBWZWMzfSBmb3IgZWFjaCBwb2ludFxuICAgICAqL1xuICAgIGdldEJvdW5kYXJpZXNXaXRoU3RlcChwaXgsIHN0ZXApIHtcbiAgICAgICAgLy8gdmFyIHBvaW50cyA9IG5ldyBBcnJheSgpOyBcbiAgICAgICAgbGV0IHBvaW50cyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBsZXQgeHlmID0gdGhpcy5uZXN0Mnh5ZihwaXgpO1xuICAgICAgICBsZXQgZGMgPSAwLjUgLyB0aGlzLm5zaWRlO1xuICAgICAgICBsZXQgeGMgPSAoeHlmLml4ICsgMC41KSAvIHRoaXMubnNpZGU7XG4gICAgICAgIGxldCB5YyA9ICh4eWYuaXkgKyAwLjUpIC8gdGhpcy5uc2lkZTtcbiAgICAgICAgbGV0IGQgPSAxLjAgLyAodGhpcy5uc2lkZSAqIHN0ZXApO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXA7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRzW2ldID0gbmV3IEZ4eWYoeGMgKyBkYyAtIGkgKiBkLCB5YyArIGRjLCB4eWYuZmFjZSkudG9WZWMzKCk7XG4gICAgICAgICAgICBwb2ludHNbaSArIHN0ZXBdID0gbmV3IEZ4eWYoeGMgLSBkYywgeWMgKyBkYyAtIGkgKiBkLCB4eWYuZmFjZSkudG9WZWMzKCk7XG4gICAgICAgICAgICBwb2ludHNbaSArIDIgKiBzdGVwXSA9IG5ldyBGeHlmKHhjIC0gZGMgKyBpICogZCwgeWMgLSBkYywgeHlmLmZhY2UpLnRvVmVjMygpO1xuICAgICAgICAgICAgcG9pbnRzW2kgKyAzICogc3RlcF0gPSBuZXcgRnh5Zih4YyArIGRjLCB5YyAtIGRjICsgaSAqIGQsIHh5Zi5mYWNlKS50b1ZlYzMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cbiAgICA7XG4gICAgZ2V0UG9pbnRzRm9yWHlmTm9TdGVwKHgsIHksIGZhY2UpIHtcbiAgICAgICAgLy8gbGV0IG5zaWRlID0gTWF0aC5wb3coMiwgdGhpcy5vcmRlcik7XG4gICAgICAgIGxldCBwb2ludHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgbGV0IHh5ZiA9IG5ldyBYeWYoeCwgeSwgZmFjZSk7XG4gICAgICAgIGxldCBkYyA9IDAuNSAvIHRoaXMubnNpZGU7XG4gICAgICAgIGxldCB4YyA9ICh4eWYuaXggKyAwLjUpIC8gdGhpcy5uc2lkZTtcbiAgICAgICAgbGV0IHljID0gKHh5Zi5peSArIDAuNSkgLyB0aGlzLm5zaWRlO1xuICAgICAgICBwb2ludHNbMF0gPSBuZXcgRnh5Zih4YyArIGRjLCB5YyArIGRjLCB4eWYuZmFjZSkudG9WZWMzKCk7XG4gICAgICAgIHBvaW50c1sxXSA9IG5ldyBGeHlmKHhjIC0gZGMsIHljICsgZGMsIHh5Zi5mYWNlKS50b1ZlYzMoKTtcbiAgICAgICAgcG9pbnRzWzJdID0gbmV3IEZ4eWYoeGMgLSBkYywgeWMgLSBkYywgeHlmLmZhY2UpLnRvVmVjMygpO1xuICAgICAgICBwb2ludHNbM10gPSBuZXcgRnh5Zih4YyArIGRjLCB5YyAtIGRjLCB4eWYuZmFjZSkudG9WZWMzKCk7XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuICAgIGdldFBvaW50c0Zvclh5Zih4LCB5LCBzdGVwLCBmYWNlKSB7XG4gICAgICAgIGxldCBuc2lkZSA9IHN0ZXAgKiBNYXRoLnBvdygyLCB0aGlzLm9yZGVyKTtcbiAgICAgICAgbGV0IHBvaW50cyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBsZXQgeHlmID0gbmV3IFh5Zih4LCB5LCBmYWNlKTtcbiAgICAgICAgbGV0IGRjID0gMC41IC8gbnNpZGU7XG4gICAgICAgIGxldCB4YyA9ICh4eWYuaXggKyAwLjUpIC8gbnNpZGU7XG4gICAgICAgIGxldCB5YyA9ICh4eWYuaXkgKyAwLjUpIC8gbnNpZGU7XG4gICAgICAgIHBvaW50c1swXSA9IG5ldyBGeHlmKHhjICsgZGMsIHljICsgZGMsIHh5Zi5mYWNlKS50b1ZlYzMoKTtcbiAgICAgICAgcG9pbnRzWzFdID0gbmV3IEZ4eWYoeGMgLSBkYywgeWMgKyBkYywgeHlmLmZhY2UpLnRvVmVjMygpO1xuICAgICAgICBwb2ludHNbMl0gPSBuZXcgRnh5Zih4YyAtIGRjLCB5YyAtIGRjLCB4eWYuZmFjZSkudG9WZWMzKCk7XG4gICAgICAgIHBvaW50c1szXSA9IG5ldyBGeHlmKHhjICsgZGMsIHljIC0gZGMsIHh5Zi5mYWNlKS50b1ZlYzMoKTtcbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIG5laWdoYm9yaW5nIHBpeGVscyBvZiBpcGl4LlxuICAgIFRoaXMgbWV0aG9kIHdvcmtzIGluIGJvdGggUklORyBhbmQgTkVTVCBzY2hlbWVzLCBidXQgaXNcbiAgICBjb25zaWRlcmFibHkgZmFzdGVyIGluIHRoZSBORVNUIHNjaGVtZS5cbiAgICBAcGFyYW0gaXBpeCB0aGUgcmVxdWVzdGVkIHBpeGVsIG51bWJlci5cbiAgICBAcmV0dXJuIGFycmF5IHdpdGggaW5kaWNlcyBvZiB0aGUgbmVpZ2hib3JpbmcgcGl4ZWxzLlxuICAgICAgVGhlIHJldHVybmVkIGFycmF5IGNvbnRhaW5zIChpbiB0aGlzIG9yZGVyKVxuICAgICAgdGhlIHBpeGVsIG51bWJlcnMgb2YgdGhlIFNXLCBXLCBOVywgTiwgTkUsIEUsIFNFIGFuZCBTIG5laWdoYm9yXG4gICAgICBvZiBpcGl4LiBJZiBhIG5laWdoYm9yIGRvZXMgbm90IGV4aXN0ICh0aGlzIGNhbiBvbmx5IGhhcHBlblxuICAgICAgZm9yIHRoZSBXLCBOLCBFIGFuZCBTIG5laWdoYm9ycyksIGl0cyBlbnRyeSBpcyBzZXQgdG8gLTEuICovXG4gICAgbmVpZ2hib3VycyhpcGl4KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgSW50MzJBcnJheSg4KTtcbiAgICAgICAgbGV0IHh5ZiA9IHRoaXMubmVzdDJ4eWYoaXBpeCk7XG4gICAgICAgIGxldCBpeCA9IHh5Zi5peDtcbiAgICAgICAgbGV0IGl5ID0geHlmLml5O1xuICAgICAgICBsZXQgZmFjZV9udW0gPSB4eWYuZmFjZTtcbiAgICAgICAgdmFyIG5zbTEgPSB0aGlzLm5zaWRlIC0gMTtcbiAgICAgICAgaWYgKChpeCA+IDApICYmIChpeCA8IG5zbTEpICYmIChpeSA+IDApICYmIChpeSA8IG5zbTEpKSB7XG4gICAgICAgICAgICBsZXQgZnBpeCA9IE1hdGguZmxvb3IoZmFjZV9udW0gPDwgKDIgKiB0aGlzLm9yZGVyKSk7XG4gICAgICAgICAgICBsZXQgcHgwID0gdGhpcy5zcHJlYWRfYml0cyhpeCk7XG4gICAgICAgICAgICBsZXQgcHkwID0gdGhpcy5zcHJlYWRfYml0cyhpeSkgPDwgMTtcbiAgICAgICAgICAgIGxldCBweHAgPSB0aGlzLnNwcmVhZF9iaXRzKGl4ICsgMSk7XG4gICAgICAgICAgICBsZXQgcHlwID0gdGhpcy5zcHJlYWRfYml0cyhpeSArIDEpIDw8IDE7XG4gICAgICAgICAgICBsZXQgcHhtID0gdGhpcy5zcHJlYWRfYml0cyhpeCAtIDEpO1xuICAgICAgICAgICAgbGV0IHB5bSA9IHRoaXMuc3ByZWFkX2JpdHMoaXkgLSAxKSA8PCAxO1xuICAgICAgICAgICAgcmVzdWx0WzBdID0gZnBpeCArIHB4bSArIHB5MDtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IGZwaXggKyBweG0gKyBweXA7XG4gICAgICAgICAgICByZXN1bHRbMl0gPSBmcGl4ICsgcHgwICsgcHlwO1xuICAgICAgICAgICAgcmVzdWx0WzNdID0gZnBpeCArIHB4cCArIHB5cDtcbiAgICAgICAgICAgIHJlc3VsdFs0XSA9IGZwaXggKyBweHAgKyBweTA7XG4gICAgICAgICAgICByZXN1bHRbNV0gPSBmcGl4ICsgcHhwICsgcHltO1xuICAgICAgICAgICAgcmVzdWx0WzZdID0gZnBpeCArIHB4MCArIHB5bTtcbiAgICAgICAgICAgIHJlc3VsdFs3XSA9IGZwaXggKyBweG0gKyBweW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gaXggKyB0aGlzLnhvZmZzZXRbaV07XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBpeSArIHRoaXMueW9mZnNldFtpXTtcbiAgICAgICAgICAgICAgICBsZXQgbmJudW0gPSA0O1xuICAgICAgICAgICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB4ICs9IHRoaXMubnNpZGU7XG4gICAgICAgICAgICAgICAgICAgIG5ibnVtIC09IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHggPj0gdGhpcy5uc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICB4IC09IHRoaXMubnNpZGU7XG4gICAgICAgICAgICAgICAgICAgIG5ibnVtICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB5ICs9IHRoaXMubnNpZGU7XG4gICAgICAgICAgICAgICAgICAgIG5ibnVtIC09IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHkgPj0gdGhpcy5uc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICB5IC09IHRoaXMubnNpZGU7XG4gICAgICAgICAgICAgICAgICAgIG5ibnVtICs9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBmID0gdGhpcy5mYWNlYXJyYXlbbmJudW1dW2ZhY2VfbnVtXTtcbiAgICAgICAgICAgICAgICBpZiAoZiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBiaXRzID0gdGhpcy5zd2FwYXJyYXlbbmJudW1dW2ZhY2VfbnVtID4+PiAyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChiaXRzICYgMSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gTWF0aC5mbG9vcih0aGlzLm5zaWRlIC0geCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgoYml0cyAmIDIpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IodGhpcy5uc2lkZSAtIHkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKGJpdHMgJiA0KSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW50ID0geDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHRpbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy54eWYybmVzdCh4LCB5LCBmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICA7XG4gICAgbnNpZGUyb3JkZXIobnNpZGUpIHtcbiAgICAgICAgcmV0dXJuICgobnNpZGUgJiAobnNpZGUgLSAxKSkgIT0gMCkgPyAtMSA6IE1hdGgubG9nMihuc2lkZSk7XG4gICAgfVxuICAgIDtcbiAgICBuZXN0Mnh5ZihpcGl4KSB7XG4gICAgICAgIGxldCBwaXggPSBNYXRoLmZsb29yKGlwaXggJiAodGhpcy5ucGZhY2UgLSAxKSk7XG4gICAgICAgIGxldCB4eWYgPSBuZXcgWHlmKHRoaXMuY29tcHJlc3NfYml0cyhwaXgpLCB0aGlzLmNvbXByZXNzX2JpdHMocGl4ID4+IDEpLCBNYXRoLmZsb29yKChpcGl4ID4+ICgyICogdGhpcy5vcmRlcikpKSk7XG4gICAgICAgIHJldHVybiB4eWY7XG4gICAgfVxuICAgIDtcbiAgICB4eWYybmVzdChpeCwgaXksIGZhY2VfbnVtKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKGZhY2VfbnVtIDw8ICgyICogdGhpcy5vcmRlcikpXG4gICAgICAgICAgICArIHRoaXMuc3ByZWFkX2JpdHMoaXgpICsgKHRoaXMuc3ByZWFkX2JpdHMoaXkpIDw8IDEpO1xuICAgIH1cbiAgICA7XG4gICAgbG9jMnBpeChocGxvYykge1xuICAgICAgICBsZXQgeiA9IGhwbG9jLno7XG4gICAgICAgIGxldCBwaGkgPSBocGxvYy5waGk7XG4gICAgICAgIGxldCB6YSA9IE1hdGguYWJzKHopO1xuICAgICAgICBsZXQgdHQgPSB0aGlzLmZtb2R1bG8oKHBoaSAqIHRoaXMuaW52X2hhbGZwaSksIDQuMCk7IC8vIGluIFswLDQpXG4gICAgICAgIGxldCBwaXhObztcbiAgICAgICAgaWYgKHphIDw9IHRoaXMudHdvdGhpcmQpIHsgLy8gRXF1YXRvcmlhbCByZWdpb25cbiAgICAgICAgICAgIGxldCB0ZW1wMSA9IHRoaXMubnNpZGUgKiAoMC41ICsgdHQpO1xuICAgICAgICAgICAgbGV0IHRlbXAyID0gdGhpcy5uc2lkZSAqICh6ICogMC43NSk7XG4gICAgICAgICAgICBsZXQganAgPSBNYXRoLmZsb29yKHRlbXAxIC0gdGVtcDIpOyAvLyBpbmRleCBvZiBhc2NlbmRpbmcgZWRnZSBsaW5lXG4gICAgICAgICAgICBsZXQgam0gPSBNYXRoLmZsb29yKHRlbXAxICsgdGVtcDIpOyAvLyBpbmRleCBvZiBkZXNjZW5kaW5nIGVkZ2UgbGluZVxuICAgICAgICAgICAgbGV0IGlmcCA9IE1hdGguZmxvb3IoanAgPj4+IHRoaXMub3JkZXIpOyAvLyBpbiB7MCw0fVxuICAgICAgICAgICAgbGV0IGlmbSA9IE1hdGguZmxvb3Ioam0gPj4+IHRoaXMub3JkZXIpO1xuICAgICAgICAgICAgbGV0IGZhY2VfbnVtID0gTWF0aC5mbG9vcigoaWZwID09IGlmbSkgPyAoaWZwIHwgNCkgOiAoKGlmcCA8IGlmbSkgPyBpZnAgOiAoaWZtICsgOCkpKTtcbiAgICAgICAgICAgIGxldCBpeCA9IE1hdGguZmxvb3Ioam0gJiAodGhpcy5uc2lkZSAtIDEpKTtcbiAgICAgICAgICAgIGxldCBpeSA9IE1hdGguZmxvb3IodGhpcy5uc2lkZSAtIChqcCAmICh0aGlzLm5zaWRlIC0gMSkpIC0gMSk7XG4gICAgICAgICAgICBwaXhObyA9IHRoaXMueHlmMm5lc3QoaXgsIGl5LCBmYWNlX251bSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIHBvbGFyIHJlZ2lvbiwgemEgPiAyLzNcbiAgICAgICAgICAgIGxldCBudHQgPSBNYXRoLm1pbigzLCBNYXRoLmZsb29yKHR0KSk7XG4gICAgICAgICAgICBsZXQgdHAgPSB0dCAtIG50dDtcbiAgICAgICAgICAgIGxldCB0bXAgPSAoKHphIDwgMC45OSkgfHwgKCFocGxvYy5oYXZlX3N0aCkpID9cbiAgICAgICAgICAgICAgICB0aGlzLm5zaWRlICogTWF0aC5zcXJ0KDMgKiAoMSAtIHphKSkgOlxuICAgICAgICAgICAgICAgIHRoaXMubnNpZGUgKiBocGxvYy5zdGggLyBNYXRoLnNxcnQoKDEuMCArIHphKSAvIDMuKTtcbiAgICAgICAgICAgIGxldCBqcCA9IE1hdGguZmxvb3IodHAgKiB0bXApOyAvLyBpbmNyZWFzaW5nIGVkZ2UgbGluZSBpbmRleFxuICAgICAgICAgICAgbGV0IGptID0gTWF0aC5mbG9vcigoMS4wIC0gdHApICogdG1wKTsgLy8gZGVjcmVhc2luZyBlZGdlIGxpbmUgaW5kZXhcbiAgICAgICAgICAgIGlmIChqcCA+PSB0aGlzLm5zaWRlKSB7XG4gICAgICAgICAgICAgICAganAgPSB0aGlzLm5zaWRlIC0gMTsgLy8gZm9yIHBvaW50cyB0b28gY2xvc2UgdG8gdGhlIGJvdW5kYXJ5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoam0gPj0gdGhpcy5uc2lkZSkge1xuICAgICAgICAgICAgICAgIGptID0gdGhpcy5uc2lkZSAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcGl4Tm8gPSB0aGlzLnh5ZjJuZXN0KE1hdGguZmxvb3IodGhpcy5uc2lkZSAtIGptIC0gMSksIE1hdGguZmxvb3IodGhpcy5uc2lkZSAtIGpwIC0gMSksIG50dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaXhObyA9IHRoaXMueHlmMm5lc3QoTWF0aC5mbG9vcihqcCksIE1hdGguZmxvb3Ioam0pLCBudHQgKyA4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGl4Tm87XG4gICAgfVxuICAgIDtcbiAgICAvKiogUmV0dXJucyB0aGUgbm9ybWFsaXplZCAzLXZlY3RvciBjb3JyZXNwb25kaW5nIHRvIHRoZSBjZW50ZXIgb2YgdGhlXG4gICAgc3VwcGxpZWQgcGl4ZWwuXG4gICAgQHBhcmFtIHBpeCBsb25nIHRoZSByZXF1ZXN0ZWQgcGl4ZWwgbnVtYmVyLlxuICAgIEByZXR1cm4gdGhlIHBpeGVsJ3MgY2VudGVyIGNvb3JkaW5hdGVzLiAqL1xuICAgIHBpeDJ2ZWMocGl4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBpeDJsb2MocGl4KS50b1ZlYzMoKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBSZXR1cm5zIHRoZSBacGhpIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3VwcGxpZWQgcGl4ZWwuXG4gICAgIEBwYXJhbSBwaXggdGhlIHJlcXVlc3RlZCBwaXhlbCBudW1iZXIuXG4gICAgIEByZXR1cm4gdGhlIHBpeGVsJ3MgY2VudGVyIGNvb3JkaW5hdGVzLiAqL1xuICAgIHBpeDJ6cGhpKHBpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXgybG9jKHBpeCkudG9acGhpKCk7XG4gICAgfVxuICAgIHBpeDJhbmcocGl4LCBtaXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGl4MmxvYyhwaXgpLnRvUG9pbnRpbmcobWlycm9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBpeCBsb25nXG4gICAgICogQHJldHVybiBIcGxvY1xuICAgICAqL1xuICAgIHBpeDJsb2MocGl4KSB7XG4gICAgICAgIGxldCBsb2MgPSBuZXcgSHBsb2ModW5kZWZpbmVkKTtcbiAgICAgICAgbGV0IHh5ZiA9IHRoaXMubmVzdDJ4eWYocGl4KTtcbiAgICAgICAgbGV0IGpyID0gKCh0aGlzLmpybGxbeHlmLmZhY2VdKSA8PCB0aGlzLm9yZGVyKSAtIHh5Zi5peCAtIHh5Zi5peSAtIDE7XG4gICAgICAgIGxldCBucjtcbiAgICAgICAgaWYgKGpyIDwgdGhpcy5uc2lkZSkge1xuICAgICAgICAgICAgbnIgPSBqcjtcbiAgICAgICAgICAgIGxldCB0bXAgPSAobnIgKiBucikgKiB0aGlzLmZhY3QyO1xuICAgICAgICAgICAgbG9jLnogPSAxIC0gdG1wO1xuICAgICAgICAgICAgaWYgKGxvYy56ID4gMC45OSkge1xuICAgICAgICAgICAgICAgIGxvYy5zdGggPSBNYXRoLnNxcnQodG1wICogKDIuIC0gdG1wKSk7XG4gICAgICAgICAgICAgICAgbG9jLmhhdmVfc3RoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChqciA+IHRoaXMubmwzKSB7XG4gICAgICAgICAgICBuciA9IHRoaXMubmw0IC0ganI7XG4gICAgICAgICAgICBsZXQgdG1wID0gKG5yICogbnIpICogdGhpcy5mYWN0MjtcbiAgICAgICAgICAgIGxvYy56ID0gdG1wIC0gMTtcbiAgICAgICAgICAgIGlmIChsb2MueiA8IC0wLjk5KSB7XG4gICAgICAgICAgICAgICAgbG9jLnN0aCA9IE1hdGguc3FydCh0bXAgKiAoMi4gLSB0bXApKTtcbiAgICAgICAgICAgICAgICBsb2MuaGF2ZV9zdGggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbnIgPSB0aGlzLm5zaWRlO1xuICAgICAgICAgICAgbG9jLnogPSAodGhpcy5ubDIgLSBqcikgKiB0aGlzLmZhY3QxO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0bXAgPSAodGhpcy5qcGxsW3h5Zi5mYWNlXSkgKiBuciArIHh5Zi5peCAtIHh5Zi5peTtcbiAgICAgICAgLy8gICAgICBcdGFzc2VydCh0bXA8OCpucik7IC8vIG11c3Qgbm90IGhhcHBlblxuICAgICAgICBpZiAodG1wIDwgMCkge1xuICAgICAgICAgICAgdG1wICs9IDggKiBucjtcbiAgICAgICAgfVxuICAgICAgICBsb2MucGhpID0gKG5yID09IHRoaXMubnNpZGUpID8gMC43NSAqIENvbnN0YW50cy5oYWxmcGkgKiB0bXAgKiB0aGlzLmZhY3QxIDogKDAuNSAqIENvbnN0YW50cy5oYWxmcGkgKiB0bXApIC8gbnI7XG4gICAgICAgIC8vIGxvYy5zZXRQaGkoKG5yID09IHRoaXMubnNpZGUpID8gMC43NSAqIENvbnN0YW50cy5oYWxmcGkgKiB0bXAgKiB0aGlzLmZhY3QxIDogKDAuNSAqIENvbnN0YW50cy5oYWxmcGkgKiB0bXApL25yKTtcbiAgICAgICAgcmV0dXJuIGxvYztcbiAgICB9XG4gICAgO1xuICAgIHphMnZlYyh6LCBhKSB7XG4gICAgICAgIGNvbnN0IHNpbl90aGV0YSA9IE1hdGguc3FydCgxIC0geiAqIHopO1xuICAgICAgICBjb25zdCBYID0gc2luX3RoZXRhICogTWF0aC5jb3MoYSk7XG4gICAgICAgIGNvbnN0IFkgPSBzaW5fdGhldGEgKiBNYXRoLnNpbihhKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKFgsIFksIHopO1xuICAgIH1cbiAgICBhbmcydmVjKHRoZXRhLCBwaGkpIHtcbiAgICAgICAgY29uc3QgeiA9IE1hdGguY29zKHRoZXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuemEydmVjKHosIHBoaSk7XG4gICAgfVxuICAgIHZlYzJhbmcodikge1xuICAgICAgICBjb25zdCB7IHosIGEgfSA9IHRoaXMudmVjMnphKHYuZ2V0WCgpLCB2LmdldFkoKSwgdi5nZXRaKCkpO1xuICAgICAgICByZXR1cm4geyB0aGV0YTogTWF0aC5hY29zKHopLCBwaGk6IGEgfTtcbiAgICB9XG4gICAgdmVjMnphKFgsIFksIHopIHtcbiAgICAgICAgY29uc3QgcjIgPSBYICogWCArIFkgKiBZO1xuICAgICAgICBpZiAocjIgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB7IHo6IHogPCAwID8gLTEgOiAxLCBhOiAwIH07XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgUEkyID0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICBjb25zdCBhID0gKE1hdGguYXRhbjIoWSwgWCkgKyBQSTIpICUgUEkyO1xuICAgICAgICAgICAgeiAvPSBNYXRoLnNxcnQoeiAqIHogKyByMik7XG4gICAgICAgICAgICByZXR1cm4geyB6LCBhIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYW5nMnBpeChwdGcsIG1pcnJvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2MycGl4KG5ldyBIcGxvYyhwdGcpKTtcbiAgICB9XG4gICAgO1xuICAgIGZtb2R1bG8odjEsIHYyKSB7XG4gICAgICAgIGlmICh2MSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gKHYxIDwgdjIpID8gdjEgOiB2MSAlIHYyO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0bXAgPSB2MSAlIHYyICsgdjI7XG4gICAgICAgIHJldHVybiAodG1wID09PSB2MikgPyAwLjAgOiB0bXA7XG4gICAgfVxuICAgIDtcbiAgICBjb21wcmVzc19iaXRzKHYpIHtcbiAgICAgICAgdmFyIHJhdyA9IE1hdGguZmxvb3IoKHYgJiAweDU1NTUpKSB8IE1hdGguZmxvb3IoKCh2ICYgMHg1NTU1MDAwMCkgPj4+IDE1KSk7XG4gICAgICAgIHZhciBjb21wcmVzc2VkID0gdGhpcy5jdGFiW3JhdyAmIDB4ZmZdIHwgKHRoaXMuY3RhYltyYXcgPj4+IDhdIDw8IDQpO1xuICAgICAgICByZXR1cm4gY29tcHJlc3NlZDtcbiAgICB9XG4gICAgO1xuICAgIHNwcmVhZF9iaXRzKHYpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy51dGFiW3YgJiAweGZmXSkgfCBNYXRoLmZsb29yKCh0aGlzLnV0YWJbKHYgPj4+IDgpICYgMHhmZl0gPDwgMTYpKVxuICAgICAgICAgICAgfCBNYXRoLmZsb29yKCh0aGlzLnV0YWJbKHYgPj4+IDE2KSAmIDB4ZmZdIDw8IDMyKSkgfCBNYXRoLmZsb29yKCh0aGlzLnV0YWJbKHYgPj4+IDI0KSAmIDB4ZmZdIDw8IDQ4KSk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmFuZ2Ugc2V0IG9mIHBpeGVscyB0aGF0IG92ZXJsYXAgd2l0aCB0aGUgY29udmV4IHBvbHlnb25cbiAgICAgKiBkZWZpbmVkIGJ5IHRoZSB7QGNvZGUgdmVydGV4fSBhcnJheS5cbiAgICAgKiA8cD5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBtb3JlIGVmZmljaWVudCBpbiB0aGUgUklORyBzY2hlbWUuXG4gICAgICogPHA+XG4gICAgICogVGhpcyBtZXRob2QgbWF5IHJldHVybiBzb21lIHBpeGVscyB3aGljaCBkb24ndCBvdmVybGFwIHdpdGggdGhlIHBvbHlnb25cbiAgICAgKiBhdCBhbGwuIFRoZSBoaWdoZXIge0Bjb2RlIGZhY3R9IGlzIGNob3NlbiwgdGhlIGZld2VyIGZhbHNlIHBvc2l0aXZlcyBhcmVcbiAgICAgKiByZXR1cm5lZCwgYXQgdGhlIGNvc3Qgb2YgaW5jcmVhc2VkIHJ1biB0aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZlcnRleFxuICAgICAqICAgICAgICAgICAgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGljZXMgb2YgdGhlIHJlcXVlc3RlZCBjb252ZXhcbiAgICAgKiAgICAgICAgICAgIHBvbHlnb24uXG4gICAgICogQHBhcmFtIGZhY3RcbiAgICAgKiAgICAgICAgICAgIFRoZSBvdmVybGFwcGluZyB0ZXN0IHdpbGwgYmUgZG9uZSBhdCB0aGUgcmVzb2x1dGlvblxuICAgICAqICAgICAgICAgICAge0Bjb2RlIGZhY3QqbnNpZGV9LiBGb3IgTkVTVEVEIG9yZGVyaW5nLCB7QGNvZGUgZmFjdH0gbXVzdCBiZVxuICAgICAqICAgICAgICAgICAgYSBwb3dlciBvZiAyLCBlbHNlIGl0IGNhbiBiZSBhbnkgcG9zaXRpdmUgaW50ZWdlci4gQSB0eXBpY2FsXG4gICAgICogICAgICAgICAgICBjaG9pY2Ugd291bGQgYmUgNC5cbiAgICAgKiBAcmV0dXJuIHRoZSByZXF1ZXN0ZWQgc2V0IG9mIHBpeGVsIG51bWJlciByYW5nZXNcbiAgICAgKi9cbiAgICBxdWVyeVBvbHlnb25JbmNsdXNpdmUodmVydGV4LCBmYWN0KSB7XG4gICAgICAgIGxldCBpbmNsdXNpdmUgPSAoZmFjdCAhPSAwKTtcbiAgICAgICAgbGV0IG52ID0gdmVydGV4Lmxlbmd0aDtcbiAgICAgICAgLy8gICAgICAgIGxldCBuY2lyYyA9IGluY2x1c2l2ZSA/IG52KzEgOiBudjtcbiAgICAgICAgaWYgKCEobnYgPj0gMykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm90IGVub3VnaCB2ZXJ0aWNlcyBpbiBwb2x5Z29uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2diA9IG5ldyBBcnJheSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG52OyArK2kpIHtcbiAgICAgICAgICAgIHZ2W2ldID0gVmVjMy5wb2ludGluZzJWZWMzKHZlcnRleFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vcm1hbCA9IG5ldyBBcnJheSgpO1xuICAgICAgICBsZXQgZmxpcCA9IDA7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBiYWNrID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChpbmRleCA8IHZ2Lmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gdnZbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IG1lZGl1bSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gdnYubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGxhc3QgPSB2dlsxXTtcbiAgICAgICAgICAgICAgICBtZWRpdW0gPSB2dlswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09IHZ2Lmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBsYXN0ID0gdnZbMF07XG4gICAgICAgICAgICAgICAgbWVkaXVtID0gdnZbaW5kZXggKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lZGl1bSA9IHZ2W2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgbGFzdCA9IHZ2W2luZGV4ICsgMl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub3JtYWxbaW5kZXhdID0gZmlyc3QuY3Jvc3MobWVkaXVtKS5ub3JtKCk7XG4gICAgICAgICAgICBsZXQgaG5kID0gbm9ybWFsW2luZGV4XS5kb3QobGFzdCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAgIGZsaXAgPSAoaG5kIDwgMC4pID8gLTEgOiAxO1xuICAgICAgICAgICAgICAgIGxldCB0bXAgPSBuZXcgUG9pbnRpbmcoZmlyc3QpOyAvLyBUT0RPIG5vdCB1c2VkXG4gICAgICAgICAgICAgICAgYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGZsaXBUaG5kID0gZmxpcCAqIGhuZDtcbiAgICAgICAgICAgICAgICBpZiAoZmxpcFRobmQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0bXAgPSBuZXcgUG9pbnRpbmcobWVkaXVtKTtcbiAgICAgICAgICAgICAgICAgICAgdnYuc3BsaWNlKGluZGV4ICsgMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG1wID0gbmV3IFBvaW50aW5nKGZpcnN0KTtcbiAgICAgICAgICAgICAgICAgICAgYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vcm1hbFtpbmRleF0uc2NhbGUoZmxpcCk7XG4gICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIG52ID0gdnYubGVuZ3RoO1xuICAgICAgICBsZXQgbmNpcmMgPSBpbmNsdXNpdmUgPyBudiArIDEgOiBudjtcbiAgICAgICAgbGV0IHJhZCA9IG5ldyBBcnJheShuY2lyYyk7XG4gICAgICAgIHJhZCA9IHJhZC5maWxsKENvbnN0YW50cy5oYWxmcGkpO1xuICAgICAgICAvLyAgICAgICAgcmFkID0gcmFkLmZpbGwoMS41NzA3OTYzMjY3OTQ4OTY2KTtcbiAgICAgICAgLy8gICAgICAgIGxldCBwID0gXCIxLjU3MDc5NjMyNjc5NDg5NjZcIjtcbiAgICAgICAgLy8gICAgICAgIHJhZCA9IHJhZC5maWxsKHBhcnNlRmxvYXQocCkpO1xuICAgICAgICBpZiAoaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICBsZXQgY2YgPSBuZXcgQ2lyY2xlRmluZGVyKHZ2KTtcbiAgICAgICAgICAgIG5vcm1hbFtudl0gPSBjZi5nZXRDZW50ZXIoKTtcbiAgICAgICAgICAgIHJhZFtudl0gPSBIcGxvYy5hY29zKGNmLmdldENvc3JhZCgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeU11bHRpRGlzYyhub3JtYWwsIHJhZCwgZmFjdCk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBGb3IgTkVTVCBzY2hlbWEgb25seVxuICAgICAqXG4gICAgICogQHBhcmFtIG5vcm1hbDpcbiAgICAgKiAgICAgICAgICAgIFZlYzNbXVxuICAgICAqIEBwYXJhbSByYWQ6XG4gICAgICogICAgICAgICAgICBGbG9hdDMyQXJyYXlcbiAgICAgKiBAcGFyYW0gZmFjdDpcbiAgICAgKiAgICAgICAgICAgIFRoZSBvdmVybGFwcGluZyB0ZXN0IHdpbGwgYmUgZG9uZSBhdCB0aGUgcmVzb2x1dGlvblxuICAgICAqICAgICAgICAgICAge0Bjb2RlIGZhY3QqbnNpZGV9LiBGb3IgTkVTVEVEIG9yZGVyaW5nLCB7QGNvZGUgZmFjdH0gbXVzdCBiZVxuICAgICAqICAgICAgICAgICAgYSBwb3dlciBvZiAyLCBlbHNlIGl0IGNhbiBiZSBhbnkgcG9zaXRpdmUgaW50ZWdlci4gQSB0eXBpY2FsXG4gICAgICogICAgICAgICAgICBjaG9pY2Ugd291bGQgYmUgNC5cbiAgICAgKiBAcmV0dXJuIFJhbmdlU2V0IHRoZSByZXF1ZXN0ZWQgc2V0IG9mIHBpeGVsIG51bWJlciByYW5nZXNcbiAgICAgKi9cbiAgICBxdWVyeU11bHRpRGlzYyhub3JtLCByYWQsIGZhY3QpIHtcbiAgICAgICAgdGhpcy5jb21wdXRlQm4oKTtcbiAgICAgICAgbGV0IGluY2x1c2l2ZSA9IChmYWN0ICE9IDApO1xuICAgICAgICBsZXQgbnYgPSBub3JtLmxlbmd0aDtcbiAgICAgICAgLy8gSGVhbHBpeFV0aWxzLmNoZWNrKG52PT1yYWQubGVuZ3QwLFwiaW5jb25zaXN0ZW50IGlucHV0IGFycmF5c1wiKTtcbiAgICAgICAgaWYgKCEobnYgPT0gcmFkLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJpbmNvbnNpc3RlbnQgaW5wdXQgYXJyYXlzXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXMgPSBuZXcgUmFuZ2VTZXQoNCA8PCAxKTtcbiAgICAgICAgLy8gUmVtb3ZlZCBjb2RlIGZvciBTY2hlbWUuUklOR1xuICAgICAgICBsZXQgb3BsdXMgPSAwO1xuICAgICAgICBpZiAoaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICBpZiAoIShNYXRoLnBvdygyLCB0aGlzLm9yZGVyX21heCAtIHRoaXMub3JkZXIpID49IGZhY3QpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImludmFsaWQgb3ZlcnNhbXBsaW5nIGZhY3RvclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKChmYWN0ICYgKGZhY3QgLSAxKSkgPT0gMCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwib3ZlcnNhbXBsaW5nIGZhY3RvciBtdXN0IGJlIGEgcG93ZXIgb2YgMlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wbHVzID0gdGhpcy5pbG9nMihmYWN0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb21heCA9IHRoaXMub3JkZXIgKyBvcGx1czsgLy8gdGhlIG9yZGVyIHVwIHRvIHdoaWNoIHdlIHRlc3RcbiAgICAgICAgLy8gVE9ETzogaWdub3JlIGFsbCBkaXNrcyB3aXRoIHJhZGl1cz49cGlcbiAgICAgICAgLy8gICAgICAgIGxldCBjcmxpbWl0ID0gbmV3IEZsb2F0MzJBcnJheVtvbWF4KzFdW252XVszXTtcbiAgICAgICAgbGV0IGNybGltaXQgPSBuZXcgQXJyYXkob21heCArIDEpO1xuICAgICAgICBsZXQgbztcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAobyA9IDA7IG8gPD0gb21heDsgKytvKSB7IC8vIHByZXBhcmUgZGF0YSBhdCB0aGUgcmVxdWlyZWQgb3JkZXJzXG4gICAgICAgICAgICBjcmxpbWl0W29dID0gbmV3IEFycmF5KG52KTtcbiAgICAgICAgICAgIGxldCBkciA9IHRoaXMuYm5bb10ubWF4UGl4cmFkKCk7IC8vIHNhZmV0eSBkaXN0YW5jZVxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG52OyArK2kpIHtcbiAgICAgICAgICAgICAgICBjcmxpbWl0W29dW2ldID0gbmV3IEZsb2F0NjRBcnJheSgzKTtcbiAgICAgICAgICAgICAgICBjcmxpbWl0W29dW2ldWzBdID0gKHJhZFtpXSArIGRyID4gTWF0aC5QSSkgPyAtMSA6IEhwbG9jLmNvcyhyYWRbaV0gKyBkcik7XG4gICAgICAgICAgICAgICAgY3JsaW1pdFtvXVtpXVsxXSA9IChvID09IDApID8gSHBsb2MuY29zKHJhZFtpXSkgOiBjcmxpbWl0WzBdW2ldWzFdO1xuICAgICAgICAgICAgICAgIGNybGltaXRbb11baV1bMl0gPSAocmFkW2ldIC0gZHIgPCAwLikgPyAxLiA6IEhwbG9jLmNvcyhyYWRbaV0gLSBkcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0ayA9IG5ldyBwc3RhY2soMTIgKyAzICogb21heCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTI7IGkrKykgeyAvLyBpbnNlcnQgdGhlIDEyIGJhc2UgcGl4ZWxzIGluIHJldmVyc2VcbiAgICAgICAgICAgIC8vIG9yZGVyXG4gICAgICAgICAgICBzdGsucHVzaCgxMSAtIGksIDApO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzdGsuc2l6ZSgpID4gMCkgeyAvLyBhcyBsb25nIGFzIHRoZXJlIGFyZSBwaXhlbHMgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICAvLyBwb3AgY3VycmVudCBwaXhlbCBudW1iZXIgYW5kIG9yZGVyIGZyb20gdGhlIHN0YWNrXG4gICAgICAgICAgICBsZXQgcGl4ID0gc3RrLnB0b3AoKTtcbiAgICAgICAgICAgIGxldCBvID0gc3RrLm90b3AoKTtcbiAgICAgICAgICAgIHN0ay5wb3AoKTtcbiAgICAgICAgICAgIGxldCBwdiA9IHRoaXMuYm5bb10ucGl4MnZlYyhwaXgpO1xuICAgICAgICAgICAgbGV0IHpvbmUgPSAzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IChpIDwgbnYpICYmICh6b25lID4gMCk7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBjcmFkID0gcHYuZG90KG5vcm1baV0pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGl6ID0gMDsgaXogPCB6b25lOyArK2l6KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmFkIDwgY3JsaW1pdFtvXVtpXVtpel0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSBpejtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh6b25lID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tfcGl4ZWwobywgb21heCwgem9uZSwgcmVzLCBwaXgsIHN0aywgaW5jbHVzaXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICA7XG4gICAgLyoqIEludGVnZXIgYmFzZSAyIGxvZ2FyaXRobS5cbiAgICBAcGFyYW0gYXJnXG4gICAgQHJldHVybiB0aGUgbGFyZ2VzdCBpbnRlZ2VyIHtAY29kZSBufSB0aGF0IGZ1bGZpbGxzIHtAY29kZSAyXm48PWFyZ30uXG4gICAgRm9yIG5lZ2F0aXZlIGFyZ3VtZW50cyBhbmQgemVybywgMCBpcyByZXR1cm5lZC4gKi9cbiAgICBpbG9nMihhcmcpIHtcbiAgICAgICAgbGV0IG1heCA9IE1hdGgubWF4KGFyZywgMSk7XG4gICAgICAgIHJldHVybiAzMSAtIE1hdGguY2x6MzIobWF4KTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBDb21wdXRlcyB0aGUgY29zaW5lIG9mIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gdHdvIHosIHBoaSBwb3NpdGlvbnNcbiAgICAgIG9uIHRoZSB1bml0IHNwaGVyZS4gKi9cbiAgICBjb3NkaXN0X3pwaGkoejEsIHBoaTEsIHoyLCBwaGkyKSB7XG4gICAgICAgIHJldHVybiB6MSAqIHoyICsgSHBsb2MuY29zKHBoaTEgLSBwaGkyKSAqIE1hdGguc3FydCgoMS4wIC0gejEgKiB6MSkgKiAoMS4wIC0gejIgKiB6MikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaW50IG9cbiAgICAgKiBAcGFyYW0gaW50IG9tYXhcbiAgICAgKiBAcGFyYW0gaW50IHpvbmVcbiAgICAgKiBAcGFyYW0gUmFuZ2VTZXQgcGl4c2V0XG4gICAgICogQHBhcmFtIGxvbmcgcGl4XG4gICAgICogQHBhcmFtIHBzdGFjayBzdGtcbiAgICAgKiBAcGFyYW0gYm9vbGVhbiBpbmNsdXNpdmVcbiAgICAgKi9cbiAgICBjaGVja19waXhlbChvLCBvbWF4LCB6b25lLCBwaXhzZXQsIHBpeCwgc3RrLCBpbmNsdXNpdmUpIHtcbiAgICAgICAgaWYgKHpvbmUgPT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG8gPCB0aGlzLm9yZGVyKSB7XG4gICAgICAgICAgICBpZiAoem9uZSA+PSAzKSB7IC8vIG91dHB1dCBhbGwgc3VicGl4ZWxzXG4gICAgICAgICAgICAgICAgbGV0IHNkaXN0ID0gMiAqICh0aGlzLm9yZGVyIC0gbyk7IC8vIHRoZSBcImJpdC1zaGlmdCBkaXN0YW5jZVwiIGJldHdlZW4gbWFwIG9yZGVyc1xuICAgICAgICAgICAgICAgIHBpeHNldC5hcHBlbmQxKHBpeCA8PCBzZGlzdCwgKChwaXggKyAxKSA8PCBzZGlzdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8vICh6b25lPj0xKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ay5wdXNoKDQgKiBwaXggKyAzIC0gaSwgbyArIDEpOyAvLyBhZGQgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobyA+IHRoaXMub3JkZXIpIHsgLy8gdGhpcyBpbXBsaWVzIHRoYXQgaW5jbHVzaXZlPT10cnVlXG4gICAgICAgICAgICBpZiAoem9uZSA+PSAyKSB7IC8vIHBpeGVsIGNlbnRlciBpbiBzaGFwZVxuICAgICAgICAgICAgICAgIHBpeHNldC5hcHBlbmQocGl4ID4+PiAoMiAqIChvIC0gdGhpcy5vcmRlcikpKTsgLy8gb3V0cHV0IHRoZSBwYXJlbnQgcGl4ZWwgYXQgb3JkZXJcbiAgICAgICAgICAgICAgICBzdGsucG9wVG9NYXJrKCk7IC8vIHVud2luZCB0aGUgc3RhY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyAoem9uZT49MSk6IHBpeGVsIGNlbnRlciBpbiBzYWZldHkgcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAobyA8IG9tYXgpIHsgLy8gY2hlY2sgc3VibGV2ZWxzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgKytpKSB7IC8vIGFkZCBjaGlsZHJlbiBpbiByZXZlcnNlIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGsucHVzaCg0ICogcGl4ICsgMyAtIGksIG8gKyAxKTsgLy8gYWRkIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IC8vIGF0IHJlc29sdXRpb24gbGltaXRcbiAgICAgICAgICAgICAgICAgICAgcGl4c2V0LmFwcGVuZChwaXggPj4+ICgyICogKG8gLSB0aGlzLm9yZGVyKSkpOyAvLyBvdXRwdXQgdGhlIHBhcmVudCBwaXhlbCBhdCBvcmRlclxuICAgICAgICAgICAgICAgICAgICBzdGsucG9wVG9NYXJrKCk7IC8vIHVud2luZCB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIG89PW9yZGVyXG4gICAgICAgICAgICBpZiAoem9uZSA+PSAyKSB7XG4gICAgICAgICAgICAgICAgcGl4c2V0LmFwcGVuZChwaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5jbHVzaXZlKSB7IC8vIGFuZCAoem9uZT49MSlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmRlciA8IG9tYXgpIHsgLy8gY2hlY2sgc3VibGV2ZWxzXG4gICAgICAgICAgICAgICAgICAgIHN0ay5tYXJrKCk7IC8vIHJlbWVtYmVyIGN1cnJlbnQgc3RhY2sgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyArK2kpIHsgLy8gYWRkIGNoaWxkcmVuIGluIHJldmVyc2Ugb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ay5wdXNoKDQgKiBwaXggKyAzIC0gaSwgbyArIDEpOyAvLyBhZGQgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gYXQgcmVzb2x1dGlvbiBsaW1pdFxuICAgICAgICAgICAgICAgICAgICBwaXhzZXQuYXBwZW5kKHBpeCk7IC8vIG91dHB1dCB0aGUgcGl4ZWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIG1heGltdW0gYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIGEgcGl4ZWwgY2VudGVyIGFuZCBpdHNcbiAgICBjb3JuZXJzLlxuICAgIEByZXR1cm4gbWF4aW11bSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gYSBwaXhlbCBjZW50ZXIgYW5kIGl0c1xuICAgICAgY29ybmVycy4gKi9cbiAgICBtYXhQaXhyYWQoKSB7XG4gICAgICAgIGxldCB6cGhpYSA9IG5ldyBacGhpKDIuIC8gMy4sIE1hdGguUEkgLyB0aGlzLm5sNCk7XG4gICAgICAgIGxldCB4eXoxID0gdGhpcy5jb252ZXJ0WnBoaTJ4eXooenBoaWEpO1xuICAgICAgICBsZXQgdmEgPSBuZXcgVmVjMyh4eXoxWzBdLCB4eXoxWzFdLCB4eXoxWzJdKTtcbiAgICAgICAgbGV0IHQxID0gMS4gLSAxLiAvIHRoaXMubnNpZGU7XG4gICAgICAgIHQxICo9IHQxO1xuICAgICAgICBsZXQgenBoaWIgPSBuZXcgWnBoaSgxIC0gdDEgLyAzLCAwKTtcbiAgICAgICAgbGV0IHh5ejIgPSB0aGlzLmNvbnZlcnRacGhpMnh5eih6cGhpYik7XG4gICAgICAgIGxldCB2YiA9IG5ldyBWZWMzKHh5ejJbMF0sIHh5ejJbMV0sIHh5ejJbMl0pO1xuICAgICAgICByZXR1cm4gdmEuYW5nbGUodmIpO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogdGhpcyBpcyBhIHdvcmthcm91bmQgcmVwbGFjaW5nIHRoZSBWZWMzKFpwaGkpIGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGNvbnZlcnRacGhpMnh5eih6cGhpKSB7XG4gICAgICAgIGxldCBzdGggPSBNYXRoLnNxcnQoKDEuMCAtIHpwaGkueikgKiAoMS4wICsgenBoaS56KSk7XG4gICAgICAgIGxldCB4ID0gc3RoICogSHBsb2MuY29zKHpwaGkucGhpKTtcbiAgICAgICAgbGV0IHkgPSBzdGggKiBIcGxvYy5zaW4oenBoaS5waGkpO1xuICAgICAgICBsZXQgeiA9IHpwaGkuejtcbiAgICAgICAgcmV0dXJuIFt4LCB5LCB6XTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBSZXR1cm5zIGEgcmFuZ2Ugc2V0IG9mIHBpeGVscyB3aGljaCBvdmVybGFwIHdpdGggYSBnaXZlbiBkaXNrLiA8cD5cbiAgICAgIFRoaXMgbWV0aG9kIGlzIG1vcmUgZWZmaWNpZW50IGluIHRoZSBSSU5HIHNjaGVtZS4gPHA+XG4gICAgICBUaGlzIG1ldGhvZCBtYXkgcmV0dXJuIHNvbWUgcGl4ZWxzIHdoaWNoIGRvbid0IG92ZXJsYXAgd2l0aFxuICAgICAgdGhlIHBvbHlnb24gYXQgYWxsLiBUaGUgaGlnaGVyIHtAY29kZSBmYWN0fSBpcyBjaG9zZW4sIHRoZSBmZXdlciBmYWxzZVxuICAgICAgcG9zaXRpdmVzIGFyZSByZXR1cm5lZCwgYXQgdGhlIGNvc3Qgb2YgaW5jcmVhc2VkIHJ1biB0aW1lLlxuICAgICAgQHBhcmFtIHB0ZyB0aGUgYW5ndWxhciBjb29yZGluYXRlcyBvZiB0aGUgZGlzayBjZW50ZXJcbiAgICAgIEBwYXJhbSByYWRpdXMgdGhlIHJhZGl1cyAoaW4gcmFkaWFucykgb2YgdGhlIGRpc2tcbiAgICAgIEBwYXJhbSBmYWN0IFRoZSBvdmVybGFwcGluZyB0ZXN0IHdpbGwgYmUgZG9uZSBhdCB0aGUgcmVzb2x1dGlvblxuICAgICAgICB7QGNvZGUgZmFjdCpuc2lkZX0uIEZvciBORVNURUQgb3JkZXJpbmcsIHtAY29kZSBmYWN0fSBtdXN0IGJlIGEgcG93ZXJcbiAgICAgICAgb2YgMiwgZWxzZSBpdCBjYW4gYmUgYW55IHBvc2l0aXZlIGludGVnZXIuIEEgdHlwaWNhbCBjaG9pY2Ugd291bGQgYmUgNC5cbiAgICAgIEByZXR1cm4gdGhlIHJlcXVlc3RlZCBzZXQgb2YgcGl4ZWwgbnVtYmVyIHJhbmdlcyAgKi9cbiAgICBxdWVyeURpc2NJbmNsdXNpdmUocHRnLCByYWRpdXMsIGZhY3QpIHtcbiAgICAgICAgdGhpcy5jb21wdXRlQm4oKTtcbiAgICAgICAgbGV0IGluY2x1c2l2ZSA9IChmYWN0ICE9IDApO1xuICAgICAgICBsZXQgcGl4c2V0ID0gbmV3IFJhbmdlU2V0KCk7XG4gICAgICAgIGlmIChyYWRpdXMgPj0gTWF0aC5QSSkgeyAvLyBkaXNrIGNvdmVycyB0aGUgd2hvbGUgc3BoZXJlXG4gICAgICAgICAgICBwaXhzZXQuYXBwZW5kMSgwLCB0aGlzLm5waXgpO1xuICAgICAgICAgICAgcmV0dXJuIHBpeHNldDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3BsdXMgPSAwO1xuICAgICAgICBpZiAoaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAvLyBIZWFscGl4VXRpbHMuY2hlY2sgKCgxTDw8b3JkZXJfbWF4KT49ZmFjdCxcImludmFsaWQgb3ZlcnNhbXBsaW5nIGZhY3RvclwiKTtcbiAgICAgICAgICAgIGlmICghKChmYWN0ICYgKGZhY3QgLSAxKSkgPT0gMCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwib3ZlcnNhbXBsaW5nIGZhY3RvciBtdXN0IGJlIGEgcG93ZXIgb2YgMlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wbHVzID0gdGhpcy5pbG9nMihmYWN0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb21heCA9IE1hdGgubWluKHRoaXMub3JkZXJfbWF4LCB0aGlzLm9yZGVyICsgb3BsdXMpOyAvLyB0aGUgb3JkZXIgdXAgdG8gd2hpY2ggd2UgdGVzdFxuICAgICAgICBsZXQgdnB0ZyA9IFZlYzMucG9pbnRpbmcyVmVjMyhwdGcpO1xuICAgICAgICBsZXQgY3JwZHIgPSBuZXcgQXJyYXkob21heCArIDEpO1xuICAgICAgICBsZXQgY3JtZHIgPSBuZXcgQXJyYXkob21heCArIDEpO1xuICAgICAgICBsZXQgY29zcmFkID0gSHBsb2MuY29zKHJhZGl1cyk7XG4gICAgICAgIGxldCBzaW5yYWQgPSBIcGxvYy5zaW4ocmFkaXVzKTtcbiAgICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPD0gb21heDsgbysrKSB7IC8vIHByZXBhcmUgZGF0YSBhdCB0aGUgcmVxdWlyZWQgb3JkZXJzXG4gICAgICAgICAgICBsZXQgZHIgPSB0aGlzLm1wcltvXTsgLy8gc2FmZXR5IGRpc3RhbmNlXG4gICAgICAgICAgICBsZXQgY2RyID0gdGhpcy5jbXByW29dO1xuICAgICAgICAgICAgbGV0IHNkciA9IHRoaXMuc21wcltvXTtcbiAgICAgICAgICAgIGNycGRyW29dID0gKHJhZGl1cyArIGRyID4gTWF0aC5QSSkgPyAtMS4gOiBjb3NyYWQgKiBjZHIgLSBzaW5yYWQgKiBzZHI7XG4gICAgICAgICAgICBjcm1kcltvXSA9IChyYWRpdXMgLSBkciA8IDAuKSA/IDEuIDogY29zcmFkICogY2RyICsgc2lucmFkICogc2RyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGsgPSBuZXcgcHN0YWNrKDEyICsgMyAqIG9tYXgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHsgLy8gaW5zZXJ0IHRoZSAxMiBiYXNlIHBpeGVscyBpbiByZXZlcnNlIG9yZGVyXG4gICAgICAgICAgICBzdGsucHVzaCgxMSAtIGksIDApO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzdGsuc2l6ZSgpID4gMCkgeyAvLyBhcyBsb25nIGFzIHRoZXJlIGFyZSBwaXhlbHMgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICAvLyBwb3AgY3VycmVudCBwaXhlbCBudW1iZXIgYW5kIG9yZGVyIGZyb20gdGhlIHN0YWNrXG4gICAgICAgICAgICBsZXQgcGl4ID0gc3RrLnB0b3AoKTtcbiAgICAgICAgICAgIGxldCBjdXJybyA9IHN0ay5vdG9wKCk7XG4gICAgICAgICAgICBzdGsucG9wKCk7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy5ibltjdXJyb10ucGl4MnpwaGkocGl4KTtcbiAgICAgICAgICAgIC8vIGNvc2luZSBvZiBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gcGl4ZWwgY2VudGVyIGFuZCBkaXNrIGNlbnRlclxuICAgICAgICAgICAgbGV0IGNhbmdkaXN0ID0gdGhpcy5jb3NkaXN0X3pwaGkodnB0Zy56LCBwdGcucGhpLCBwb3MueiwgcG9zLnBoaSk7XG4gICAgICAgICAgICBpZiAoY2FuZ2Rpc3QgPiBjcnBkcltjdXJyb10pIHtcbiAgICAgICAgICAgICAgICBsZXQgem9uZSA9IChjYW5nZGlzdCA8IGNvc3JhZCkgPyAxIDogKChjYW5nZGlzdCA8PSBjcm1kcltjdXJyb10pID8gMiA6IDMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tfcGl4ZWwoY3Vycm8sIG9tYXgsIHpvbmUsIHBpeHNldCwgcGl4LCBzdGssIGluY2x1c2l2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpeHNldDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZWFscGl4LmpzLm1hcCIsImltcG9ydCB7IFBvaW50aW5nIH0gZnJvbSAnLi9Qb2ludGluZy5qcyc7XG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi9WZWMzLmpzJztcbmltcG9ydCB7IFpwaGkgfSBmcm9tICcuL1pwaGkuanMnO1xuZXhwb3J0IGNsYXNzIEhwbG9jIHtcbiAgICBjb25zdHJ1Y3RvcihwdGcpIHtcbiAgICAgICAgSHBsb2MuUEk0X0EgPSAwLjc4NTM5ODE1NTQ1MDgyMDkyMjg1MTU2MjU7XG4gICAgICAgIEhwbG9jLlBJNF9CID0gMC43OTQ2NjI3MzU2MTQ3OTI4MzY3MTM2MDQ2MjkwMzk3NjQ0MDQyOTY4NzVlLTg7XG4gICAgICAgIEhwbG9jLlBJNF9DID0gMC4zMDYxNjE2OTk3ODY4MzgyOTQzMDY1MTY0ODMwNjg3NTAyNjQ1NTI0MzczNjE0ODA3NjllLTE2O1xuICAgICAgICBIcGxvYy5NXzFfUEkgPSAwLjMxODMwOTg4NjE4Mzc5MDY3MTUzNzc2NzUyNjc0NTAyODc7XG4gICAgICAgIGlmIChwdGcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RoID0gMC4wO1xuICAgICAgICAgICAgdGhpcy5oYXZlX3N0aCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy56ID0gSHBsb2MuY29zKHB0Zy50aGV0YSk7XG4gICAgICAgICAgICB0aGlzLl9waGkgPSBwdGcucGhpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMueikgPiAwLjk5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGggPSBIcGxvYy5zaW4ocHRnLnRoZXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhdmVfc3RoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRaKHopIHtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICB9XG4gICAgO1xuICAgIGdldCBwaGkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waGk7XG4gICAgfVxuICAgIDtcbiAgICBzZXQgcGhpKHBoaSkge1xuICAgICAgICB0aGlzLl9waGkgPSBwaGk7XG4gICAgfVxuICAgIDtcbiAgICBzZXRTdGgoc3RoKSB7XG4gICAgICAgIHRoaXMuc3RoID0gc3RoO1xuICAgIH1cbiAgICA7XG4gICAgdG9Qb2ludGluZyhtaXJyb3IpIHtcbiAgICAgICAgY29uc3Qgc3QgPSB0aGlzLmhhdmVfc3RoID8gdGhpcy5zdGggOiBNYXRoLnNxcnQoKDEuMCAtIHRoaXMueikgKiAoMS4wICsgdGhpcy56KSk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnRpbmcobnVsbCwgZmFsc2UsIEhwbG9jLmF0YW4yKHN0LCB0aGlzLnopLCB0aGlzLl9waGkpO1xuICAgIH1cbiAgICB0b1ZlYzMoKSB7XG4gICAgICAgIHZhciBzdCA9IHRoaXMuaGF2ZV9zdGggPyB0aGlzLnN0aCA6IE1hdGguc3FydCgoMS4wIC0gdGhpcy56KSAqICgxLjAgKyB0aGlzLnopKTtcbiAgICAgICAgdmFyIHZlY3RvciA9IG5ldyBWZWMzKHN0ICogSHBsb2MuY29zKHRoaXMucGhpKSwgc3QgKiBIcGxvYy5zaW4odGhpcy5waGkpLCB0aGlzLnopO1xuICAgICAgICAvLyB2YXIgdmVjdG9yID0gbmV3IFZlYzMoc3QqTWF0aC5jb3ModGhpcy5waGkpLHN0Kk1hdGguc2luKHRoaXMucGhpKSx0aGlzLnopO1xuICAgICAgICByZXR1cm4gdmVjdG9yO1xuICAgIH1cbiAgICA7XG4gICAgdG9acGhpKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpwaGkodGhpcy56LCB0aGlzLnBoaSk7XG4gICAgfVxuICAgIHN0YXRpYyBzaW4oZCkge1xuICAgICAgICBsZXQgdSA9IGQgKiBIcGxvYy5NXzFfUEk7XG4gICAgICAgIGxldCBxID0gTWF0aC5mbG9vcih1IDwgMCA/IHUgLSAwLjUgOiB1ICsgMC41KTtcbiAgICAgICAgbGV0IHggPSA0LjAgKiBxO1xuICAgICAgICBkIC09IHggKiBIcGxvYy5QSTRfQTtcbiAgICAgICAgZCAtPSB4ICogSHBsb2MuUEk0X0I7XG4gICAgICAgIGQgLT0geCAqIEhwbG9jLlBJNF9DO1xuICAgICAgICBpZiAoKHEgJiAxKSAhPSAwKSB7XG4gICAgICAgICAgICBkID0gLWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2luY29zaGVscGVyKGQpO1xuICAgIH1cbiAgICA7XG4gICAgc3RhdGljIGNvcyhkKSB7XG4gICAgICAgIC8vXHRcdGxldCB1ID0gZCAqIEhwbG9jLk1fMV9QSSAtIDAuNTtcbiAgICAgICAgbGV0IHUgPSBkICogSHBsb2MuTV8xX1BJIC0gMC41O1xuICAgICAgICAvL1x0XHR1IC09IDAuNTtcbiAgICAgICAgbGV0IHEgPSAxICsgMiAqIE1hdGguZmxvb3IodSA8IDAgPyB1IC0gMC41IDogdSArIDAuNSk7XG4gICAgICAgIGxldCB4ID0gMi4wICogcTtcbiAgICAgICAgbGV0IHQgPSB4ICogSHBsb2MuUEk0X0E7XG4gICAgICAgIGQgPSBkIC0gdDtcbiAgICAgICAgZCAtPSB4ICogSHBsb2MuUEk0X0I7XG4gICAgICAgIGQgLT0geCAqIEhwbG9jLlBJNF9DO1xuICAgICAgICBpZiAoKHEgJiAyKSA9PSAwKSB7XG4gICAgICAgICAgICBkID0gLWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEhwbG9jLnNpbmNvc2hlbHBlcihkKTtcbiAgICB9XG4gICAgO1xuICAgIHN0YXRpYyBzaW5jb3NoZWxwZXIoZCkge1xuICAgICAgICBsZXQgcyA9IGQgKiBkO1xuICAgICAgICBsZXQgdSA9IC03Ljk3MjU1OTU1MDA5MDM3ODY4ODkxOTUyZS0xODtcbiAgICAgICAgdSA9IHUgKiBzICsgMi44MTAwOTk3MjcxMDg2MzIwMDA5MTI1MWUtMTU7XG4gICAgICAgIHUgPSB1ICogcyAtIDcuNjQ3MTIyMTkxMTgxNTg4MzMyODg0ODRlLTEzO1xuICAgICAgICB1ID0gdSAqIHMgKyAxLjYwNTkwNDMwNjA1NjY0NTAxNjI5MDU0ZS0xMDtcbiAgICAgICAgdSA9IHUgKiBzIC0gMi41MDUyMTA4Mzc2MzUwMjA0NTgxMDc1NWUtMDg7XG4gICAgICAgIHUgPSB1ICogcyArIDIuNzU1NzMxOTIyMzkxOTg3NDc2MzA0MTZlLTA2O1xuICAgICAgICB1ID0gdSAqIHMgLSAwLjAwMDE5ODQxMjY5ODQxMjY5NjE2MjgwNjgwOTtcbiAgICAgICAgdSA9IHUgKiBzICsgMC4wMDgzMzMzMzMzMzMzMzMzMjk3NDgyMzgxNTtcbiAgICAgICAgdSA9IHUgKiBzIC0gMC4xNjY2NjY2NjY2NjY2NjY2NTc0MTQ4MDg7XG4gICAgICAgIHJldHVybiBzICogdSAqIGQgKyBkO1xuICAgIH1cbiAgICA7XG4gICAgLyoqIFRoaXMgbWV0aG9kIGNhbGN1bGF0ZXMgdGhlIGFyYyBzaW5lIG9mIHggaW4gcmFkaWFucy4gVGhlIHJldHVyblxuICAgIHZhbHVlIGlzIGluIHRoZSByYW5nZSBbLXBpLzIsIHBpLzJdLiBUaGUgcmVzdWx0cyBtYXkgaGF2ZVxuICAgIG1heGltdW0gZXJyb3Igb2YgMyB1bHBzLiAqL1xuICAgIHN0YXRpYyBhc2luKGQpIHtcbiAgICAgICAgcmV0dXJuIEhwbG9jLm11bHNpZ24oSHBsb2MuYXRhbjJrKE1hdGguYWJzKGQpLCBNYXRoLnNxcnQoKDEgKyBkKSAqICgxIC0gZCkpKSwgZCk7XG4gICAgfVxuICAgIDtcbiAgICAvKiogVGhpcyBtZXRob2QgY2FsY3VsYXRlcyB0aGUgYXJjIGNvc2luZSBvZiB4IGluIHJhZGlhbnMuIFRoZVxuICAgICAgICByZXR1cm4gdmFsdWUgaXMgaW4gdGhlIHJhbmdlIFswLCBwaV0uIFRoZSByZXN1bHRzIG1heSBoYXZlXG4gICAgICAgIG1heGltdW0gZXJyb3Igb2YgMyB1bHBzLiAqL1xuICAgIHN0YXRpYyBhY29zKGQpIHtcbiAgICAgICAgcmV0dXJuIEhwbG9jLm11bHNpZ24oSHBsb2MuYXRhbjJrKE1hdGguc3FydCgoMSArIGQpICogKDEgLSBkKSksIE1hdGguYWJzKGQpKSwgZCkgKyAoZCA8IDAgPyBNYXRoLlBJIDogMCk7XG4gICAgfVxuICAgIDtcbiAgICBzdGF0aWMgbXVsc2lnbih4LCB5KSB7XG4gICAgICAgIGxldCBzaWduID0gSHBsb2MuY29weVNpZ24oMSwgeSk7XG4gICAgICAgIHJldHVybiBzaWduICogeDtcbiAgICB9XG4gICAgO1xuICAgIHN0YXRpYyBjb3B5U2lnbihtYWduaXR1ZGUsIHNpZ24pIHtcbiAgICAgICAgcmV0dXJuIHNpZ24gPCAwID8gLU1hdGguYWJzKG1hZ25pdHVkZSkgOiBNYXRoLmFicyhtYWduaXR1ZGUpO1xuICAgICAgICAvLyBsZXQgZmluYWxzaWduID0gMTtcbiAgICAgICAgLy8gaWYgKE9iamVjdC5pcyhmaW5hbHNpZ24gLCAtMCkpe1xuICAgICAgICAvLyBcdHNpZ24gPSAtMTtcbiAgICAgICAgLy8gfWVsc2UgaWYgKE9iamVjdC5pcyhmaW5hbHNpZ24gLCAwKSl7XG4gICAgICAgIC8vIFx0c2lnbiA9IDE7XG4gICAgICAgIC8vIH1lbHNlIHtcbiAgICAgICAgLy8gXHRzaWduID0gTWF0aC5zaWduKGZpbmFsc2lnbik7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gcmV0dXJuIGZpbmFsc2lnbiAqIG1hZ25pdHVkZTtcbiAgICB9XG4gICAgc3RhdGljIGF0YW5oZWxwZXIocykge1xuICAgICAgICBsZXQgdCA9IHMgKiBzO1xuICAgICAgICBsZXQgdSA9IC0xLjg4Nzk2MDA4NDYzMDczNDk2NTYzNzQ2ZS0wNTtcbiAgICAgICAgdSA9IHUgKiB0ICsgKDAuMDAwMjA5ODUwMDc2NjQ1ODE2OTc2OTA2Nzk3KTtcbiAgICAgICAgdSA9IHUgKiB0ICsgKC0wLjAwMTEwNjExODMxNDg2NjcyNDgyNTYzNDcxKTtcbiAgICAgICAgdSA9IHUgKiB0ICsgKDAuMDAzNzAwMjY3NDQxODg3MTMxMTkyMzI0MDMpO1xuICAgICAgICB1ID0gdSAqIHQgKyAoLTAuMDA4ODk4OTYxOTU4ODc2NTU0OTE3NDA4MDkpO1xuICAgICAgICB1ID0gdSAqIHQgKyAoMC4wMTY1OTkzMjk3NzM1MjkyMDE5NzAxMTcpO1xuICAgICAgICB1ID0gdSAqIHQgKyAoLTAuMDI1NDUxNzYyNDkzMjMxMjY0MTYxNjg2MSk7XG4gICAgICAgIHUgPSB1ICogdCArICgwLjAzMzc4NTI1ODAwMDEzNTMwNjk5OTM4OTcpO1xuICAgICAgICB1ID0gdSAqIHQgKyAoLTAuMDQwNzYyOTE5MTI3NjgzNjUwMDAwMTkzNCk7XG4gICAgICAgIHUgPSB1ICogdCArICgwLjA0NjY2NjcxNTAwNzc4NDA2MjU2MzI2NzUpO1xuICAgICAgICB1ID0gdSAqIHQgKyAoLTAuMDUyMzY3NDg1MjMwMzQ4MjQ1NzYxNjExMyk7XG4gICAgICAgIHUgPSB1ICogdCArICgwLjA1ODc2NjYzOTI5MjY2NzM1ODA4NTQzMTMpO1xuICAgICAgICB1ID0gdSAqIHQgKyAoLTAuMDY2NjU3MzU3OTM2MTA4MDUyNTk4NDU2Mik7XG4gICAgICAgIHUgPSB1ICogdCArICgwLjA3NjkyMTk1MzgzMTE3Njk2MTgzNTUwMjkpO1xuICAgICAgICB1ID0gdSAqIHQgKyAoLTAuMDkwOTA4OTk1MDA4MjQ1MDA4MjI5MTUzKTtcbiAgICAgICAgdSA9IHUgKiB0ICsgKDAuMTExMTExMTA1NjQ4MjYxNDE4NDQzNzQ1KTtcbiAgICAgICAgdSA9IHUgKiB0ICsgKC0wLjE0Mjg1NzE0MjY2NzcxMzI5MzgzNzY1KTtcbiAgICAgICAgdSA9IHUgKiB0ICsgKDAuMTk5OTk5OTk5OTk2NTkxMjY1NTk0MTQ4KTtcbiAgICAgICAgdSA9IHUgKiB0ICsgKC0wLjMzMzMzMzMzMzMzMzMxMTExMDM2OTEyNCk7XG4gICAgICAgIHJldHVybiB1ICogdCAqIHMgKyBzO1xuICAgIH1cbiAgICA7XG4gICAgc3RhdGljIGF0YW4yayh5LCB4KSB7XG4gICAgICAgIGxldCBxID0gMC47XG4gICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgeCA9IC14O1xuICAgICAgICAgICAgcSA9IC0yLjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA+IHgpIHtcbiAgICAgICAgICAgIGxldCB0ID0geDtcbiAgICAgICAgICAgIHggPSB5O1xuICAgICAgICAgICAgeSA9IC10O1xuICAgICAgICAgICAgcSArPSAxLjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSHBsb2MuYXRhbmhlbHBlcih5IC8geCkgKyBxICogKE1hdGguUEkgLyAyKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBUaGlzIG1ldGhvZCBjYWxjdWxhdGVzIHRoZSBhcmMgdGFuZ2VudCBvZiB5L3ggaW4gcmFkaWFucywgdXNpbmdcbiAgICB0aGUgc2lnbnMgb2YgdGhlIHR3byBhcmd1bWVudHMgdG8gZGV0ZXJtaW5lIHRoZSBxdWFkcmFudCBvZiB0aGVcbiAgICByZXN1bHQuIFRoZSByZXN1bHRzIG1heSBoYXZlIG1heGltdW0gZXJyb3Igb2YgMiB1bHBzLiAqL1xuICAgIHN0YXRpYyBhdGFuMih5LCB4KSB7XG4gICAgICAgIGxldCByID0gSHBsb2MuYXRhbjJrKE1hdGguYWJzKHkpLCB4KTtcbiAgICAgICAgciA9IEhwbG9jLm11bHNpZ24ociwgeCk7XG4gICAgICAgIGlmIChIcGxvYy5pc2luZih4KSB8fCB4ID09IDApIHtcbiAgICAgICAgICAgIHIgPSBNYXRoLlBJIC8gMiAtIChIcGxvYy5pc2luZih4KSA/IChIcGxvYy5jb3B5U2lnbigxLCB4KSAqIChNYXRoLlBJIC8gMikpIDogMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEhwbG9jLmlzaW5mKHkpKSB7XG4gICAgICAgICAgICByID0gTWF0aC5QSSAvIDIgLSAoSHBsb2MuaXNpbmYoeCkgPyAoSHBsb2MuY29weVNpZ24oMSwgeCkgKiAoTWF0aC5QSSAqIDEgLyA0KSkgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA9PSAwKSB7XG4gICAgICAgICAgICByID0gKEhwbG9jLmNvcHlTaWduKDEsIHgpID09IC0xID8gTWF0aC5QSSA6IDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBIcGxvYy5pc25hbih4KSB8fCBIcGxvYy5pc25hbih5KSA/IE5hTiA6IEhwbG9jLm11bHNpZ24ociwgeSk7XG4gICAgfVxuICAgIDtcbiAgICAvKiogQ2hlY2tzIGlmIHRoZSBhcmd1bWVudCBpcyBhIE5hTiBvciBub3QuICovXG4gICAgc3RhdGljIGlzbmFuKGQpIHtcbiAgICAgICAgcmV0dXJuIGQgIT0gZDtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBDaGVja3MgaWYgdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbmZpbml0eS4gKi9cbiAgICBzdGF0aWMgaXNpbmYoZCkge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoZCkgPT09ICtJbmZpbml0eTtcbiAgICB9XG4gICAgO1xufVxuSHBsb2MuUEk0X0EgPSAwLjc4NTM5ODE1NTQ1MDgyMDkyMjg1MTU2MjU7XG5IcGxvYy5QSTRfQiA9IDAuNzk0NjYyNzM1NjE0NzkyODM2NzEzNjA0NjI5MDM5NzY0NDA0Mjk2ODc1ZS04O1xuSHBsb2MuUEk0X0MgPSAwLjMwNjE2MTY5OTc4NjgzODI5NDMwNjUxNjQ4MzA2ODc1MDI2NDU1MjQzNzM2MTQ4MDc2OWUtMTY7XG5IcGxvYy5NXzFfUEkgPSAwLjMxODMwOTg4NjE4Mzc5MDY3MTUzNzc2NzUyNjc0NTAyODc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IcGxvYy5qcy5tYXAiLCJpbXBvcnQgeyBIcGxvYyB9IGZyb20gJy4vSHBsb2MuanMnO1xuZXhwb3J0IGNsYXNzIFBvaW50aW5nIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmVjMyBWZWMzLmpzXG4gICAgICogQHBhcmFtIHsqfSBtaXJyb3JcbiAgICAgKiBAcGFyYW0geyp9IGluX3RoZXRhIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0geyp9IGluX3BoaSByYWRpYW5zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVjMywgbWlycm9yLCBpbl90aGV0YSwgaW5fcGhpKSB7XG4gICAgICAgIGlmICh2ZWMzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGhldGEgPSBIcGxvYy5hdGFuMihNYXRoLnNxcnQodmVjMy54ICogdmVjMy54ICsgdmVjMy55ICogdmVjMy55KSwgdmVjMy56KTtcbiAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBoaSA9IC1IcGxvYy5hdGFuMih2ZWMzLnksIHZlYzMueCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBoaSA9IEhwbG9jLmF0YW4yKHZlYzMueSwgdmVjMy54KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBoaSA8IDAuMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGhpID0gdGhpcy5waGkgKyAyICogTWF0aC5QSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBoaSA+PSAyICogTWF0aC5QSSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGhpID0gdGhpcy5waGkgLSAyICogTWF0aC5QSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGhldGEgPSBpbl90aGV0YTtcbiAgICAgICAgICAgIHRoaXMucGhpID0gaW5fcGhpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnRpbmcuanMubWFwIiwiZXhwb3J0IGNsYXNzIFJhbmdlU2V0IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaW50IGNhcDogaW5pdGlhbCBjYXBhY2l0eVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNhcCkge1xuICAgICAgICBpZiAoY2FwIDwgMClcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYXBhY2l0eSBtdXN0IGJlIHBvc2l0aXZlXCIpO1xuICAgICAgICB0aGlzLnIgPSBuZXcgSW50MzJBcnJheShjYXAgPDwgMSk7XG4gICAgICAgIHRoaXMuc3ogPSAwO1xuICAgIH1cbiAgICA7XG4gICAgLyoqIEFwcGVuZCBhIHNpbmdsZS12YWx1ZSByYW5nZSB0byB0aGUgb2JqZWN0LlxuICAgIEBwYXJhbSB2YWwgdmFsdWUgdG8gYXBwZW5kICovXG4gICAgYXBwZW5kKHZhbCkge1xuICAgICAgICB0aGlzLmFwcGVuZDEodmFsLCB2YWwgKyAxKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBBcHBlbmQgYSByYW5nZSB0byB0aGUgb2JqZWN0LlxuICAgQHBhcmFtIGEgZmlyc3QgbG9uZyBpbiByYW5nZVxuICAgQHBhcmFtIGIgb25lLWFmdGVyLWxhc3QgbG9uZyBpbiByYW5nZSAqL1xuICAgIGFwcGVuZDEoYSwgYikge1xuICAgICAgICBpZiAoYSA+PSBiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoKHRoaXMuc3ogPiAwKSAmJiAoYSA8PSB0aGlzLnJbdGhpcy5zeiAtIDFdKSkge1xuICAgICAgICAgICAgaWYgKGEgPCB0aGlzLnJbdGhpcy5zeiAtIDJdKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJiYWQgYXBwZW5kIG9wZXJhdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChiID4gdGhpcy5yW3RoaXMuc3ogLSAxXSlcbiAgICAgICAgICAgICAgICB0aGlzLnJbdGhpcy5zeiAtIDFdID0gYjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc3orMik7XG4gICAgICAgIGxldCBjYXAgPSB0aGlzLnN6ICsgMjtcbiAgICAgICAgaWYgKHRoaXMuci5sZW5ndGggPCBjYXApIHtcbiAgICAgICAgICAgIGxldCBuZXdzaXplID0gTWF0aC5tYXgoMiAqIHRoaXMuci5sZW5ndGgsIGNhcCk7XG4gICAgICAgICAgICBsZXQgcm5ldyA9IG5ldyBJbnQzMkFycmF5KG5ld3NpemUpO1xuICAgICAgICAgICAgcm5ldy5zZXQodGhpcy5yKTtcbiAgICAgICAgICAgIHRoaXMuciA9IHJuZXc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yW3RoaXMuc3pdID0gYTtcbiAgICAgICAgdGhpcy5yW3RoaXMuc3ogKyAxXSA9IGI7XG4gICAgICAgIHRoaXMuc3ogKz0gMjtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBNYWtlIHN1cmUgdGhlIG9iamVjdCBjYW4gaG9sZCBhdCBsZWFzdCB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGVudHJpZXMuXG4gICAgICogQHBhcmFtIGNhcCBpbnRcbiAgICAgKiAqL1xuICAgIGVuc3VyZUNhcGFjaXR5KGNhcCkge1xuICAgICAgICBpZiAodGhpcy5yLmxlbmd0aCA8IGNhcClcbiAgICAgICAgICAgIHRoaXMucmVzaXplKE1hdGgubWF4KDIgKiB0aGlzLnIubGVuZ3RoLCBjYXApKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuZXdzaXplIGludFxuICAgICAqL1xuICAgIHJlc2l6ZShuZXdzaXplKSB7XG4gICAgICAgIGlmIChuZXdzaXplIDwgdGhpcy5zeilcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJyZXF1ZXN0ZWQgYXJyYXkgc2l6ZSB0b28gc21hbGxcIik7XG4gICAgICAgIGlmIChuZXdzaXplID09IHRoaXMuci5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBybmV3ID0gbmV3IEludDMyQXJyYXkobmV3c2l6ZSk7XG4gICAgICAgIGxldCBzbGljZWQgPSB0aGlzLnIuc2xpY2UoMCwgdGhpcy5zeiArIDEpO1xuICAgICAgICAvL1x0XHR0aGlzLmFycmF5Q29weSh0aGlzLnIsIDAsIHJuZXcsIDAsIHRoaXMuc3opO1xuICAgICAgICB0aGlzLnIgPSBzbGljZWQ7XG4gICAgfVxuICAgIDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJhbmdlU2V0LmpzLm1hcCIsIi8qKlxuICogUGFydGlhbCBwb3J0aW5nIHRvIEphdmFzY3JpcHQgb2YgVmVjMy5qYXZhIGZyb20gSGVhbHBpeDMuMzBcbiAqL1xuaW1wb3J0IHsgSHBsb2MgfSBmcm9tICcuL0hwbG9jLmpzJztcbmltcG9ydCB7IFBvaW50aW5nIH0gZnJvbSAnLi9Qb2ludGluZy5qcyc7XG5leHBvcnQgY2xhc3MgVmVjMyB7XG4gICAgY29uc3RydWN0b3IoaW5feCwgaW5feSwgaW5feikge1xuICAgICAgICBpZiAoaW5feCBpbnN0YW5jZW9mIFBvaW50aW5nKSB7XG4gICAgICAgICAgICBsZXQgcHRnID0gaW5feDtcbiAgICAgICAgICAgIGxldCBzdGggPSBIcGxvYy5zaW4ocHRnLnRoZXRhKTtcbiAgICAgICAgICAgIHRoaXMueCA9IHN0aCAqIEhwbG9jLmNvcyhwdGcucGhpKTtcbiAgICAgICAgICAgIHRoaXMueSA9IHN0aCAqIEhwbG9jLnNpbihwdGcucGhpKTtcbiAgICAgICAgICAgIHRoaXMueiA9IEhwbG9jLmNvcyhwdGcudGhldGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54ID0gaW5feDtcbiAgICAgICAgICAgIHRoaXMueSA9IGluX3k7XG4gICAgICAgICAgICB0aGlzLnogPSBpbl96O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgfVxuICAgIDtcbiAgICBnZXRZKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH1cbiAgICA7XG4gICAgZ2V0WigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuejtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBTY2FsZSB0aGUgdmVjdG9yIGJ5IGEgZ2l2ZW4gZmFjdG9yXG4gICAgQHBhcmFtIG4gdGhlIHNjYWxlIGZhY3RvciAqL1xuICAgIHNjYWxlKG4pIHtcbiAgICAgICAgdGhpcy54ICo9IG47XG4gICAgICAgIHRoaXMueSAqPSBuO1xuICAgICAgICB0aGlzLnogKj0gbjtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBWZWN0b3IgY3Jvc3MgcHJvZHVjdC5cbiAgICBAcGFyYW0gdiBhbm90aGVyIHZlY3RvclxuICAgIEByZXR1cm4gdGhlIHZlY3RvciBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIHtAY29kZSB2fSAqL1xuICAgIGNyb3NzKHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueSAqIHYueiAtIHYueSAqIHRoaXMueiwgdGhpcy56ICogdi54IC0gdi56ICogdGhpcy54LCB0aGlzLnggKiB2LnkgLSB2LnggKiB0aGlzLnkpO1xuICAgIH1cbiAgICA7XG4gICAgLyoqIFZlY3RvciBhZGRpdGlvblxuICAgICAgICAqIEBwYXJhbSB2IHRoZSB2ZWN0b3IgdG8gYmUgYWRkZWRcbiAgICAgICAgKiBAcmV0dXJuIGFkZGl0aW9uIHJlc3VsdCAqL1xuICAgIGFkZCh2KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKyB2LngsIHRoaXMueSArIHYueSwgdGhpcy56ICsgdi56KTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBOb3JtYWxpemUgdGhlIHZlY3RvciAqL1xuICAgIG5vcm1hbGl6ZSgpIHtcbiAgICAgICAgbGV0IGQgPSAxLiAvIHRoaXMubGVuZ3RoKCk7XG4gICAgICAgIHRoaXMueCAqPSBkO1xuICAgICAgICB0aGlzLnkgKj0gZDtcbiAgICAgICAgdGhpcy56ICo9IGQ7XG4gICAgfVxuICAgIDtcbiAgICAvKiogUmV0dXJuIG5vcm1hbGl6ZWQgdmVjdG9yICovXG4gICAgbm9ybSgpIHtcbiAgICAgICAgbGV0IGQgPSAxLiAvIHRoaXMubGVuZ3RoKCk7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKiBkLCB0aGlzLnkgKiBkLCB0aGlzLnogKiBkKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBWZWN0b3IgbGVuZ3RoXG4gICAgQHJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IuICovXG4gICAgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMubGVuZ3RoU3F1YXJlZCgpKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKiBTcXVhcmVkIHZlY3RvciBsZW5ndGhcbiAgICAgICAgQHJldHVybiB0aGUgc3F1YXJlZCBsZW5ndGggb2YgdGhlIHZlY3Rvci4gKi9cbiAgICBsZW5ndGhTcXVhcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56O1xuICAgIH1cbiAgICA7XG4gICAgLyoqIENvbXB1dGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgdGhpcyB2ZWN0b3IgYW5kIHtAY29kZSB2MX0uXG4gICAgICogQHBhcmFtIHYxIGFub3RoZXIgdmVjdG9yXG4gICAgICogQHJldHVybiBkb3QgcHJvZHVjdCAqL1xuICAgIGRvdCh2MSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdjEueCArIHRoaXMueSAqIHYxLnkgKyB0aGlzLnogKiB2MS56O1xuICAgIH1cbiAgICA7XG4gICAgLyoqIFZlY3RvciBzdWJ0cmFjdGlvblxuICAgICAqIEBwYXJhbSB2IHRoZSB2ZWN0b3IgdG8gYmUgc3VidHJhY3RlZFxuICAgICAqIEByZXR1cm4gc3VidHJhY3Rpb24gcmVzdWx0ICovXG4gICAgc3ViKHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCAtIHYueCwgdGhpcy55IC0gdi55LCB0aGlzLnogLSB2LnopO1xuICAgIH1cbiAgICA7XG4gICAgLyoqIEFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvcnMuXG4gICAgQHBhcmFtIHYxIGFub3RoZXIgdmVjdG9yXG4gICAgQHJldHVybiB0aGUgYW5nbGUgaW4gcmFkaWFucyBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCB7QGNvZGUgdjF9O1xuICAgICAgY29uc3RyYWluZWQgdG8gdGhlIHJhbmdlIFswLFBJXS4gKi9cbiAgICBhbmdsZSh2MSkge1xuICAgICAgICByZXR1cm4gSHBsb2MuYXRhbjIodGhpcy5jcm9zcyh2MSkubGVuZ3RoKCksIHRoaXMuZG90KHYxKSk7XG4gICAgfVxuICAgIC8qKiBJbnZlcnQgdGhlIHNpZ25zIG9mIGFsbCBjb21wb25lbnRzICovXG4gICAgZmxpcCgpIHtcbiAgICAgICAgdGhpcy54ICo9IC0xLjA7XG4gICAgICAgIHRoaXMueSAqPSAtMS4wO1xuICAgICAgICB0aGlzLnogKj0gLTEuMDtcbiAgICB9XG4gICAgc3RhdGljIHBvaW50aW5nMlZlYzMocG9pbnRpbmcpIHtcbiAgICAgICAgbGV0IHN0aCA9IEhwbG9jLnNpbihwb2ludGluZy50aGV0YSk7XG4gICAgICAgIGxldCB4ID0gc3RoICogSHBsb2MuY29zKHBvaW50aW5nLnBoaSk7XG4gICAgICAgIGxldCB5ID0gc3RoICogSHBsb2Muc2luKHBvaW50aW5nLnBoaSk7XG4gICAgICAgIGxldCB6ID0gSHBsb2MuY29zKHBvaW50aW5nLnRoZXRhKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHgsIHksIHopO1xuICAgIH1cbiAgICA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWMzLmpzLm1hcCIsIi8qKlxuICogUGFydGlhbCBwb3J0aW5nIHRvIEphdmFzY3JpcHQgb2YgWHlmLmphdmEgZnJvbSBIZWFscGl4My4zMFxuICovXG5leHBvcnQgY2xhc3MgWHlmIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBmKSB7XG4gICAgICAgIHRoaXMuaXggPSB4O1xuICAgICAgICB0aGlzLml5ID0geTtcbiAgICAgICAgdGhpcy5mYWNlID0gZjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1YeWYuanMubWFwIiwiZXhwb3J0IGNsYXNzIFpwaGkge1xuICAgIC8qKiBDcmVhdGlvbiBmcm9tIGluZGl2aWR1YWwgY29tcG9uZW50cyAqL1xuICAgIGNvbnN0cnVjdG9yKHpfLCBwaGlfKSB7XG4gICAgICAgIHRoaXMueiA9IHpfO1xuICAgICAgICB0aGlzLnBoaSA9IHBoaV87XG4gICAgfVxuICAgIDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVpwaGkuanMubWFwIiwiZXhwb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4vQ29uc3RhbnRzLmpzXCI7XG5leHBvcnQgeyBwc3RhY2sgfSBmcm9tIFwiLi9wc3RhY2suanNcIjtcbmV4cG9ydCB7IENpcmNsZUZpbmRlciB9IGZyb20gJy4vQ2lyY2xlRmluZGVyLmpzJztcbmV4cG9ydCB7IEZ4eWYgfSBmcm9tICcuL0Z4eWYuanMnO1xuZXhwb3J0IHsgSGVhbHBpeCB9IGZyb20gJy4vSGVhbHBpeC5qcyc7XG5leHBvcnQgeyBQb2ludGluZyB9IGZyb20gJy4vUG9pbnRpbmcuanMnO1xuZXhwb3J0IHsgUmFuZ2VTZXQgfSBmcm9tICcuL1JhbmdlU2V0LmpzJztcbmV4cG9ydCB7IFZlYzMgfSBmcm9tICcuL1ZlYzMuanMnO1xuZXhwb3J0IHsgWHlmIH0gZnJvbSAnLi9YeWYuanMnO1xuZXhwb3J0IHsgWnBoaSB9IGZyb20gJy4vWnBoaS5qcyc7XG5leHBvcnQgeyBIcGxvYyB9IGZyb20gJy4vSHBsb2MuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiZXhwb3J0IGNsYXNzIHBzdGFjayB7XG4gICAgLyoqIENyZWF0aW9uIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzICovXG4gICAgY29uc3RydWN0b3Ioc3opIHtcbiAgICAgICAgdGhpcy5wID0gbmV3IEFycmF5KHN6KTtcbiAgICAgICAgdGhpcy5vID0gbmV3IEludDMyQXJyYXkoc3opO1xuICAgICAgICB0aGlzLnMgPSAwO1xuICAgICAgICB0aGlzLm0gPSAwO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHAgbG9uZ1xuICAgICAqIEBwYXJhbSBvIGludFxuICAgICAqL1xuICAgIHB1c2gocF8sIG9fKSB7XG4gICAgICAgIHRoaXMucFt0aGlzLnNdID0gcF87XG4gICAgICAgIHRoaXMub1t0aGlzLnNdID0gb187XG4gICAgICAgICsrdGhpcy5zO1xuICAgIH1cbiAgICA7XG4gICAgcG9wKCkge1xuICAgICAgICAtLXRoaXMucztcbiAgICB9XG4gICAgO1xuICAgIHBvcFRvTWFyaygpIHtcbiAgICAgICAgdGhpcy5zID0gdGhpcy5tO1xuICAgIH1cbiAgICA7XG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucztcbiAgICB9XG4gICAgO1xuICAgIG1hcmsoKSB7XG4gICAgICAgIHRoaXMubSA9IHRoaXMucztcbiAgICB9XG4gICAgO1xuICAgIG90b3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9bdGhpcy5zIC0gMV07XG4gICAgfVxuICAgIDtcbiAgICBwdG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wW3RoaXMucyAtIDFdO1xuICAgIH1cbiAgICA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wc3RhY2suanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcbi8vIEFsbG93cyBtaW5pZmllcnMgdG8gcmVuYW1lIHJlZmVyZW5jZXMgdG8gZ2xvYmFsVGhpc1xuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcztcbi8qKlxuICogV2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIGBhZG9wdGVkU3R5bGVTaGVldHNgLlxuICovXG5leHBvcnQgY29uc3Qgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzID0gZ2xvYmFsLlNoYWRvd1Jvb3QgJiZcbiAgICAoZ2xvYmFsLlNoYWR5Q1NTID09PSB1bmRlZmluZWQgfHwgZ2xvYmFsLlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykgJiZcbiAgICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgICAncmVwbGFjZScgaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGU7XG5jb25zdCBjb25zdHJ1Y3Rpb25Ub2tlbiA9IFN5bWJvbCgpO1xuY29uc3QgY3NzVGFnQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBBIGNvbnRhaW5lciBmb3IgYSBzdHJpbmcgb2YgQ1NTIHRleHQsIHRoYXQgbWF5IGJlIHVzZWQgdG8gY3JlYXRlIGEgQ1NTU3R5bGVTaGVldC5cbiAqXG4gKiBDU1NSZXN1bHQgaXMgdGhlIHJldHVybiB2YWx1ZSBvZiBgY3NzYC10YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbHMgYW5kXG4gKiBgdW5zYWZlQ1NTKClgLiBJbiBvcmRlciB0byBlbnN1cmUgdGhhdCBDU1NSZXN1bHRzIGFyZSBvbmx5IGNyZWF0ZWQgdmlhIHRoZVxuICogYGNzc2AgdGFnIGFuZCBgdW5zYWZlQ1NTKClgLCBDU1NSZXN1bHQgY2Fubm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LlxuICovXG5leHBvcnQgY2xhc3MgQ1NTUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3Rvcihjc3NUZXh0LCBzdHJpbmdzLCBzYWZlVG9rZW4pIHtcbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgdGhpc1snXyRjc3NSZXN1bHQkJ10gPSB0cnVlO1xuICAgICAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDU1NSZXN1bHQgaXMgbm90IGNvbnN0cnVjdGFibGUuIFVzZSBgdW5zYWZlQ1NTYCBvciBgY3NzYCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3NzVGV4dCA9IGNzc1RleHQ7XG4gICAgICAgIHRoaXMuX3N0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH1cbiAgICAvLyBUaGlzIGlzIGEgZ2V0dGVyIHNvIHRoYXQgaXQncyBsYXp5LiBJbiBwcmFjdGljZSwgdGhpcyBtZWFucyBzdHlsZXNoZWV0c1xuICAgIC8vIGFyZSBub3QgY3JlYXRlZCB1bnRpbCB0aGUgZmlyc3QgZWxlbWVudCBpbnN0YW5jZSBpcyBtYWRlLlxuICAgIGdldCBzdHlsZVNoZWV0KCkge1xuICAgICAgICAvLyBJZiBgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzYCBpcyB0cnVlIHRoZW4gd2UgYXNzdW1lIENTU1N0eWxlU2hlZXQgaXNcbiAgICAgICAgLy8gY29uc3RydWN0YWJsZS5cbiAgICAgICAgbGV0IHN0eWxlU2hlZXQgPSB0aGlzLl9zdHlsZVNoZWV0O1xuICAgICAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5fc3RyaW5ncztcbiAgICAgICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyAmJiBzdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlYWJsZSA9IHN0cmluZ3MgIT09IHVuZGVmaW5lZCAmJiBzdHJpbmdzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIGlmIChjYWNoZWFibGUpIHtcbiAgICAgICAgICAgICAgICBzdHlsZVNoZWV0ID0gY3NzVGFnQ2FjaGUuZ2V0KHN0cmluZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0eWxlU2hlZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICh0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2VTeW5jKHRoaXMuY3NzVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjc3NUYWdDYWNoZS5zZXQoc3RyaW5ncywgc3R5bGVTaGVldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3NzVGV4dDtcbiAgICB9XG59XG5jb25zdCB0ZXh0RnJvbUNTU1Jlc3VsdCA9ICh2YWx1ZSkgPT4ge1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgaWYgKHZhbHVlWydfJGNzc1Jlc3VsdCQnXSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUuY3NzVGV4dDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIHBhc3NlZCB0byAnY3NzJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2NzcycgZnVuY3Rpb24gcmVzdWx0OiBgICtcbiAgICAgICAgICAgIGAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXQgdGFrZSBjYXJlIGAgK1xuICAgICAgICAgICAgYHRvIGVuc3VyZSBwYWdlIHNlY3VyaXR5LmApO1xuICAgIH1cbn07XG4vKipcbiAqIFdyYXAgYSB2YWx1ZSBmb3IgaW50ZXJwb2xhdGlvbiBpbiBhIHtAbGlua2NvZGUgY3NzfSB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBUaGlzIGlzIHVuc2FmZSBiZWNhdXNlIHVudHJ1c3RlZCBDU1MgdGV4dCBjYW4gYmUgdXNlZCB0byBwaG9uZSBob21lXG4gKiBvciBleGZpbHRyYXRlIGRhdGEgdG8gYW4gYXR0YWNrZXIgY29udHJvbGxlZCBzaXRlLiBUYWtlIGNhcmUgdG8gb25seSB1c2VcbiAqIHRoaXMgd2l0aCB0cnVzdGVkIGlucHV0LlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlKSA9PiBuZXcgQ1NTUmVzdWx0KHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksIHVuZGVmaW5lZCwgY29uc3RydWN0aW9uVG9rZW4pO1xuLyoqXG4gKiBBIHRlbXBsYXRlIGxpdGVyYWwgdGFnIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzXG4gKiB7QGxpbmtjb2RlIExpdEVsZW1lbnQuc3R5bGVzfSBwcm9wZXJ0eSB0byBzZXQgZWxlbWVudCBzdHlsZXMuXG4gKlxuICogRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIGFuZCBudW1iZXIgbWF5IGJlIHVzZWQgaW5cbiAqIGVtYmVkZGVkIGV4cHJlc3Npb25zLiBUbyBpbmNvcnBvcmF0ZSBub24tbGl0ZXJhbCB2YWx1ZXMge0BsaW5rY29kZSB1bnNhZmVDU1N9XG4gKiBtYXkgYmUgdXNlZCBpbnNpZGUgYW4gZXhwcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGNzcyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IHtcbiAgICBjb25zdCBjc3NUZXh0ID0gc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgICAgPyBzdHJpbmdzWzBdXG4gICAgICAgIDogdmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+IGFjYyArIHRleHRGcm9tQ1NTUmVzdWx0KHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSk7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoY3NzVGV4dCwgc3RyaW5ncywgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbi8qKlxuICogQXBwbGllcyB0aGUgZ2l2ZW4gc3R5bGVzIHRvIGEgYHNoYWRvd1Jvb3RgLiBXaGVuIFNoYWRvdyBET00gaXNcbiAqIGF2YWlsYWJsZSBidXQgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgbm90LCBzdHlsZXMgYXJlIGFwcGVuZGVkIHRvIHRoZVxuICogYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyB0aGUgbmF0aXZlIGZlYXR1cmVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TaGFkb3dSb290L2Fkb3B0ZWRTdHlsZVNoZWV0cykuXG4gKiBOb3RlLCB3aGVuIHNoaW1taW5nIGlzIHVzZWQsIGFueSBzdHlsZXMgdGhhdCBhcmUgc3Vic2VxdWVudGx5IHBsYWNlZCBpbnRvXG4gKiB0aGUgc2hhZG93Um9vdCBzaG91bGQgYmUgcGxhY2VkICpiZWZvcmUqIGFueSBzaGltbWVkIGFkb3B0ZWQgc3R5bGVzLiBUaGlzXG4gKiB3aWxsIG1hdGNoIHNwZWMgYmVoYXZpb3IgdGhhdCBnaXZlcyBhZG9wdGVkIHNoZWV0cyBwcmVjZWRlbmNlIG92ZXIgc3R5bGVzIGluXG4gKiBzaGFkb3dSb290LlxuICovXG5leHBvcnQgY29uc3QgYWRvcHRTdHlsZXMgPSAocmVuZGVyUm9vdCwgc3R5bGVzKSA9PiB7XG4gICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICByZW5kZXJSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IHN0eWxlcy5tYXAoKHMpID0+IHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gcyA6IHMuc3R5bGVTaGVldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc3R5bGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgY29uc3Qgbm9uY2UgPSBnbG9iYWxbJ2xpdE5vbmNlJ107XG4gICAgICAgICAgICBpZiAobm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgICAgIHJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0ID0gKHNoZWV0KSA9PiB7XG4gICAgbGV0IGNzc1RleHQgPSAnJztcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2Ygc2hlZXQuY3NzUnVsZXMpIHtcbiAgICAgICAgY3NzVGV4dCArPSBydWxlLmNzc1RleHQ7XG4gICAgfVxuICAgIHJldHVybiB1bnNhZmVDU1MoY3NzVGV4dCk7XG59O1xuZXhwb3J0IGNvbnN0IGdldENvbXBhdGlibGVTdHlsZSA9IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyB8fFxuICAgIChOT0RFX01PREUgJiYgZ2xvYmFsLkNTU1N0eWxlU2hlZXQgPT09IHVuZGVmaW5lZClcbiAgICA/IChzKSA9PiBzXG4gICAgOiAocykgPT4gcyBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQgPyBjc3NSZXN1bHRGcm9tU3R5bGVTaGVldChzKSA6IHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3MtdGFnLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLyoqXG4gKiBXcmFwcyB1cCBhIGZldyBiZXN0IHByYWN0aWNlcyB3aGVuIHJldHVybmluZyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgZnJvbSBhXG4gKiBkZWNvcmF0b3IuXG4gKlxuICogTWFya3MgdGhlIGRlZmluZWQgcHJvcGVydHkgYXMgY29uZmlndXJhYmxlLCBhbmQgZW51bWVyYWJsZSwgYW5kIGhhbmRsZXNcbiAqIHRoZSBjYXNlIHdoZXJlIHdlIGhhdmUgYSBidXN0ZWQgUmVmbGVjdC5kZWNvcmF0ZSB6b21iaWVmaWxsIChlLmcuIGluIEFuZ3VsYXJcbiAqIGFwcHMpLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZGVzYyA9IChvYmosIG5hbWUsIGRlc2NyaXB0b3IpID0+IHtcbiAgICAvLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIHdlIGtlZXAgdGhlbSBjb25maWd1cmFibGUgYW5kIGVudW1lcmFibGUuXG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgaWYgKFxuICAgIC8vIFdlIGNoZWNrIGZvciBSZWZsZWN0LmRlY29yYXRlIGVhY2ggdGltZSwgaW4gY2FzZSB0aGUgem9tYmllZmlsbFxuICAgIC8vIGlzIGFwcGxpZWQgdmlhIGxhenkgbG9hZGluZyBzb21lIEFuZ3VsYXIgY29kZS5cbiAgICBSZWZsZWN0LmRlY29yYXRlICYmXG4gICAgICAgIHR5cGVvZiBuYW1lICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBJZiB3ZSdyZSBjYWxsZWQgYXMgYSBsZWdhY3kgZGVjb3JhdG9yLCBhbmQgUmVmbGVjdC5kZWNvcmF0ZSBpcyBwcmVzZW50XG4gICAgICAgIC8vIHRoZW4gd2UgaGF2ZSBubyBndWFyYW50ZWVzIHRoYXQgdGhlIHJldHVybmVkIGRlc2NyaXB0b3Igd2lsbCBiZVxuICAgICAgICAvLyBkZWZpbmVkIG9uIHRoZSBjbGFzcywgc28gd2UgbXVzdCBhcHBseSBpdCBkaXJlY3RseSBvdXJzZWx2ZXMuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIGBgYGpzXG4gKiBAY3VzdG9tRWxlbWVudCgnbXktZWxlbWVudCcpXG4gKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYGA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICogQHBhcmFtIHRhZ05hbWUgVGhlIHRhZyBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmUuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b21FbGVtZW50ID0gKHRhZ05hbWUpID0+IChjbGFzc09yVGFyZ2V0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyKCgpID0+IHtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGFzc09yVGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhc3NPclRhcmdldCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1c3RvbS1lbGVtZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBhcyBhY2NlcHRlZCBieVxuICogYEV2ZW50VGFyZ2V0I2FkZEV2ZW50TGlzdGVuZXJgIGFuZCBgRXZlbnRUYXJnZXQjcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQ3VycmVudCBicm93c2VycyBzdXBwb3J0IHRoZSBgY2FwdHVyZWAsIGBwYXNzaXZlYCwgYW5kIGBvbmNlYCBvcHRpb25zLiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQvYWRkRXZlbnRMaXN0ZW5lciNQYXJhbWV0ZXJzXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgIDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja30+XG4gKiAgICAgICAgIDxidXR0b24+PC9idXR0b24+XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICBgO1xuICogICB9XG4gKlxuICogICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgX29uQ2xpY2soZSkge1xuICogICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiAoKHByb3RvT3JWYWx1ZSwgbmFtZU9yQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBtZXRob2QgPSB0eXBlb2YgcHJvdG9PclZhbHVlID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IHByb3RvT3JWYWx1ZVxuICAgICAgICAgICAgOiBwcm90b09yVmFsdWVbbmFtZU9yQ29udGV4dF07XG4gICAgICAgIE9iamVjdC5hc3NpZ24obWV0aG9kLCBvcHRpb25zKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50LW9wdGlvbnMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG4vKlxuICogSU1QT1JUQU5UOiBGb3IgY29tcGF0aWJpbGl0eSB3aXRoIHRzaWNrbGUgYW5kIHRoZSBDbG9zdXJlIEpTIGNvbXBpbGVyLCBhbGxcbiAqIHByb3BlcnR5IGRlY29yYXRvcnMgKGJ1dCBub3QgY2xhc3MgZGVjb3JhdG9ycykgaW4gdGhpcyBmaWxlIHRoYXQgaGF2ZVxuICogYW4gQEV4cG9ydERlY29yYXRlZEl0ZW1zIGFubm90YXRpb24gbXVzdCBiZSBkZWZpbmVkIGFzIGEgcmVndWxhciBmdW5jdGlvbixcbiAqIG5vdCBhbiBhcnJvdyBmdW5jdGlvbi5cbiAqL1xuaW1wb3J0IHsgZGVmYXVsdENvbnZlcnRlciwgbm90RXF1YWwsIH0gZnJvbSAnLi4vcmVhY3RpdmUtZWxlbWVudC5qcyc7XG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5sZXQgaXNzdWVXYXJuaW5nO1xuaWYgKERFVl9NT0RFKSB7XG4gICAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgICAvLyBhcmUgbG9hZGVkLlxuICAgIGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKTtcbiAgICAvKipcbiAgICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICAgKiBXYXJuaW5ncyBhcmUgZGlzYWJsZWQgYXV0b21hdGljYWxseSBvbmx5IGJ5IGB3YXJuaW5nYDsgZGlzYWJsaW5nIHZpYSBgY29kZWBcbiAgICAgKiBjYW4gYmUgZG9uZSBieSB1c2Vycy5cbiAgICAgKi9cbiAgICBpc3N1ZVdhcm5pbmcgPSAoY29kZSwgd2FybmluZykgPT4ge1xuICAgICAgICB3YXJuaW5nICs9IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgICAgICBpZiAoIWdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MuaGFzKHdhcm5pbmcpICYmXG4gICAgICAgICAgICAhZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncy5oYXMoY29kZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MuYWRkKHdhcm5pbmcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmNvbnN0IGxlZ2FjeVByb3BlcnR5ID0gKG9wdGlvbnMsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgY29uc3QgaGFzT3duUHJvcGVydHkgPSBwcm90by5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICBwcm90by5jb25zdHJ1Y3Rvci5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAvLyBGb3IgYWNjZXNzb3JzICh3aGljaCBoYXZlIGEgZGVzY3JpcHRvciBvbiB0aGUgcHJvdG90eXBlKSB3ZSBuZWVkIHRvXG4gICAgLy8gcmV0dXJuIGEgZGVzY3JpcHRvciwgb3RoZXJ3aXNlIFR5cGVTY3JpcHQgb3ZlcndyaXRlcyB0aGUgZGVzY3JpcHRvciB3ZVxuICAgIC8vIGRlZmluZSBpbiBjcmVhdGVQcm9wZXJ0eSgpIHdpdGggdGhlIG9yaWdpbmFsIGRlc2NyaXB0b3IuIFdlIGRvbid0IGRvIHRoaXNcbiAgICAvLyBmb3IgZmllbGRzLCB3aGljaCBkb24ndCBoYXZlIGEgZGVzY3JpcHRvciwgYmVjYXVzZSB0aGlzIGNvdWxkIG92ZXJ3cml0ZVxuICAgIC8vIGRlc2NyaXB0b3IgZGVmaW5lZCBieSBvdGhlciBkZWNvcmF0b3JzLlxuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eVxuICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIG5hbWUpXG4gICAgICAgIDogdW5kZWZpbmVkO1xufTtcbi8vIFRoaXMgaXMgZHVwbGljYXRlZCBmcm9tIGEgc2ltaWxhciB2YXJpYWJsZSBpbiByZWFjdGl2ZS1lbGVtZW50LnRzLCBidXRcbi8vIGFjdHVhbGx5IG1ha2VzIHNlbnNlIHRvIGhhdmUgdGhpcyBkZWZhdWx0IGRlZmluZWQgd2l0aCB0aGUgZGVjb3JhdG9yLCBzb1xuLy8gdGhhdCBkaWZmZXJlbnQgZGVjb3JhdG9ycyBjb3VsZCBoYXZlIGRpZmZlcmVudCBkZWZhdWx0cy5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICAgIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICAgIHJlZmxlY3Q6IGZhbHNlLFxuICAgIGhhc0NoYW5nZWQ6IG5vdEVxdWFsLFxufTtcbi8qKlxuICogV3JhcHMgYSBjbGFzcyBhY2Nlc3NvciBvciBzZXR0ZXIgc28gdGhhdCBgcmVxdWVzdFVwZGF0ZSgpYCBpcyBjYWxsZWQgd2l0aCB0aGVcbiAqIHByb3BlcnR5IG5hbWUgYW5kIG9sZCB2YWx1ZSB3aGVuIHRoZSBhY2Nlc3NvciBpcyBzZXQuXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFuZGFyZFByb3BlcnR5ID0gKG9wdGlvbnMgPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiwgdGFyZ2V0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBraW5kLCBtZXRhZGF0YSB9ID0gY29udGV4dDtcbiAgICBpZiAoREVWX01PREUgJiYgbWV0YWRhdGEgPT0gbnVsbCkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoJ21pc3NpbmctY2xhc3MtbWV0YWRhdGEnLCBgVGhlIGNsYXNzICR7dGFyZ2V0fSBpcyBtaXNzaW5nIGRlY29yYXRvciBtZXRhZGF0YS4gVGhpcyBgICtcbiAgICAgICAgICAgIGBjb3VsZCBtZWFuIHRoYXQgeW91J3JlIHVzaW5nIGEgY29tcGlsZXIgdGhhdCBzdXBwb3J0cyBkZWNvcmF0b3JzIGAgK1xuICAgICAgICAgICAgYGJ1dCBkb2Vzbid0IHN1cHBvcnQgZGVjb3JhdG9yIG1ldGFkYXRhLCBzdWNoIGFzIFR5cGVTY3JpcHQgNS4xLiBgICtcbiAgICAgICAgICAgIGBQbGVhc2UgdXBkYXRlIHlvdXIgY29tcGlsZXIuYCk7XG4gICAgfVxuICAgIC8vIFN0b3JlIHRoZSBwcm9wZXJ0eSBvcHRpb25zXG4gICAgbGV0IHByb3BlcnRpZXMgPSBnbG9iYWxUaGlzLmxpdFByb3BlcnR5TWV0YWRhdGEuZ2V0KG1ldGFkYXRhKTtcbiAgICBpZiAocHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGdsb2JhbFRoaXMubGl0UHJvcGVydHlNZXRhZGF0YS5zZXQobWV0YWRhdGEsIChwcm9wZXJ0aWVzID0gbmV3IE1hcCgpKSk7XG4gICAgfVxuICAgIGlmIChraW5kID09PSAnc2V0dGVyJykge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy53cmFwcGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcHJvcGVydGllcy5zZXQoY29udGV4dC5uYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoa2luZCA9PT0gJ2FjY2Vzc29yJykge1xuICAgICAgICAvLyBTdGFuZGFyZCBkZWNvcmF0b3JzIGNhbm5vdCBkeW5hbWljYWxseSBtb2RpZnkgdGhlIGNsYXNzLCBzbyB3ZSBjYW4ndFxuICAgICAgICAvLyByZXBsYWNlIGEgZmllbGQgd2l0aCBhY2Nlc3NvcnMuIFRoZSB1c2VyIG11c3QgdXNlIHRoZSBuZXcgYGFjY2Vzc29yYFxuICAgICAgICAvLyBrZXl3b3JkIGluc3RlYWQuXG4gICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gY29udGV4dDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNldCh2KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXQuZ2V0LmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldC5jYWxsKHRoaXMsIHYpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5pdCh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkobmFtZSwgdW5kZWZpbmVkLCBvcHRpb25zLCB2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChraW5kID09PSAnc2V0dGVyJykge1xuICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tuYW1lXTtcbiAgICAgICAgICAgIHRhcmdldC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGVjb3JhdG9yIGxvY2F0aW9uOiAke2tpbmR9YCk7XG59O1xuLyoqXG4gKiBBIGNsYXNzIGZpZWxkIG9yIGFjY2Vzc29yIGRlY29yYXRvciB3aGljaCBjcmVhdGVzIGEgcmVhY3RpdmUgcHJvcGVydHkgdGhhdFxuICogcmVmbGVjdHMgYSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZSB2YWx1ZS4gV2hlbiBhIGRlY29yYXRlZCBwcm9wZXJ0eSBpcyBzZXRcbiAqIHRoZSBlbGVtZW50IHdpbGwgdXBkYXRlIGFuZCByZW5kZXIuIEEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBtYXlcbiAqIG9wdGlvbmFsbHkgYmUgc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgZGVjb3JhdG9yIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIHB1YmxpYyBmaWVsZHMuIEFzIHB1YmxpYyBmaWVsZHMsXG4gKiBwcm9wZXJ0aWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHByaW1hcmlseSBzZXR0YWJsZSBieSBlbGVtZW50IHVzZXJzLFxuICogZWl0aGVyIHZpYSBhdHRyaWJ1dGUgb3IgdGhlIHByb3BlcnR5IGl0c2VsZi5cbiAqXG4gKiBHZW5lcmFsbHksIHByb3BlcnRpZXMgdGhhdCBhcmUgY2hhbmdlZCBieSB0aGUgZWxlbWVudCBzaG91bGQgYmUgcHJpdmF0ZSBvclxuICogcHJvdGVjdGVkIGZpZWxkcyBhbmQgc2hvdWxkIHVzZSB0aGUge0BsaW5rY29kZSBzdGF0ZX0gZGVjb3JhdG9yLlxuICpcbiAqIEhvd2V2ZXIsIHNvbWV0aW1lcyBlbGVtZW50IGNvZGUgZG9lcyBuZWVkIHRvIHNldCBhIHB1YmxpYyBwcm9wZXJ0eS4gVGhpc1xuICogc2hvdWxkIHR5cGljYWxseSBvbmx5IGJlIGRvbmUgaW4gcmVzcG9uc2UgdG8gdXNlciBpbnRlcmFjdGlvbiwgYW5kIGFuIGV2ZW50XG4gKiBzaG91bGQgYmUgZmlyZWQgaW5mb3JtaW5nIHRoZSB1c2VyOyBmb3IgZXhhbXBsZSwgYSBjaGVja2JveCBzZXRzIGl0c1xuICogYGNoZWNrZWRgIHByb3BlcnR5IHdoZW4gY2xpY2tlZCBhbmQgZmlyZXMgYSBgY2hhbmdlZGAgZXZlbnQuIE11dGF0aW5nIHB1YmxpY1xuICogcHJvcGVydGllcyBzaG91bGQgdHlwaWNhbGx5IG5vdCBiZSBkb25lIGZvciBub24tcHJpbWl0aXZlIChvYmplY3Qgb3IgYXJyYXkpXG4gKiBwcm9wZXJ0aWVzLiBJbiBvdGhlciBjYXNlcyB3aGVuIGFuIGVsZW1lbnQgbmVlZHMgdG8gbWFuYWdlIHN0YXRlLCBhIHByaXZhdGVcbiAqIHByb3BlcnR5IGRlY29yYXRlZCB2aWEgdGhlIHtAbGlua2NvZGUgc3RhdGV9IGRlY29yYXRvciBzaG91bGQgYmUgdXNlZC4gV2hlblxuICogbmVlZGVkLCBzdGF0ZSBwcm9wZXJ0aWVzIGNhbiBiZSBpbml0aWFsaXplZCB2aWEgcHVibGljIHByb3BlcnRpZXMgdG9cbiAqIGZhY2lsaXRhdGUgY29tcGxleCBpbnRlcmFjdGlvbnMuXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbiAqICAgY2xpY2tlZCA9IGZhbHNlO1xuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BlcnR5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKHByb3RvT3JUYXJnZXQsIG5hbWVPckNvbnRleHRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICkgPT4ge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBuYW1lT3JDb250ZXh0ID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgPyBzdGFuZGFyZFByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JUYXJnZXQsIG5hbWVPckNvbnRleHQpXG4gICAgICAgICAgICA6IGxlZ2FjeVByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JUYXJnZXQsIG5hbWVPckNvbnRleHQpKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvcGVydHkuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5pbXBvcnQgeyBkZXNjIH0gZnJvbSAnLi9iYXNlLmpzJztcbi8vIFNoYXJlZCBmcmFnbWVudCB1c2VkIHRvIGdlbmVyYXRlIGVtcHR5IE5vZGVMaXN0cyB3aGVuIGEgcmVuZGVyIHJvb3QgaXNcbi8vIHVuZGVmaW5lZFxubGV0IGZyYWdtZW50O1xuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlclxuICogdGhhdCBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3JBbGwgb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBBIERPTVN0cmluZyBjb250YWluaW5nIG9uZSBvciBtb3JlIHNlbGVjdG9ycyB0byBtYXRjaC5cbiAqXG4gKiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvcXVlcnlTZWxlY3RvckFsbFxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBAcXVlcnlBbGwoJ2RpdicpXG4gKiAgIGRpdnM6IE5vZGVMaXN0T2Y8SFRNTERpdkVsZW1lbnQ+O1xuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgPGRpdiBpZD1cImZpcnN0XCI+PC9kaXY+XG4gKiAgICAgICA8ZGl2IGlkPVwic2Vjb25kXCI+PC9kaXY+XG4gKiAgICAgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUFsbChzZWxlY3Rvcikge1xuICAgIHJldHVybiAoKG9iaiwgbmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVzYyhvYmosIG5hbWUsIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLnJlbmRlclJvb3QgPz8gKGZyYWdtZW50ID8/PSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LWFsbC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmltcG9ydCB7IGRlc2MgfSBmcm9tICcuL2Jhc2UuanMnO1xuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiByZXR1cm5zIHRoZSBgYXNzaWduZWRFbGVtZW50c2Agb2YgdGhlIGdpdmVuIGBzbG90YC4gUHJvdmlkZXMgYSBkZWNsYXJhdGl2ZVxuICogd2F5IHRvIHVzZVxuICogW2BIVE1MU2xvdEVsZW1lbnQuYXNzaWduZWRFbGVtZW50c2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MU2xvdEVsZW1lbnQvYXNzaWduZWRFbGVtZW50cykuXG4gKlxuICogQ2FuIGJlIHBhc3NlZCBhbiBvcHRpb25hbCB7QGxpbmtjb2RlIFF1ZXJ5QXNzaWduZWRFbGVtZW50c09wdGlvbnN9IG9iamVjdC5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBxdWVyeUFzc2lnbmVkRWxlbWVudHMoeyBzbG90OiAnbGlzdCcgfSlcbiAqICAgbGlzdEl0ZW1zITogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICogICBAcXVlcnlBc3NpZ25lZEVsZW1lbnRzKClcbiAqICAgdW5uYW1lZFNsb3RFbHMhOiBBcnJheTxIVE1MRWxlbWVudD47XG4gKlxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICA8c2xvdCBuYW1lPVwibGlzdFwiPjwvc2xvdD5cbiAqICAgICAgIDxzbG90Pjwvc2xvdD5cbiAqICAgICBgO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBOb3RlLCB0aGUgdHlwZSBvZiB0aGlzIHByb3BlcnR5IHNob3VsZCBiZSBhbm5vdGF0ZWQgYXMgYEFycmF5PEhUTUxFbGVtZW50PmAuXG4gKlxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlBc3NpZ25lZEVsZW1lbnRzKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKChvYmosIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgeyBzbG90LCBzZWxlY3RvciB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgICAgICAgY29uc3Qgc2xvdFNlbGVjdG9yID0gYHNsb3Qke3Nsb3QgPyBgW25hbWU9JHtzbG90fV1gIDogJzpub3QoW25hbWVdKSd9YDtcbiAgICAgICAgcmV0dXJuIGRlc2Mob2JqLCBuYW1lLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdEVsID0gdGhpcy5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yKHNsb3RTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBzbG90RWw/LmFzc2lnbmVkRWxlbWVudHMob3B0aW9ucykgPz8gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzZWxlY3RvciA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgOiBlbGVtZW50cy5maWx0ZXIoKG5vZGUpID0+IG5vZGUubWF0Y2hlcyhzZWxlY3RvcikpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktYXNzaWduZWQtZWxlbWVudHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5pbXBvcnQgeyBkZXNjIH0gZnJvbSAnLi9iYXNlLmpzJztcbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXIgdGhhdFxuICogcmV0dXJucyB0aGUgYGFzc2lnbmVkTm9kZXNgIG9mIHRoZSBnaXZlbiBgc2xvdGAuXG4gKlxuICogQ2FuIGJlIHBhc3NlZCBhbiBvcHRpb25hbCB7QGxpbmtjb2RlIFF1ZXJ5QXNzaWduZWROb2Rlc09wdGlvbnN9IG9iamVjdC5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBxdWVyeUFzc2lnbmVkTm9kZXMoe3Nsb3Q6ICdsaXN0JywgZmxhdHRlbjogdHJ1ZX0pXG4gKiAgIGxpc3RJdGVtcyE6IEFycmF5PE5vZGU+O1xuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgPHNsb3QgbmFtZT1cImxpc3RcIj48L3Nsb3Q+XG4gKiAgICAgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogTm90ZSB0aGUgdHlwZSBvZiB0aGlzIHByb3BlcnR5IHNob3VsZCBiZSBhbm5vdGF0ZWQgYXMgYEFycmF5PE5vZGU+YC4gVXNlIHRoZVxuICogcXVlcnlBc3NpZ25lZEVsZW1lbnRzIGRlY29yYXRvciB0byBsaXN0IG9ubHkgZWxlbWVudHMsIGFuZCBvcHRpb25hbGx5IGZpbHRlclxuICogdGhlIGVsZW1lbnQgbGlzdCB1c2luZyBhIENTUyBzZWxlY3Rvci5cbiAqXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUFzc2lnbmVkTm9kZXMob3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0dXJuICgob2JqLCBuYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2xvdCB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgICAgICAgY29uc3Qgc2xvdFNlbGVjdG9yID0gYHNsb3Qke3Nsb3QgPyBgW25hbWU9JHtzbG90fV1gIDogJzpub3QoW25hbWVdKSd9YDtcbiAgICAgICAgcmV0dXJuIGRlc2Mob2JqLCBuYW1lLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdEVsID0gdGhpcy5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yKHNsb3RTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzbG90RWw/LmFzc2lnbmVkTm9kZXMob3B0aW9ucykgPz8gW10pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS1hc3NpZ25lZC1ub2Rlcy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmltcG9ydCB7IGRlc2MgfSBmcm9tICcuL2Jhc2UuanMnO1xuLy8gTm90ZSwgaW4gdGhlIGZ1dHVyZSwgd2UgbWF5IGV4dGVuZCB0aGlzIGRlY29yYXRvciB0byBzdXBwb3J0IHRoZSB1c2UgY2FzZVxuLy8gd2hlcmUgdGhlIHF1ZXJpZWQgZWxlbWVudCBtYXkgbmVlZCB0byBkbyB3b3JrIHRvIGJlY29tZSByZWFkeSB0byBpbnRlcmFjdFxuLy8gd2l0aCAoZS5nLiBsb2FkIHNvbWUgaW1wbGVtZW50YXRpb24gY29kZSkuIElmIHNvLCB3ZSBtaWdodCBlbGVjdCB0b1xuLy8gYWRkIGEgc2Vjb25kIGFyZ3VtZW50IGRlZmluaW5nIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgcnVuIHRvIG1ha2UgdGhlXG4vLyBxdWVyaWVkIGVsZW1lbnQgbG9hZGVkL3VwZGF0ZWQvcmVhZHkuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHJlc3VsdCBvZiBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlXG4gKiBlbGVtZW50J3MgcmVuZGVyUm9vdCBkb25lIGFmdGVyIHRoZSBlbGVtZW50J3MgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlXG4gKiByZXNvbHZlcy4gV2hlbiB0aGUgcXVlcmllZCBwcm9wZXJ0eSBtYXkgY2hhbmdlIHdpdGggZWxlbWVudCBzdGF0ZSwgdGhpc1xuICogZGVjb3JhdG9yIGNhbiBiZSB1c2VkIGluc3RlYWQgb2YgcmVxdWlyaW5nIHVzZXJzIHRvIGF3YWl0IHRoZVxuICogYHVwZGF0ZUNvbXBsZXRlYCBiZWZvcmUgYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgQSBET01TdHJpbmcgY29udGFpbmluZyBvbmUgb3IgbW9yZSBzZWxlY3RvcnMgdG8gbWF0Y2guXG4gKlxuICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvcXVlcnlTZWxlY3RvclxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBAcXVlcnlBc3luYygnI2ZpcnN0JylcbiAqICAgZmlyc3Q6IFByb21pc2U8SFRNTERpdkVsZW1lbnQ+O1xuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgPGRpdiBpZD1cImZpcnN0XCI+PC9kaXY+XG4gKiAgICAgICA8ZGl2IGlkPVwic2Vjb25kXCI+PC9kaXY+XG4gKiAgICAgYDtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIGV4dGVybmFsIHVzYWdlXG4gKiBhc3luYyBkb1NvbWV0aGluZ1dpdGhGaXJzdCgpIHtcbiAqICAoYXdhaXQgYU15RWxlbWVudC5maXJzdCkuZG9Tb21ldGhpbmcoKTtcbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlBc3luYyhzZWxlY3Rvcikge1xuICAgIHJldHVybiAoKG9iaiwgbmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVzYyhvYmosIG5hbWUsIHtcbiAgICAgICAgICAgIGFzeW5jIGdldCgpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3Q/LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpID8/IG51bGw7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LWFzeW5jLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuaW1wb3J0IHsgZGVzYyB9IGZyb20gJy4vYmFzZS5qcyc7XG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5sZXQgaXNzdWVXYXJuaW5nO1xuaWYgKERFVl9NT0RFKSB7XG4gICAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgICAvLyBhcmUgbG9hZGVkLlxuICAgIGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKTtcbiAgICAvKipcbiAgICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICAgKiBXYXJuaW5ncyBhcmUgZGlzYWJsZWQgYXV0b21hdGljYWxseSBvbmx5IGJ5IGB3YXJuaW5nYDsgZGlzYWJsaW5nIHZpYSBgY29kZWBcbiAgICAgKiBjYW4gYmUgZG9uZSBieSB1c2Vycy5cbiAgICAgKi9cbiAgICBpc3N1ZVdhcm5pbmcgPSAoY29kZSwgd2FybmluZykgPT4ge1xuICAgICAgICB3YXJuaW5nICs9IGNvZGVcbiAgICAgICAgICAgID8gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmBcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGlmICghZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykgJiZcbiAgICAgICAgICAgICFnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzLmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncy5hZGQod2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBBIERPTVN0cmluZyBjb250YWluaW5nIG9uZSBvciBtb3JlIHNlbGVjdG9ycyB0byBtYXRjaC5cbiAqIEBwYXJhbSBjYWNoZSBBbiBvcHRpb25hbCBib29sZWFuIHdoaWNoIHdoZW4gdHJ1ZSBwZXJmb3JtcyB0aGUgRE9NIHF1ZXJ5IG9ubHlcbiAqICAgICBvbmNlIGFuZCBjYWNoZXMgdGhlIHJlc3VsdC5cbiAqXG4gKiBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9xdWVyeVNlbGVjdG9yXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBxdWVyeSgnI2ZpcnN0JylcbiAqICAgZmlyc3Q6IEhUTUxEaXZFbGVtZW50O1xuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgPGRpdiBpZD1cImZpcnN0XCI+PC9kaXY+XG4gKiAgICAgICA8ZGl2IGlkPVwic2Vjb25kXCI+PC9kaXY+XG4gKiAgICAgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeShzZWxlY3RvciwgY2FjaGUpIHtcbiAgICByZXR1cm4gKChwcm90b09yVGFyZ2V0LCBuYW1lT3JDb250ZXh0LCBkZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGRvUXVlcnkgPSAoZWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChlbC5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSA/PyBudWxsKTtcbiAgICAgICAgICAgIGlmIChERVZfTU9ERSAmJiByZXN1bHQgPT09IG51bGwgJiYgY2FjaGUgJiYgIWVsLmhhc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gdHlwZW9mIG5hbWVPckNvbnRleHQgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgID8gbmFtZU9yQ29udGV4dC5uYW1lXG4gICAgICAgICAgICAgICAgICAgIDogbmFtZU9yQ29udGV4dDtcbiAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJycsIGBAcXVlcnknZCBmaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IHdpdGggdGhlICdjYWNoZScgYCArXG4gICAgICAgICAgICAgICAgICAgIGBmbGFnIHNldCBmb3Igc2VsZWN0b3IgJyR7c2VsZWN0b3J9JyBoYXMgYmVlbiBhY2Nlc3NlZCBiZWZvcmUgYCArXG4gICAgICAgICAgICAgICAgICAgIGB0aGUgZmlyc3QgdXBkYXRlIGFuZCByZXR1cm5lZCBudWxsLiBUaGlzIGlzIGV4cGVjdGVkIGlmIHRoZSBgICtcbiAgICAgICAgICAgICAgICAgICAgYHJlbmRlclJvb3QgdHJlZSBoYXMgbm90IGJlZW4gcHJvdmlkZWQgYmVmb3JlaGFuZCAoZS5nLiB2aWEgYCArXG4gICAgICAgICAgICAgICAgICAgIGBEZWNsYXJhdGl2ZSBTaGFkb3cgRE9NKS4gVGhlcmVmb3JlIHRoZSB2YWx1ZSBoYXNuJ3QgYmVlbiBjYWNoZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUT0RPOiBpZiB3ZSB3YW50IHRvIGFsbG93IHVzZXJzIHRvIGFzc2VydCB0aGF0IHRoZSBxdWVyeSB3aWxsIG5ldmVyXG4gICAgICAgICAgICAvLyByZXR1cm4gbnVsbCwgd2UgbmVlZCBhIG5ldyBvcHRpb24gYW5kIHRvIHRocm93IGhlcmUgaWYgdGhlIHJlc3VsdFxuICAgICAgICAgICAgLy8gaXMgbnVsbC5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgLy8gQWNjZXNzb3JzIHRvIHdyYXAgZnJvbSBlaXRoZXI6XG4gICAgICAgICAgICAvLyAgIDEuIFRoZSBkZWNvcmF0b3IgdGFyZ2V0LCBpbiB0aGUgY2FzZSBvZiBzdGFuZGFyZCBkZWNvcmF0b3JzXG4gICAgICAgICAgICAvLyAgIDIuIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yLCBpbiB0aGUgY2FzZSBvZiBleHBlcmltZW50YWwgZGVjb3JhdG9yc1xuICAgICAgICAgICAgLy8gICAgICBvbiBhdXRvLWFjY2Vzc29ycy5cbiAgICAgICAgICAgIC8vICAgMy4gRnVuY3Rpb25zIHRoYXQgYWNjZXNzIG91ciBvd24gY2FjaGUta2V5IHByb3BlcnR5IG9uIHRoZSBpbnN0YW5jZSxcbiAgICAgICAgICAgIC8vICAgICAgaW4gdGhlIGNhc2Ugb2YgZXhwZXJpbWVudGFsIGRlY29yYXRvcnMgb24gZmllbGRzLlxuICAgICAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gdHlwZW9mIG5hbWVPckNvbnRleHQgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgPyBwcm90b09yVGFyZ2V0XG4gICAgICAgICAgICAgICAgOiBkZXNjcmlwdG9yID8/XG4gICAgICAgICAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBERVZfTU9ERVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gU3ltYm9sKGAke1N0cmluZyhuYW1lT3JDb250ZXh0KX0gKEBxdWVyeSgpIGNhY2hlKWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBTeW1ib2woKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0KHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIHJldHVybiBkZXNjKHByb3RvT3JUYXJnZXQsIG5hbWVPckNvbnRleHQsIHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBnZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb1F1ZXJ5KHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCB8fCB0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQuY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBvYmplY3Qgd29ya3MgYXMgdGhlIHJldHVybiB0eXBlIGZvciBib3RoIHN0YW5kYXJkIGFuZFxuICAgICAgICAgICAgLy8gZXhwZXJpbWVudGFsIGRlY29yYXRvcnMuXG4gICAgICAgICAgICByZXR1cm4gZGVzYyhwcm90b09yVGFyZ2V0LCBuYW1lT3JDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9RdWVyeSh0aGlzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLypcbiAqIElNUE9SVEFOVDogRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0c2lja2xlIGFuZCB0aGUgQ2xvc3VyZSBKUyBjb21waWxlciwgYWxsXG4gKiBwcm9wZXJ0eSBkZWNvcmF0b3JzIChidXQgbm90IGNsYXNzIGRlY29yYXRvcnMpIGluIHRoaXMgZmlsZSB0aGF0IGhhdmVcbiAqIGFuIEBFeHBvcnREZWNvcmF0ZWRJdGVtcyBhbm5vdGF0aW9uIG11c3QgYmUgZGVmaW5lZCBhcyBhIHJlZ3VsYXIgZnVuY3Rpb24sXG4gKiBub3QgYW4gYXJyb3cgZnVuY3Rpb24uXG4gKi9cbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnLi9wcm9wZXJ0eS5qcyc7XG4vKipcbiAqIERlY2xhcmVzIGEgcHJpdmF0ZSBvciBwcm90ZWN0ZWQgcmVhY3RpdmUgcHJvcGVydHkgdGhhdCBzdGlsbCB0cmlnZ2Vyc1xuICogdXBkYXRlcyB0byB0aGUgZWxlbWVudCB3aGVuIGl0IGNoYW5nZXMuIEl0IGRvZXMgbm90IHJlZmxlY3QgZnJvbSB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlLlxuICpcbiAqIFByb3BlcnRpZXMgZGVjbGFyZWQgdGhpcyB3YXkgbXVzdCBub3QgYmUgdXNlZCBmcm9tIEhUTUwgb3IgSFRNTCB0ZW1wbGF0aW5nXG4gKiBzeXN0ZW1zLCB0aGV5J3JlIHNvbGVseSBmb3IgcHJvcGVydGllcyBpbnRlcm5hbCB0byB0aGUgZWxlbWVudC4gVGhlc2VcbiAqIHByb3BlcnRpZXMgbWF5IGJlIHJlbmFtZWQgYnkgb3B0aW1pemF0aW9uIHRvb2xzIGxpa2UgY2xvc3VyZSBjb21waWxlci5cbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJvcGVydHkoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAvLyBBZGQgYm90aCBgc3RhdGVgIGFuZCBgYXR0cmlidXRlYCBiZWNhdXNlIHdlIGZvdW5kIGEgdGhpcmQgcGFydHlcbiAgICAgICAgLy8gY29udHJvbGxlciB0aGF0IGlzIGtleWluZyBvZmYgb2YgUHJvcGVydHlPcHRpb25zLnN0YXRlIHRvIGRldGVybWluZVxuICAgICAgICAvLyB3aGV0aGVyIGEgZmllbGQgaXMgYSBwcml2YXRlIGludGVybmFsIHByb3BlcnR5IG9yIG5vdC5cbiAgICAgICAgc3RhdGU6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZTogZmFsc2UsXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogVXNlIHRoaXMgbW9kdWxlIGlmIHlvdSB3YW50IHRvIGNyZWF0ZSB5b3VyIG93biBiYXNlIGNsYXNzIGV4dGVuZGluZ1xuICoge0BsaW5rIFJlYWN0aXZlRWxlbWVudH0uXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuaW1wb3J0IHsgZ2V0Q29tcGF0aWJsZVN0eWxlLCBhZG9wdFN0eWxlcywgfSBmcm9tICcuL2Nzcy10YWcuanMnO1xuLy8gSW4gdGhlIE5vZGUgYnVpbGQsIHRoaXMgaW1wb3J0IHdpbGwgYmUgaW5qZWN0ZWQgYnkgUm9sbHVwOlxuLy8gaW1wb3J0IHtIVE1MRWxlbWVudCwgY3VzdG9tRWxlbWVudHN9IGZyb20gJ0BsaXQtbGFicy9zc3ItZG9tLXNoaW0nO1xuZXhwb3J0ICogZnJvbSAnLi9jc3MtdGFnLmpzJztcbi8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBBZGQgYGhhc093bmAgaGVyZSB3aGVuIHdlIHNoaXAgRVMyMDIyXG5jb25zdCB7IGlzLCBkZWZpbmVQcm9wZXJ0eSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBnZXRPd25Qcm9wZXJ0eU5hbWVzLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIGdldFByb3RvdHlwZU9mLCB9ID0gT2JqZWN0O1xuY29uc3QgTk9ERV9NT0RFID0gZmFsc2U7XG4vLyBMZXRzIGEgbWluaWZpZXIgcmVwbGFjZSBnbG9iYWxUaGlzIHJlZmVyZW5jZXMgd2l0aCBhIG1pbmlmaWVkIG5hbWVcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXM7XG5pZiAoTk9ERV9NT0RFKSB7XG4gICAgZ2xvYmFsLmN1c3RvbUVsZW1lbnRzID8/PSBjdXN0b21FbGVtZW50cztcbn1cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbmxldCBpc3N1ZVdhcm5pbmc7XG5jb25zdCB0cnVzdGVkVHlwZXMgPSBnbG9iYWxcbiAgICAudHJ1c3RlZFR5cGVzO1xuLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY3JidWcuY29tLzk5MzI2OFxuLy8gQ3VycmVudGx5LCBhbnkgYXR0cmlidXRlIHN0YXJ0aW5nIHdpdGggXCJvblwiIGlzIGNvbnNpZGVyZWQgdG8gYmUgYVxuLy8gVHJ1c3RlZFNjcmlwdCBzb3VyY2UuIFN1Y2ggYm9vbGVhbiBhdHRyaWJ1dGVzIG11c3QgYmUgc2V0IHRvIHRoZSBlcXVpdmFsZW50XG4vLyB0cnVzdGVkIGVtcHR5U2NyaXB0IHZhbHVlLlxuY29uc3QgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlID0gdHJ1c3RlZFR5cGVzXG4gICAgPyB0cnVzdGVkVHlwZXMuZW1wdHlTY3JpcHRcbiAgICA6ICcnO1xuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgICA/IGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gICAgOiBnbG9iYWwucmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0O1xuaWYgKERFVl9NT0RFKSB7XG4gICAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgICAvLyBhcmUgbG9hZGVkLlxuICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuICAgIC8qKlxuICAgICAqIElzc3VlIGEgd2FybmluZyBpZiB3ZSBoYXZlbid0IGFscmVhZHksIGJhc2VkIGVpdGhlciBvbiBgY29kZWAgb3IgYHdhcm5pbmdgLlxuICAgICAqIFdhcm5pbmdzIGFyZSBkaXNhYmxlZCBhdXRvbWF0aWNhbGx5IG9ubHkgYnkgYHdhcm5pbmdgOyBkaXNhYmxpbmcgdmlhIGBjb2RlYFxuICAgICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgICAqL1xuICAgIGlzc3VlV2FybmluZyA9IChjb2RlLCB3YXJuaW5nKSA9PiB7XG4gICAgICAgIHdhcm5pbmcgKz0gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmA7XG4gICAgICAgIGlmICghZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmhhcyh3YXJuaW5nKSAmJlxuICAgICAgICAgICAgIWdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncy5oYXMoY29kZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncy5hZGQod2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKCdkZXYtbW9kZScsIGBMaXQgaXMgaW4gZGV2IG1vZGUuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiFgKTtcbiAgICAgICAgLy8gSXNzdWUgcG9seWZpbGwgc3VwcG9ydCB3YXJuaW5nLlxuICAgICAgICBpZiAoZ2xvYmFsLlNoYWR5RE9NPy5pblVzZSAmJiBwb2x5ZmlsbFN1cHBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaXNzdWVXYXJuaW5nKCdwb2x5ZmlsbC1zdXBwb3J0LW1pc3NpbmcnLCBgU2hhZG93IERPTSBpcyBiZWluZyBwb2x5ZmlsbGVkIHZpYSBcXGBTaGFkeURPTVxcYCBidXQgYCArXG4gICAgICAgICAgICAgICAgYHRoZSBcXGBwb2x5ZmlsbC1zdXBwb3J0XFxgIG1vZHVsZSBoYXMgbm90IGJlZW4gbG9hZGVkLmApO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFVzZWZ1bCBmb3IgdmlzdWFsaXppbmcgYW5kIGxvZ2dpbmcgaW5zaWdodHMgaW50byB3aGF0IHRoZSBMaXQgdGVtcGxhdGUgc3lzdGVtIGlzIGRvaW5nLlxuICpcbiAqIENvbXBpbGVkIG91dCBvZiBwcm9kIG1vZGUgYnVpbGRzLlxuICovXG5jb25zdCBkZWJ1Z0xvZ0V2ZW50ID0gREVWX01PREVcbiAgICA/IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBzaG91bGRFbWl0ID0gZ2xvYmFsXG4gICAgICAgICAgICAuZW1pdExpdERlYnVnTG9nRXZlbnRzO1xuICAgICAgICBpZiAoIXNob3VsZEVtaXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICAgIGRldGFpbDogZXZlbnQsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgOiB1bmRlZmluZWQ7XG4vKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG4vKkBfX0lOTElORV9fKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSAocHJvcCwgX29iaikgPT4gcHJvcDtcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29udmVydGVyID0ge1xuICAgIHRvQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPyBlbXB0eVN0cmluZ0ZvckJvb2xlYW5BdHRyaWJ1dGUgOiBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgcGFzcyB0aGlzIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyB0byBhbGxvdyByZW1vdmluZy9ubyBjaGFuZ2UgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZnJvbUF0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBsZXQgZnJvbVZhbHVlID0gdmFsdWU7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlICE9PSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICAgICAgZnJvbVZhbHVlID0gdmFsdWUgPT09IG51bGwgPyBudWxsIDogTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgICAgICAvLyBEbyAqbm90KiBnZW5lcmF0ZSBleGNlcHRpb24gd2hlbiBpbnZhbGlkIEpTT04gaXMgc2V0IGFzIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3Qgbm9ybWFsbHkgY29tcGxhaW4gb24gYmVpbmcgbWlzLWNvbmZpZ3VyZWQuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogRG8gZ2VuZXJhdGUgZXhjZXB0aW9uIGluICpkZXYgbW9kZSouXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzZXJ0IHRvIGFkaGVyZSB0byBCYXplbCdzIFwibXVzdCB0eXBlIGFzc2VydCBKU09OIHBhcnNlXCIgcnVsZS5cbiAgICAgICAgICAgICAgICAgICAgZnJvbVZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcm9tVmFsdWU7XG4gICAgfSxcbn07XG4vKipcbiAqIENoYW5nZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGRpZmZlcmVudCBmcm9tIGBvbGRWYWx1ZWAuXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGZvciBhIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgbm90RXF1YWwgPSAodmFsdWUsIG9sZCkgPT4gIWlzKHZhbHVlLCBvbGQpO1xuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gICAgYXR0cmlidXRlOiB0cnVlLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gICAgcmVmbGVjdDogZmFsc2UsXG4gICAgdXNlRGVmYXVsdDogZmFsc2UsXG4gICAgaGFzQ2hhbmdlZDogbm90RXF1YWwsXG59O1xuLy8gRW5zdXJlIG1ldGFkYXRhIGlzIGVuYWJsZWQuIFR5cGVTY3JpcHQgZG9lcyBub3QgcG9seWZpbGxcbi8vIFN5bWJvbC5tZXRhZGF0YSwgc28gd2UgbXVzdCBlbnN1cmUgdGhhdCBpdCBleGlzdHMuXG5TeW1ib2wubWV0YWRhdGEgPz89IFN5bWJvbCgnbWV0YWRhdGEnKTtcbi8vIE1hcCBmcm9tIGEgY2xhc3MncyBtZXRhZGF0YSBvYmplY3QgdG8gcHJvcGVydHkgb3B0aW9uc1xuLy8gTm90ZSB0aGF0IHdlIG11c3QgdXNlIG51bGxpc2gtY29hbGVzY2luZyBhc3NpZ25tZW50IHNvIHRoYXQgd2Ugb25seSB1c2Ugb25lXG4vLyBtYXAgZXZlbiBpZiB3ZSBsb2FkIG11bHRpcGxlIHZlcnNpb24gb2YgdGhpcyBtb2R1bGUuXG5nbG9iYWwubGl0UHJvcGVydHlNZXRhZGF0YSA/Pz0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICogQG5vSW5oZXJpdERvY1xuICovXG5leHBvcnQgY2xhc3MgUmVhY3RpdmVFbGVtZW50XG4vLyBJbiB0aGUgTm9kZSBidWlsZCwgdGhpcyBgZXh0ZW5kc2AgY2xhdXNlIHdpbGwgYmUgc3Vic3RpdHV0ZWQgd2l0aFxuLy8gYChnbG9iYWxUaGlzLkhUTUxFbGVtZW50ID8/IEhUTUxFbGVtZW50KWAuXG4vL1xuLy8gVGhpcyB3YXksIHdlIHdpbGwgZmlyc3QgcHJlZmVyIGFueSBnbG9iYWwgYEhUTUxFbGVtZW50YCBwb2x5ZmlsbCB0aGF0IHRoZVxuLy8gdXNlciBoYXMgYXNzaWduZWQsIGFuZCB0aGVuIGZhbGwgYmFjayB0byB0aGUgYEhUTUxFbGVtZW50YCBzaGltIHdoaWNoIGhhc1xuLy8gYmVlbiBpbXBvcnRlZCAoc2VlIG5vdGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUgYWJvdXQgaG93IHRoaXMgaW1wb3J0IGlzXG4vLyBnZW5lcmF0ZWQgYnkgUm9sbHVwKS4gTm90ZSB0aGF0IHRoZSBgSFRNTEVsZW1lbnRgIHZhcmlhYmxlIGhhcyBiZWVuXG4vLyBzaGFkb3dlZCBieSB0aGlzIGltcG9ydCwgc28gaXQgbm8gbG9uZ2VyIHJlZmVycyB0byB0aGUgZ2xvYmFsLlxuIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gaW5pdGlhbGl6ZXIgZnVuY3Rpb24gdG8gdGhlIGNsYXNzIHRoYXQgaXMgY2FsbGVkIGR1cmluZyBpbnN0YW5jZVxuICAgICAqIGNvbnN0cnVjdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjb2RlIHRoYXQgcnVucyBhZ2FpbnN0IGEgYFJlYWN0aXZlRWxlbWVudGBcbiAgICAgKiBzdWJjbGFzcywgc3VjaCBhcyBhIGRlY29yYXRvciwgdGhhdCBuZWVkcyB0byBkbyB3b3JrIGZvciBlYWNoXG4gICAgICogaW5zdGFuY2UsIHN1Y2ggYXMgc2V0dGluZyB1cCBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBteURlY29yYXRvciA9ICh0YXJnZXQ6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICogICB0YXJnZXQuYWRkSW5pdGlhbGl6ZXIoKGluc3RhbmNlOiBSZWFjdGl2ZUVsZW1lbnQpID0+IHtcbiAgICAgKiAgICAgLy8gVGhpcyBpcyBydW4gZHVyaW5nIGNvbnN0cnVjdGlvbiBvZiB0aGUgZWxlbWVudFxuICAgICAqICAgICBuZXcgTXlDb250cm9sbGVyKGluc3RhbmNlKTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIERlY29yYXRpbmcgYSBmaWVsZCB3aWxsIHRoZW4gY2F1c2UgZWFjaCBpbnN0YW5jZSB0byBydW4gYW4gaW5pdGlhbGl6ZXJcbiAgICAgKiB0aGF0IGFkZHMgYSBjb250cm9sbGVyOlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgIEBteURlY29yYXRvciBmb287XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW5pdGlhbGl6ZXJzIGFyZSBzdG9yZWQgcGVyLWNvbnN0cnVjdG9yLiBBZGRpbmcgYW4gaW5pdGlhbGl6ZXIgdG8gYVxuICAgICAqIHN1YmNsYXNzIGRvZXMgbm90IGFkZCBpdCB0byBhIHN1cGVyY2xhc3MuIFNpbmNlIGluaXRpYWxpemVycyBhcmUgcnVuIGluXG4gICAgICogY29uc3RydWN0b3JzLCBpbml0aWFsaXplcnMgd2lsbCBydW4gaW4gb3JkZXIgb2YgdGhlIGNsYXNzIGhpZXJhcmNoeSxcbiAgICAgKiBzdGFydGluZyB3aXRoIHN1cGVyY2xhc3NlcyBhbmQgcHJvZ3Jlc3NpbmcgdG8gdGhlIGluc3RhbmNlJ3MgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcikge1xuICAgICAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgICAgICAodGhpcy5faW5pdGlhbGl6ZXJzID8/PSBbXSkucHVzaChpbml0aWFsaXplcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICogQGNhdGVnb3J5IGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgLy8gRW5zdXJlIHdlJ3ZlIGNyZWF0ZWQgYWxsIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICAvLyB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCBpcyBvbmx5IHVuZGVmaW5lZCBhZnRlciBmaW5hbGl6ZSgpIGluXG4gICAgICAgIC8vIFJlYWN0aXZlRWxlbWVudCBpdHNlbGYuIFJlYWN0aXZlRWxlbWVudC5vYnNlcnZlZEF0dHJpYnV0ZXMgaXMgb25seVxuICAgICAgICAvLyBhY2Nlc3NlZCB3aXRoIFJlYWN0aXZlRWxlbWVudCBhcyB0aGUgcmVjZWl2ZXIgd2hlbiBhIHN1YmNsYXNzIG9yIG1peGluXG4gICAgICAgIC8vIGNhbGxzIHN1cGVyLm9ic2VydmVkQXR0cmlidXRlc1xuICAgICAgICByZXR1cm4gKHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwICYmIFsuLi50aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5rZXlzKCldKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHByb3BlcnR5IGFjY2Vzc29yIG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZSBpZiBvbmUgZG9lcyBub3QgZXhpc3RcbiAgICAgKiBhbmQgc3RvcmVzIGEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBmb3IgdGhlIHByb3BlcnR5IHdpdGggdGhlXG4gICAgICogZ2l2ZW4gb3B0aW9ucy4gVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGBcbiAgICAgKiBwcm9wZXJ0eSBvcHRpb24gb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3RcbiAgICAgKiB0byByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBvdmVycmlkZGVuIHRvIGN1c3RvbWl6ZSBwcm9wZXJ0aWVzOyBob3dldmVyLFxuICAgICAqIHdoZW4gZG9pbmcgc28sIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHN1cGVyLmNyZWF0ZVByb3BlcnR5YCB0byBlbnN1cmVcbiAgICAgKiB0aGUgcHJvcGVydHkgaXMgc2V0dXAgY29ycmVjdGx5LiBUaGlzIG1ldGhvZCBjYWxsc1xuICAgICAqIGBnZXRQcm9wZXJ0eURlc2NyaXB0b3JgIGludGVybmFsbHkgdG8gZ2V0IGEgZGVzY3JpcHRvciB0byBpbnN0YWxsLlxuICAgICAqIFRvIGN1c3RvbWl6ZSB3aGF0IHByb3BlcnRpZXMgZG8gd2hlbiB0aGV5IGFyZSBnZXQgb3Igc2V0LCBvdmVycmlkZVxuICAgICAqIGBnZXRQcm9wZXJ0eURlc2NyaXB0b3JgLiBUbyBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgcHJvcGVydHksXG4gICAgICogaW1wbGVtZW50IGBjcmVhdGVQcm9wZXJ0eWAgbGlrZSB0aGlzOlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAqICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywge215T3B0aW9uOiB0cnVlfSk7XG4gICAgICogICBzdXBlci5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMgPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgc3RhdGUgcHJvcGVydHksIGZvcmNlIHRoZSBhdHRyaWJ1dGUgdG8gZmFsc2UuXG4gICAgICAgIGlmIChvcHRpb25zLnN0YXRlKSB7XG4gICAgICAgICAgICBvcHRpb25zLmF0dHJpYnV0ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19wcmVwYXJlKCk7XG4gICAgICAgIC8vIFdoZXRoZXIgdGhpcyBwcm9wZXJ0eSBpcyB3cmFwcGluZyBhY2Nlc3NvcnMuXG4gICAgICAgIC8vIEhlbHBzIGNvbnRyb2wgdGhlIGluaXRpYWwgdmFsdWUgY2hhbmdlIGFuZCByZWZsZWN0aW9uIGxvZ2ljLlxuICAgICAgICBpZiAodGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG9wdGlvbnMpO1xuICAgICAgICAgICAgb3B0aW9ucy53cmFwcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLm5vQWNjZXNzb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IERFVl9NT0RFXG4gICAgICAgICAgICAgICAgPyAvLyBVc2UgU3ltYm9sLmZvciBpbiBkZXYgbW9kZSB0byBtYWtlIGl0IGVhc2llciB0byBtYWludGFpbiBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGRvaW5nIEhNUi5cbiAgICAgICAgICAgICAgICAgICAgU3ltYm9sLmZvcihgJHtTdHJpbmcobmFtZSl9IChAcHJvcGVydHkoKSBjYWNoZSlgKVxuICAgICAgICAgICAgICAgIDogU3ltYm9sKCk7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy5nZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChkZXNjcmlwdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gYmUgZGVmaW5lZCBvbiB0aGUgZ2l2ZW4gbmFtZWQgcHJvcGVydHkuXG4gICAgICogSWYgbm8gZGVzY3JpcHRvciBpcyByZXR1cm5lZCwgdGhlIHByb3BlcnR5IHdpbGwgbm90IGJlY29tZSBhbiBhY2Nlc3Nvci5cbiAgICAgKiBGb3IgZXhhbXBsZSxcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgICogICBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucykge1xuICAgICAqICAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRvciA9XG4gICAgICogICAgICAgICBzdXBlci5nZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKTtcbiAgICAgKiAgICAgY29uc3Qgc2V0dGVyID0gZGVmYXVsdERlc2NyaXB0b3Iuc2V0O1xuICAgICAqICAgICByZXR1cm4ge1xuICAgICAqICAgICAgIGdldDogZGVmYXVsdERlc2NyaXB0b3IuZ2V0LFxuICAgICAqICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAqICAgICAgICAgc2V0dGVyLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAqICAgICAgICAgLy8gY3VzdG9tIGFjdGlvbi5cbiAgICAgKiAgICAgICB9LFxuICAgICAqICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgKiAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3RhdGljIGdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMucHJvdG90eXBlLCBuYW1lKSA/PyB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQodikge1xuICAgICAgICAgICAgICAgIHRoaXNba2V5XSA9IHY7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoREVWX01PREUgJiYgZ2V0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIChnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5wcm90b3R5cGUsIG5hbWUpID8/IHt9KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmllbGQgJHtKU09OLnN0cmluZ2lmeShTdHJpbmcobmFtZSkpfSBvbiBgICtcbiAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5uYW1lfSB3YXMgZGVjbGFyZWQgYXMgYSByZWFjdGl2ZSBwcm9wZXJ0eSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpdCdzIGFjdHVhbGx5IGRlY2xhcmVkIGFzIGEgdmFsdWUgb24gdGhlIHByb3RvdHlwZS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBVc3VhbGx5IHRoaXMgaXMgZHVlIHRvIHVzaW5nIEBwcm9wZXJ0eSBvciBAc3RhdGUgb24gYSBtZXRob2QuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ3JlYWN0aXZlLXByb3BlcnR5LXdpdGhvdXQtZ2V0dGVyJywgYEZpZWxkICR7SlNPTi5zdHJpbmdpZnkoU3RyaW5nKG5hbWUpKX0gb24gYCArXG4gICAgICAgICAgICAgICAgYCR7dGhpcy5uYW1lfSB3YXMgZGVjbGFyZWQgYXMgYSByZWFjdGl2ZSBwcm9wZXJ0eSBgICtcbiAgICAgICAgICAgICAgICBgYnV0IGl0IGRvZXMgbm90IGhhdmUgYSBnZXR0ZXIuIFRoaXMgd2lsbCBiZSBhbiBlcnJvciBpbiBhIGAgK1xuICAgICAgICAgICAgICAgIGBmdXR1cmUgdmVyc2lvbiBvZiBMaXQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldCxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0Py5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHNldD8uY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBvcHRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogVGhlc2Ugb3B0aW9ucyBhcmUgZGVmaW5lZCB3aXRoIGEgYFByb3BlcnR5RGVjbGFyYXRpb25gIHZpYSB0aGUgYHByb3BlcnRpZXNgXG4gICAgICogb2JqZWN0IG9yIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgYW5kIGFyZSByZWdpc3RlcmVkIGluXG4gICAgICogYGNyZWF0ZVByb3BlcnR5KC4uLilgLlxuICAgICAqXG4gICAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJmaW5hbFwiIGFuZCBub3Qgb3ZlcnJpZGRlbi4gVG9cbiAgICAgKiBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgZ2l2ZW4gcHJvcGVydHksIG92ZXJyaWRlXG4gICAgICoge0BsaW5rY29kZSBjcmVhdGVQcm9wZXJ0eX0uXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBmaW5hbFxuICAgICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3RhdGljIGdldFByb3BlcnR5T3B0aW9ucyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLmdldChuYW1lKSA/PyBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgc3RhdGljIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBjbGFzcyB1c2VkIGluIGJvb2trZWVwaW5nXG4gICAgICogZm9yIGVsZW1lbnQgcHJvcGVydGllcywgaW5pdGlhbGl6ZXJzLCBldGMuXG4gICAgICpcbiAgICAgKiBDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGJ5IGNvZGUgdGhhdCBuZWVkcyB0byBlbnN1cmUgdGhlc2VcbiAgICAgKiBwcm9wZXJ0aWVzIGV4aXN0IGJlZm9yZSB1c2luZyB0aGVtLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZW5zdXJlcyB0aGUgc3VwZXJjbGFzcyBpcyBmaW5hbGl6ZWQgc28gdGhhdCBpbmhlcml0ZWRcbiAgICAgKiBwcm9wZXJ0eSBtZXRhZGF0YSBjYW4gYmUgY29waWVkIGRvd24uXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX19wcmVwYXJlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbGVtZW50UHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgLy8gQWxyZWFkeSBwcmVwYXJlZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICAgICAgY29uc3Qgc3VwZXJDdG9yID0gZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgICAgICAvLyBDcmVhdGUgb3duIHNldCBvZiBpbml0aWFsaXplcnMgZm9yIHRoaXMgY2xhc3MgaWYgYW55IGV4aXN0IG9uIHRoZVxuICAgICAgICAvLyBzdXBlcmNsYXNzIGFuZCBjb3B5IHRoZW0gZG93bi4gTm90ZSwgZm9yIGEgc21hbGwgcGVyZiBib29zdCwgYXZvaWRcbiAgICAgICAgLy8gY3JlYXRpbmcgaW5pdGlhbGl6ZXJzIHVubGVzcyBuZWVkZWQuXG4gICAgICAgIGlmIChzdXBlckN0b3IuX2luaXRpYWxpemVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplcnMgPSBbLi4uc3VwZXJDdG9yLl9pbml0aWFsaXplcnNdO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpemUgZWxlbWVudFByb3BlcnRpZXMgZnJvbSB0aGUgc3VwZXJjbGFzc1xuICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzID0gbmV3IE1hcChzdXBlckN0b3IuZWxlbWVudFByb3BlcnRpZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyBzZXR0aW5nIHVwIHRoZSBjbGFzcyBzbyB0aGF0IGl0J3MgcmVhZHkgdG8gYmUgcmVnaXN0ZXJlZFxuICAgICAqIGFzIGEgY3VzdG9tIGVsZW1lbnQgYW5kIGluc3RhbnRpYXRlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGUgUmVhY3RpdmVFbGVtZW50Lm9ic2VydmVkQXR0cmlidXRlcyBnZXR0ZXIuXG4gICAgICogSWYgeW91IG92ZXJyaWRlIHRoZSBvYnNlcnZlZEF0dHJpYnV0ZXMgZ2V0dGVyLCB5b3UgbXVzdCBlaXRoZXIgY2FsbFxuICAgICAqIHN1cGVyLm9ic2VydmVkQXR0cmlidXRlcyB0byB0cmlnZ2VyIGZpbmFsaXphdGlvbiwgb3IgY2FsbCBmaW5hbGl6ZSgpXG4gICAgICogeW91cnNlbGYuXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZmluYWxpemVkJywgdGhpcykpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgICAgICAvLyBDcmVhdGUgcHJvcGVydGllcyBmcm9tIHRoZSBzdGF0aWMgcHJvcGVydGllcyBibG9jazpcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgncHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICBjb25zdCBwcm9wS2V5cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgICAgICAgICAuLi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSBwcm9wZXJ0aWVzIGZyb20gc3RhbmRhcmQgZGVjb3JhdG9yIG1ldGFkYXRhOlxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXNbU3ltYm9sLm1ldGFkYXRhXTtcbiAgICAgICAgaWYgKG1ldGFkYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gbGl0UHJvcGVydHlNZXRhZGF0YS5nZXQobWV0YWRhdGEpO1xuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50UHJvcGVydGllcy5zZXQocCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgYXR0cmlidXRlLXRvLXByb3BlcnR5IG1hcFxuICAgICAgICB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgdGhpcy5lbGVtZW50UHJvcGVydGllcykge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuc2V0KGF0dHIsIHApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudFN0eWxlcyA9IHRoaXMuZmluYWxpemVTdHlsZXModGhpcy5zdHlsZXMpO1xuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdjcmVhdGVQcm9wZXJ0eScpKSB7XG4gICAgICAgICAgICAgICAgaXNzdWVXYXJuaW5nKCduby1vdmVycmlkZS1jcmVhdGUtcHJvcGVydHknLCAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuY3JlYXRlUHJvcGVydHkoKSBpcyBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1RoZSBvdmVycmlkZSB3aWxsIG5vdCBiZSBjYWxsZWQgd2l0aCBzdGFuZGFyZCBkZWNvcmF0b3JzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnZ2V0UHJvcGVydHlEZXNjcmlwdG9yJykpIHtcbiAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ25vLW92ZXJyaWRlLWdldC1wcm9wZXJ0eS1kZXNjcmlwdG9yJywgJ092ZXJyaWRpbmcgUmVhY3RpdmVFbGVtZW50LmdldFByb3BlcnR5RGVzY3JpcHRvcigpIGlzIGRlcHJlY2F0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVGhlIG92ZXJyaWRlIHdpbGwgbm90IGJlIGNhbGxlZCB3aXRoIHN0YW5kYXJkIGRlY29yYXRvcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyB0aGUgc3R5bGVzIHRoZSB1c2VyIHN1cHBsaWVkIHZpYSB0aGUgYHN0YXRpYyBzdHlsZXNgIHByb3BlcnR5IGFuZFxuICAgICAqIHJldHVybnMgdGhlIGFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC5cbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBpbnRlZ3JhdGUgaW50byBhIHN0eWxlIG1hbmFnZW1lbnQgc3lzdGVtLlxuICAgICAqXG4gICAgICogU3R5bGVzIGFyZSBkZWR1cGxpY2F0ZWQgcHJlc2VydmluZyB0aGUgX2xhc3RfIGluc3RhbmNlIGluIHRoZSBsaXN0LiBUaGlzXG4gICAgICogaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsZXMgdGhhdCBjYW4gb2NjdXJcbiAgICAgKiBlc3BlY2lhbGx5IHdoZW4gY29tcG9zaW5nIHZpYSBzdWJjbGFzc2luZy4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvIHRyeVxuICAgICAqIHRvIHByZXNlcnZlIHRoZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3QgaW1wb3J0YW50XG4gICAgICogdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluYWxpemVTdHlsZXMoc3R5bGVzKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTdHlsZXMgPSBbXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgICAgICAgLy8gRGVkdXBlIHRoZSBmbGF0dGVuZWQgYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgbGFzdCBpdGVtcy5cbiAgICAgICAgICAgIC8vIENhc3RpbmcgdG8gQXJyYXk8dW5rbm93bj4gd29ya3MgYXJvdW5kIFRTIGVycm9yIHRoYXRcbiAgICAgICAgICAgIC8vIGFwcGVhcnMgdG8gY29tZSBmcm9tIHRyeWluZyB0byBmbGF0dGVuIGEgdHlwZSBDU1NSZXN1bHRBcnJheS5cbiAgICAgICAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoc3R5bGVzLmZsYXQoSW5maW5pdHkpLnJldmVyc2UoKSk7XG4gICAgICAgICAgICAvLyBUaGVuIHByZXNlcnZlIG9yaWdpbmFsIG9yZGVyIGJ5IGFkZGluZyB0aGUgc2V0IGl0ZW1zIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2V0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudFN0eWxlcy51bnNoaWZ0KGdldENvbXBhdGlibGVTdHlsZShzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRTdHlsZXMucHVzaChnZXRDb21wYXRpYmxlU3R5bGUoc3R5bGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRTdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGUgPT09IGZhbHNlXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiB0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgOiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJ1ZSBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgdXBkYXRlIGFzIGEgcmVzdWx0IG9mIGNhbGxpbmcgYHJlcXVlc3RVcGRhdGUoKWAuXG4gICAgICAgICAqIFNob3VsZCBvbmx5IGJlIHJlYWQuXG4gICAgICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgc2V0IHRvIGB0cnVlYCBhZnRlciB0aGUgZmlyc3QgdXBkYXRlLiBUaGUgZWxlbWVudCBjb2RlIGNhbm5vdCBhc3N1bWVcbiAgICAgICAgICogdGhhdCBgcmVuZGVyUm9vdGAgZXhpc3RzIGJlZm9yZSB0aGUgZWxlbWVudCBgaGFzVXBkYXRlZGAuXG4gICAgICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1VwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgY3VycmVudGx5IHJlZmxlY3RpbmcgcHJvcGVydHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgICAgICB0aGlzLl9faW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBvbmx5IG92ZXJyaWRlIHBvaW50IGZvciBjdXN0b21pemluZyB3b3JrIGRvbmUgd2hlbiBlbGVtZW50c1xuICAgICAqIGFyZSBjb25zdHJ1Y3RlZC5cbiAgICAgKi9cbiAgICBfX2luaXRpYWxpemUoKSB7XG4gICAgICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlcykgPT4gKHRoaXMuZW5hYmxlVXBkYXRpbmcgPSByZXMpKTtcbiAgICAgICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBUaGlzIGVucXVldWVzIGEgbWljcm90YXNrIHRoYXQgbXVzdCBydW4gYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUsIHNvIGl0XG4gICAgICAgIC8vIG11c3QgYmUgY2FsbGVkIGJlZm9yZSByZXF1ZXN0VXBkYXRlKClcbiAgICAgICAgdGhpcy5fX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgICAgIC8vIGB1cGRhdGVDb21wbGV0ZWBcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuX2luaXRpYWxpemVycz8uZm9yRWFjaCgoaSkgPT4gaSh0aGlzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBlbGVtZW50J3MgcmVhY3RpdmVcbiAgICAgKiB1cGRhdGUgY3ljbGUuIFRoZSBlbGVtZW50IGF1dG9tYXRpY2FsbHkgY2FsbHMgaW50byBhbnkgcmVnaXN0ZXJlZFxuICAgICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICAgKlxuICAgICAqIElmIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB3aGVuIGBhZGRDb250cm9sbGVyKClgIGlzIGNhbGxlZCwgdGhlXG4gICAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgICAqIEBjYXRlZ29yeSBjb250cm9sbGVyc1xuICAgICAqL1xuICAgIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICAgICAgICAodGhpcy5fX2NvbnRyb2xsZXJzID8/PSBuZXcgU2V0KCkpLmFkZChjb250cm9sbGVyKTtcbiAgICAgICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAgICAgLy8gY2FsbCBob3N0Q29ubmVjdGVkLiBOb3RlLCByZS11c2luZyBleGlzdGVuY2Ugb2YgYHJlbmRlclJvb3RgIGhlcmVcbiAgICAgICAgLy8gKHdoaWNoIGlzIHNldCBpbiBjb25uZWN0ZWRDYWxsYmFjaykgdG8gYXZvaWQgdGhlIG5lZWQgdG8gdHJhY2sgYVxuICAgICAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlclJvb3QgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmhvc3RDb25uZWN0ZWQ/LigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgICAqIEBjYXRlZ29yeSBjb250cm9sbGVyc1xuICAgICAqL1xuICAgIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICAgICAgICB0aGlzLl9fY29udHJvbGxlcnM/LmRlbGV0ZShjb250cm9sbGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgICAqIE90aGVyd2lzZSB0aGVzZSB3b3VsZCBzaGFkb3cgdGhlIGFjY2Vzc29yIGFuZCBicmVhayB0aGVzZSBwcm9wZXJ0aWVzLlxuICAgICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAgICogY29uc3RydWN0b3IgcnVucy5cbiAgICAgKi9cbiAgICBfX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSB0aGlzLmNvbnN0cnVjdG9yXG4gICAgICAgICAgICAuZWxlbWVudFByb3BlcnRpZXM7XG4gICAgICAgIGZvciAoY29uc3QgcCBvZiBlbGVtZW50UHJvcGVydGllcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB0aGlzW3BdKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGFuY2VQcm9wZXJ0aWVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzID0gaW5zdGFuY2VQcm9wZXJ0aWVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAgICogY3JlYXRlcyBhbmQgcmV0dXJucyBhbiBvcGVuIHNoYWRvd1Jvb3QuIEltcGxlbWVudCB0byBjdXN0b21pemUgd2hlcmUgdGhlXG4gICAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgICAqXG4gICAgICogQHJldHVybiBSZXR1cm5zIGEgbm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAgICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAgICovXG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICAgICAgY29uc3QgcmVuZGVyUm9vdCA9IHRoaXMuc2hhZG93Um9vdCA/P1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3codGhpcy5jb25zdHJ1Y3Rvci5zaGFkb3dSb290T3B0aW9ucyk7XG4gICAgICAgIGFkb3B0U3R5bGVzKHJlbmRlclJvb3QsIHRoaXMuY29uc3RydWN0b3IuZWxlbWVudFN0eWxlcyk7XG4gICAgICAgIHJldHVybiByZW5kZXJSb290O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbiBmaXJzdCBjb25uZWN0aW9uLCBjcmVhdGVzIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdCwgc2V0cyB1cFxuICAgICAqIGVsZW1lbnQgc3R5bGluZywgYW5kIGVuYWJsZXMgdXBkYXRpbmcuXG4gICAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAvLyBDcmVhdGUgcmVuZGVyUm9vdCBiZWZvcmUgY29udHJvbGxlcnMgYGhvc3RDb25uZWN0ZWRgXG4gICAgICAgIHRoaXMucmVuZGVyUm9vdCA/Pz1cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICB0aGlzLmVuYWJsZVVwZGF0aW5nKHRydWUpO1xuICAgICAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdENvbm5lY3RlZD8uKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RlLCB0aGlzIG1ldGhvZCBzaG91bGQgYmUgY29uc2lkZXJlZCBmaW5hbCBhbmQgbm90IG92ZXJyaWRkZW4uIEl0IGlzXG4gICAgICogb3ZlcnJpZGRlbiBvbiB0aGUgZWxlbWVudCBpbnN0YW5jZSB3aXRoIGEgZnVuY3Rpb24gdGhhdCB0cmlnZ2VycyB0aGUgZmlyc3RcbiAgICAgKiB1cGRhdGUuXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBlbmFibGVVcGRhdGluZyhfcmVxdWVzdGVkVXBkYXRlKSB7IH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgZm9yIGBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBpbiBleHRlbnNpb25zIHdoaWxlXG4gICAgICogcmVzZXJ2aW5nIHRoZSBwb3NzaWJpbGl0eSBvZiBtYWtpbmcgbm9uLWJyZWFraW5nIGZlYXR1cmUgYWRkaXRpb25zXG4gICAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0RGlzY29ubmVjdGVkPy4oKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplcyBwcm9wZXJ0eSB2YWx1ZXMgd2hlbiBhdHRyaWJ1dGVzIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAgICogWW91IHNob3VsZCByYXJlbHkgbmVlZCB0byBpbXBsZW1lbnQgdGhpcyBjYWxsYmFjay4gSWYgdGhpcyBtZXRob2QgaXNcbiAgICAgKiBvdmVycmlkZGVuLCBgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIF9vbGQsIHZhbHVlKWAgbXVzdCBiZVxuICAgICAqIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIFNlZSBbcmVzcG9uZGluZyB0byBhdHRyaWJ1dGUgY2hhbmdlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9jb21wb25lbnRzL1VzaW5nX2N1c3RvbV9lbGVtZW50cyNyZXNwb25kaW5nX3RvX2F0dHJpYnV0ZV9jaGFuZ2VzKVxuICAgICAqIG9uIE1ETiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuXG4gICAgICogQGNhdGVnb3J5IGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgICBfX3Byb3BlcnR5VG9BdHRyaWJ1dGUobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZWxlbVByb3BlcnRpZXMgPSB0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZWxlbVByb3BlcnRpZXMuZ2V0KG5hbWUpO1xuICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnJlZmxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyPy50b0F0dHJpYnV0ZSAhPT1cbiAgICAgICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29udmVydGVyXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gY29udmVydGVyLnRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zLnR5cGUpO1xuICAgICAgICAgICAgaWYgKERFVl9NT0RFICYmXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5lbmFibGVkV2FybmluZ3MuaW5jbHVkZXMoJ21pZ3JhdGlvbicpICYmXG4gICAgICAgICAgICAgICAgYXR0clZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ3VuZGVmaW5lZC1hdHRyaWJ1dGUtdmFsdWUnLCBgVGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlICR7bmFtZX0gcHJvcGVydHkgaXMgYCArXG4gICAgICAgICAgICAgICAgICAgIGB1bmRlZmluZWQgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfS4gVGhlIGF0dHJpYnV0ZSB3aWxsIGJlIGAgK1xuICAgICAgICAgICAgICAgICAgICBgcmVtb3ZlZCwgYnV0IGluIHRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIFxcYFJlYWN0aXZlRWxlbWVudFxcYCwgYCArXG4gICAgICAgICAgICAgICAgICAgIGB0aGUgYXR0cmlidXRlIHdvdWxkIG5vdCBoYXZlIGNoYW5nZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAgICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgICAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIC8vIE5vdGUsIGhpbnQgdGhpcyBhcyBhbiBgQXR0cmlidXRlTWFwYCBzbyBjbG9zdXJlIGNsZWFybHkgdW5kZXJzdGFuZHNcbiAgICAgICAgLy8gdGhlIHR5cGU7IGl0IGhhcyBpc3N1ZXMgd2l0aCB0cmFja2luZyB0eXBlcyB0aHJvdWdoIHN0YXRpY3NcbiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBjdG9yLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5nZXQobmFtZSk7XG4gICAgICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIHJlZmxlY3RpbmcgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICAgICAgLy8gaWYgaXQgd2FzIGp1c3Qgc2V0IGJlY2F1c2UgdGhlIGF0dHJpYnV0ZSBjaGFuZ2VkLlxuICAgICAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ICE9PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuZ2V0UHJvcGVydHlPcHRpb25zKHByb3BOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IHR5cGVvZiBvcHRpb25zLmNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8geyBmcm9tQXR0cmlidXRlOiBvcHRpb25zLmNvbnZlcnRlciB9XG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmNvbnZlcnRlcj8uZnJvbUF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb252ZXJ0ZXJcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gcHJvcE5hbWU7XG4gICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRWYWx1ZSA9IGNvbnZlcnRlci5mcm9tQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zLnR5cGUpO1xuICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPVxuICAgICAgICAgICAgICAgIGNvbnZlcnRlZFZhbHVlID8/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19kZWZhdWx0VmFsdWVzPy5nZXQocHJvcE5hbWUpID8/XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZFZhbHVlO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGQgYmUgY2FsbGVkXG4gICAgICogd2hlbiBhbiBlbGVtZW50IHNob3VsZCB1cGRhdGUgYmFzZWQgb24gc29tZSBzdGF0ZSBub3QgdHJpZ2dlcmVkIGJ5IHNldHRpbmdcbiAgICAgKiBhIHJlYWN0aXZlIHByb3BlcnR5LiBJbiB0aGlzIGNhc2UsIHBhc3Mgbm8gYXJndW1lbnRzLiBJdCBzaG91bGQgYWxzbyBiZVxuICAgICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgICAqIHByb3BlcnR5IGBuYW1lYCBhbmQgYG9sZFZhbHVlYCB0byBlbnN1cmUgdGhhdCBhbnkgY29uZmlndXJlZCBwcm9wZXJ0eVxuICAgICAqIG9wdGlvbnMgYXJlIGhvbm9yZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gb2xkVmFsdWUgb2xkIHZhbHVlIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBwcm9wZXJ0eSBvcHRpb25zIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBwcmV2aW91c2x5XG4gICAgICogICAgIGNvbmZpZ3VyZWQgb3B0aW9uc1xuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSwgb3B0aW9ucykge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKERFVl9NT0RFICYmIG5hbWUgaW5zdGFuY2VvZiBFdmVudCkge1xuICAgICAgICAgICAgICAgIGlzc3VlV2FybmluZyhgYCwgYFRoZSByZXF1ZXN0VXBkYXRlKCkgbWV0aG9kIHdhcyBjYWxsZWQgd2l0aCBhbiBFdmVudCBhcyB0aGUgcHJvcGVydHkgbmFtZS4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgY2F1c2VkIGJ5IGJpbmRpbmcgdGhpcy5yZXF1ZXN0VXBkYXRlIGFzIGFuIGV2ZW50IGxpc3RlbmVyLiBJbnN0ZWFkIGJpbmQgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2FsbCBpdCB3aXRoIG5vIGFyZ3VtZW50czogKCkgPT4gdGhpcy5yZXF1ZXN0VXBkYXRlKClgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzW25hbWVdO1xuICAgICAgICAgICAgb3B0aW9ucyA/Pz0gY3Rvci5nZXRQcm9wZXJ0eU9wdGlvbnMobmFtZSk7XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2VkID0gKG9wdGlvbnMuaGFzQ2hhbmdlZCA/PyBub3RFcXVhbCkobmV3VmFsdWUsIG9sZFZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gY2hhbmdlLCBjaGVjayBhIGNvcm5lciBjYXNlIHRoYXQgY2FuIG9jY3VyIHdoZW5cbiAgICAgICAgICAgICAgICAvLyAxLiB0aGVyZSdzIGEgaW5pdGlhbCB2YWx1ZSB3aGljaCB3YXMgbm90IHJlZmxlY3RlZFxuICAgICAgICAgICAgICAgIC8vIDIuIHRoZSBwcm9wZXJ0eSBpcyBzdWJzZXF1ZW50bHkgc2V0IHRvIHRoaXMgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUsIGBwcm9wOiB7dXNlRGVmYXVsdDogdHJ1ZSwgcmVmbGVjdDogdHJ1ZX1gXG4gICAgICAgICAgICAgICAgLy8gYW5kIGVsLnByb3AgPSAnZm9vJy4gVGhpcyBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZSBpZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgaXMgbm90IHNldCBiZWNhdXNlIHdlIHdpbGwgbm93IHJlZmxlY3QgdGhlIHByb3BlcnR5IHRvIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMudXNlRGVmYXVsdCAmJlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJlZmxlY3QgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPT09IHRoaXMuX19kZWZhdWx0VmFsdWVzPy5nZXQobmFtZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuaGFzQXR0cmlidXRlKGN0b3IuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykpKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fJGNoYW5nZVByb3BlcnR5KG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNVcGRhdGVQZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fX3VwZGF0ZVByb21pc2UgPSB0aGlzLl9fZW5xdWV1ZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF8kY2hhbmdlUHJvcGVydHkobmFtZSwgb2xkVmFsdWUsIHsgdXNlRGVmYXVsdCwgcmVmbGVjdCwgd3JhcHBlZCB9LCBpbml0aWFsaXplVmFsdWUpIHtcbiAgICAgICAgLy8gUmVjb3JkIGRlZmF1bHQgdmFsdWUgd2hlbiB1c2VEZWZhdWx0IGlzIHVzZWQuIFRoaXMgYWxsb3dzIHVzIHRvXG4gICAgICAgIC8vIHJlc3RvcmUgdGhpcyB2YWx1ZSB3aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAgICAgICAgaWYgKHVzZURlZmF1bHQgJiYgISh0aGlzLl9fZGVmYXVsdFZhbHVlcyA/Pz0gbmV3IE1hcCgpKS5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX19kZWZhdWx0VmFsdWVzLnNldChuYW1lLCBpbml0aWFsaXplVmFsdWUgPz8gb2xkVmFsdWUgPz8gdGhpc1tuYW1lXSk7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCB3cmFwcGluZyBhbiBhY2Nlc3NvciwgaXQgbXVzdCBiZSBhbiBpbml0aWFsIHNldHRpbmdcbiAgICAgICAgICAgIC8vIGFuZCBpbiB0aGlzIGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gcmVjb3JkIHRoZSBjaGFuZ2Ugb3IgcmVmbGVjdC5cbiAgICAgICAgICAgIGlmICh3cmFwcGVkICE9PSB0cnVlIHx8IGluaXRpYWxpemVWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBDcmVhdGUgYSBiZW5jaG1hcmsgb2YgTWFwLmhhcygpICsgTWFwLnNldChcbiAgICAgICAgLy8gdnMganVzdCBNYXAuc2V0KClcbiAgICAgICAgaWYgKCF0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAvLyBPbiB0aGUgaW5pdGlhbCBjaGFuZ2UsIHRoZSBvbGQgdmFsdWUgc2hvdWxkIGJlIGB1bmRlZmluZWRgLCBleGNlcHRcbiAgICAgICAgICAgIC8vIHdpdGggYHVzZURlZmF1bHRgXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCAmJiAhdXNlRGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLnNldChuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgZXZlcnkgY2hhbmdlIGhhcyBhIGNoYW5jZSB0byBhZGQgdGhlXG4gICAgICAgIC8vIHByb3BlcnR5IHRvIGBfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzYC4gVGhpcyBlbnN1cmVzIHNldHRpbmdcbiAgICAgICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgICAgICBpZiAocmVmbGVjdCA9PT0gdHJ1ZSAmJiB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ICE9PSBuYW1lKSB7XG4gICAgICAgICAgICAodGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID8/PSBuZXcgU2V0KCkpLmFkZChuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBlbGVtZW50IHRvIGFzeW5jaHJvbm91c2x5IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBfX2VucXVldWVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAgICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBSZWZpcmUgYW55IHByZXZpb3VzIGVycm9ycyBhc3luYyBzbyB0aGV5IGRvIG5vdCBkaXNydXB0IHRoZSB1cGRhdGVcbiAgICAgICAgICAgIC8vIGN5Y2xlLiBFcnJvcnMgYXJlIHJlZmlyZWQgc28gZGV2ZWxvcGVycyBoYXZlIGEgY2hhbmNlIHRvIG9ic2VydmVcbiAgICAgICAgICAgIC8vIHRoZW0sIGFuZCB0aGlzIGNhbiBiZSBkb25lIGJ5IGltcGxlbWVudGluZ1xuICAgICAgICAgICAgLy8gYHdpbmRvdy5vbnVuaGFuZGxlZHJlamVjdGlvbmAuXG4gICAgICAgICAgICBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgIC8vIElmIGBzY2hlZHVsZVVwZGF0ZWAgcmV0dXJucyBhIFByb21pc2UsIHdlIGF3YWl0IGl0LiBUaGlzIGlzIGRvbmUgdG9cbiAgICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICF0aGlzLmlzVXBkYXRlUGVuZGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NoZWR1bGVzIGFuIGVsZW1lbnQgdXBkYXRlLiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNoYW5nZSB0aGVcbiAgICAgKiB0aW1pbmcgb2YgdXBkYXRlcyBieSByZXR1cm5pbmcgYSBQcm9taXNlLiBUaGUgdXBkYXRlIHdpbGwgYXdhaXQgdGhlXG4gICAgICogcmV0dXJuZWQgUHJvbWlzZSwgYW5kIHlvdSBzaG91bGQgcmVzb2x2ZSB0aGUgUHJvbWlzZSB0byBhbGxvdyB0aGUgdXBkYXRlXG4gICAgICogdG8gcHJvY2VlZC4gSWYgdGhpcyBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnNjaGVkdWxlVXBkYXRlKClgXG4gICAgICogbXVzdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBGb3IgaW5zdGFuY2UsIHRvIHNjaGVkdWxlIHVwZGF0ZXMgdG8gb2NjdXIganVzdCBiZWZvcmUgdGhlIG5leHQgZnJhbWU6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIG92ZXJyaWRlIHByb3RlY3RlZCBhc3luYyBzY2hlZHVsZVVwZGF0ZSgpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAgICogICBzdXBlci5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHNjaGVkdWxlVXBkYXRlKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgICAgaWYgKERFVl9NT0RFICYmXG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRXYXJuaW5ncy5pbmNsdWRlcygnYXN5bmMtcGVyZm9ybS11cGRhdGUnKSAmJlxuICAgICAgICAgICAgdHlwZW9mIHJlc3VsdD8udGhlbiA9PT1cbiAgICAgICAgICAgICAgICAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJywgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gcmV0dXJuZWQgYSBQcm9taXNlIGZyb20gcGVyZm9ybVVwZGF0ZSgpLiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBiZWhhdmlvciBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgYCArXG4gICAgICAgICAgICAgICAgYHZlcnNpb24gb2YgUmVhY3RpdmVFbGVtZW50LmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIGVsZW1lbnQgdXBkYXRlLiBOb3RlLCBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGR1cmluZyB0aGVcbiAgICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQ2FsbCBgcGVyZm9ybVVwZGF0ZSgpYCB0byBpbW1lZGlhdGVseSBwcm9jZXNzIGEgcGVuZGluZyB1cGRhdGUuIFRoaXMgc2hvdWxkXG4gICAgICogZ2VuZXJhbGx5IG5vdCBiZSBuZWVkZWQsIGJ1dCBpdCBjYW4gYmUgZG9uZSBpbiByYXJlIGNhc2VzIHdoZW4geW91IG5lZWQgdG9cbiAgICAgKiB1cGRhdGUgc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgcGVyZm9ybVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gQWJvcnQgYW55IHVwZGF0ZSBpZiBvbmUgaXMgbm90IHBlbmRpbmcgd2hlbiB0aGlzIGlzIGNhbGxlZC5cbiAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIGBwZXJmb3JtVXBkYXRlYCBpcyBjYWxsZWQgZWFybHkgdG8gXCJmbHVzaFwiXG4gICAgICAgIC8vIHRoZSB1cGRhdGUuXG4gICAgICAgIGlmICghdGhpcy5pc1VwZGF0ZVBlbmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50Py4oeyBraW5kOiAndXBkYXRlJyB9KTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuIFRoaXMgb2NjdXJzIGluIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgICAgICAgIC8vIGJ1dCBpcyBkb25lIGhlcmUgdG8gc3VwcG9ydCBvdXQgb2YgdHJlZSBjYWxscyB0byBgZW5hYmxlVXBkYXRpbmdgL2BwZXJmb3JtVXBkYXRlYC5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdCA/Pz1cbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgcmVhY3RpdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGFyZVxuICAgICAgICAgICAgICAgIC8vIHNoYWRvd2VkIGJ5IGNsYXNzIGZpZWxkcy4gSW5zdGFuY2UgZmllbGRzIHNldCBiZWZvcmUgdXBncmFkZSBhcmVcbiAgICAgICAgICAgICAgICAvLyBkZWxldGVkIGJ5IHRoaXMgcG9pbnQsIHNvIGFueSBvd24gcHJvcGVydHkgaXMgY2F1c2VkIGJ5IGNsYXNzIGZpZWxkXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRvd2VkUHJvcGVydGllcyA9IFsuLi5jdG9yLmVsZW1lbnRQcm9wZXJ0aWVzLmtleXMoKV0uZmlsdGVyKChwKSA9PiB0aGlzLmhhc093blByb3BlcnR5KHApICYmIHAgaW4gZ2V0UHJvdG90eXBlT2YodGhpcykpO1xuICAgICAgICAgICAgICAgIGlmIChzaGFkb3dlZFByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIG9uIGVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gd2lsbCBub3QgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgdHJpZ2dlciB1cGRhdGVzIGFzIGV4cGVjdGVkIGJlY2F1c2UgdGhleSBhcmUgc2V0IHVzaW5nIGNsYXNzIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGZpZWxkczogJHtzaGFkb3dlZFByb3BlcnRpZXMuam9pbignLCAnKX0uIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYE5hdGl2ZSBjbGFzcyBmaWVsZHMgYW5kIHNvbWUgY29tcGlsZWQgb3V0cHV0IHdpbGwgb3ZlcndyaXRlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGFjY2Vzc29ycyB1c2VkIGZvciBkZXRlY3RpbmcgY2hhbmdlcy4gU2VlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGh0dHBzOi8vbGl0LmRldi9tc2cvY2xhc3MtZmllbGQtc2hhZG93aW5nIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGZvciBtb3JlIGluZm9ybWF0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1peGluIGluc3RhbmNlIHByb3BlcnRpZXMgb25jZSwgaWYgdGhleSBleGlzdC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHNob3VsZCB3ZSB1c2UgdGhlIHN0b3JlZCB2YWx1ZT8gQ291bGQgYSBuZXcgdmFsdWVcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGJlZW4gc2V0IHNpbmNlIHdlIHN0b3JlZCB0aGUgb3duIHByb3BlcnR5IHZhbHVlP1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3AsIHZhbHVlXSBvZiB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyaWdnZXIgaW5pdGlhbCB2YWx1ZSByZWZsZWN0aW9uIGFuZCBwb3B1bGF0ZSB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgLy8gYGNoYW5nZWRQcm9wZXJ0aWVzYCBtYXAsIGJ1dCBvbmx5IGZvciB0aGUgY2FzZSBvZiBwcm9wZXJ0aWVzIGNyZWF0ZWRcbiAgICAgICAgICAgIC8vIHZpYSBgY3JlYXRlUHJvcGVydHlgIG9uIGFjY2Vzc29ycywgd2hpY2ggd2lsbCBub3QgaGF2ZSBhbHJlYWR5XG4gICAgICAgICAgICAvLyBwb3B1bGF0ZWQgdGhlIGBjaGFuZ2VkUHJvcGVydGllc2AgbWFwIHNpbmNlIHRoZXkgYXJlIG5vdCBzZXQuXG4gICAgICAgICAgICAvLyBXZSBjYW4ndCBrbm93IGlmIHRoZXNlIGFjY2Vzc29ycyBoYWQgaW5pdGlhbGl6ZXJzLCBzbyB3ZSBqdXN0IHNldFxuICAgICAgICAgICAgLy8gdGhlbSBhbnl3YXkgLSBhIGRpZmZlcmVuY2UgZnJvbSBleHBlcmltZW50YWwgZGVjb3JhdG9ycyBvbiBmaWVsZHMgYW5kXG4gICAgICAgICAgICAvLyBzdGFuZGFyZCBkZWNvcmF0b3JzIG9uIGF1dG8tYWNjZXNzb3JzLlxuICAgICAgICAgICAgLy8gRm9yIGNvbnRleHQgc2VlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvcHVsbC80MTgzI2lzc3VlY29tbWVudC0xNzExOTU5NjM1XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50UHJvcGVydGllcyA9IHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAuZWxlbWVudFByb3BlcnRpZXM7XG4gICAgICAgICAgICBpZiAoZWxlbWVudFByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtwLCBvcHRpb25zXSBvZiBlbGVtZW50UHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHdyYXBwZWQgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdyYXBwZWQgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuaGFzKHApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkocCwgdW5kZWZpbmVkLCBvcHRpb25zLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjaGFuZ2VkUHJvcGVydGllcyA9IHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpbGxVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0VXBkYXRlPy4oKSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAgICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBFbnN1cmUgZWxlbWVudCBjYW4gYWNjZXB0IGFkZGl0aW9uYWwgdXBkYXRlcyBhZnRlciBhbiBleGNlcHRpb24uXG4gICAgICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHVwZGF0ZSBpcyBubyBsb25nZXIgY29uc2lkZXJlZCBwZW5kaW5nIGFuZCBmdXJ0aGVyIHVwZGF0ZXMgYXJlIG5vdyBhbGxvd2VkLlxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl8kZGlkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIGJlZm9yZSBgdXBkYXRlKClgIHRvIGNvbXB1dGUgdmFsdWVzIG5lZWRlZCBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIEltcGxlbWVudCBgd2lsbFVwZGF0ZWAgdG8gY29tcHV0ZSBwcm9wZXJ0eSB2YWx1ZXMgdGhhdCBkZXBlbmQgb24gb3RoZXJcbiAgICAgKiBwcm9wZXJ0aWVzIGFuZCBhcmUgdXNlZCBpbiB0aGUgcmVzdCBvZiB0aGUgdXBkYXRlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIHdpbGxVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgKiAgIC8vIG9ubHkgbmVlZCB0byBjaGVjayBjaGFuZ2VkIHByb3BlcnRpZXMgZm9yIGFuIGV4cGVuc2l2ZSBjb21wdXRhdGlvbi5cbiAgICAgKiAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2ZpcnN0TmFtZScpIHx8IGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnbGFzdE5hbWUnKSkge1xuICAgICAqICAgICB0aGlzLnNoYSA9IGNvbXB1dGVTSEEoYCR7dGhpcy5maXJzdE5hbWV9ICR7dGhpcy5sYXN0TmFtZX1gKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiByZW5kZXIoKSB7XG4gICAgICogICByZXR1cm4gaHRtbGBTSEE6ICR7dGhpcy5zaGF9YDtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHdpbGxVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7IH1cbiAgICAvLyBOb3RlLCB0aGlzIGlzIGFuIG92ZXJyaWRlIHBvaW50IGZvciBwb2x5ZmlsbC1zdXBwb3J0LlxuICAgIC8vIEBpbnRlcm5hbFxuICAgIF8kZGlkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0VXBkYXRlZD8uKCkpO1xuICAgICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5oYXNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICBpZiAoREVWX01PREUgJiZcbiAgICAgICAgICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nICYmXG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRXYXJuaW5ncy5pbmNsdWRlcygnY2hhbmdlLWluLXVwZGF0ZScpKSB7XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ2NoYW5nZS1pbi11cGRhdGUnLCBgRWxlbWVudCAke3RoaXMubG9jYWxOYW1lfSBzY2hlZHVsZWQgYW4gdXBkYXRlIGAgK1xuICAgICAgICAgICAgICAgIGAoZ2VuZXJhbGx5IGJlY2F1c2UgYSBwcm9wZXJ0eSB3YXMgc2V0KSBgICtcbiAgICAgICAgICAgICAgICBgYWZ0ZXIgYW4gdXBkYXRlIGNvbXBsZXRlZCwgY2F1c2luZyBhIG5ldyB1cGRhdGUgdG8gYmUgc2NoZWR1bGVkLiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBpcyBpbmVmZmljaWVudCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgdW5sZXNzIHRoZSBuZXh0IHVwZGF0ZSBgICtcbiAgICAgICAgICAgICAgICBgY2FuIG9ubHkgYmUgc2NoZWR1bGVkIGFzIGEgc2lkZSBlZmZlY3Qgb2YgdGhlIHByZXZpb3VzIHVwZGF0ZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX21hcmtVcGRhdGVkKCkge1xuICAgICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAgICogdXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS4gVGhlIFByb21pc2UgcmVzdWx0IGlzIGBmYWxzZWAgaWZcbiAgICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgZ2V0VXBkYXRlQ29tcGxldGVgXG4gICAgICogbWV0aG9kLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhIHJlbmRlcmVkIGVsZW1lbnRcbiAgICAgKiBiZWZvcmUgZnVsZmlsbGluZyB0aGlzIFByb21pc2UuIFRvIGRvIHRoaXMsIGZpcnN0IGF3YWl0XG4gICAgICogYHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKClgLCB0aGVuIGFueSBzdWJzZXF1ZW50IHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiBBIHByb21pc2Ugb2YgYSBib29sZWFuIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgdXBkYXRlIGNvbXBsZXRlZFxuICAgICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IGZvciB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHNhZmUgdG8gb3ZlcnJpZGUgdGhlIGB1cGRhdGVDb21wbGV0ZWAgZ2V0dGVyIGRpcmVjdGx5IGR1ZSB0byBhXG4gICAgICogbGltaXRhdGlvbiBpbiBUeXBlU2NyaXB0IHdoaWNoIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBjYWxsIGFcbiAgICAgKiBzdXBlcmNsYXNzIGdldHRlciAoZS5nLiBgc3VwZXIudXBkYXRlQ29tcGxldGUudGhlbiguLi4pYCkgd2hlbiB0aGUgdGFyZ2V0XG4gICAgICogbGFuZ3VhZ2UgaXMgRVM1IChodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOCkuXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4gaW5zdGVhZC4gRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgICAqICAgb3ZlcnJpZGUgYXN5bmMgZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICogICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgICogICAgIGF3YWl0IHRoaXMuX215Q2hpbGQudXBkYXRlQ29tcGxldGU7XG4gICAgICogICAgIHJldHVybiByZXN1bHQ7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybiBBIHByb21pc2Ugb2YgYSBib29sZWFuIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgdXBkYXRlIGNvbXBsZXRlZFxuICAgICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBnZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlKClgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgICAqIGFuIHVwZGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybnMgYHRydWVgLCBidXQgdGhpcyBjYW4gYmVcbiAgICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgICAqIGFub3RoZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICAvLyBUaGUgZm9yRWFjaCgpIGV4cHJlc3Npb24gd2lsbCBvbmx5IHJ1biB3aGVuIF9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgaXNcbiAgICAgICAgLy8gZGVmaW5lZCwgYW5kIGl0IHJldHVybnMgdW5kZWZpbmVkLCBzZXR0aW5nIF9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgdG9cbiAgICAgICAgLy8gdW5kZWZpbmVkXG4gICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyAmJj0gdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goKHApID0+IHRoaXMuX19wcm9wZXJ0eVRvQXR0cmlidXRlKHAsIHRoaXNbcF0pKTtcbiAgICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm1cbiAgICAgKiBwb3N0LXVwZGF0aW5nIHRhc2tzIHZpYSBET00gQVBJcywgZm9yIGV4YW1wbGUsIGZvY3VzaW5nIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllcykgeyB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgKiAgIHRoaXMucmVuZGVyUm9vdC5nZXRFbGVtZW50QnlJZCgnbXktdGV4dC1hcmVhJykuZm9jdXMoKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBmaXJzdFVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7IH1cbn1cbi8qKlxuICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgZWxlbWVudCBzdHlsZXMuXG4gKiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZSBjbGFzcy5cbiAqIEBub2NvbGxhcHNlXG4gKiBAY2F0ZWdvcnkgc3R5bGVzXG4gKi9cblJlYWN0aXZlRWxlbWVudC5lbGVtZW50U3R5bGVzID0gW107XG4vKipcbiAqIE9wdGlvbnMgdXNlZCB3aGVuIGNhbGxpbmcgYGF0dGFjaFNoYWRvd2AuIFNldCB0aGlzIHByb3BlcnR5IHRvIGN1c3RvbWl6ZVxuICogdGhlIG9wdGlvbnMgZm9yIHRoZSBzaGFkb3dSb290OyBmb3IgZXhhbXBsZSwgdG8gY3JlYXRlIGEgY2xvc2VkXG4gKiBzaGFkb3dSb290OiBge21vZGU6ICdjbG9zZWQnfWAuXG4gKlxuICogTm90ZSwgdGhlc2Ugb3B0aW9ucyBhcmUgdXNlZCBpbiBgY3JlYXRlUmVuZGVyUm9vdGAuIElmIHRoaXMgbWV0aG9kXG4gKiBpcyBjdXN0b21pemVkLCBvcHRpb25zIHNob3VsZCBiZSByZXNwZWN0ZWQgaWYgcG9zc2libGUuXG4gKiBAbm9jb2xsYXBzZVxuICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICovXG5SZWFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdE9wdGlvbnMgPSB7IG1vZGU6ICdvcGVuJyB9O1xuLy8gQXNzaWduZWQgaGVyZSB0byB3b3JrIGFyb3VuZCBhIGpzY29tcGlsZXIgYnVnIHdpdGggc3RhdGljIGZpZWxkc1xuLy8gd2hlbiBjb21waWxpbmcgdG8gRVM1LlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3XG5SZWFjdGl2ZUVsZW1lbnRbSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZWxlbWVudFByb3BlcnRpZXMnLCBSZWFjdGl2ZUVsZW1lbnQpXSA9IG5ldyBNYXAoKTtcblJlYWN0aXZlRWxlbWVudFtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCBSZWFjdGl2ZUVsZW1lbnQpXSA9IG5ldyBNYXAoKTtcbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbnBvbHlmaWxsU3VwcG9ydD8uKHsgUmVhY3RpdmVFbGVtZW50IH0pO1xuLy8gRGV2IG1vZGUgd2FybmluZ3MuLi5cbmlmIChERVZfTU9ERSkge1xuICAgIC8vIERlZmF1bHQgd2FybmluZyBzZXQuXG4gICAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZWRXYXJuaW5ncyA9IFtcbiAgICAgICAgJ2NoYW5nZS1pbi11cGRhdGUnLFxuICAgICAgICAnYXN5bmMtcGVyZm9ybS11cGRhdGUnLFxuICAgIF07XG4gICAgY29uc3QgZW5zdXJlT3duV2FybmluZ3MgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgICBpZiAoIWN0b3IuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZW5hYmxlZFdhcm5pbmdzJywgY3RvcikpKSB7XG4gICAgICAgICAgICBjdG9yLmVuYWJsZWRXYXJuaW5ncyA9IGN0b3IuZW5hYmxlZFdhcm5pbmdzLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0aXZlRWxlbWVudC5lbmFibGVXYXJuaW5nID0gZnVuY3Rpb24gKHdhcm5pbmcpIHtcbiAgICAgICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkV2FybmluZ3MuaW5jbHVkZXMod2FybmluZykpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZFdhcm5pbmdzLnB1c2god2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0aXZlRWxlbWVudC5kaXNhYmxlV2FybmluZyA9IGZ1bmN0aW9uICh3YXJuaW5nKSB7XG4gICAgICAgIGVuc3VyZU93bldhcm5pbmdzKHRoaXMpO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5lbmFibGVkV2FybmluZ3MuaW5kZXhPZih3YXJuaW5nKTtcbiAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3Muc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgUmVhY3RpdmVFbGVtZW50IHVzYWdlLlxuKGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzIuMS4xJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgIGlzc3VlV2FybmluZygnbXVsdGlwbGUtdmVyc2lvbnMnLCBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBgICtcbiAgICAgICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdGl2ZS1lbGVtZW50LmpzLm1hcCIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGBodG1sLCBib2R5IHsgXG4gIGhlaWdodDogMTAwJTsgXG4gIG1hcmdpbjogMDsgXG4gIGNvbG9yOiByZ2IoNCwgODIsIDExNylcbn1cblxuYXN0cm8tYXBwIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA0MHB4IDFmcjsgaGVpZ2h0OiAxMDB2aDsgfVxuXG4vKiBUaGUgV2ViR0wgY2FudmFzICovXG4jYXN0cm9jYW52YXMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNDBweDtcbiAgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICAvKiBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0MHB4KTsgKi9cbn1cbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy9nbG9iYWwuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsWUFBWTtFQUNaLFNBQVM7RUFDVDtBQUNGOztBQUVBLFlBQVksYUFBYSxFQUFFLDRCQUE0QixFQUFFLGFBQWEsRUFBRTs7QUFFeEUscUJBQXFCO0FBQ3JCO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVM7RUFDNUIsY0FBYztFQUNkLFdBQVc7RUFDWCxnQ0FBZ0M7QUFDbENcIixcInNvdXJjZXNDb250ZW50XCI6W1wiaHRtbCwgYm9keSB7IFxcbiAgaGVpZ2h0OiAxMDAlOyBcXG4gIG1hcmdpbjogMDsgXFxuICBjb2xvcjogcmdiKDQsIDgyLCAxMTcpXFxufVxcblxcbmFzdHJvLWFwcCB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtcm93czogNDBweCAxZnI7IGhlaWdodDogMTAwdmg7IH1cXG5cXG4vKiBUaGUgV2ViR0wgY2FudmFzICovXFxuI2FzdHJvY2FudmFzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNDBweDtcXG4gIGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgLyogaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNDBweCk7ICovXFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG4vKipcbiAqIFRoZSBtYWluIExpdEVsZW1lbnQgbW9kdWxlLCB3aGljaCBkZWZpbmVzIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGJhc2VcbiAqIGNsYXNzIGFuZCByZWxhdGVkIEFQSXMuXG4gKlxuICogTGl0RWxlbWVudCBjb21wb25lbnRzIGNhbiBkZWZpbmUgYSB0ZW1wbGF0ZSBhbmQgYSBzZXQgb2Ygb2JzZXJ2ZWRcbiAqIHByb3BlcnRpZXMuIENoYW5naW5nIGFuIG9ic2VydmVkIHByb3BlcnR5IHRyaWdnZXJzIGEgcmUtcmVuZGVyIG9mIHRoZVxuICogZWxlbWVudC5cbiAqXG4gKiBJbXBvcnQge0BsaW5rY29kZSBMaXRFbGVtZW50fSBhbmQge0BsaW5rY29kZSBodG1sfSBmcm9tIHRoaXMgbW9kdWxlIHRvXG4gKiBjcmVhdGUgYSBjb21wb25lbnQ6XG4gKlxuICogIGBgYGpzXG4gKiBpbXBvcnQge0xpdEVsZW1lbnQsIGh0bWx9IGZyb20gJ2xpdC1lbGVtZW50JztcbiAqXG4gKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAqXG4gKiAgIC8vIERlY2xhcmUgb2JzZXJ2ZWQgcHJvcGVydGllc1xuICogICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGFkamVjdGl2ZToge31cbiAqICAgICB9XG4gKiAgIH1cbiAqXG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHRoaXMuYWRqZWN0aXZlID0gJ2F3ZXNvbWUnO1xuICogICB9XG4gKlxuICogICAvLyBEZWZpbmUgdGhlIGVsZW1lbnQncyB0ZW1wbGF0ZVxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgPHA+eW91ciAke2FkamVjdGl2ZX0gdGVtcGxhdGUgaGVyZTwvcD5gO1xuICogICB9XG4gKiB9XG4gKlxuICogY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1lbGVtZW50JywgTXlFbGVtZW50KTtcbiAqIGBgYFxuICpcbiAqIGBMaXRFbGVtZW50YCBleHRlbmRzIHtAbGlua2NvZGUgUmVhY3RpdmVFbGVtZW50fSBhbmQgYWRkcyBsaXQtaHRtbFxuICogdGVtcGxhdGluZy4gVGhlIGBSZWFjdGl2ZUVsZW1lbnRgIGNsYXNzIGlzIHByb3ZpZGVkIGZvciB1c2VycyB0aGF0IHdhbnQgdG9cbiAqIGJ1aWxkIHRoZWlyIG93biBjdXN0b20gZWxlbWVudCBiYXNlIGNsYXNzZXMgdGhhdCBkb24ndCB1c2UgbGl0LWh0bWwuXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cbmltcG9ydCB7IFJlYWN0aXZlRWxlbWVudCB9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5pbXBvcnQgeyByZW5kZXIsIG5vQ2hhbmdlIH0gZnJvbSAnbGl0LWh0bWwnO1xuZXhwb3J0ICogZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcbmV4cG9ydCAqIGZyb20gJ2xpdC1odG1sJztcbi8qXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXNcbiAqIHJlcGxhY2VkIGF0IGNvbXBpbGUgdGltZSBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV0uIFdlIGNhbm5vdFxuICogYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lXG4gKiBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKi9cbi8qQF9fSU5MSU5FX18qL1xuY29uc3QgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9IChwcm9wLCBfb2JqKSA9PiBwcm9wO1xuY29uc3QgREVWX01PREUgPSB0cnVlO1xuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xubGV0IGlzc3VlV2FybmluZztcbmlmIChERVZfTU9ERSkge1xuICAgIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gICAgLy8gYXJlIGxvYWRlZC5cbiAgICBnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKTtcbiAgICAvKipcbiAgICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICAgKiBXYXJuaW5ncyBhcmUgZGlzYWJsZWQgYXV0b21hdGljYWxseSBvbmx5IGJ5IGB3YXJuaW5nYDsgZGlzYWJsaW5nIHZpYSBgY29kZWBcbiAgICAgKiBjYW4gYmUgZG9uZSBieSB1c2Vycy5cbiAgICAgKi9cbiAgICBpc3N1ZVdhcm5pbmcgPSAoY29kZSwgd2FybmluZykgPT4ge1xuICAgICAgICB3YXJuaW5nICs9IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgICAgICBpZiAoIWdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykgJiZcbiAgICAgICAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MuaGFzKGNvZGUpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICAgICAgICBnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MuYWRkKHdhcm5pbmcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHRoYXQgbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMsIGFuZFxuICogcmVuZGVycyBhIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIFRvIGRlZmluZSBhIGNvbXBvbmVudCwgc3ViY2xhc3MgYExpdEVsZW1lbnRgIGFuZCBpbXBsZW1lbnQgYVxuICogYHJlbmRlcmAgbWV0aG9kIHRvIHByb3ZpZGUgdGhlIGNvbXBvbmVudCdzIHRlbXBsYXRlLiBEZWZpbmUgcHJvcGVydGllc1xuICogdXNpbmcgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudC5wcm9wZXJ0aWVzIHByb3BlcnRpZXN9IHByb3BlcnR5IG9yIHRoZVxuICoge0BsaW5rY29kZSBwcm9wZXJ0eX0gZGVjb3JhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFJlYWN0aXZlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlck9wdGlvbnMgPSB7IGhvc3Q6IHRoaXMgfTtcbiAgICAgICAgdGhpcy5fX2NoaWxkUGFydCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgICAqL1xuICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlclJvb3QgPSBzdXBlci5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgICAgIC8vIFdoZW4gYWRvcHRlZFN0eWxlU2hlZXRzIGFyZSBzaGltbWVkLCB0aGV5IGFyZSBpbnNlcnRlZCBpbnRvIHRoZVxuICAgICAgICAvLyBzaGFkb3dSb290IGJ5IGNyZWF0ZVJlbmRlclJvb3QuIEFkanVzdCB0aGUgcmVuZGVyQmVmb3JlIG5vZGUgc28gdGhhdFxuICAgICAgICAvLyBhbnkgc3R5bGVzIGluIExpdCBjb250ZW50IHJlbmRlciBiZWZvcmUgYWRvcHRlZFN0eWxlU2hlZXRzLiBUaGlzIGlzXG4gICAgICAgIC8vIGltcG9ydGFudCBzbyB0aGF0IGFkb3B0ZWRTdHlsZVNoZWV0cyBoYXZlIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAgICAgICAgLy8gdGhlIHNoYWRvd1Jvb3QuXG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucy5yZW5kZXJCZWZvcmUgPz89IHJlbmRlclJvb3QuZmlyc3RDaGlsZDtcbiAgICAgICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzXG4gICAgICogYW5kIGNhbGxzIGByZW5kZXJgIHRvIHJlbmRlciBET00gdmlhIGxpdC1odG1sLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlXG4gICAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgICAqIEBwYXJhbSBjaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIFNldHRpbmcgcHJvcGVydGllcyBpbiBgcmVuZGVyYCBzaG91bGQgbm90IHRyaWdnZXIgYW4gdXBkYXRlLiBTaW5jZVxuICAgICAgICAvLyB1cGRhdGVzIGFyZSBhbGxvd2VkIGFmdGVyIHN1cGVyLnVwZGF0ZSwgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgcmVuZGVyYFxuICAgICAgICAvLyBiZWZvcmUgdGhhdC5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnJlbmRlcigpO1xuICAgICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zLmlzQ29ubmVjdGVkID0gdGhpcy5pc0Nvbm5lY3RlZDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLl9fY2hpbGRQYXJ0ID0gcmVuZGVyKHZhbHVlLCB0aGlzLnJlbmRlclJvb3QsIHRoaXMucmVuZGVyT3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFkZGVkIHRvIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICAgKlxuICAgICAqIEluIGBjb25uZWN0ZWRDYWxsYmFjaygpYCB5b3Ugc2hvdWxkIHNldHVwIHRhc2tzIHRoYXQgc2hvdWxkIG9ubHkgb2NjdXIgd2hlblxuICAgICAqIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQuIFRoZSBtb3N0IGNvbW1vbiBvZiB0aGVzZSBpc1xuICAgICAqIGFkZGluZyBldmVudCBsaXN0ZW5lcnMgdG8gbm9kZXMgZXh0ZXJuYWwgdG8gdGhlIGVsZW1lbnQsIGxpa2UgYSBrZXlkb3duXG4gICAgICogZXZlbnQgaGFuZGxlciBhZGRlZCB0byB0aGUgd2luZG93LlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgKiAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICogICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVHlwaWNhbGx5LCBhbnl0aGluZyBkb25lIGluIGBjb25uZWN0ZWRDYWxsYmFjaygpYCBzaG91bGQgYmUgdW5kb25lIHdoZW4gdGhlXG4gICAgICogZWxlbWVudCBpcyBkaXNjb25uZWN0ZWQsIGluIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYC5cbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSBsaWZlY3ljbGVcbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5fX2NoaWxkUGFydD8uc2V0Q29ubmVjdGVkKHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW1vdmVkIGZyb20gdGhlIGRvY3VtZW50J3MgRE9NLlxuICAgICAqXG4gICAgICogVGhpcyBjYWxsYmFjayBpcyB0aGUgbWFpbiBzaWduYWwgdG8gdGhlIGVsZW1lbnQgdGhhdCBpdCBtYXkgbm8gbG9uZ2VyIGJlXG4gICAgICogdXNlZC4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBlbnN1cmUgdGhhdCBub3RoaW5nIGlzIGhvbGRpbmcgYVxuICAgICAqIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudCAoc3VjaCBhcyBldmVudCBsaXN0ZW5lcnMgYWRkZWQgdG8gbm9kZXMgZXh0ZXJuYWxcbiAgICAgKiB0byB0aGUgZWxlbWVudCksIHNvIHRoYXQgaXQgaXMgZnJlZSB0byBiZSBnYXJiYWdlIGNvbGxlY3RlZC5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICogICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAqICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBBbiBlbGVtZW50IG1heSBiZSByZS1jb25uZWN0ZWQgYWZ0ZXIgYmVpbmcgZGlzY29ubmVjdGVkLlxuICAgICAqXG4gICAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLl9fY2hpbGRQYXJ0Py5zZXRDb25uZWN0ZWQoZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtYXkgcmV0dXJuXG4gICAgICogYW55IHZhbHVlIHJlbmRlcmFibGUgYnkgbGl0LWh0bWwncyBgQ2hpbGRQYXJ0YCAtIHR5cGljYWxseSBhXG4gICAgICogYFRlbXBsYXRlUmVzdWx0YC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICAgKiB0aGUgZWxlbWVudCB0byB1cGRhdGUuXG4gICAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG5vQ2hhbmdlO1xuICAgIH1cbn1cbi8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG5MaXRFbGVtZW50WydfJGxpdEVsZW1lbnQkJ10gPSB0cnVlO1xuLyoqXG4gKiBFbnN1cmUgdGhpcyBjbGFzcyBpcyBtYXJrZWQgYXMgYGZpbmFsaXplZGAgYXMgYW4gb3B0aW1pemF0aW9uIGVuc3VyaW5nXG4gKiBpdCB3aWxsIG5vdCBuZWVkbGVzc2x5IHRyeSB0byBgZmluYWxpemVgLlxuICpcbiAqIE5vdGUgdGhpcyBwcm9wZXJ0eSBuYW1lIGlzIGEgc3RyaW5nIHRvIHByZXZlbnQgYnJlYWtpbmcgQ2xvc3VyZSBKUyBDb21waWxlclxuICogb3B0aW1pemF0aW9ucy4gU2VlIEBsaXQvcmVhY3RpdmUtZWxlbWVudCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuTGl0RWxlbWVudFtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCBMaXRFbGVtZW50KV0gPSB0cnVlO1xuLy8gSW5zdGFsbCBoeWRyYXRpb24gaWYgYXZhaWxhYmxlXG5nbG9iYWwubGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0Py4oeyBMaXRFbGVtZW50IH0pO1xuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgICA/IGdsb2JhbC5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICAgIDogZ2xvYmFsLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7XG5wb2x5ZmlsbFN1cHBvcnQ/Lih7IExpdEVsZW1lbnQgfSk7XG4vKipcbiAqIEVORCBVU0VSUyBTSE9VTEQgTk9UIFJFTFkgT04gVEhJUyBPQkpFQ1QuXG4gKlxuICogUHJpdmF0ZSBleHBvcnRzIGZvciB1c2UgYnkgb3RoZXIgTGl0IHBhY2thZ2VzLCBub3QgaW50ZW5kZWQgZm9yIHVzZSBieVxuICogZXh0ZXJuYWwgdXNlcnMuXG4gKlxuICogV2UgY3VycmVudGx5IGRvIG5vdCBtYWtlIGEgbWFuZ2xlZCByb2xsdXAgYnVpbGQgb2YgdGhlIGxpdC1zc3IgY29kZS4gSW4gb3JkZXJcbiAqIHRvIGtlZXAgYSBudW1iZXIgb2YgKG90aGVyd2lzZSBwcml2YXRlKSB0b3AtbGV2ZWwgZXhwb3J0cyAgbWFuZ2xlZCBpbiB0aGVcbiAqIGNsaWVudCBzaWRlIGNvZGUsIHdlIGV4cG9ydCBhIF8kTEUgb2JqZWN0IGNvbnRhaW5pbmcgdGhvc2UgbWVtYmVycyAob3JcbiAqIGhlbHBlciBtZXRob2RzIGZvciBhY2Nlc3NpbmcgcHJpdmF0ZSBmaWVsZHMgb2YgdGhvc2UgbWVtYmVycyksIGFuZCB0aGVuXG4gKiByZS1leHBvcnQgdGhlbSBmb3IgdXNlIGluIGxpdC1zc3IuIFRoaXMga2VlcHMgbGl0LXNzciBhZ25vc3RpYyB0byB3aGV0aGVyIHRoZVxuICogY2xpZW50LXNpZGUgY29kZSBpcyBiZWluZyB1c2VkIGluIGBkZXZgIG1vZGUgb3IgYHByb2RgIG1vZGUuXG4gKlxuICogVGhpcyBoYXMgYSB1bmlxdWUgbmFtZSwgdG8gZGlzYW1iaWd1YXRlIGl0IGZyb20gcHJpdmF0ZSBleHBvcnRzIGluXG4gKiBsaXQtaHRtbCwgc2luY2UgdGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgbGl0LWh0bWwuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF8kTEUgPSB7XG4gICAgXyRhdHRyaWJ1dGVUb1Byb3BlcnR5OiAoZWwsIG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBlbC5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgXyRjaGFuZ2VkUHJvcGVydGllczogKGVsKSA9PiBlbC5fJGNoYW5nZWRQcm9wZXJ0aWVzLFxufTtcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbihnbG9iYWwubGl0RWxlbWVudFZlcnNpb25zID8/PSBbXSkucHVzaCgnNC4yLjEnKTtcbmlmIChERVZfTU9ERSAmJiBnbG9iYWwubGl0RWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgIGlzc3VlV2FybmluZygnbXVsdGlwbGUtdmVyc2lvbnMnLCBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBgICtcbiAgICAgICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtZWxlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIFRoaXMgZmlsZSBleHBvcnRzIGEgYm9vbGVhbiBjb25zdCB3aG9zZSB2YWx1ZSB3aWxsIGRlcGVuZCBvbiB3aGF0IGVudmlyb25tZW50XG4gKiB0aGUgbW9kdWxlIGlzIGJlaW5nIGltcG9ydGVkIGZyb20uXG4gKi9cbmNvbnN0IE5PREVfTU9ERSA9IGZhbHNlO1xuLyoqXG4gKiBBIGJvb2xlYW4gdGhhdCB3aWxsIGJlIGB0cnVlYCBpbiBzZXJ2ZXIgZW52aXJvbm1lbnRzIGxpa2UgTm9kZSwgYW5kIGBmYWxzZWBcbiAqIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLiBOb3RlIHRoYXQgeW91ciBzZXJ2ZXIgZW52aXJvbm1lbnQgb3IgdG9vbGNoYWluIG11c3RcbiAqIHN1cHBvcnQgdGhlIGBcIm5vZGVcImAgZXhwb3J0IGNvbmRpdGlvbiBmb3IgdGhpcyB0byBiZSBgdHJ1ZWAuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCB3aGVuIGF1dGhvcmluZyBjb21wb25lbnRzIHRvIGNoYW5nZSBiZWhhdmlvciBiYXNlZCBvblxuICogd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyBleGVjdXRpbmcgaW4gYW4gU1NSIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IE5PREVfTU9ERTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLXNlcnZlci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyA9IHRydWU7XG5jb25zdCBFTkFCTEVfU0hBRFlET01fTk9QQVRDSCA9IHRydWU7XG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcbi8vIEFsbG93cyBtaW5pZmllcnMgdG8gcmVuYW1lIHJlZmVyZW5jZXMgdG8gZ2xvYmFsVGhpc1xuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcztcbi8qKlxuICogVXNlZnVsIGZvciB2aXN1YWxpemluZyBhbmQgbG9nZ2luZyBpbnNpZ2h0cyBpbnRvIHdoYXQgdGhlIExpdCB0ZW1wbGF0ZSBzeXN0ZW0gaXMgZG9pbmcuXG4gKlxuICogQ29tcGlsZWQgb3V0IG9mIHByb2QgbW9kZSBidWlsZHMuXG4gKi9cbmNvbnN0IGRlYnVnTG9nRXZlbnQgPSBERVZfTU9ERVxuICAgID8gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSBnbG9iYWxcbiAgICAgICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbGl0LWRlYnVnJywge1xuICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICA6IHVuZGVmaW5lZDtcbi8vIFVzZWQgZm9yIGNvbm5lY3RpbmcgYmVnaW5SZW5kZXIgYW5kIGVuZFJlbmRlciBldmVudHMgd2hlbiB0aGVyZSBhcmUgbmVzdGVkXG4vLyByZW5kZXJzIHdoZW4gZXJyb3JzIGFyZSB0aHJvd24gcHJldmVudGluZyBhbiBlbmRSZW5kZXIgZXZlbnQgZnJvbSBiZWluZ1xuLy8gY2FsbGVkLlxubGV0IGRlYnVnTG9nUmVuZGVySWQgPSAwO1xubGV0IGlzc3VlV2FybmluZztcbmlmIChERVZfTU9ERSkge1xuICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuICAgIC8qKlxuICAgICAqIElzc3VlIGEgd2FybmluZyBpZiB3ZSBoYXZlbid0IGFscmVhZHksIGJhc2VkIGVpdGhlciBvbiBgY29kZWAgb3IgYHdhcm5pbmdgLlxuICAgICAqIFdhcm5pbmdzIGFyZSBkaXNhYmxlZCBhdXRvbWF0aWNhbGx5IG9ubHkgYnkgYHdhcm5pbmdgOyBkaXNhYmxpbmcgdmlhIGBjb2RlYFxuICAgICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgICAqL1xuICAgIGlzc3VlV2FybmluZyA9IChjb2RlLCB3YXJuaW5nKSA9PiB7XG4gICAgICAgIHdhcm5pbmcgKz0gY29kZVxuICAgICAgICAgICAgPyBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgaWYgKCFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MuaGFzKHdhcm5pbmcpICYmXG4gICAgICAgICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoJ2Rldi1tb2RlJywgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWApO1xuICAgIH0pO1xufVxuY29uc3Qgd3JhcCA9IEVOQUJMRV9TSEFEWURPTV9OT1BBVENIICYmXG4gICAgZ2xvYmFsLlNoYWR5RE9NPy5pblVzZSAmJlxuICAgIGdsb2JhbC5TaGFkeURPTT8ubm9QYXRjaCA9PT0gdHJ1ZVxuICAgID8gZ2xvYmFsLlNoYWR5RE9NLndyYXBcbiAgICA6IChub2RlKSA9PiBub2RlO1xuY29uc3QgdHJ1c3RlZFR5cGVzID0gZ2xvYmFsLnRydXN0ZWRUeXBlcztcbi8qKlxuICogT3VyIFRydXN0ZWRUeXBlUG9saWN5IGZvciBIVE1MIHdoaWNoIGlzIGRlY2xhcmVkIHVzaW5nIHRoZSBodG1sIHRlbXBsYXRlXG4gKiB0YWcgZnVuY3Rpb24uXG4gKlxuICogVGhhdCBIVE1MIGlzIGEgZGV2ZWxvcGVyLWF1dGhvcmVkIGNvbnN0YW50LCBhbmQgaXMgcGFyc2VkIHdpdGggaW5uZXJIVE1MXG4gKiBiZWZvcmUgYW55IHVudHJ1c3RlZCBleHByZXNzaW9ucyBoYXZlIGJlZW4gbWl4ZWQgaW4uIFRoZXJlZm9yIGl0IGlzXG4gKiBjb25zaWRlcmVkIHNhZmUgYnkgY29uc3RydWN0aW9uLlxuICovXG5jb25zdCBwb2xpY3kgPSB0cnVzdGVkVHlwZXNcbiAgICA/IHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ2xpdC1odG1sJywge1xuICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICB9KVxuICAgIDogdW5kZWZpbmVkO1xuY29uc3QgaWRlbnRpdHlGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdmFsdWU7XG5jb25zdCBub29wU2FuaXRpemVyID0gKF9ub2RlLCBfbmFtZSwgX3R5cGUpID0+IGlkZW50aXR5RnVuY3Rpb247XG4vKiogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplciBmYWN0b3J5LiAqL1xuY29uc3Qgc2V0U2FuaXRpemVyID0gKG5ld1Nhbml0aXplcikgPT4ge1xuICAgIGlmICghRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byBvdmVyd3JpdGUgZXhpc3RpbmcgbGl0LWh0bWwgc2VjdXJpdHkgcG9saWN5LmAgK1xuICAgICAgICAgICAgYCBzZXRTYW5pdGl6ZURPTVZhbHVlRmFjdG9yeSBzaG91bGQgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZS5gKTtcbiAgICB9XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbmV3U2FuaXRpemVyO1xufTtcbi8qKlxuICogT25seSB1c2VkIGluIGludGVybmFsIHRlc3RzLCBub3QgYSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICovXG5jb25zdCBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPSAoKSA9PiB7XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbn07XG5jb25zdCBjcmVhdGVTYW5pdGl6ZXIgPSAobm9kZSwgbmFtZSwgdHlwZSkgPT4ge1xuICAgIHJldHVybiBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwobm9kZSwgbmFtZSwgdHlwZSk7XG59O1xuLy8gQWRkZWQgdG8gYW4gYXR0cmlidXRlIG5hbWUgdG8gbWFyayB0aGUgYXR0cmlidXRlIGFzIGJvdW5kIHNvIHdlIGNhbiBmaW5kXG4vLyBpdCBlYXNpbHkuXG5jb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vLyBUaGlzIG1hcmtlciBpcyB1c2VkIGluIG1hbnkgc3ludGFjdGljIHBvc2l0aW9ucyBpbiBIVE1MLCBzbyBpdCBtdXN0IGJlXG4vLyBhIHZhbGlkIGVsZW1lbnQgbmFtZSBhbmQgYXR0cmlidXRlIG5hbWUuIFdlIGRvbid0IHN1cHBvcnQgZHluYW1pYyBuYW1lcyAoeWV0KVxuLy8gYnV0IHRoaXMgYXQgbGVhc3QgZW5zdXJlcyB0aGF0IHRoZSBwYXJzZSB0cmVlIGlzIGNsb3NlciB0byB0aGUgdGVtcGxhdGVcbi8vIGludGVudGlvbi5cbmNvbnN0IG1hcmtlciA9IGBsaXQkJHtNYXRoLnJhbmRvbSgpLnRvRml4ZWQoOSkuc2xpY2UoMil9JGA7XG4vLyBTdHJpbmcgdXNlZCB0byB0ZWxsIGlmIGEgY29tbWVudCBpcyBhIG1hcmtlciBjb21tZW50XG5jb25zdCBtYXJrZXJNYXRjaCA9ICc/JyArIG1hcmtlcjtcbi8vIFRleHQgdXNlZCB0byBpbnNlcnQgYSBjb21tZW50IG1hcmtlciBub2RlLiBXZSB1c2UgcHJvY2Vzc2luZyBpbnN0cnVjdGlvblxuLy8gc3ludGF4IGJlY2F1c2UgaXQncyBzbGlnaHRseSBzbWFsbGVyLCBidXQgcGFyc2VzIGFzIGEgY29tbWVudCBub2RlLlxuY29uc3Qgbm9kZU1hcmtlciA9IGA8JHttYXJrZXJNYXRjaH0+YDtcbmNvbnN0IGQgPSBOT0RFX01PREUgJiYgZ2xvYmFsLmRvY3VtZW50ID09PSB1bmRlZmluZWRcbiAgICA/IHtcbiAgICAgICAgY3JlYXRlVHJlZVdhbGtlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICB9XG4gICAgOiBkb2N1bWVudDtcbi8vIENyZWF0ZXMgYSBkeW5hbWljIG1hcmtlci4gV2UgbmV2ZXIgaGF2ZSB0byBzZWFyY2ggZm9yIHRoZXNlIGluIHRoZSBET00uXG5jb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkLmNyZWF0ZUNvbW1lbnQoJycpO1xuY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWUpID0+IHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlICE9ICdmdW5jdGlvbicpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKSB8fFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdHlwZW9mIHZhbHVlPy5bU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IFNQQUNFX0NIQVIgPSBgWyBcXHRcXG5cXGZcXHJdYDtcbmNvbnN0IEFUVFJfVkFMVUVfQ0hBUiA9IGBbXiBcXHRcXG5cXGZcXHJcIidcXGA8Pj1dYDtcbmNvbnN0IE5BTUVfQ0hBUiA9IGBbXlxcXFxzXCInPj0vXWA7XG4vLyBUaGVzZSByZWdleGVzIHJlcHJlc2VudCB0aGUgZml2ZSBwYXJzaW5nIHN0YXRlcyB0aGF0IHdlIGNhcmUgYWJvdXQgaW4gdGhlXG4vLyBUZW1wbGF0ZSdzIEhUTUwgc2Nhbm5lci4gVGhleSBtYXRjaCB0aGUgKmVuZCogb2YgdGhlIHN0YXRlIHRoZXkncmUgbmFtZWRcbi8vIGFmdGVyLlxuLy8gRGVwZW5kaW5nIG9uIHRoZSBtYXRjaCwgd2UgdHJhbnNpdGlvbiB0byBhIG5ldyBzdGF0ZS4gSWYgdGhlcmUncyBubyBtYXRjaCxcbi8vIHdlIHN0YXkgaW4gdGhlIHNhbWUgc3RhdGUuXG4vLyBOb3RlIHRoYXQgdGhlIHJlZ2V4ZXMgYXJlIHN0YXRlZnVsLiBXZSB1dGlsaXplIGxhc3RJbmRleCBhbmQgc3luYyBpdFxuLy8gYWNyb3NzIHRoZSBtdWx0aXBsZSByZWdleGVzIHVzZWQuIEluIGFkZGl0aW9uIHRvIHRoZSBmaXZlIHJlZ2V4ZXMgYmVsb3dcbi8vIHdlIGFsc28gZHluYW1pY2FsbHkgY3JlYXRlIGEgcmVnZXggdG8gZmluZCB0aGUgbWF0Y2hpbmcgZW5kIHRhZ3MgZm9yIHJhd1xuLy8gdGV4dCBlbGVtZW50cy5cbi8qKlxuICogRW5kIG9mIHRleHQgaXM6IGA8YCBmb2xsb3dlZCBieTpcbiAqICAgKGNvbW1lbnQgc3RhcnQpIG9yICh0YWcpIG9yIChkeW5hbWljIHRhZyBiaW5kaW5nKVxuICovXG5jb25zdCB0ZXh0RW5kUmVnZXggPSAvPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2c7XG5jb25zdCBDT01NRU5UX1NUQVJUID0gMTtcbmNvbnN0IFRBR19OQU1FID0gMjtcbmNvbnN0IERZTkFNSUNfVEFHX05BTUUgPSAzO1xuY29uc3QgY29tbWVudEVuZFJlZ2V4ID0gLy0tPi9nO1xuLyoqXG4gKiBDb21tZW50cyBub3Qgc3RhcnRlZCB3aXRoIDwhLS0sIGxpa2UgPC97LCBjYW4gYmUgZW5kZWQgYnkgYSBzaW5nbGUgYD5gXG4gKi9cbmNvbnN0IGNvbW1lbnQyRW5kUmVnZXggPSAvPi9nO1xuLyoqXG4gKiBUaGUgdGFnRW5kIHJlZ2V4IG1hdGNoZXMgdGhlIGVuZCBvZiB0aGUgXCJpbnNpZGUgYW4gb3BlbmluZ1wiIHRhZyBzeW50YXhcbiAqIHBvc2l0aW9uLiBJdCBlaXRoZXIgbWF0Y2hlcyBhIGA+YCwgYW4gYXR0cmlidXRlLWxpa2Ugc2VxdWVuY2UsIG9yIHRoZSBlbmRcbiAqIG9mIHRoZSBzdHJpbmcgYWZ0ZXIgYSBzcGFjZSAoYXR0cmlidXRlLW5hbWUgcG9zaXRpb24gZW5kaW5nKS5cbiAqXG4gKiBTZWUgYXR0cmlidXRlcyBpbiB0aGUgSFRNTCBzcGVjOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnRzLWF0dHJpYnV0ZXNcbiAqXG4gKiBcIiBcXHRcXG5cXGZcXHJcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI2FzY2lpLXdoaXRlc3BhY2VcbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSB3aGl0ZXNwYWNlIGNoYXJhY3RlciwgKFwiKSwgKCcpLCBcIj5cIixcbiAqICAgIFwiPVwiLCBvciBcIi9cIi4gTm90ZTogdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgSFRNTCBzcGVjIHdoaWNoIGFsc28gZXhjbHVkZXMgY29udHJvbCBjaGFyYWN0ZXJzLlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuY29uc3QgdGFnRW5kUmVnZXggPSBuZXcgUmVnRXhwKGA+fCR7U1BBQ0VfQ0hBUn0oPzooJHtOQU1FX0NIQVJ9KykoJHtTUEFDRV9DSEFSfSo9JHtTUEFDRV9DSEFSfSooPzoke0FUVFJfVkFMVUVfQ0hBUn18KFwifCcpfCkpfCQpYCwgJ2cnKTtcbmNvbnN0IEVOVElSRV9NQVRDSCA9IDA7XG5jb25zdCBBVFRSSUJVVEVfTkFNRSA9IDE7XG5jb25zdCBTUEFDRVNfQU5EX0VRVUFMUyA9IDI7XG5jb25zdCBRVU9URV9DSEFSID0gMztcbmNvbnN0IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gLycvZztcbmNvbnN0IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gL1wiL2c7XG4vKipcbiAqIE1hdGNoZXMgdGhlIHJhdyB0ZXh0IGVsZW1lbnRzLlxuICpcbiAqIENvbW1lbnRzIGFyZSBub3QgcGFyc2VkIHdpdGhpbiByYXcgdGV4dCBlbGVtZW50cywgc28gd2UgbmVlZCB0byBzZWFyY2ggdGhlaXJcbiAqIHRleHQgY29udGVudCBmb3IgbWFya2VyIHN0cmluZ3MuXG4gKi9cbmNvbnN0IHJhd1RleHRFbGVtZW50ID0gL14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pO1xuLyoqIFRlbXBsYXRlUmVzdWx0IHR5cGVzICovXG5jb25zdCBIVE1MX1JFU1VMVCA9IDE7XG5jb25zdCBTVkdfUkVTVUxUID0gMjtcbmNvbnN0IE1BVEhNTF9SRVNVTFQgPSAzO1xuLy8gVGVtcGxhdGVQYXJ0IHR5cGVzXG4vLyBJTVBPUlRBTlQ6IHRoZXNlIG11c3QgbWF0Y2ggdGhlIHZhbHVlcyBpbiBQYXJ0VHlwZVxuY29uc3QgQVRUUklCVVRFX1BBUlQgPSAxO1xuY29uc3QgQ0hJTERfUEFSVCA9IDI7XG5jb25zdCBQUk9QRVJUWV9QQVJUID0gMztcbmNvbnN0IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQgPSA0O1xuY29uc3QgRVZFTlRfUEFSVCA9IDU7XG5jb25zdCBFTEVNRU5UX1BBUlQgPSA2O1xuY29uc3QgQ09NTUVOVF9QQVJUID0gNztcbi8qKlxuICogR2VuZXJhdGVzIGEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgVGVtcGxhdGVSZXN1bHQgd2l0aFxuICogdGhlIGdpdmVuIHJlc3VsdCB0eXBlLlxuICovXG5jb25zdCB0YWcgPSAodHlwZSkgPT4gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoREVWX01PREUgJiYgc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU29tZSB0ZW1wbGF0ZSBzdHJpbmdzIGFyZSB1bmRlZmluZWQuXFxuJyArXG4gICAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLicpO1xuICAgIH1cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgLy8gSW1wb3J0IHN0YXRpYy1odG1sLmpzIHJlc3VsdHMgaW4gYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdoaWNoIGczIGRvZXNuJ3RcbiAgICAgICAgLy8gaGFuZGxlLiBJbnN0ZWFkIHdlIGtub3cgdGhhdCBzdGF0aWMgdmFsdWVzIG11c3QgaGF2ZSB0aGUgZmllbGRcbiAgICAgICAgLy8gYF8kbGl0U3RhdGljJGAuXG4gICAgICAgIGlmICh2YWx1ZXMuc29tZSgodmFsKSA9PiB2YWw/LlsnXyRsaXRTdGF0aWMkJ10pKSB7XG4gICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJycsIGBTdGF0aWMgdmFsdWVzICdsaXRlcmFsJyBvciAndW5zYWZlU3RhdGljJyBjYW5ub3QgYmUgdXNlZCBhcyB2YWx1ZXMgdG8gbm9uLXN0YXRpYyB0ZW1wbGF0ZXMuXFxuYCArXG4gICAgICAgICAgICAgICAgYFBsZWFzZSB1c2UgdGhlIHN0YXRpYyAnaHRtbCcgdGFnIGZ1bmN0aW9uLiBTZWUgaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNzdGF0aWMtZXhwcmVzc2lvbnNgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICBbJ18kbGl0VHlwZSQnXTogdHlwZSxcbiAgICAgICAgc3RyaW5ncyxcbiAgICAgICAgdmFsdWVzLFxuICAgIH07XG59O1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgaGVhZGVyID0gKHRpdGxlOiBzdHJpbmcpID0+IGh0bWxgPGgxPiR7dGl0bGV9PC9oMT5gO1xuICogYGBgXG4gKlxuICogVGhlIGBodG1sYCB0YWcgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBET00gdG8gcmVuZGVyIGFzIGEgdmFsdWUuIEl0IGlzXG4gKiBsYXp5LCBtZWFuaW5nIG5vIHdvcmsgaXMgZG9uZSB1bnRpbCB0aGUgdGVtcGxhdGUgaXMgcmVuZGVyZWQuIFdoZW4gcmVuZGVyaW5nLFxuICogaWYgYSB0ZW1wbGF0ZSBjb21lcyBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gYXMgYSBwcmV2aW91c2x5IHJlbmRlcmVkIHJlc3VsdCxcbiAqIGl0J3MgZWZmaWNpZW50bHkgdXBkYXRlZCBpbnN0ZWFkIG9mIHJlcGxhY2VkLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHRhZyhIVE1MX1JFU1VMVCk7XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyBmcmFnbWVudCB0aGF0IGNhbiBlZmZpY2llbnRseSByZW5kZXJcbiAqIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHJlY3QgPSBzdmdgPHJlY3Qgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCI+PC9yZWN0PmA7XG4gKlxuICogY29uc3QgbXlJbWFnZSA9IGh0bWxgXG4gKiAgIDxzdmcgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAqICAgICAke3JlY3R9XG4gKiAgIDwvc3ZnPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYHN2Z2AgKnRhZyBmdW5jdGlvbiogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgU1ZHIGZyYWdtZW50cywgb3IgZWxlbWVudHNcbiAqIHRoYXQgd291bGQgYmUgY29udGFpbmVkICoqaW5zaWRlKiogYW4gYDxzdmc+YCBIVE1MIGVsZW1lbnQuIEEgY29tbW9uIGVycm9yIGlzXG4gKiBwbGFjaW5nIGFuIGA8c3ZnPmAgKmVsZW1lbnQqIGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIGBzdmdgIHRhZ1xuICogZnVuY3Rpb24uIFRoZSBgPHN2Zz5gIGVsZW1lbnQgaXMgYW4gSFRNTCBlbGVtZW50IGFuZCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYVxuICogdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIHtAbGlua2NvZGUgaHRtbH0gdGFnIGZ1bmN0aW9uLlxuICpcbiAqIEluIExpdEVsZW1lbnQgdXNhZ2UsIGl0J3MgaW52YWxpZCB0byByZXR1cm4gYW4gU1ZHIGZyYWdtZW50IGZyb20gdGhlXG4gKiBgcmVuZGVyKClgIG1ldGhvZCwgYXMgdGhlIFNWRyBmcmFnbWVudCB3aWxsIGJlIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGVsZW1lbnQnc1xuICogc2hhZG93IHJvb3QgYW5kIHRodXMgbm90IGJlIHByb3Blcmx5IGNvbnRhaW5lZCB3aXRoaW4gYW4gYDxzdmc+YCBIVE1MXG4gKiBlbGVtZW50LlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gdGFnKFNWR19SRVNVTFQpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBNYXRoTUwgZnJhZ21lbnQgdGhhdCBjYW4gZWZmaWNpZW50bHkgcmVuZGVyXG4gKiB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBudW0gPSBtYXRobWxgPG1uPjE8L21uPmA7XG4gKlxuICogY29uc3QgZXEgPSBodG1sYFxuICogICA8bWF0aD5cbiAqICAgICAke251bX1cbiAqICAgPC9tYXRoPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYG1hdGhtbGAgKnRhZyBmdW5jdGlvbiogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgTWF0aE1MIGZyYWdtZW50cywgb3JcbiAqIGVsZW1lbnRzIHRoYXQgd291bGQgYmUgY29udGFpbmVkICoqaW5zaWRlKiogYSBgPG1hdGg+YCBIVE1MIGVsZW1lbnQuIEEgY29tbW9uXG4gKiBlcnJvciBpcyBwbGFjaW5nIGEgYDxtYXRoPmAgKmVsZW1lbnQqIGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIGBtYXRobWxgXG4gKiB0YWcgZnVuY3Rpb24uIFRoZSBgPG1hdGg+YCBlbGVtZW50IGlzIGFuIEhUTUwgZWxlbWVudCBhbmQgc2hvdWxkIGJlIHVzZWRcbiAqIHdpdGhpbiBhIHRlbXBsYXRlIHRhZ2dlZCB3aXRoIHRoZSB7QGxpbmtjb2RlIGh0bWx9IHRhZyBmdW5jdGlvbi5cbiAqXG4gKiBJbiBMaXRFbGVtZW50IHVzYWdlLCBpdCdzIGludmFsaWQgdG8gcmV0dXJuIGFuIE1hdGhNTCBmcmFnbWVudCBmcm9tIHRoZVxuICogYHJlbmRlcigpYCBtZXRob2QsIGFzIHRoZSBNYXRoTUwgZnJhZ21lbnQgd2lsbCBiZSBjb250YWluZWQgd2l0aGluIHRoZVxuICogZWxlbWVudCdzIHNoYWRvdyByb290IGFuZCB0aHVzIG5vdCBiZSBwcm9wZXJseSBjb250YWluZWQgd2l0aGluIGEgYDxtYXRoPmBcbiAqIEhUTUwgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hdGhtbCA9IHRhZyhNQVRITUxfUkVTVUxUKTtcbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIENoaWxkUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYnV0dG9uID0gaHRtbGAke1xuICogIHVzZXIuaXNBZG1pblxuICogICAgPyBodG1sYDxidXR0b24+REVMRVRFPC9idXR0b24+YFxuICogICAgOiBub3RoaW5nXG4gKiB9YDtcbiAqIGBgYFxuICpcbiAqIFByZWZlciB1c2luZyBgbm90aGluZ2Agb3ZlciBvdGhlciBmYWxzeSB2YWx1ZXMgYXMgaXQgcHJvdmlkZXMgYSBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBiZXR3ZWVuIHZhcmlvdXMgZXhwcmVzc2lvbiBiaW5kaW5nIGNvbnRleHRzLlxuICpcbiAqIEluIGNoaWxkIGV4cHJlc3Npb25zLCBgdW5kZWZpbmVkYCwgYG51bGxgLCBgJydgLCBhbmQgYG5vdGhpbmdgIGFsbCBiZWhhdmUgdGhlXG4gKiBzYW1lIGFuZCByZW5kZXIgbm8gbm9kZXMuIEluIGF0dHJpYnV0ZSBleHByZXNzaW9ucywgYG5vdGhpbmdgIF9yZW1vdmVzXyB0aGVcbiAqIGF0dHJpYnV0ZSwgd2hpbGUgYHVuZGVmaW5lZGAgYW5kIGBudWxsYCB3aWxsIHJlbmRlciBhbiBlbXB0eSBzdHJpbmcuIEluXG4gKiBwcm9wZXJ0eSBleHByZXNzaW9ucyBgbm90aGluZ2AgYmVjb21lcyBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSBTeW1ib2wuZm9yKCdsaXQtbm90aGluZycpO1xuLyoqXG4gKiBUaGUgY2FjaGUgb2YgcHJlcGFyZWQgdGVtcGxhdGVzLCBrZXllZCBieSB0aGUgdGFnZ2VkIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gKiBhbmQgX25vdF8gYWNjb3VudGluZyBmb3IgdGhlIHNwZWNpZmljIHRlbXBsYXRlIHRhZyB1c2VkLiBUaGlzIG1lYW5zIHRoYXRcbiAqIHRlbXBsYXRlIHRhZ3MgY2Fubm90IGJlIGR5bmFtaWMgLSB0aGV5IG11c3Qgc3RhdGljYWxseSBiZSBvbmUgb2YgaHRtbCwgc3ZnLFxuICogb3IgYXR0ci4gVGhpcyByZXN0cmljdGlvbiBzaW1wbGlmaWVzIHRoZSBjYWNoZSBsb29rdXAsIHdoaWNoIGlzIG9uIHRoZSBob3RcbiAqIHBhdGggZm9yIHJlbmRlcmluZy5cbiAqL1xuY29uc3QgdGVtcGxhdGVDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB3YWxrZXIgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoZCwgMTI5IC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfSAqLyk7XG5sZXQgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbmZ1bmN0aW9uIHRydXN0RnJvbVRlbXBsYXRlU3RyaW5nKHRzYSwgc3RyaW5nRnJvbVRTQSkge1xuICAgIC8vIEEgc2VjdXJpdHkgY2hlY2sgdG8gcHJldmVudCBzcG9vZmluZyBvZiBMaXQgdGVtcGxhdGUgcmVzdWx0cy5cbiAgICAvLyBJbiB0aGUgZnV0dXJlLCB3ZSBtYXkgYmUgYWJsZSB0byByZXBsYWNlIHRoaXMgd2l0aCBBcnJheS5pc1RlbXBsYXRlT2JqZWN0LFxuICAgIC8vIHRob3VnaCB3ZSBtaWdodCBuZWVkIHRvIG1ha2UgdGhhdCBjaGVjayBpbnNpZGUgb2YgdGhlIGh0bWwgYW5kIHN2Z1xuICAgIC8vIGZ1bmN0aW9ucywgYmVjYXVzZSBwcmVjb21waWxlZCB0ZW1wbGF0ZXMgZG9uJ3QgY29tZSBpbiBhc1xuICAgIC8vIFRlbXBsYXRlU3RyaW5nQXJyYXkgb2JqZWN0cy5cbiAgICBpZiAoIWlzQXJyYXkodHNhKSB8fCAhdHNhLmhhc093blByb3BlcnR5KCdyYXcnKSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdpbnZhbGlkIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXknO1xuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgXG4gICAgICAgICAgSW50ZXJuYWwgRXJyb3I6IGV4cGVjdGVkIHRlbXBsYXRlIHN0cmluZ3MgdG8gYmUgYW4gYXJyYXlcbiAgICAgICAgICB3aXRoIGEgJ3JhdycgZmllbGQuIEZha2luZyBhIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXkgYnlcbiAgICAgICAgICBjYWxsaW5nIGh0bWwgb3Igc3ZnIGxpa2UgYW4gb3JkaW5hcnkgZnVuY3Rpb24gaXMgZWZmZWN0aXZlbHlcbiAgICAgICAgICB0aGUgc2FtZSBhcyBjYWxsaW5nIHVuc2FmZUh0bWwgYW5kIGNhbiBsZWFkIHRvIG1ham9yIHNlY3VyaXR5XG4gICAgICAgICAgaXNzdWVzLCBlLmcuIG9wZW5pbmcgeW91ciBjb2RlIHVwIHRvIFhTUyBhdHRhY2tzLlxuICAgICAgICAgIElmIHlvdSdyZSB1c2luZyB0aGUgaHRtbCBvciBzdmcgdGFnZ2VkIHRlbXBsYXRlIGZ1bmN0aW9ucyBub3JtYWxseVxuICAgICAgICAgIGFuZCBzdGlsbCBzZWVpbmcgdGhpcyBlcnJvciwgcGxlYXNlIGZpbGUgYSBidWcgYXRcbiAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvbmV3P3RlbXBsYXRlPWJ1Z19yZXBvcnQubWRcbiAgICAgICAgICBhbmQgaW5jbHVkZSBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGJ1aWxkIHRvb2xpbmcsIGlmIGFueS5cbiAgICAgICAgYFxuICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuICovZywgJ1xcbicpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHBvbGljeSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcG9saWN5LmNyZWF0ZUhUTUwoc3RyaW5nRnJvbVRTQSlcbiAgICAgICAgOiBzdHJpbmdGcm9tVFNBO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIEhUTUwgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gVGVtcGxhdGVTdHJpbmdzQXJyYXkgYW5kIHJlc3VsdCB0eXBlXG4gKiAoSFRNTCBvciBTVkcpLCBhbG9uZyB3aXRoIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW5cbiAqIHRlbXBsYXRlIG9yZGVyLiBUaGUgSFRNTCBjb250YWlucyBjb21tZW50IG1hcmtlcnMgZGVub3RpbmcgdGhlIGBDaGlsZFBhcnRgc1xuICogYW5kIHN1ZmZpeGVzIG9uIGJvdW5kIGF0dHJpYnV0ZXMgZGVub3RpbmcgdGhlIGBBdHRyaWJ1dGVQYXJ0c2AuXG4gKlxuICogQHBhcmFtIHN0cmluZ3MgdGVtcGxhdGUgc3RyaW5ncyBhcnJheVxuICogQHBhcmFtIHR5cGUgSFRNTCBvciBTVkdcbiAqIEByZXR1cm4gQXJyYXkgY29udGFpbmluZyBgW2h0bWwsIGF0dHJOYW1lc11gIChhcnJheSByZXR1cm5lZCBmb3IgdGVyc2VuZXNzLFxuICogICAgIHRvIGF2b2lkIG9iamVjdCBmaWVsZHMgc2luY2UgdGhpcyBjb2RlIGlzIHNoYXJlZCB3aXRoIG5vbi1taW5pZmllZCBTU1JcbiAqICAgICBjb2RlKVxuICovXG5jb25zdCBnZXRUZW1wbGF0ZUh0bWwgPSAoc3RyaW5ncywgdHlwZSkgPT4ge1xuICAgIC8vIEluc2VydCBtYWtlcnMgaW50byB0aGUgdGVtcGxhdGUgSFRNTCB0byByZXByZXNlbnQgdGhlIHBvc2l0aW9uIG9mXG4gICAgLy8gYmluZGluZ3MuIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc3RyaW5ncyB0byBkZXRlcm1pbmUgdGhlXG4gICAgLy8gc3ludGFjdGljIHBvc2l0aW9uIG9mIHRoZSBiaW5kaW5ncy4gVGhleSBjYW4gYmUgaW4gdGV4dCBwb3NpdGlvbiwgd2hlcmVcbiAgICAvLyB3ZSBpbnNlcnQgYW4gSFRNTCBjb21tZW50LCBhdHRyaWJ1dGUgdmFsdWUgcG9zaXRpb24sIHdoZXJlIHdlIGluc2VydCBhXG4gICAgLy8gc2VudGluZWwgc3RyaW5nIGFuZCByZS13cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIG9yIGluc2lkZSBhIHRhZyB3aGVyZVxuICAgIC8vIHdlIGluc2VydCB0aGUgc2VudGluZWwgc3RyaW5nLlxuICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgLy8gU3RvcmVzIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW4gdGhlIG9yZGVyIG9mIHRoZWlyXG4gICAgLy8gcGFydHMuIEVsZW1lbnRQYXJ0cyBhcmUgYWxzbyByZWZsZWN0ZWQgaW4gdGhpcyBhcnJheSBhcyB1bmRlZmluZWRcbiAgICAvLyByYXRoZXIgdGhhbiBhIHN0cmluZywgdG8gZGlzYW1iaWd1YXRlIGZyb20gYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgIGNvbnN0IGF0dHJOYW1lcyA9IFtdO1xuICAgIGxldCBodG1sID0gdHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8c3ZnPicgOiB0eXBlID09PSBNQVRITUxfUkVTVUxUID8gJzxtYXRoPicgOiAnJztcbiAgICAvLyBXaGVuIHdlJ3JlIGluc2lkZSBhIHJhdyB0ZXh0IHRhZyAobm90IGl0J3MgdGV4dCBjb250ZW50KSwgdGhlIHJlZ2V4XG4gICAgLy8gd2lsbCBzdGlsbCBiZSB0YWdSZWdleCBzbyB3ZSBjYW4gZmluZCBhdHRyaWJ1dGVzLCBidXQgd2lsbCBzd2l0Y2ggdG9cbiAgICAvLyB0aGlzIHJlZ2V4IHdoZW4gdGhlIHRhZyBlbmRzLlxuICAgIGxldCByYXdUZXh0RW5kUmVnZXg7XG4gICAgLy8gVGhlIGN1cnJlbnQgcGFyc2luZyBzdGF0ZSwgcmVwcmVzZW50ZWQgYXMgYSByZWZlcmVuY2UgdG8gb25lIG9mIHRoZVxuICAgIC8vIHJlZ2V4ZXNcbiAgICBsZXQgcmVnZXggPSB0ZXh0RW5kUmVnZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3QgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZW5kIG9mIHRoZSBsYXN0IGF0dHJpYnV0ZSBuYW1lLiBXaGVuIHRoaXMgaXNcbiAgICAgICAgLy8gcG9zaXRpdmUgYXQgZW5kIG9mIGEgc3RyaW5nLCBpdCBtZWFucyB3ZSdyZSBpbiBhbiBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgLy8gcG9zaXRpb24gYW5kIG5lZWQgdG8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUuXG4gICAgICAgIC8vIFdlIGFsc28gdXNlIGEgc3BlY2lhbCB2YWx1ZSBvZiAtMiB0byBpbmRpY2F0ZSB0aGF0IHdlIGVuY291bnRlcmVkXG4gICAgICAgIC8vIHRoZSBlbmQgb2YgYSBzdHJpbmcgaW4gYXR0cmlidXRlIG5hbWUgcG9zaXRpb24uXG4gICAgICAgIGxldCBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgIGxldCBhdHRyTmFtZTtcbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgLy8gVGhlIGNvbmRpdGlvbnMgaW4gdGhpcyBsb29wIGhhbmRsZSB0aGUgY3VycmVudCBwYXJzZSBzdGF0ZSwgYW5kIHRoZVxuICAgICAgICAvLyBhc3NpZ25tZW50cyB0byB0aGUgYHJlZ2V4YCB2YXJpYWJsZSBhcmUgdGhlIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB3aGlsZSAobGFzdEluZGV4IDwgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzdGFydCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBwcmV2aW91c2x5IGxlZnQgb2ZmXG4gICAgICAgICAgICByZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RJbmRleCA9IHJlZ2V4Lmxhc3RJbmRleDtcbiAgICAgICAgICAgIGlmIChyZWdleCA9PT0gdGV4dEVuZFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoW0NPTU1FTlRfU1RBUlRdID09PSAnIS0tJykge1xuICAgICAgICAgICAgICAgICAgICByZWdleCA9IGNvbW1lbnRFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdGFydGVkIGEgd2VpcmQgY29tbWVudCwgbGlrZSA8L3tcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSBjb21tZW50MkVuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFtUQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3VGV4dEVsZW1lbnQudGVzdChtYXRjaFtUQUdfTkFNRV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgaWYgd2UgZW5jb3VudGVyIGEgcmF3LXRleHQgZWxlbWVudC4gV2UnbGwgc3dpdGNoIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHJlZ2V4IGF0IHRoZSBlbmQgb2YgdGhlIHRhZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd1RleHRFbmRSZWdleCA9IG5ldyBSZWdFeHAoYDwvJHttYXRjaFtUQUdfTkFNRV19YCwgJ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFtEWU5BTUlDX1RBR19OQU1FXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCaW5kaW5ncyBpbiB0YWcgbmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2Ugc3RhdGljIHRlbXBsYXRlcyBpbnN0ZWFkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHBzOi8vbGl0LmRldi9kb2NzL3RlbXBsYXRlcy9leHByZXNzaW9ucy8jc3RhdGljLWV4cHJlc3Npb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gdGFnRW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbRU5USVJFX01BVENIXSA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBhIHRhZy4gSWYgd2UgaGFkIHN0YXJ0ZWQgYSByYXctdGV4dCBlbGVtZW50LCB1c2UgdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyByZWdleFxuICAgICAgICAgICAgICAgICAgICByZWdleCA9IHJhd1RleHRFbmRSZWdleCA/PyB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG1heSBiZSBlbmRpbmcgYW4gdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLCBzbyBtYWtlIHN1cmUgd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xlYXIgYW55IHBlbmRpbmcgYXR0ck5hbWVFbmRJbmRleFxuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoW0FUVFJJQlVURV9OQU1FXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZSBuYW1lIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSByZWdleC5sYXN0SW5kZXggLSBtYXRjaFtTUEFDRVNfQU5EX0VRVUFMU10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbUVVPVEVfQ0hBUl0gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1hdGNoW1FVT1RFX0NIQVJdID09PSAnXCInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgICAgICAgICByZWdleCA9PT0gc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVnZXggPT09IGNvbW1lbnRFbmRSZWdleCB8fCByZWdleCA9PT0gY29tbWVudDJFbmRSZWdleCkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gdGV4dEVuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IG9uZSBvZiB0aGUgZml2ZSBzdGF0ZSByZWdleGVzLCBzbyBpdCBtdXN0IGJlIHRoZSBkeW5hbWljYWxseVxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZWQgcmF3IHRleHQgcmVnZXggYW5kIHdlJ3JlIGF0IHRoZSBjbG9zZSBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgICAgICAgICByYXdUZXh0RW5kUmVnZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgYXR0ck5hbWVFbmRJbmRleCwgd2hpY2ggaW5kaWNhdGVzIHRoYXQgd2Ugc2hvdWxkXG4gICAgICAgICAgICAvLyByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgYXNzZXJ0IHRoYXQgd2UncmUgaW4gYSB2YWxpZCBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uIC0gZWl0aGVyIGluIGEgdGFnLCBvciBhIHF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydChhdHRyTmFtZUVuZEluZGV4ID09PSAtMSB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCwgJ3VuZXhwZWN0ZWQgcGFyc2Ugc3RhdGUgQicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhdmUgZm91ciBjYXNlczpcbiAgICAgICAgLy8gIDEuIFdlJ3JlIGluIHRleHQgcG9zaXRpb24sIGFuZCBub3QgaW4gYSByYXcgdGV4dCBlbGVtZW50XG4gICAgICAgIC8vICAgICAocmVnZXggPT09IHRleHRFbmRSZWdleCk6IGluc2VydCBhIGNvbW1lbnQgbWFya2VyLlxuICAgICAgICAvLyAgMi4gV2UgaGF2ZSBhIG5vbi1uZWdhdGl2ZSBhdHRyTmFtZUVuZEluZGV4IHdoaWNoIG1lYW5zIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gICAgIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGFkZCBhIGJvdW5kIGF0dHJpYnV0ZSBzdWZmaXguXG4gICAgICAgIC8vICAzLiBXZSdyZSBhdCB0aGUgbm9uLWZpcnN0IGJpbmRpbmcgaW4gYSBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZSwgdXNlIGFcbiAgICAgICAgLy8gICAgIHBsYWluIG1hcmtlci5cbiAgICAgICAgLy8gIDQuIFdlJ3JlIHNvbWV3aGVyZSBlbHNlIGluc2lkZSB0aGUgdGFnLiBJZiB3ZSdyZSBpbiBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAvLyAgICAgcG9zaXRpb24gKGF0dHJOYW1lRW5kSW5kZXggPT09IC0yKSwgYWRkIGEgc2VxdWVudGlhbCBzdWZmaXggdG9cbiAgICAgICAgLy8gICAgIGdlbmVyYXRlIGEgdW5pcXVlIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAgICAvLyBEZXRlY3QgYSBiaW5kaW5nIG5leHQgdG8gc2VsZi1jbG9zaW5nIHRhZyBlbmQgYW5kIGluc2VydCBhIHNwYWNlIHRvXG4gICAgICAgIC8vIHNlcGFyYXRlIHRoZSBtYXJrZXIgZnJvbSB0aGUgdGFnIGVuZDpcbiAgICAgICAgY29uc3QgZW5kID0gcmVnZXggPT09IHRhZ0VuZFJlZ2V4ICYmIHN0cmluZ3NbaSArIDFdLnN0YXJ0c1dpdGgoJy8+JykgPyAnICcgOiAnJztcbiAgICAgICAgaHRtbCArPVxuICAgICAgICAgICAgcmVnZXggPT09IHRleHRFbmRSZWdleFxuICAgICAgICAgICAgICAgID8gcyArIG5vZGVNYXJrZXJcbiAgICAgICAgICAgICAgICA6IGF0dHJOYW1lRW5kSW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICAgICA/IChhdHRyTmFtZXMucHVzaChhdHRyTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzLnNsaWNlKDAsIGF0dHJOYW1lRW5kSW5kZXgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zbGljZShhdHRyTmFtZUVuZEluZGV4KSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFxuICAgICAgICAgICAgICAgICAgICA6IHMgKyBtYXJrZXIgKyAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyBpIDogZW5kKTtcbiAgICB9XG4gICAgY29uc3QgaHRtbFJlc3VsdCA9IGh0bWwgK1xuICAgICAgICAoc3RyaW5nc1tsXSB8fCAnPD8+JykgK1xuICAgICAgICAodHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8L3N2Zz4nIDogdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCA/ICc8L21hdGg+JyA6ICcnKTtcbiAgICAvLyBSZXR1cm5lZCBhcyBhbiBhcnJheSBmb3IgdGVyc2VuZXNzXG4gICAgcmV0dXJuIFt0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyhzdHJpbmdzLCBodG1sUmVzdWx0KSwgYXR0ck5hbWVzXTtcbn07XG5jbGFzcyBUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB7IHN0cmluZ3MsIFsnXyRsaXRUeXBlJCddOiB0eXBlIH0sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICBsZXQgbm9kZTtcbiAgICAgICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgcGFydENvdW50ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMucGFydHM7XG4gICAgICAgIC8vIENyZWF0ZSB0ZW1wbGF0ZSBlbGVtZW50XG4gICAgICAgIGNvbnN0IFtodG1sLCBhdHRyTmFtZXNdID0gZ2V0VGVtcGxhdGVIdG1sKHN0cmluZ3MsIHR5cGUpO1xuICAgICAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gdGhpcy5lbC5jb250ZW50O1xuICAgICAgICAvLyBSZS1wYXJlbnQgU1ZHIG9yIE1hdGhNTCBub2RlcyBpbnRvIHRlbXBsYXRlIHJvb3RcbiAgICAgICAgaWYgKHR5cGUgPT09IFNWR19SRVNVTFQgfHwgdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMuZWwuY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgd3JhcHBlci5yZXBsYWNlV2l0aCguLi53cmFwcGVyLmNoaWxkTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgICAgICB3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgIT09IG51bGwgJiYgcGFydHMubGVuZ3RoIDwgcGFydENvdW50KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWcgPSBub2RlLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2FybiBpZiBgdGV4dGFyZWFgIGluY2x1ZGVzIGFuIGV4cHJlc3Npb24gYW5kIHRocm93IGlmIGB0ZW1wbGF0ZWBcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBzaW5jZSB0aGVzZSBhcmUgbm90IHN1cHBvcnRlZC4gV2UgZG8gdGhpcyBieSBjaGVja2luZ1xuICAgICAgICAgICAgICAgICAgICAvLyBpbm5lckhUTUwgZm9yIGFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIG1hcmtlci4gVGhpcyBjYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2VzIGxpa2UgYmluZGluZ3MgaW4gdGV4dGFyZWEgdGhlcmUgbWFya2VycyB0dXJuIGludG8gdGV4dCBub2Rlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKD86dGV4dGFyZWF8dGVtcGxhdGUpJC9pLnRlc3QodGFnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwuaW5jbHVkZXMobWFya2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IGBFeHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUgXFxgJHt0YWd9XFxgIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBlbGVtZW50cy4gU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvZXhwcmVzc2lvbi1pbi0ke3RhZ30gZm9yIG1vcmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGluZm9ybWF0aW9uLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlV2FybmluZygnJywgbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGZvciBhdHRlbXB0ZWQgZHluYW1pYyB0YWcgbmFtZXMsIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBiaW5kaW5nSW5kZXgsIGFuZCBpdCdsbCBiZSBvZmYgYnkgMSBpbiB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIGFuZCBvZmYgYnkgdHdvIGFmdGVyIGl0LlxuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2Ygbm9kZS5nZXRBdHRyaWJ1dGVOYW1lcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5lbmRzV2l0aChib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFsTmFtZSA9IGF0dHJOYW1lc1thdHRyTmFtZUluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IHZhbHVlLnNwbGl0KG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IC8oWy4/QF0pPyguKikvLmV4ZWMocmVhbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBVFRSSUJVVEVfUEFSVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbVsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nczogc3RhdGljcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RvcjogbVsxXSA9PT0gJy4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFByb3BlcnR5UGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnPydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBFdmVudFBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBBdHRyaWJ1dGVQYXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRUxFTUVOVF9QQVJULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBiZW5jaG1hcmsgdGhlIHJlZ2V4IGFnYWluc3QgdGVzdGluZyBmb3IgZWFjaFxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSAzIHJhdyB0ZXh0IGVsZW1lbnQgbmFtZXMuXG4gICAgICAgICAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3Qobm9kZS50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcmtlcnMsIGNyZWF0ZSBhIFRleHQgbm9kZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgVGVtcGxhdGVQYXJ0IGZvciBlYWNoIG1hcmtlci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IG5vZGUudGV4dENvbnRlbnQuc3BsaXQobWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRydXN0ZWRUeXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IHRleHQgbm9kZSBmb3IgZWFjaCBsaXRlcmFsIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIGNoaWxkIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoc3RyaW5nc1tpXSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgcGFzdCB0aGUgbWFya2VyIG5vZGUgd2UganVzdCBhZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBDSElMRF9QQVJULCBpbmRleDogKytub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIGJlY2F1c2UgdGhpcyBtYXJrZXIgaXMgYWRkZWQgYWZ0ZXIgdGhlIHdhbGtlcidzIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vZGUsIGl0IHdpbGwgYmUgd2Fsa2VkIHRvIGluIHRoZSBvdXRlciBsb29wIChhbmQgaWdub3JlZCksIHNvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGFkanVzdCBub2RlSW5kZXggaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoc3RyaW5nc1tsYXN0SW5kZXhdLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbWFya2VyTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6IENISUxEX1BBUlQsIGluZGV4OiBub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBub2RlLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBDT01NRU5UX1BBUlQsIGluZGV4OiBub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpICs9IG1hcmtlci5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYSBkdXBsaWNhdGUgYXR0cmlidXRlIG9uIGEgdGFnLCB0aGVuIHdoZW4gdGhlIHRhZyBpc1xuICAgICAgICAgICAgLy8gcGFyc2VkIGludG8gYW4gZWxlbWVudCB0aGUgYXR0cmlidXRlIGdldHMgZGUtZHVwbGljYXRlZC4gV2UgY2FuIGRldGVjdFxuICAgICAgICAgICAgLy8gdGhpcyBtaXNtYXRjaCBpZiB3ZSBoYXZlbid0IHByZWNpc2VseSBjb25zdW1lZCBldmVyeSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgLy8gd2hlbiBwcmVwYXJpbmcgdGhlIHRlbXBsYXRlLiBUaGlzIHdvcmtzIGJlY2F1c2UgYGF0dHJOYW1lc2AgaXMgYnVpbHRcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIHRlbXBsYXRlIHN0cmluZyBhbmQgYGF0dHJOYW1lSW5kZXhgIGNvbWVzIGZyb20gcHJvY2Vzc2luZyB0aGVcbiAgICAgICAgICAgIC8vIHJlc3VsdGluZyBET00uXG4gICAgICAgICAgICBpZiAoYXR0ck5hbWVzLmxlbmd0aCAhPT0gYXR0ck5hbWVJbmRleCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGV0ZWN0ZWQgZHVwbGljYXRlIGF0dHJpYnV0ZSBiaW5kaW5ncy4gVGhpcyBvY2N1cnMgaWYgeW91ciB0ZW1wbGF0ZSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGhhcyBkdXBsaWNhdGUgYXR0cmlidXRlcyBvbiBhbiBlbGVtZW50IHRhZy4gRm9yIGV4YW1wbGUgYCArXG4gICAgICAgICAgICAgICAgICAgIGBcIjxpbnB1dCA/ZGlzYWJsZWQ9XFwke3RydWV9ID9kaXNhYmxlZD1cXCR7ZmFsc2V9PlwiIGNvbnRhaW5zIGEgYCArXG4gICAgICAgICAgICAgICAgICAgIGBkdXBsaWNhdGUgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZS4gVGhlIGVycm9yIHdhcyBkZXRlY3RlZCBpbiBgICtcbiAgICAgICAgICAgICAgICAgICAgYHRoZSBmb2xsb3dpbmcgdGVtcGxhdGU6IFxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAnYCcgK1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdzLmpvaW4oJyR7Li4ufScpICtcbiAgICAgICAgICAgICAgICAgICAgJ2AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBjb3VsZCBzZXQgd2Fsa2VyLmN1cnJlbnROb2RlIHRvIGFub3RoZXIgbm9kZSBoZXJlIHRvIHByZXZlbnQgYSBtZW1vcnlcbiAgICAgICAgLy8gbGVhaywgYnV0IGV2ZXJ5IHRpbWUgd2UgcHJlcGFyZSBhIHRlbXBsYXRlLCB3ZSBpbW1lZGlhdGVseSByZW5kZXIgaXRcbiAgICAgICAgLy8gYW5kIHJlLXVzZSB0aGUgd2Fsa2VyIGluIG5ldyBUZW1wbGF0ZUluc3RhbmNlLl9jbG9uZSgpLlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgcHJlcCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMsXG4gICAgICAgICAgICAgICAgY2xvbmFibGVUZW1wbGF0ZTogdGhpcy5lbCxcbiAgICAgICAgICAgICAgICBwYXJ0czogdGhpcy5wYXJ0cyxcbiAgICAgICAgICAgICAgICBzdHJpbmdzLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGNyZWF0ZUVsZW1lbnQoaHRtbCwgX29wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZWwgPSBkLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKHBhcnQsIHZhbHVlLCBwYXJlbnQgPSBwYXJ0LCBhdHRyaWJ1dGVJbmRleCkge1xuICAgIC8vIEJhaWwgZWFybHkgaWYgdGhlIHZhbHVlIGlzIGV4cGxpY2l0bHkgbm9DaGFuZ2UuIE5vdGUsIHRoaXMgbWVhbnMgYW55XG4gICAgLy8gbmVzdGVkIGRpcmVjdGl2ZSBpcyBzdGlsbCBhdHRhY2hlZCBhbmQgaXMgbm90IHJ1bi5cbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPSBhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcGFyZW50Ll9fZGlyZWN0aXZlcz8uW2F0dHJpYnV0ZUluZGV4XVxuICAgICAgICA6IHBhcmVudC5fX2RpcmVjdGl2ZTtcbiAgICBjb25zdCBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IgPSBpc1ByaW1pdGl2ZSh2YWx1ZSlcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICAgICAgdmFsdWVbJ18kbGl0RGlyZWN0aXZlJCddO1xuICAgIGlmIChjdXJyZW50RGlyZWN0aXZlPy5jb25zdHJ1Y3RvciAhPT0gbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIGN1cnJlbnREaXJlY3RpdmU/LlsnXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZCddPy4oZmFsc2UpO1xuICAgICAgICBpZiAobmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RGlyZWN0aXZlID0gbmV3IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvcihwYXJ0KTtcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAocGFyZW50Ll9fZGlyZWN0aXZlcyA/Pz0gW10pW2F0dHJpYnV0ZUluZGV4XSA9XG4gICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5fX2RpcmVjdGl2ZSA9IGN1cnJlbnREaXJlY3RpdmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnREaXJlY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUocGFydCwgY3VycmVudERpcmVjdGl2ZS5fJHJlc29sdmUocGFydCwgdmFsdWUudmFsdWVzKSwgY3VycmVudERpcmVjdGl2ZSwgYXR0cmlidXRlSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgaW5zdGFuY2Ugb2YgYSBUZW1wbGF0ZS4gSG9sZHMgcmVmZXJlbmNlcyB0byB0aGUgUGFydHMgdXNlZCB0b1xuICogdXBkYXRlIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAqL1xuY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHBhcmVudCkge1xuICAgICAgICB0aGlzLl8kcGFydHMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fJHRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuICAgIC8vIENhbGxlZCBieSBDaGlsZFBhcnQgcGFyZW50Tm9kZSBnZXR0ZXJcbiAgICBnZXQgcGFyZW50Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvLyBUaGlzIG1ldGhvZCBpcyBzZXBhcmF0ZSBmcm9tIHRoZSBjb25zdHJ1Y3RvciBiZWNhdXNlIHdlIG5lZWQgdG8gcmV0dXJuIGFcbiAgICAvLyBEb2N1bWVudEZyYWdtZW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIGhvbGQgb250byBpdCB3aXRoIGFuIGluc3RhbmNlIGZpZWxkLlxuICAgIF9jbG9uZShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgZWw6IHsgY29udGVudCB9LCBwYXJ0czogcGFydHMsIH0gPSB0aGlzLl8kdGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gKG9wdGlvbnM/LmNyZWF0aW9uU2NvcGUgPz8gZCkuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG4gICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IHRlbXBsYXRlUGFydCA9IHBhcnRzWzBdO1xuICAgICAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0O1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQ0hJTERfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IENoaWxkUGFydChub2RlLCBub2RlLm5leHRTaWJsaW5nLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEFUVFJJQlVURV9QQVJUKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgdGVtcGxhdGVQYXJ0LmN0b3Iobm9kZSwgdGVtcGxhdGVQYXJ0Lm5hbWUsIHRlbXBsYXRlUGFydC5zdHJpbmdzLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IEVsZW1lbnRQYXJ0KG5vZGUsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl8kcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVBhcnQgPSBwYXJ0c1srK3BhcnRJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUluZGV4ICE9PSB0ZW1wbGF0ZVBhcnQ/LmluZGV4KSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZSBjdXJyZW50Tm9kZSBhd2F5IGZyb20gdGhlIGNsb25lZCB0cmVlIHNvIHRoYXQgd2VcbiAgICAgICAgLy8gZG9uJ3QgaG9sZCBvbnRvIHRoZSB0cmVlIGV2ZW4gaWYgdGhlIHRyZWUgaXMgZGV0YWNoZWQgYW5kIHNob3VsZCBiZVxuICAgICAgICAvLyBmcmVlZC5cbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZDtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbiAgICBfdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl8kcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ3NldCBwYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVJbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWVzLCBwYXJ0LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG51bWJlciBvZiB2YWx1ZXMgdGhlIHBhcnQgY29uc3VtZXMgaXMgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdmFsdWVzIGFyZSBpbiBiZXR3ZWVuIHRlbXBsYXRlIHNwYW5zLiBXZSBpbmNyZW1lbnQgaSBieSAxXG4gICAgICAgICAgICAgICAgICAgIC8vIGxhdGVyIGluIHRoZSBsb29wLCBzbyBpbmNyZW1lbnQgaXQgYnkgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDIgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpICs9IHBhcnQuc3RyaW5ncy5sZW5ndGggLSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5fJHNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQ2hpbGRQYXJ0IHtcbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIC8vIENoaWxkUGFydHMgdGhhdCBhcmUgbm90IGF0IHRoZSByb290IHNob3VsZCBhbHdheXMgYmUgY3JlYXRlZCB3aXRoIGFcbiAgICAgICAgLy8gcGFyZW50OyBvbmx5IFJvb3RDaGlsZE5vZGUncyB3b24ndCwgc28gdGhleSByZXR1cm4gdGhlIGxvY2FsIGlzQ29ubmVjdGVkXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Py5fJGlzQ29ubmVjdGVkID8/IHRoaXMuX19pc0Nvbm5lY3RlZDtcbiAgICB9XG4gICAgY29uc3RydWN0b3Ioc3RhcnROb2RlLCBlbmROb2RlLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gQ0hJTERfUEFSVDtcbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBmaWVsZHMgd2lsbCBiZSBwYXRjaGVkIG9udG8gQ2hpbGRQYXJ0cyB3aGVuIHJlcXVpcmVkIGJ5XG4gICAgICAgIC8vIEFzeW5jRGlyZWN0aXZlXG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuXyRzdGFydE5vZGUgPSBzdGFydE5vZGU7XG4gICAgICAgIHRoaXMuXyRlbmROb2RlID0gZW5kTm9kZTtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLy8gTm90ZSBfX2lzQ29ubmVjdGVkIGlzIG9ubHkgZXZlciBhY2Nlc3NlZCBvbiBSb290UGFydHMgKGkuZS4gd2hlbiB0aGVyZSBpc1xuICAgICAgICAvLyBubyBfJHBhcmVudCk7IHRoZSB2YWx1ZSBvbiBhIG5vbi1yb290LXBhcnQgaXMgXCJkb24ndCBjYXJlXCIsIGJ1dCBjaGVja2luZ1xuICAgICAgICAvLyBmb3IgcGFyZW50IHdvdWxkIGJlIG1vcmUgY29kZVxuICAgICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBvcHRpb25zPy5pc0Nvbm5lY3RlZCA/PyB0cnVlO1xuICAgICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgICAgICAvLyBFeHBsaWNpdGx5IGluaXRpYWxpemUgZm9yIGNvbnNpc3RlbnQgY2xhc3Mgc2hhcGUuXG4gICAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJlbnQgbm9kZSBpbnRvIHdoaWNoIHRoZSBwYXJ0IHJlbmRlcnMgaXRzIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBBIENoaWxkUGFydCdzIGNvbnRlbnQgY29uc2lzdHMgb2YgYSByYW5nZSBvZiBhZGphY2VudCBjaGlsZCBub2RlcyBvZlxuICAgICAqIGAucGFyZW50Tm9kZWAsIHBvc3NpYmx5IGJvcmRlcmVkIGJ5ICdtYXJrZXIgbm9kZXMnIChgLnN0YXJ0Tm9kZWAgYW5kXG4gICAgICogYC5lbmROb2RlYCkuXG4gICAgICpcbiAgICAgKiAtIElmIGJvdGggYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgIGFyZSBub24tbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICAgKiBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgYmV0d2VlbiBgLnN0YXJ0Tm9kZWAgYW5kIGAuZW5kTm9kZWAsIGV4Y2x1c2l2ZWx5LlxuICAgICAqXG4gICAgICogLSBJZiBgLnN0YXJ0Tm9kZWAgaXMgbm9uLW51bGwgYnV0IGAuZW5kTm9kZWAgaXMgbnVsbCwgdGhlbiB0aGUgcGFydCdzXG4gICAgICogY29udGVudCBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgZm9sbG93aW5nIGAuc3RhcnROb2RlYCwgdXAgdG8gYW5kXG4gICAgICogaW5jbHVkaW5nIHRoZSBsYXN0IGNoaWxkIG9mIGAucGFyZW50Tm9kZWAuIElmIGAuZW5kTm9kZWAgaXMgbm9uLW51bGwsIHRoZW5cbiAgICAgKiBgLnN0YXJ0Tm9kZWAgd2lsbCBhbHdheXMgYmUgbm9uLW51bGwuXG4gICAgICpcbiAgICAgKiAtIElmIGJvdGggYC5lbmROb2RlYCBhbmQgYC5zdGFydE5vZGVgIGFyZSBudWxsLCB0aGVuIHRoZSBwYXJ0J3MgY29udGVudFxuICAgICAqIGNvbnNpc3RzIG9mIGFsbCBjaGlsZCBub2RlcyBvZiBgLnBhcmVudE5vZGVgLlxuICAgICAqL1xuICAgIGdldCBwYXJlbnROb2RlKCkge1xuICAgICAgICBsZXQgcGFyZW50Tm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fJHBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBwYXJlbnROb2RlPy5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmVudE5vZGUgaXMgYSBEb2N1bWVudEZyYWdtZW50LCBpdCBtYXkgYmUgYmVjYXVzZSB0aGUgRE9NIGlzXG4gICAgICAgICAgICAvLyBzdGlsbCBpbiB0aGUgY2xvbmVkIGZyYWdtZW50IGR1cmluZyBpbml0aWFsIHJlbmRlcjsgaWYgc28sIGdldCB0aGUgcmVhbFxuICAgICAgICAgICAgLy8gcGFyZW50Tm9kZSB0aGUgcGFydCB3aWxsIGJlIGNvbW1pdHRlZCBpbnRvIGJ5IGFza2luZyB0aGUgcGFyZW50LlxuICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFydCdzIGxlYWRpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICAgKiBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgc3RhcnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnQncyB0cmFpbGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgICAqIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGdldCBlbmROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJGVuZE5vZGU7XG4gICAgfVxuICAgIF8kc2V0VmFsdWUodmFsdWUsIGRpcmVjdGl2ZVBhcmVudCA9IHRoaXMpIHtcbiAgICAgICAgaWYgKERFVl9NT0RFICYmIHRoaXMucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGlzIFxcYENoaWxkUGFydFxcYCBoYXMgbm8gXFxgcGFyZW50Tm9kZVxcYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCBhY2NlcHQgYSB2YWx1ZS4gVGhpcyBsaWtlbHkgbWVhbnMgdGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgcGFydCB3YXMgbWFuaXB1bGF0ZWQgaW4gYW4gdW5zdXBwb3J0ZWQgd2F5IG91dHNpZGUgb2YgTGl0J3MgY29udHJvbCBzdWNoIHRoYXQgdGhlIHBhcnQncyBtYXJrZXIgbm9kZXMgd2VyZSBlamVjdGVkIGZyb20gRE9NLiBGb3IgZXhhbXBsZSwgc2V0dGluZyB0aGUgZWxlbWVudCdzIFxcYGlubmVySFRNTFxcYCBvciBcXGB0ZXh0Q29udGVudFxcYCBjYW4gZG8gdGhpcy5gKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCk7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIE5vbi1yZW5kZXJpbmcgY2hpbGQgdmFsdWVzLiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIGRvIG5vdCByZW5kZXJcbiAgICAgICAgICAgIC8vIGVtcHR5IHRleHQgbm9kZXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggcHJldmVudGluZyBkZWZhdWx0IDxzbG90PlxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgY29udGVudC5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBub3RoaW5nIHRvIGNoaWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHRoaXMuXyRlbmROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fJHBhcmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZVsnXyRsaXRUeXBlJCddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoREVWX01PREUgJiYgdGhpcy5vcHRpb25zPy5ob3N0ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQoYFtwcm9iYWJsZSBtaXN0YWtlOiByZW5kZXJlZCBhIHRlbXBsYXRlJ3MgaG9zdCBpbiBpdHNlbGYgYCArXG4gICAgICAgICAgICAgICAgICAgIGAoY29tbW9ubHkgY2F1c2VkIGJ5IHdyaXRpbmcgXFwke3RoaXN9IGluIGEgdGVtcGxhdGVdYCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBBdHRlbXB0ZWQgdG8gcmVuZGVyIHRoZSB0ZW1wbGF0ZSBob3N0YCwgdmFsdWUsIGBpbnNpZGUgaXRzZWxmLiBUaGlzIGlzIGFsbW9zdCBhbHdheXMgYSBtaXN0YWtlLCBhbmQgaW4gZGV2IG1vZGUgYCwgYHdlIHJlbmRlciBzb21lIHdhcm5pbmcgdGV4dC4gSW4gcHJvZHVjdGlvbiBob3dldmVyLCB3ZSdsbCBgLCBgcmVuZGVyIGl0LCB3aGljaCB3aWxsIHVzdWFsbHkgcmVzdWx0IGluIGFuIGVycm9yLCBhbmQgc29tZXRpbWVzIGAsIGBpbiB0aGUgZWxlbWVudCBkaXNhcHBlYXJpbmcgZnJvbSB0aGUgRE9NLmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgdGhpcy5fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2luc2VydChub2RlKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuXyRlbmROb2RlKTtcbiAgICB9XG4gICAgX2NvbW1pdE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyAmJlxuICAgICAgICAgICAgICAgIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGVOYW1lID0gdGhpcy5fJHN0YXJ0Tm9kZS5wYXJlbnROb2RlPy5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Tm9kZU5hbWUgPT09ICdTVFlMRScgfHwgcGFyZW50Tm9kZU5hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gJ0ZvcmJpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzdHlsZSBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIHN0eWxlIGluamVjdGlvbiBhdHRhY2tzIGNhbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBleGZpbHRyYXRlIGRhdGEgYW5kIHNwb29mIFVJcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgQ29uc2lkZXIgaW5zdGVhZCB1c2luZyBjc3NcXGAuLi5cXGAgbGl0ZXJhbHMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdG8gY29tcG9zZSBzdHlsZXMsIGFuZCBkbyBkeW5hbWljIHN0eWxpbmcgd2l0aCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIDo6cGFydHMsIDxzbG90PnMsIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGFuZCBieSBtdXRhdGluZyB0aGUgRE9NIHJhdGhlciB0aGFuIHN0eWxlc2hlZXRzLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYExpdCBkb2VzIG5vdCBzdXBwb3J0IGJpbmRpbmcgaW5zaWRlIHNjcmlwdCBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIGl0IGNvdWxkIGFsbG93IGFyYml0cmFyeSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBjb2RlIGV4ZWN1dGlvbi5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm9kZScsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdGhpcy5faW5zZXJ0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29tbWl0VGV4dCh2YWx1ZSkge1xuICAgICAgICAvLyBJZiB0aGUgY29tbWl0dGVkIHZhbHVlIGlzIGEgcHJpbWl0aXZlIGl0IG1lYW5zIHdlIGNhbGxlZCBfY29tbWl0VGV4dCBvblxuICAgICAgICAvLyB0aGUgcHJldmlvdXMgcmVuZGVyLCBhbmQgd2Uga25vdyB0aGF0IHRoaXMuXyRzdGFydE5vZGUubmV4dFNpYmxpbmcgaXMgYVxuICAgICAgICAvLyBUZXh0IG5vZGUuIFdlIGNhbiBub3cganVzdCByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgKC5kYXRhKSBvZiB0aGUgbm9kZS5cbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZyAmJlxuICAgICAgICAgICAgaXNQcmltaXRpdmUodGhpcy5fJGNvbW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKG5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUodGV4dE5vZGUpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gc2V0dGluZyB0ZXh0IGNvbnRlbnQsIGZvciBzZWN1cml0eSBwdXJwb3NlcyBpdCBtYXR0ZXJzIGEgbG90XG4gICAgICAgICAgICAgICAgLy8gd2hhdCB0aGUgcGFyZW50IGlzLiBGb3IgZXhhbXBsZSwgPHN0eWxlPiBhbmQgPHNjcmlwdD4gbmVlZCB0byBiZVxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZWQgd2l0aCBjYXJlLCB3aGlsZSA8c3Bhbj4gZG9lcyBub3QuIFNvIGZpcnN0IHdlIG5lZWQgdG8gcHV0IGFcbiAgICAgICAgICAgICAgICAvLyB0ZXh0IG5vZGUgaW50byB0aGUgZG9jdW1lbnQsIHRoZW4gd2UgY2FuIHNhbml0aXplIGl0cyBjb250ZW50LlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcih0ZXh0Tm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IHRleHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRleHROb2RlLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICBjb25zdCB7IHZhbHVlcywgWydfJGxpdFR5cGUkJ106IHR5cGUgfSA9IHJlc3VsdDtcbiAgICAgICAgLy8gSWYgJGxpdFR5cGUkIGlzIGEgbnVtYmVyLCByZXN1bHQgaXMgYSBwbGFpbiBUZW1wbGF0ZVJlc3VsdCBhbmQgd2UgZ2V0XG4gICAgICAgIC8vIHRoZSB0ZW1wbGF0ZSBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZS4gSWYgbm90LCByZXN1bHQgaXMgYVxuICAgICAgICAvLyBDb21waWxlZFRlbXBsYXRlUmVzdWx0IGFuZCBfJGxpdFR5cGUkIGlzIGEgQ29tcGlsZWRUZW1wbGF0ZSBhbmQgd2UgbmVlZFxuICAgICAgICAvLyB0byBjcmVhdGUgdGhlIDx0ZW1wbGF0ZT4gZWxlbWVudCB0aGUgZmlyc3QgdGltZSB3ZSBzZWUgaXQuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdHlwZW9mIHR5cGUgPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IHRoaXMuXyRnZXRUZW1wbGF0ZShyZXN1bHQpXG4gICAgICAgICAgICA6ICh0eXBlLmVsID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAodHlwZS5lbCA9IFRlbXBsYXRlLmNyZWF0ZUVsZW1lbnQodHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcodHlwZS5oLCB0eXBlLmhbMF0pLCB0aGlzLm9wdGlvbnMpKSxcbiAgICAgICAgICAgICAgICB0eXBlKTtcbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZT8uXyR0ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ3RlbXBsYXRlIHVwZGF0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLl8kY29tbWl0dGVkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzOiB0aGlzLl8kY29tbWl0dGVkVmFsdWUuXyRwYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkIGFuZCB1cGRhdGVkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBPdmVycmlkZGVuIHZpYSBgbGl0SHRtbFBvbHlmaWxsU3VwcG9ydGAgdG8gcHJvdmlkZSBwbGF0Zm9ybSBzdXBwb3J0LlxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJGdldFRlbXBsYXRlKHJlc3VsdCkge1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUNhY2hlLnNldChyZXN1bHQuc3RyaW5ncywgKHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIF9jb21taXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgICAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAgICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgICAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuICAgICAgICAvLyBJZiB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgICAgICAvLyBpdGVyYWJsZSBhbmQgdmFsdWUgd2lsbCBjb250YWluIHRoZSBDaGlsZFBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIHJlbmRlci4gSWYgdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAgICAgLy8gYXJyYXkgZm9yIENoaWxkUGFydHMuXG4gICAgICAgIGlmICghaXNBcnJheSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgICAgICAvLyBpdGVtcyBmcm9tIGEgcHJldmlvdXMgcmVuZGVyXG4gICAgICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpdGVtUGFydDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocGFydEluZGV4ID09PSBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiB0ZXN0IHBlcmYgaW1wYWN0IG9mIGFsd2F5cyBjcmVhdGluZyB0d28gcGFydHNcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIHNoYXJpbmcgcGFydHMgYmV0d2VlbiBub2Rlc1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy8xMjY2XG4gICAgICAgICAgICAgICAgaXRlbVBhcnRzLnB1c2goKGl0ZW1QYXJ0ID0gbmV3IENoaWxkUGFydCh0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLCB0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLCB0aGlzLCB0aGlzLm9wdGlvbnMpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgICAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1QYXJ0Ll8kc2V0VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gaXRlbVBhcnRzIGFsd2F5cyBoYXZlIGVuZCBub2Rlc1xuICAgICAgICAgICAgdGhpcy5fJGNsZWFyKGl0ZW1QYXJ0ICYmIHdyYXAoaXRlbVBhcnQuXyRlbmROb2RlKS5uZXh0U2libGluZywgcGFydEluZGV4KTtcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbm9kZXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIFBhcnQgZnJvbSB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXJ0IFN0YXJ0IG5vZGUgdG8gY2xlYXIgZnJvbSwgZm9yIGNsZWFyaW5nIGEgc3Vic2V0IG9mIHRoZSBwYXJ0J3NcbiAgICAgKiAgICAgRE9NICh1c2VkIHdoZW4gdHJ1bmNhdGluZyBpdGVyYWJsZXMpXG4gICAgICogQHBhcmFtIGZyb20gIFdoZW4gYHN0YXJ0YCBpcyBzcGVjaWZpZWQsIHRoZSBpbmRleCB3aXRoaW4gdGhlIGl0ZXJhYmxlIGZyb21cbiAgICAgKiAgICAgd2hpY2ggQ2hpbGRQYXJ0cyBhcmUgYmVpbmcgcmVtb3ZlZCwgdXNlZCBmb3IgZGlzY29ubmVjdGluZyBkaXJlY3RpdmVzXG4gICAgICogICAgIGluIHRob3NlIFBhcnRzLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgXyRjbGVhcihzdGFydCA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcsIGZyb20pIHtcbiAgICAgICAgdGhpcy5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPy4oZmFsc2UsIHRydWUsIGZyb20pO1xuICAgICAgICB3aGlsZSAoc3RhcnQgIT09IHRoaXMuXyRlbmROb2RlKSB7XG4gICAgICAgICAgICAvLyBUaGUgbm9uLW51bGwgYXNzZXJ0aW9uIGlzIHNhZmUgYmVjYXVzZSBpZiBfJHN0YXJ0Tm9kZS5uZXh0U2libGluZyBpc1xuICAgICAgICAgICAgLy8gbnVsbCwgdGhlbiBfJGVuZE5vZGUgaXMgYWxzbyBudWxsLCBhbmQgd2Ugd291bGQgbm90IGhhdmUgZW50ZXJlZCB0aGlzXG4gICAgICAgICAgICAvLyBsb29wLlxuICAgICAgICAgICAgY29uc3QgbiA9IHdyYXAoc3RhcnQpLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgd3JhcChzdGFydCkucmVtb3ZlKCk7XG4gICAgICAgICAgICBzdGFydCA9IG47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50YXRpb24gb2YgUm9vdFBhcnQncyBgaXNDb25uZWN0ZWRgLiBOb3RlIHRoYXQgdGhpcyBtZXRob2RcbiAgICAgKiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYFJvb3RQYXJ0YHMgKHRoZSBgQ2hpbGRQYXJ0YCByZXR1cm5lZCBmcm9tIGFcbiAgICAgKiB0b3AtbGV2ZWwgYHJlbmRlcigpYCBjYWxsKS4gSXQgaGFzIG5vIGVmZmVjdCBvbiBub24tcm9vdCBDaGlsZFBhcnRzLlxuICAgICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIHRvIHNldFxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNldENvbm5lY3RlZChpc0Nvbm5lY3RlZCkge1xuICAgICAgICBpZiAodGhpcy5fJHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcbiAgICAgICAgICAgIHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGlzQ29ubmVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0LnNldENvbm5lY3RlZCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbiBhICcgK1xuICAgICAgICAgICAgICAgICdSb290UGFydCByZXR1cm5lZCBmcm9tIHJlbmRlcigpLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQXR0cmlidXRlUGFydCB7XG4gICAgZ2V0IHRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gQVRUUklCVVRFX1BBUlQ7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKHN0cmluZ3MubGVuZ3RoID4gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3IEFycmF5KHN0cmluZ3MubGVuZ3RoIC0gMSkuZmlsbChuZXcgU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoaXMgcGFydCBieSByZXNvbHZpbmcgdGhlIHZhbHVlIGZyb20gcG9zc2libHkgbXVsdGlwbGVcbiAgICAgKiB2YWx1ZXMgYW5kIHN0YXRpYyBzdHJpbmdzIGFuZCBjb21taXR0aW5nIGl0IHRvIHRoZSBET00uXG4gICAgICogSWYgdGhpcyBwYXJ0IGlzIHNpbmdsZS12YWx1ZWQsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIHVuZGVmaW5lZCwgYW5kIHRoZVxuICAgICAqIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIHZhbHVlIGFyZ3VtZW50LiBJZiB0aGlzIHBhcnQgaXNcbiAgICAgKiBtdWx0aS12YWx1ZSwgYHRoaXMuX3N0cmluZ3NgIHdpbGwgYmUgZGVmaW5lZCwgYW5kIHRoZSBtZXRob2QgaXMgY2FsbGVkXG4gICAgICogd2l0aCB0aGUgdmFsdWUgYXJyYXkgb2YgdGhlIHBhcnQncyBvd25pbmcgVGVtcGxhdGVJbnN0YW5jZSwgYW5kIGFuIG9mZnNldFxuICAgICAqIGludG8gdGhlIHZhbHVlIGFycmF5IGZyb20gd2hpY2ggdGhlIHZhbHVlcyBzaG91bGQgYmUgcmVhZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBvdmVybG9hZGVkIHRoaXMgd2F5IHRvIGVsaW1pbmF0ZSBzaG9ydC1saXZlZCBhcnJheSBzbGljZXNcbiAgICAgKiBvZiB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdmFsdWVzLCBhbmQgYWxsb3cgYSBmYXN0LXBhdGggZm9yIHNpbmdsZS12YWx1ZWRcbiAgICAgKiBwYXJ0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgcGFydCB2YWx1ZSwgb3IgYW4gYXJyYXkgb2YgdmFsdWVzIGZvciBtdWx0aS12YWx1ZWQgcGFydHNcbiAgICAgKiBAcGFyYW0gdmFsdWVJbmRleCB0aGUgaW5kZXggdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgZnJvbS4gYHVuZGVmaW5lZGAgZm9yXG4gICAgICogICBzaW5nbGUtdmFsdWVkIHBhcnRzXG4gICAgICogQHBhcmFtIG5vQ29tbWl0IGNhdXNlcyB0aGUgcGFydCB0byBub3QgY29tbWl0IGl0cyB2YWx1ZSB0byB0aGUgRE9NLiBVc2VkXG4gICAgICogICBpbiBoeWRyYXRpb24gdG8gcHJpbWUgYXR0cmlidXRlIHBhcnRzIHdpdGggdGhlaXIgZmlyc3QtcmVuZGVyZWQgdmFsdWUsXG4gICAgICogICBidXQgbm90IHNldCB0aGUgYXR0cmlidXRlLCBhbmQgaW4gU1NSIHRvIG5vLW9wIHRoZSBET00gb3BlcmF0aW9uIGFuZFxuICAgICAqICAgY2FwdHVyZSB0aGUgdmFsdWUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfJHNldFZhbHVlKHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQgPSB0aGlzLCB2YWx1ZUluZGV4LCBub0NvbW1pdCkge1xuICAgICAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICAvLyBXaGV0aGVyIGFueSBvZiB0aGUgdmFsdWVzIGhhcyBjaGFuZ2VkLCBmb3IgZGlydHktY2hlY2tpbmdcbiAgICAgICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RyaW5ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBTaW5nbGUtdmFsdWUgYmluZGluZyBjYXNlXG4gICAgICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCwgMCk7XG4gICAgICAgICAgICBjaGFuZ2UgPVxuICAgICAgICAgICAgICAgICFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRpb24gY2FzZVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHN0cmluZ3NbMF07XG4gICAgICAgICAgICBsZXQgaSwgdjtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIHYgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlc1t2YWx1ZUluZGV4ICsgaV0sIGRpcmVjdGl2ZVBhcmVudCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyLXByb3ZpZGVkIHZhbHVlIGlzIGBub0NoYW5nZWAsIHVzZSB0aGUgcHJldmlvdXMgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdiA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhbmdlIHx8PVxuICAgICAgICAgICAgICAgICAgICAhaXNQcmltaXRpdmUodikgfHwgdiAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlW2ldO1xuICAgICAgICAgICAgICAgIGlmICh2ID09PSBub3RoaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbm90aGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gKHYgPz8gJycpICsgc3RyaW5nc1tpICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGFsd2F5cyByZWNvcmQgZWFjaCB2YWx1ZSwgZXZlbiBpZiBvbmUgaXMgYG5vdGhpbmdgLCBmb3IgZnV0dXJlXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWVbaV0gPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2UgJiYgIW5vQ29tbWl0KSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9jb21taXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKHRoaXMuZWxlbWVudCwgdGhpcy5uYW1lLCAnYXR0cmlidXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlID8/ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBhdHRyaWJ1dGUnLFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAodmFsdWUgPz8gJycpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBQUk9QRVJUWV9QQVJUO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2NvbW1pdFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCh0aGlzLmVsZW1lbnQsIHRoaXMubmFtZSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3Nhbml0aXplcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBwcm9wZXJ0eScsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdGhpcy5lbGVtZW50W3RoaXMubmFtZV0gPSB2YWx1ZSA9PT0gbm90aGluZyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbn1cbmNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHlwZSA9IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfY29tbWl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBib29sZWFuIGF0dHJpYnV0ZScsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogISEodmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmcpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB3cmFwKHRoaXMuZWxlbWVudCkudG9nZ2xlQXR0cmlidXRlKHRoaXMubmFtZSwgISF2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZyk7XG4gICAgfVxufVxuY2xhc3MgRXZlbnRQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgcGFyZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHlwZSA9IEVWRU5UX1BBUlQ7XG4gICAgICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIFxcYDwke2VsZW1lbnQubG9jYWxOYW1lfT5cXGAgaGFzIGEgXFxgQCR7bmFtZX09Li4uXFxgIGxpc3RlbmVyIHdpdGggYCArXG4gICAgICAgICAgICAgICAgJ2ludmFsaWQgY29udGVudC4gRXZlbnQgbGlzdGVuZXJzIGluIHRlbXBsYXRlcyBtdXN0IGhhdmUgZXhhY3RseSAnICtcbiAgICAgICAgICAgICAgICAnb25lIGV4cHJlc3Npb24gYW5kIG5vIHN1cnJvdW5kaW5nIHRleHQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRXZlbnRQYXJ0IGRvZXMgbm90IHVzZSB0aGUgYmFzZSBfJHNldFZhbHVlL19yZXNvbHZlVmFsdWUgaW1wbGVtZW50YXRpb25cbiAgICAvLyBzaW5jZSB0aGUgZGlydHkgY2hlY2tpbmcgaXMgbW9yZSBjb21wbGV4XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF8kc2V0VmFsdWUobmV3TGlzdGVuZXIsIGRpcmVjdGl2ZVBhcmVudCA9IHRoaXMpIHtcbiAgICAgICAgbmV3TGlzdGVuZXIgPVxuICAgICAgICAgICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCBuZXdMaXN0ZW5lciwgZGlyZWN0aXZlUGFyZW50LCAwKSA/PyBub3RoaW5nO1xuICAgICAgICBpZiAobmV3TGlzdGVuZXIgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkTGlzdGVuZXIgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWU7XG4gICAgICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgbm90aGluZyBvciBhbnkgb3B0aW9ucyBjaGFuZ2Ugd2UgaGF2ZSB0byByZW1vdmUgdGhlXG4gICAgICAgIC8vIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSAobmV3TGlzdGVuZXIgPT09IG5vdGhpbmcgJiYgb2xkTGlzdGVuZXIgIT09IG5vdGhpbmcpIHx8XG4gICAgICAgICAgICBuZXdMaXN0ZW5lci5jYXB0dXJlICE9PVxuICAgICAgICAgICAgICAgIG9sZExpc3RlbmVyLmNhcHR1cmUgfHxcbiAgICAgICAgICAgIG5ld0xpc3RlbmVyLm9uY2UgIT09XG4gICAgICAgICAgICAgICAgb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT1cbiAgICAgICAgICAgICAgICBvbGRMaXN0ZW5lci5wYXNzaXZlO1xuICAgICAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdCBub3RoaW5nIGFuZCB3ZSByZW1vdmVkIHRoZSBsaXN0ZW5lciwgd2UgaGF2ZVxuICAgICAgICAvLyB0byBhZGQgdGhlIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICAgICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciAhPT0gbm90aGluZyAmJlxuICAgICAgICAgICAgKG9sZExpc3RlbmVyID09PSBub3RoaW5nIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcicsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3TGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyOiBzaG91bGRSZW1vdmVMaXN0ZW5lcixcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lcjogc2hvdWxkQWRkTGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgb2xkTGlzdGVuZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWUsIHRoaXMsIG9sZExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMubmFtZSwgdGhpcywgbmV3TGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmNhbGwodGhpcy5vcHRpb25zPy5ob3N0ID8/IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEVsZW1lbnRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy50eXBlID0gRUxFTUVOVF9QQVJUO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIF8kc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0byBlbGVtZW50IGJpbmRpbmcnLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgbWFuZ2xlZCBpbiB0aGVcbiAqIGNsaWVudCBzaWRlIGNvZGUsIHdlIGV4cG9ydCBhIF8kTEggb2JqZWN0IGNvbnRhaW5pbmcgdGhvc2UgbWVtYmVycyAob3JcbiAqIGhlbHBlciBtZXRob2RzIGZvciBhY2Nlc3NpbmcgcHJpdmF0ZSBmaWVsZHMgb2YgdGhvc2UgbWVtYmVycyksIGFuZCB0aGVuXG4gKiByZS1leHBvcnQgdGhlbSBmb3IgdXNlIGluIGxpdC1zc3IuIFRoaXMga2VlcHMgbGl0LXNzciBhZ25vc3RpYyB0byB3aGV0aGVyIHRoZVxuICogY2xpZW50LXNpZGUgY29kZSBpcyBiZWluZyB1c2VkIGluIGBkZXZgIG1vZGUgb3IgYHByb2RgIG1vZGUuXG4gKlxuICogVGhpcyBoYXMgYSB1bmlxdWUgbmFtZSwgdG8gZGlzYW1iaWd1YXRlIGl0IGZyb20gcHJpdmF0ZSBleHBvcnRzIGluXG4gKiBsaXQtZWxlbWVudCwgd2hpY2ggcmUtZXhwb3J0cyBhbGwgb2YgbGl0LWh0bWwuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF8kTEggPSB7XG4gICAgLy8gVXNlZCBpbiBsaXQtc3NyXG4gICAgX2JvdW5kQXR0cmlidXRlU3VmZml4OiBib3VuZEF0dHJpYnV0ZVN1ZmZpeCxcbiAgICBfbWFya2VyOiBtYXJrZXIsXG4gICAgX21hcmtlck1hdGNoOiBtYXJrZXJNYXRjaCxcbiAgICBfSFRNTF9SRVNVTFQ6IEhUTUxfUkVTVUxULFxuICAgIF9nZXRUZW1wbGF0ZUh0bWw6IGdldFRlbXBsYXRlSHRtbCxcbiAgICAvLyBVc2VkIGluIHRlc3RzIGFuZCBwcml2YXRlLXNzci1zdXBwb3J0XG4gICAgX1RlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2UsXG4gICAgX2lzSXRlcmFibGU6IGlzSXRlcmFibGUsXG4gICAgX3Jlc29sdmVEaXJlY3RpdmU6IHJlc29sdmVEaXJlY3RpdmUsXG4gICAgX0NoaWxkUGFydDogQ2hpbGRQYXJ0LFxuICAgIF9BdHRyaWJ1dGVQYXJ0OiBBdHRyaWJ1dGVQYXJ0LFxuICAgIF9Cb29sZWFuQXR0cmlidXRlUGFydDogQm9vbGVhbkF0dHJpYnV0ZVBhcnQsXG4gICAgX0V2ZW50UGFydDogRXZlbnRQYXJ0LFxuICAgIF9Qcm9wZXJ0eVBhcnQ6IFByb3BlcnR5UGFydCxcbiAgICBfRWxlbWVudFBhcnQ6IEVsZW1lbnRQYXJ0LFxufTtcbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbmNvbnN0IHBvbHlmaWxsU3VwcG9ydCA9IERFVl9NT0RFXG4gICAgPyBnbG9iYWwubGl0SHRtbFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgICA6IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oVGVtcGxhdGUsIENoaWxkUGFydCk7XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuKGdsb2JhbC5saXRIdG1sVmVyc2lvbnMgPz89IFtdKS5wdXNoKCczLjMuMScpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5saXRIdG1sVmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKCdtdWx0aXBsZS12ZXJzaW9ucycsIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBgICtcbiAgICAgICAgICAgIGBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGlzIG5vdCByZWNvbW1lbmRlZC5gKTtcbiAgICB9KTtcbn1cbi8qKlxuICogUmVuZGVycyBhIHZhbHVlLCB1c3VhbGx5IGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQsIHRvIHRoZSBjb250YWluZXIuXG4gKlxuICogVGhpcyBleGFtcGxlIHJlbmRlcnMgdGhlIHRleHQgXCJIZWxsbywgWm9lIVwiIGluc2lkZSBhIHBhcmFncmFwaCB0YWcsIGFwcGVuZGluZ1xuICogaXQgdG8gdGhlIGNvbnRhaW5lciBgZG9jdW1lbnQuYm9keWAuXG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQnO1xuICpcbiAqIGNvbnN0IG5hbWUgPSBcIlpvZVwiO1xuICogcmVuZGVyKGh0bWxgPHA+SGVsbG8sICR7bmFtZX0hPC9wPmAsIGRvY3VtZW50LmJvZHkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlIEFueSBbcmVuZGVyYWJsZVxuICogICB2YWx1ZV0oaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNjaGlsZC1leHByZXNzaW9ucyksXG4gKiAgIHR5cGljYWxseSBhIHtAbGlua2NvZGUgVGVtcGxhdGVSZXN1bHR9IGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZ1xuICogICBsaWtlIHtAbGlua2NvZGUgaHRtbH0gb3Ige0BsaW5rY29kZSBzdmd9LlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBjb250YWluZXIgdG8gcmVuZGVyIHRvLiBUaGUgZmlyc3QgcmVuZGVyIHdpbGwgYXBwZW5kXG4gKiAgIHRoZSByZW5kZXJlZCB2YWx1ZSB0byB0aGUgY29udGFpbmVyLCBhbmQgc3Vic2VxdWVudCByZW5kZXJzIHdpbGxcbiAqICAgZWZmaWNpZW50bHkgdXBkYXRlIHRoZSByZW5kZXJlZCB2YWx1ZSBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXNcbiAqICAgcHJldmlvdXNseSByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFNlZSB7QGxpbmtjb2RlIFJlbmRlck9wdGlvbnN9IGZvciBvcHRpb25zIGRvY3VtZW50YXRpb24uXG4gKiBAc2VlXG4gKiB7QGxpbmsgaHR0cHM6Ly9saXQuZGV2L2RvY3MvbGlicmFyaWVzL3N0YW5kYWxvbmUtdGVtcGxhdGVzLyNyZW5kZXJpbmctbGl0LWh0bWwtdGVtcGxhdGVzfCBSZW5kZXJpbmcgTGl0IEhUTUwgVGVtcGxhdGVzfVxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHZhbHVlLCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoREVWX01PREUgJiYgY29udGFpbmVyID09IG51bGwpIHtcbiAgICAgICAgLy8gR2l2ZSBhIGNsZWFyZXIgZXJyb3IgbWVzc2FnZSB0aGFuXG4gICAgICAgIC8vICAgICBVbmNhdWdodCBUeXBlRXJyb3I6IENhbm5vdCByZWFkIHByb3BlcnRpZXMgb2YgbnVsbCAocmVhZGluZ1xuICAgICAgICAvLyAgICAgJ18kbGl0UGFydCQnKVxuICAgICAgICAvLyB3aGljaCByZWFkcyBsaWtlIGFuIGludGVybmFsIExpdCBlcnJvci5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIGNvbnRhaW5lciB0byByZW5kZXIgaW50byBtYXkgbm90IGJlICR7Y29udGFpbmVyfWApO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJJZCA9IERFVl9NT0RFID8gZGVidWdMb2dSZW5kZXJJZCsrIDogMDtcbiAgICBjb25zdCBwYXJ0T3duZXJOb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IGNvbnRhaW5lcjtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IHBhcnQgPSBwYXJ0T3duZXJOb2RlWydfJGxpdFBhcnQkJ107XG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInLFxuICAgICAgICAgICAgaWQ6IHJlbmRlcklkLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgfSk7XG4gICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbmROb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IG51bGw7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHBhcnRPd25lck5vZGVbJ18kbGl0UGFydCQnXSA9IHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIGVuZE5vZGUpLCBlbmROb2RlLCB1bmRlZmluZWQsIG9wdGlvbnMgPz8ge30pO1xuICAgIH1cbiAgICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWUpO1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnZW5kIHJlbmRlcicsXG4gICAgICAgICAgICBpZDogcmVuZGVySWQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICB9KTtcbiAgICByZXR1cm4gcGFydDtcbn07XG5pZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgcmVuZGVyLnNldFNhbml0aXplciA9IHNldFNhbml0aXplcjtcbiAgICByZW5kZXIuY3JlYXRlU2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyO1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICByZW5kZXIuX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlID1cbiAgICAgICAgICAgIF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXAiLCJleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvc3RhdGUuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvZXZlbnQtb3B0aW9ucy5qc1wiO2V4cG9ydCpmcm9tXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9xdWVyeS5qc1wiO2V4cG9ydCpmcm9tXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9xdWVyeS1hbGwuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYXN5bmMuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtZWxlbWVudHMuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtbm9kZXMuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29yYXRvcnMuanMubWFwXG4iLCJpbXBvcnRcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO2ltcG9ydFwibGl0LWh0bWxcIjtleHBvcnQqZnJvbVwibGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanNcIjtleHBvcnQqZnJvbVwibGl0LWh0bWwvaXMtc2VydmVyLmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiY2xhc3MgVHlwZWRCdXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBvbih0eXBlLCBmbikge1xuICAgICAgICBpZiAoIXRoaXMuaGFuZGxlcnMuaGFzKHR5cGUpKVxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQodHlwZSwgbmV3IFNldCgpKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5nZXQodHlwZSkuYWRkKGZuKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHRoaXMub2ZmKHR5cGUsIGZuKTtcbiAgICB9XG4gICAgb25jZSh0eXBlLCBmbikge1xuICAgICAgICBjb25zdCBvZmYgPSB0aGlzLm9uKHR5cGUsIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBvZmYoKTtcbiAgICAgICAgICAgIGZuKHBheWxvYWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9mZjtcbiAgICB9XG4gICAgb2ZmKHR5cGUsIGZuKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZ2V0KHR5cGUpPy5kZWxldGUoZm4pO1xuICAgIH1cbiAgICBlbWl0KHR5cGUsIHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgZm5zID0gdGhpcy5oYW5kbGVycy5nZXQodHlwZSk7XG4gICAgICAgIGlmICghZm5zIHx8IGZucy5zaXplID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBDb3B5IHRvIGF2b2lkIG11dGF0aW9uIGR1cmluZyBpdGVyYXRpb25cbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiBBcnJheS5mcm9tKGZucykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm4ocGF5bG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gS2VlcCBvdGhlciBsaXN0ZW5lcnMgcnVubmluZyBldmVuIGlmIG9uZSBmYWlsc1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW2J1cy5lbWl0XSBsaXN0ZW5lciBlcnJvciBmb3IgXCIke1N0cmluZyh0eXBlKX1cIjpgLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFByb21pc2UtYmFzZWQgY29udmVuaWVuY2UgKHJlc29sdmVzIG9uIG5leHQgbWF0Y2hpbmcgZXZlbnQpXG4gICAgd2FpdEZvcih0eXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9mZiA9IHRoaXMub24odHlwZSwgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICBvZmYoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBheWxvYWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBPcHRpb25hbDogY2xlYXIgYWxsIGxpc3RlbmVycyAodXNlIGNhcmVmdWxseSlcbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5jbGVhcigpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBidXMgPSBuZXcgVHlwZWRCdXMoKTtcbmV4cG9ydCBjb25zdCBjaWQgPSAoKSA9PiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcbi8vIFJlLWV4cG9ydCB0eXBlcyBzbyBvdGhlciBtb2R1bGVzIGNhbiBgaW1wb3J0IHsgYnVzLCB0eXBlIEJ1c0V2ZW50cyB9IGZyb20gJ3NyYy9idXMnYFxuLy8gZXhwb3J0ICogZnJvbSAnLi9ldmVudHMnO1xuIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IEFzdHJvVmlld2VyQ29udHJvbGxlciB9IGZyb20gJy4vQXN0cm9WaWV3ZXJDb250cm9sbGVyJztcbmNvbnN0IHN0YXRlQW55ID0gc3RhdGU7XG5sZXQgQXN0cm9WaWV3ZXIgPSBjbGFzcyBBc3Ryb1ZpZXdlciBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIHN0YXRpYyB7IHRoaXMuc3R5bGVzID0gY3NzIGBcbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB9XG5cbiAgICAucm9vdCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIH1gOyB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYXN0cm9TdGF0ZSA9IHtcbiAgICAgICAgICAgIGNlbnRyYWxSQURlZzogMCxcbiAgICAgICAgICAgIGNlbnRyYWxEZWNEZWc6IDAsXG4gICAgICAgICAgICBmb3Y6IDAsXG4gICAgICAgICAgICBlcXVhdG9yaWFsR3JpZFZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgaGVhbHBpeEdyaWRWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGluc2lkZVNwaGVyZTogZmFsc2UsXG4gICAgICAgICAgICBtb3VzZVJBRGVnOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtb3VzZURlY0RlZzogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIC8vIFVuaXF1ZSBpZCBwZXIgaW5zdGFuY2UgKG5vIGRlY29yYXRvciBuZWVkZWQpXG4gICAgICAgIHRoaXMuY2FudmFzSWQgPSBgYXN0cm8tY2FudmFzLSR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQXN0cm9WaWV3ZXJDb250cm9sbGVyKHRoaXMuYXN0cm9TdGF0ZSk7XG4gICAgfVxuICAgIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgICAgLy8gaGVyZSBET00gaXMgcmVhZHkg4oaSIHlvdSBjYW4gaW5pdCBXZWJHTCB3aXRoIHRoZSBjYW52YXNcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuY2FudmFzSWR9YCk7XG4gICAgICAgIGlmICghY2FudmFzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuY29udHJvbGxlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmluaXQodGhpcy5jYW52YXNJZCk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPGRpdiBjbGFzcz1cInJvb3RcIj5cbiAgICAgICAgPHNwYW4+QVNUUk8gVklFV0VSPC9zcGFuPlxuICAgICAgICA8Y2FudmFzIGlkPSR7dGhpcy5jYW52YXNJZH0+PC9jYW52YXM+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIH1cbn07XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSlcbl0sIEFzdHJvVmlld2VyLnByb3RvdHlwZSwgXCJhc3Ryb1N0YXRlXCIsIHZvaWQgMCk7XG5Bc3Ryb1ZpZXdlciA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ2FzdHJvLXZpZXdlcicpXG5dLCBBc3Ryb1ZpZXdlcik7XG5leHBvcnQgeyBBc3Ryb1ZpZXdlciB9O1xuIiwiaW1wb3J0IHsgQXN0cm9MaWJBZGFwdGVyIH0gZnJvbSBcIi4vYXN0cm8tbGliLXdyYXBwZXIvQXN0cm9MaWJBZGFwdGVyXCI7XG5pbXBvcnQgeyBBc3Ryb0xpYkNvbnRyb2xsZXIgfSBmcm9tIFwiLi9hc3Ryby1saWItd3JhcHBlci9Bc3Ryb0xpYkNvbnRyb2xsZXJcIjtcbmV4cG9ydCBjbGFzcyBBc3Ryb1ZpZXdlckNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGFzdHJvU3RhdGUpIHtcbiAgICAgICAgdGhpcy5jYW52YXNJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuYXN0cm9TdGF0ZSA9IGFzdHJvU3RhdGU7XG4gICAgfVxuICAgIGluaXQoY2FudmFzSWQpIHtcbiAgICAgICAgdGhpcy5jYW52YXNJZCA9IGNhbnZhc0lkO1xuICAgICAgICBpZiAoIXRoaXMuY2FudmFzSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGFzdHJvTGliQVBJID0gbmV3IEFzdHJvTGliQWRhcHRlcih0aGlzLmNhbnZhc0lkKTsgLy8gdHdlYWsgaWYgeW91ciBhZGFwdGVyIGRpZmZlcnNcbiAgICAgICAgY29uc3QgYXN0cm9MaWJDb250cm9sbGVyID0gbmV3IEFzdHJvTGliQ29udHJvbGxlcihhc3Ryb0xpYkFQSSk7XG4gICAgICAgIGFzdHJvTGliQ29udHJvbGxlci5tb3VudCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFzdHJvVmlld2VyIH0gZnJvbSAnYXN0cm92aWV3ZXInO1xuZXhwb3J0IGNsYXNzIEFzdHJvTGliQWRhcHRlciB7XG4gICAgY29uc3RydWN0b3IoY2FudmFzRG9tSWQpIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbGlzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8vIC0tLS0gSUFzdHJvVmlld2VyQVBJIGltcGxlbWVudGF0aW9uIC0tLS1cbiAgICAgICAgdGhpcy52ZXJzaW9uID0gJ2Rldic7XG4gICAgICAgIHRoaXMuaW5pdChjYW52YXNEb21JZCk7XG4gICAgICAgIHRoaXMubGFzdEZvdiA9IHRoaXMuZ2V0U3RhdGUoKS5mb3Y7XG4gICAgICAgIHRoaXMubm90aWZ5KCk7XG4gICAgfVxuICAgIGluaXQoY2FudmFzRG9tSWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luaXRpYWxpc2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCBjYW52YXMgaWQgdG8gdGhlIGNvbnN0cnVjdG9yIG9mIEFzdHJvVmlld2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIgPSBuZXcgQXN0cm9WaWV3ZXIoY2FudmFzRG9tSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLnZpZXdlci5nZXREZWZhdWx0SGlQU1VSTCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpcHNVcmwgPSBiYXNlVXJsLmVuZHNXaXRoKCcvJykgPyBiYXNlVXJsIDogYmFzZVVybCArICcvJztcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5sb2FkSGlQUyhoaXBzVXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5ydW4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RGb3YgPSB0aGlzLnZpZXdlcj8uZ2V0Rm9WKCkubWluRm9WO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdENlbnRyYWxSQURlZyA9IHRoaXMudmlld2VyPy5nZXRDZW50ZXJDb29yZGluYXRlcygpPy5hc3Ryb0RlZy5yYTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDZW50cmFsRGVjRGVnID0gdGhpcy52aWV3ZXI/LmdldENlbnRlckNvb3JkaW5hdGVzKCk/LmFzdHJvRGVnLmRlYztcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RNb3VzZVJBRGVnID0gdGhpcy52aWV3ZXI/LmdldENvb3JkaW5hdGVzRnJvbU1vdXNlKCk/LmFzdHJvRGVnLnJhO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdE1vdXNlRGVjRGVnID0gdGhpcy52aWV3ZXI/LmdldENvb3JkaW5hdGVzRnJvbU1vdXNlKCk/LmFzdHJvRGVnLmRlYztcbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNEb21JZCk7XG4gICAgICAgICAgICAgICAgY2FudmFzPy5hZGRFdmVudExpc3RlbmVyKCdjYW1lcmFDaGFuZ2VkJywgKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGV2KVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGZvdkRlZywgcG9zaXRpb24sIHZNYXRyaXgsIHBNYXRyaXgsIHRpbWVzdGFtcCwgY2VudHJhbFBvaW50LCBtb3VzZUhvdmVyUG9pbnQgfSA9IGV2LmRldGFpbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlJZkNoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FzdHJvVmlld2VyIGJvb3QgZmFpbGVkOicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICByZXF1aXJlVmlld2VyKCkge1xuICAgICAgICBjb25zdCB2ID0gdGhpcy52aWV3ZXI7XG4gICAgICAgIGlmICghdilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFzdHJvLXZpZXdlciBpcyB1bmRlZmluZWRcIik7XG4gICAgICAgIHJldHVybiB2OyAvLyBOb3cgdHlwZWQgYXMgbm9uLW51bGwgaW4gdGhlIGNhbGxlciB2aWEgbG9jYWwgY29uc3RcbiAgICB9XG4gICAgcmVxdWlyZUNhdGFsb2d1ZUdMKGUpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBlLmFzdHJvdmlld2VyR2xPYmo7XG4gICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3Ryb0VudGl0eSBoYXMgbm8gR0wgb2JqZWN0XCIpO1xuICAgICAgICBpZiAoZ2wuX2tpbmQgIT09IFwiQ2F0YWxvZ3VlR0xcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgYSBDYXRhbG9ndWVHTCwgZ290IGEgRm9vdHByaW50U2V0R0xcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH1cbiAgICByZXF1aXJlRm9vdHByaW50U2V0R0woZSkge1xuICAgICAgICBjb25zdCBnbCA9IGUuYXN0cm92aWV3ZXJHbE9iajtcbiAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzdHJvRW50aXR5IGhhcyBubyBHTCBvYmplY3RcIik7XG4gICAgICAgIGlmIChnbC5fa2luZCAhPT0gXCJGb290cHJpbnRTZXRHTFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBhIENhdGFsb2d1ZUdMLCBnb3QgYSBGb290cHJpbnRTZXRHTFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfVxuICAgIGNoYW5nZUNhdGFsb2d1ZVJBKGNhdGFsb2d1ZSwgbWV0YWRhdGFDb2x1bW5OYW1lKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICBjb25zdCBjYXRHTCA9IHRoaXMucmVxdWlyZUNhdGFsb2d1ZUdMKGNhdGFsb2d1ZSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB2aWV3ZXIuY2hhbmdlQ2F0YWxvZ3VlUkEoY2F0R0wsIG1ldGFkYXRhQ29sdW1uTmFtZSk7XG4gICAgICAgIGNhdGFsb2d1ZS5hc3Ryb3ZpZXdlckdsT2JqID0gdXBkYXRlZDtcbiAgICAgICAgcmV0dXJuIGNhdGFsb2d1ZTtcbiAgICB9XG4gICAgY2hhbmdlQ2F0YWxvZ3VlRGVjKGNhdGFsb2d1ZSwgbWV0YWRhdGFDb2x1bW5OYW1lKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICBjb25zdCBjYXRHTCA9IHRoaXMucmVxdWlyZUNhdGFsb2d1ZUdMKGNhdGFsb2d1ZSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB2aWV3ZXIuY2hhbmdlQ2F0YWxvZ3VlRGVjKGNhdEdMLCBtZXRhZGF0YUNvbHVtbk5hbWUpO1xuICAgICAgICBjYXRhbG9ndWUuYXN0cm92aWV3ZXJHbE9iaiA9IHVwZGF0ZWQ7XG4gICAgICAgIHJldHVybiBjYXRhbG9ndWU7XG4gICAgfVxuICAgIGNoYW5nZUNhdGFsb2d1ZUNvbG9yKGNhdGFsb2d1ZSwgaGV4Q29sb3IpIHtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gdGhpcy5yZXF1aXJlVmlld2VyKCk7XG4gICAgICAgIGNvbnN0IGNhdEdMID0gdGhpcy5yZXF1aXJlQ2F0YWxvZ3VlR0woY2F0YWxvZ3VlKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IHZpZXdlci5jaGFuZ2VDYXRhbG9ndWVDb2xvcihjYXRHTCwgaGV4Q29sb3IpO1xuICAgICAgICBjYXRhbG9ndWUuYXN0cm92aWV3ZXJHbE9iaiA9IHVwZGF0ZWQ7XG4gICAgICAgIHJldHVybiBjYXRhbG9ndWU7XG4gICAgfVxuICAgIHNldENhdGFsb2d1ZVNoYXBlSHVlKGNhdGFsb2d1ZSwgbWV0YWRhdGFDb2x1bW5OYW1lKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICBjb25zdCBjYXRHTCA9IHRoaXMucmVxdWlyZUNhdGFsb2d1ZUdMKGNhdGFsb2d1ZSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB2aWV3ZXIuc2V0Q2F0YWxvZ3VlU2hhcGVIdWUoY2F0R0wsIG1ldGFkYXRhQ29sdW1uTmFtZSk7XG4gICAgICAgIGNhdGFsb2d1ZS5hc3Ryb3ZpZXdlckdsT2JqID0gdXBkYXRlZDtcbiAgICAgICAgcmV0dXJuIGNhdGFsb2d1ZTtcbiAgICB9XG4gICAgc2V0Q2F0YWxvZ3VlU2hhcGVTaXplKGNhdGFsb2d1ZSwgbWV0YWRhdGFDb2x1bW5OYW1lKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICBjb25zdCBjYXRHTCA9IHRoaXMucmVxdWlyZUNhdGFsb2d1ZUdMKGNhdGFsb2d1ZSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB2aWV3ZXIuc2V0Q2F0YWxvZ3VlU2hhcGVTaXplKGNhdEdMLCBtZXRhZGF0YUNvbHVtbk5hbWUpO1xuICAgICAgICBjYXRhbG9ndWUuYXN0cm92aWV3ZXJHbE9iaiA9IHVwZGF0ZWQ7XG4gICAgICAgIHJldHVybiBjYXRhbG9ndWU7XG4gICAgfVxuICAgIGhpZGVDYXRhbG9ndWUoY2F0YWxvZ3VlLCBzaG93KSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICBjb25zdCBjYXRHTCA9IHRoaXMucmVxdWlyZUNhdGFsb2d1ZUdMKGNhdGFsb2d1ZSk7XG4gICAgICAgIHZpZXdlci5oaWRlQ2F0YWxvZ3VlKGNhdEdMLCBzaG93KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2F0YWxvZ3VlKGNhdGFsb2d1ZSkge1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSB0aGlzLnJlcXVpcmVWaWV3ZXIoKTtcbiAgICAgICAgY29uc3QgY2F0R0wgPSB0aGlzLnJlcXVpcmVDYXRhbG9ndWVHTChjYXRhbG9ndWUpO1xuICAgICAgICB2aWV3ZXIuZGVsZXRlQ2F0YWxvZ3VlKGNhdEdMKTtcbiAgICB9XG4gICAgZ290byhyYSwgZGVjLCBmb3YpIHtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gdGhpcy5yZXF1aXJlVmlld2VyKCk7XG4gICAgICAgIHZpZXdlci5nb1RvKHJhLCBkZWMpO1xuICAgIH1cbiAgICB0b2dnbGVIZWFscGl4R3JpZChvbikge1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSB0aGlzLnJlcXVpcmVWaWV3ZXIoKTtcbiAgICAgICAgdmlld2VyLnRvZ2dsZUhlYWxwaXhHcmlkKCk7XG4gICAgfVxuICAgIHRvZ2dsZUVxdWF0b3JpYWxHcmlkKG9uKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICB2aWV3ZXIudG9nZ2xlRXF1YXRvcmlhbEdyaWQoKTtcbiAgICB9XG4gICAgdG9nZ2xlSW5zaWRlU3BoZXJlKG9uKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICB2aWV3ZXIudG9nZ2xlSW5zaWRlU3BoZXJlKCk7XG4gICAgfVxuICAgIGFzeW5jIHNob3dDYXRhbG9ndWUoY2F0YWxvZ3VlKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICBjb25zdCBjYXRHTCA9IHRoaXMucmVxdWlyZUNhdGFsb2d1ZUdMKGNhdGFsb2d1ZSk7XG4gICAgICAgIHZpZXdlci5zaG93Q2F0YWxvZ3VlKGNhdEdMKTtcbiAgICB9XG4gICAgYXN5bmMgc2hvd0Zvb3RwcmludFNldChmc2V0KSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICBjb25zdCBmc2V0R0wgPSB0aGlzLnJlcXVpcmVGb290cHJpbnRTZXRHTChmc2V0KTtcbiAgICAgICAgdmlld2VyLnNob3dGb290cHJpbnRTZXQoZnNldEdMKTtcbiAgICB9XG4gICAgc2V0Rm9WKGZvdikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGdldEZvVlBvbHlnb24oKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICByZXR1cm4gdmlld2VyLmdldEZvVlBvbHlnb24oKTtcbiAgICB9XG4gICAgZ2V0Q2VudGVyQ29vcmRpbmF0ZXMoKSB7XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMucmVxdWlyZVZpZXdlcigpO1xuICAgICAgICByZXR1cm4gdmlld2VyLmdldENlbnRlckNvb3JkaW5hdGVzKCk7XG4gICAgfVxuICAgIGdldEZvVigpIHtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gdGhpcy5yZXF1aXJlVmlld2VyKCk7XG4gICAgICAgIHJldHVybiB2aWV3ZXIuZ2V0Rm9WKCk7XG4gICAgfVxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSB0aGlzLnJlcXVpcmVWaWV3ZXIoKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdmlld2VyLmdldENlbnRlckNvb3JkaW5hdGVzKCk7XG4gICAgICAgIGNvbnN0IGZvdiA9IHRoaXMudmlld2VyPy5nZXRGb1YoKS5taW5Gb1Y7XG4gICAgICAgIGNvbnN0IGVxdWF0b3JpYWxHcmlkVmlzaWJsZSA9ICh2aWV3ZXIuaXNFcXVhdG9yaWFsR3JpZFZpc2libGUoKSAmJiB0cnVlKSA/PyBmYWxzZTtcbiAgICAgICAgY29uc3QgaGVhbHBpeEdyaWRWaXNpYmxlID0gKHZpZXdlci5pc0hlYWxwaXhHcmlkVmlzaWJsZSgpICYmIHRydWUpID8/IGZhbHNlO1xuICAgICAgICBjb25zdCBpbnNpZGVTcGhlcmUgPSAodmlld2VyLmdldEluc2lkZVNwaGVyZSgpICYmIHRydWUpID8/IGZhbHNlO1xuICAgICAgICBjb25zdCBtb3VzZURlY0RlZyA9IHZpZXdlci5nZXRDb29yZGluYXRlc0Zyb21Nb3VzZSgpPy5hc3Ryb0RlZy5kZWM7XG4gICAgICAgIGNvbnN0IG1vdXNlUkFEZWcgPSB2aWV3ZXIuZ2V0Q29vcmRpbmF0ZXNGcm9tTW91c2UoKT8uYXN0cm9EZWcucmE7XG4gICAgICAgIGlmICghY2VudGVyIHx8ICFmb3YpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNlbnRyYWxSQURlZzogMCxcbiAgICAgICAgICAgICAgICBjZW50cmFsRGVjRGVnOiAwLFxuICAgICAgICAgICAgICAgIGZvdjogMCxcbiAgICAgICAgICAgICAgICBlcXVhdG9yaWFsR3JpZFZpc2libGU6IGVxdWF0b3JpYWxHcmlkVmlzaWJsZSxcbiAgICAgICAgICAgICAgICBoZWFscGl4R3JpZFZpc2libGU6IGhlYWxwaXhHcmlkVmlzaWJsZSxcbiAgICAgICAgICAgICAgICBpbnNpZGVTcGhlcmU6IGluc2lkZVNwaGVyZSxcbiAgICAgICAgICAgICAgICBtb3VzZVJBRGVnOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbW91c2VEZWNEZWc6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNlbnRyYWxSQURlZzogY2VudGVyLmFzdHJvRGVnLnJhLFxuICAgICAgICAgICAgY2VudHJhbERlY0RlZzogY2VudGVyLmFzdHJvRGVnLmRlYyxcbiAgICAgICAgICAgIGZvdjogZm92LFxuICAgICAgICAgICAgZXF1YXRvcmlhbEdyaWRWaXNpYmxlOiBlcXVhdG9yaWFsR3JpZFZpc2libGUsXG4gICAgICAgICAgICBoZWFscGl4R3JpZFZpc2libGU6IGhlYWxwaXhHcmlkVmlzaWJsZSxcbiAgICAgICAgICAgIGluc2lkZVNwaGVyZTogaW5zaWRlU3BoZXJlLFxuICAgICAgICAgICAgbW91c2VSQURlZzogbW91c2VSQURlZyxcbiAgICAgICAgICAgIG1vdXNlRGVjRGVnOiBtb3VzZURlY0RlZ1xuICAgICAgICB9O1xuICAgIH1cbiAgICBvblN0YXRlQ2hhbmdlZChjYikge1xuICAgICAgICAvLyBzYXZlIGNhbGxiYWNrIGNiIGZ1bmN0aW9uIFxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQoY2IpO1xuICAgICAgICAvLyByZXRydW5zIGEgZnVuY3Rpb24gdGhhdCB3aGVuIGNhbGxlZCByZW1vdmVzIHRoZSBjYWxsYmFja1xuICAgICAgICByZXR1cm4gKCkgPT4gdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICB9XG4gICAgLy8gLS0tLSBoZWxwZXJzIC0tLS1cbiAgICBub3RpZnkoKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZm4gPT4gZm4ocykpO1xuICAgIH1cbiAgICBub3RpZnlJZkNoYW5nZWQoKSB7XG4gICAgICAgIGNvbnN0IGZvdiA9IHRoaXMuZ2V0U3RhdGUoKS5mb3Y7XG4gICAgICAgIC8vIFRocm90dGxlOiBvbmx5IGVtaXQgaWYgRm9WIGFjdHVhbGx5IGNoYW5nZWQgKHRvbGVyYW5jZSBhdm9pZHMgc3BhbSlcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShmb3YpICYmIE1hdGguYWJzKGZvdiAtIHRoaXMubGFzdEZvdikgPiAxZS0zKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RGb3YgPSBmb3Y7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNlbnRyYWxSQURlZyA9IHRoaXMuZ2V0U3RhdGUoKS5jZW50cmFsUkFEZWc7XG4gICAgICAgIGNvbnN0IGNlbnRyYWxEZWNEZWcgPSB0aGlzLmdldFN0YXRlKCkuY2VudHJhbERlY0RlZztcbiAgICAgICAgaWYgKGNlbnRyYWxEZWNEZWcgJiYgY2VudHJhbFJBRGVnKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGFzdENlbnRyYWxEZWNEZWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDZW50cmFsRGVjRGVnID0gY2VudHJhbERlY0RlZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0Q2VudHJhbFJBRGVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJhbFJBRGVnID0gY2VudHJhbFJBRGVnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhyb3R0bGU6IG9ubHkgZW1pdCBpZiBjZW50cmFsIHBvaW50IGFjdHVhbGx5IGNoYW5nZWQgKHRvbGVyYW5jZSBhdm9pZHMgc3BhbSlcbiAgICAgICAgICAgIGlmICgoTnVtYmVyLmlzRmluaXRlKGNlbnRyYWxEZWNEZWcpICYmIE1hdGguYWJzKGNlbnRyYWxEZWNEZWcgLSB0aGlzLmxhc3RDZW50cmFsRGVjRGVnKSA+IDFlLTMpIHx8XG4gICAgICAgICAgICAgICAgKE51bWJlci5pc0Zpbml0ZShjZW50cmFsUkFEZWcpICYmIE1hdGguYWJzKGNlbnRyYWxSQURlZyAtIHRoaXMubGFzdENlbnRyYWxSQURlZykgPiAxZS0zKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdENlbnRyYWxEZWNEZWcgPSBjZW50cmFsRGVjRGVnO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdENlbnRyYWxSQURlZyA9IGNlbnRyYWxSQURlZztcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vdXNlUkFEZWcgPSB0aGlzLmdldFN0YXRlKCkubW91c2VSQURlZztcbiAgICAgICAgY29uc3QgbW91c2VEZWNEZWcgPSB0aGlzLmdldFN0YXRlKCkubW91c2VEZWNEZWc7XG4gICAgICAgIGlmIChtb3VzZVJBRGVnICYmIG1vdXNlRGVjRGVnKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGFzdE1vdXNlRGVjRGVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0TW91c2VEZWNEZWcgPSBtb3VzZURlY0RlZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0TW91c2VSQURlZykge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdE1vdXNlUkFEZWcgPSBtb3VzZVJBRGVnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhyb3R0bGU6IG9ubHkgZW1pdCBpZiBtb3VzZSBob3ZlciBwb2ludCBhY3R1YWxseSBjaGFuZ2VkICh0b2xlcmFuY2UgYXZvaWRzIHNwYW0pXG4gICAgICAgICAgICBpZiAoKE51bWJlci5pc0Zpbml0ZShtb3VzZURlY0RlZykgJiYgTWF0aC5hYnMobW91c2VEZWNEZWcgLSB0aGlzLmxhc3RNb3VzZURlY0RlZykgPiAxZS0zKSB8fFxuICAgICAgICAgICAgICAgIChOdW1iZXIuaXNGaW5pdGUobW91c2VSQURlZykgJiYgTWF0aC5hYnMobW91c2VSQURlZyAtIHRoaXMubGFzdE1vdXNlUkFEZWcpID4gMWUtMykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RNb3VzZURlY0RlZyA9IG1vdXNlRGVjRGVnO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdE1vdXNlUkFEZWcgPSBtb3VzZVJBRGVnO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBidXMgfSBmcm9tICcuLi8uLi8uLi9idXMnO1xuaW1wb3J0IHsgQ29vcmRzVHlwZSwgUG9pbnQgfSBmcm9tICdhc3Ryb3ZpZXdlcic7XG5pbXBvcnQgeyBFVlRfQVNUUk9fUExPVF9DQVRBTE9HVUVfUkVNT1ZFLCBFVlRfQVNUUk9fUExPVF9DQVRBTE9HVUVfU0hPVywgRVZUX0FTVFJPX01FVEFfQ09MT1JfQ0hBTkdFRCwgRVZUX0FTVFJPX01FVEFfREVDX0NIQU5HRUQsIEVWVF9BU1RST19NRVRBX0hVRV9DSEFOR0VELCBFVlRfQVNUUk9fTUVUQV9SQV9DSEFOR0VELCBFVlRfQVNUUk9fTUVUQV9TSVpFX0NIQU5HRUQsIEVWVF9BU1RST19TVEFURV9HRVRfcmVxLCBFVlRfQVNUUk9fU1RBVEVfR0VUX3JlcywgRVZUX0FTVFJPX1BMT1RfRk9PVFBSSU5UU0VUX3JlcSwgRVZUX0FTVFJPX1BMT1RfRk9PVFBSSU5UU0VUX3JlcywgRVZUX0FTVFJPX1BMT1RfQ0FUQUxPR1VFX3JlcywgRVZUX0FTVFJPX1BMT1RfQ0FUQUxPR1VFX3JlcSwgRVZUX0FTVFJPX1JFQURZLCBFVlRfQVNUUk9fU1RBVEVfQ0hBTkdFRCB9IGZyb20gJy4uLy4uLy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBkYXRhUHJvdmlkZXJTdG9yZSB9IGZyb20gJy4uLy4uLy4uL3N0b3Jlcy9EYXRhUHJvdmlkZXJTdG9yZSc7XG5leHBvcnQgY2xhc3MgQXN0cm9MaWJDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhcGkpIHtcbiAgICAgICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgfVxuICAgIG1vdW50KCkge1xuICAgICAgICAvLyBDb21tYW5kc1xuICAgICAgICBidXMub24oJ2FzdHJvLmdvdG8nLCAoeyByYSwgZGVjLCBmb3YgfSkgPT4gdGhpcy5hcGkuZ290byhyYSwgZGVjLCBmb3YpKTtcbiAgICAgICAgYnVzLm9uKCdhc3Ryby50b2dnbGUuaGVhbHBpeCcsICh7IG9uIH0pID0+IHRoaXMuYXBpLnRvZ2dsZUhlYWxwaXhHcmlkKG9uKSk7XG4gICAgICAgIGJ1cy5vbignYXN0cm8udG9nZ2xlLmVxdWF0b3JpYWwnLCAoeyBvbiB9KSA9PiB0aGlzLmFwaS50b2dnbGVFcXVhdG9yaWFsR3JpZChvbikpO1xuICAgICAgICBidXMub24oJ2FzdHJvLnRvZ2dsZS5pbnNpZGVTcGhlcmUnLCAoeyBvbiB9KSA9PiB0aGlzLmFwaS50b2dnbGVJbnNpZGVTcGhlcmUob24pKTtcbiAgICAgICAgYnVzLm9uKCdhc3Ryby5zZXQuZm92JywgKHsgZm92IH0pID0+IHRoaXMuYXBpLnNldEZvVihmb3YpKTtcbiAgICAgICAgLy8gUXVlcmllc1xuICAgICAgICBidXMub24oRVZUX0FTVFJPX1NUQVRFX0dFVF9yZXEsICh7IGNpZCB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuYXBpLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBidXMuZW1pdChFVlRfQVNUUk9fU1RBVEVfR0VUX3JlcywgeyBjaWQsIHN0YXRlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ2F0YWxvZ3VlIFBsb3RzXG4gICAgICAgIGJ1cy5vbihFVlRfQVNUUk9fUExPVF9DQVRBTE9HVUVfcmVxLCBhc3luYyAoeyBjaWQsIGRhdGFQcm92aWRlciwgY2F0YWxvZ3VlIH0pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm92UG9seWdvbiA9IHRoaXMuYXBpLmdldEZvVlBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICBkYXRhUHJvdmlkZXIucXVlcnlDYXRhbG9ndWVCeUZvVihjYXRhbG9ndWUuYXN0cm92aWV3ZXJHbE9iaiwgZm92UG9seWdvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcGkuc2hvd0NhdGFsb2d1ZShjYXRhbG9ndWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFQcm92aWRlcjogZGF0YVByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICBjYXRhbG9ndWU6IGNhdGFsb2d1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnVzLmVtaXQoRVZUX0FTVFJPX1BMT1RfQ0FUQUxPR1VFX3JlcywgeyBjaWQsIG9rOiB0cnVlLCBwYXlsb2FkIH0pO1xuICAgICAgICAgICAgICAgIC8vIGJ1cy5lbWl0KCd0YXA6Y2F0YWxvZ3VlU2VsZWN0ZWQnLCB7IC4uLnBheWxvYWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGJ1cy5lbWl0KEVWVF9BU1RST19QTE9UX0NBVEFMT0dVRV9yZXMsIHsgY2lkLCBvazogZmFsc2UsIGVycm9yOiBlPy5tZXNzYWdlID8/IFN0cmluZyhlKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJ1cy5vbihFVlRfQVNUUk9fTUVUQV9SQV9DSEFOR0VELCAoeyBjYXRhbG9ndWUsIGNvbHVtbiB9KSA9PiB7XG4gICAgICAgICAgICBkYXRhUHJvdmlkZXJTdG9yZS5yZW1vdmVGcm9tQWN0aXZlQ2F0YWxvZ3VlcyhjYXRhbG9ndWUpO1xuICAgICAgICAgICAgY2F0YWxvZ3VlID0gdGhpcy5hcGkuY2hhbmdlQ2F0YWxvZ3VlUkEoY2F0YWxvZ3VlLCBjb2x1bW4pOyAvLyA8LS0gZGVsZWdhdGUgdG8geW91ciB2aWV3ZXIgQVBJIGhlcmVcbiAgICAgICAgICAgIGRhdGFQcm92aWRlclN0b3JlLmFkZFRvQWN0aXZlQ2F0YWxvZ3VlcyhjYXRhbG9ndWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnVzLm9uKEVWVF9BU1RST19NRVRBX0RFQ19DSEFOR0VELCAoeyBjYXRhbG9ndWUsIGNvbHVtbiB9KSA9PiB7XG4gICAgICAgICAgICBkYXRhUHJvdmlkZXJTdG9yZS5yZW1vdmVGcm9tQWN0aXZlQ2F0YWxvZ3VlcyhjYXRhbG9ndWUpO1xuICAgICAgICAgICAgY2F0YWxvZ3VlID0gdGhpcy5hcGkuY2hhbmdlQ2F0YWxvZ3VlRGVjKGNhdGFsb2d1ZSwgY29sdW1uKTtcbiAgICAgICAgICAgIGRhdGFQcm92aWRlclN0b3JlLmFkZFRvQWN0aXZlQ2F0YWxvZ3VlcyhjYXRhbG9ndWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnVzLm9uKEVWVF9BU1RST19NRVRBX0hVRV9DSEFOR0VELCAoeyBjYXRhbG9ndWUsIGNvbHVtbiB9KSA9PiB7XG4gICAgICAgICAgICAvLyBkYXRhUHJvdmlkZXJTdG9yZS5yZW1vdmVGcm9tQWN0aXZlQ2F0YWxvZ3VlcyhjYXRhbG9ndWUpXG4gICAgICAgICAgICBjYXRhbG9ndWUgPSB0aGlzLmFwaS5zZXRDYXRhbG9ndWVTaGFwZUh1ZShjYXRhbG9ndWUsIGNvbHVtbik7XG4gICAgICAgICAgICAvLyBkYXRhUHJvdmlkZXJTdG9yZS5hZGRUb0FjdGl2ZUNhdGFsb2d1ZXMoY2F0YWxvZ3VlKVxuICAgICAgICB9KTtcbiAgICAgICAgYnVzLm9uKEVWVF9BU1RST19NRVRBX1NJWkVfQ0hBTkdFRCwgKHsgY2F0YWxvZ3VlLCBjb2x1bW4gfSkgPT4ge1xuICAgICAgICAgICAgLy8gZGF0YVByb3ZpZGVyU3RvcmUucmVtb3ZlRnJvbUFjdGl2ZUNhdGFsb2d1ZXMoY2F0YWxvZ3VlKVxuICAgICAgICAgICAgY2F0YWxvZ3VlID0gdGhpcy5hcGkuc2V0Q2F0YWxvZ3VlU2hhcGVTaXplKGNhdGFsb2d1ZSwgY29sdW1uKTtcbiAgICAgICAgICAgIC8vIGRhdGFQcm92aWRlclN0b3JlLmFkZFRvQWN0aXZlQ2F0YWxvZ3VlcyhjYXRhbG9ndWUpXG4gICAgICAgIH0pO1xuICAgICAgICBidXMub24oRVZUX0FTVFJPX01FVEFfQ09MT1JfQ0hBTkdFRCwgKHsgY2F0YWxvZ3VlLCBoZXhDb2xvciB9KSA9PiB7XG4gICAgICAgICAgICBkYXRhUHJvdmlkZXJTdG9yZS5yZW1vdmVGcm9tQWN0aXZlQ2F0YWxvZ3VlcyhjYXRhbG9ndWUpO1xuICAgICAgICAgICAgY2F0YWxvZ3VlID0gdGhpcy5hcGkuY2hhbmdlQ2F0YWxvZ3VlQ29sb3IoY2F0YWxvZ3VlLCBoZXhDb2xvcik7XG4gICAgICAgICAgICBkYXRhUHJvdmlkZXJTdG9yZS5hZGRUb0FjdGl2ZUNhdGFsb2d1ZXMoY2F0YWxvZ3VlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1cy5vbihFVlRfQVNUUk9fUExPVF9DQVRBTE9HVUVfU0hPVywgKHsgY2F0YWxvZ3VlLCBpc1Zpc2libGUgfSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcGkuaGlkZUNhdGFsb2d1ZShjYXRhbG9ndWUsIGlzVmlzaWJsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBidXMub24oRVZUX0FTVFJPX1BMT1RfQ0FUQUxPR1VFX1JFTU9WRSwgKHsgY2F0YWxvZ3VlIH0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBpLnJlbW92ZUNhdGFsb2d1ZShjYXRhbG9ndWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRm9vdHByaW50c2V0IFBsb3RzXG4gICAgICAgIGJ1cy5vbihFVlRfQVNUUk9fUExPVF9GT09UUFJJTlRTRVRfcmVxLCBhc3luYyAoeyBjaWQsIGRhdGFQcm92aWRlciwgZm9vdHByaW50U2V0IH0pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm92UG9seWdvbiA9IHRoaXMuYXBpLmdldEZvVlBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCByYWRpdXNEZWcgPSB0aGlzLmFwaS5nZXRGb1YoKS5taW5Gb1YgLyAyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRyYWxQb2ludCA9IHRoaXMuYXBpLmdldENlbnRlckNvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjZW50cmFsUG9pbnQ/LmFzdHJvRGVnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNlbnRyYWwgcG9pbnQgcmV0cmlldmVkYCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoeyByYURlZzogY2VudHJhbFBvaW50Py5hc3Ryb0RlZy5yYSwgZGVjRGVnOiBjZW50cmFsUG9pbnQ/LmFzdHJvRGVnLmRlYyB9LCBDb29yZHNUeXBlLkFTVFJPKTtcbiAgICAgICAgICAgICAgICBkYXRhUHJvdmlkZXIucXVlcnlGb290cHJpbnRTZXRCeUZvdihmb290cHJpbnRTZXQuYXN0cm92aWV3ZXJHbE9iaiwgZm92UG9seWdvbiwgcG9pbnQsIHJhZGl1c0RlZyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcGkuc2hvd0Zvb3RwcmludFNldChmb290cHJpbnRTZXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFQcm92aWRlcjogZGF0YVByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICBmb290cHJpbnRTZXQ6IGZvb3RwcmludFNldFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnVzLmVtaXQoRVZUX0FTVFJPX1BMT1RfRk9PVFBSSU5UU0VUX3JlcywgeyBjaWQsIG9rOiB0cnVlLCBwYXlsb2FkIH0pO1xuICAgICAgICAgICAgICAgIC8vIGJ1cy5lbWl0KCd0YXA6Zm9vdHByaW50c2V0U2VsZWN0ZWQnLCB7IC4uLnBheWxvYWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGJ1cy5lbWl0KEVWVF9BU1RST19QTE9UX0ZPT1RQUklOVFNFVF9yZXMsIHsgY2lkLCBvazogZmFsc2UsIGVycm9yOiBlPy5tZXNzYWdlID8/IFN0cmluZyhlKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEJyb2FkY2FzdFxuICAgICAgICB0aGlzLmFwaS5vblN0YXRlQ2hhbmdlZD8uKChzdGF0ZSkgPT4gYnVzLmVtaXQoRVZUX0FTVFJPX1NUQVRFX0NIQU5HRUQsIHsgc3RhdGUgfSkpO1xuICAgICAgICBidXMuZW1pdChFVlRfQVNUUk9fUkVBRFksIHsgdmVyc2lvbjogdGhpcy5hcGkudmVyc2lvbiA/PyAnMC4wLjAnIH0pO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuYXBpLmdldFN0YXRlKCk7XG4gICAgICAgIGJ1cy5lbWl0KEVWVF9BU1RST19TVEFURV9DSEFOR0VELCB7IHN0YXRlIH0pO1xuICAgIH1cbn1cbiIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbi8vIGRpbmFtaWMtY29udGFpbmVyLnRzXG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sLCBjc3MgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBEaW5hbWljQ29udGFpbmVyQ29udHJvbGxlciwgfSBmcm9tICcuL0RpbmFtaWNDb250YWluZXJDb250cm9sbGVyJztcbmltcG9ydCAnLi4vYXN0cm8tdmlld2VyL0FzdHJvVmlld2VyJztcbmltcG9ydCAnLi4vdGFibGUtdmlld2VyL1RhYmxlVmlld2VyJztcbmNvbnN0IHN0YXRlQW55ID0gc3RhdGU7XG5sZXQgRGluYW1pY0NvbnRhaW5lciA9IGNsYXNzIERpbmFtaWNDb250YWluZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBzdGF0aWMgeyB0aGlzLnN0eWxlcyA9IGNzcyBgXG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuXG4gICAgLnJvb3Qge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG5cbiAgICAucGFuZWwge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG5cbiAgICAubGVhZiB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7XG4gICAgfVxuXG4gICAgLmxlYWYuaGFzLXdpZGdldCB7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICAgIC5zcGxpdC5ob3Jpem9udGFsIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIH1cblxuICAgIC5zcGxpdC52ZXJ0aWNhbCB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB9XG5cbiAgICAuY2hpbGQge1xuICAgICAgZmxleDogMTtcbiAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgIG1pbi1oZWlnaHQ6IDA7XG4gICAgfVxuXG4gICAgLnBsdXMtYnRuIHtcbiAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgYm9yZGVyOiAycHggc29saWQgcmdiYSg0NiwgMjA0LCAxMTMsIDAuMik7ICAgLyogdmlzaWJsZSBvdXRsaW5lICovXG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgICAgIC8qIHRyYW5zcGFyZW50IGJ5IGRlZmF1bHQgKi9cbiAgICAgIGNvbG9yOiByZ2JhKDQ2LCAyMDQsIDExMywgMC4yKTsgICAgICAgICAgICAgIC8qIGdyZWVuICsgaWNvbiAqL1xuICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICB0cmFuc2l0aW9uOlxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZSxcbiAgICAgICAgY29sb3IgMC4ycyBlYXNlLFxuICAgICAgICBib3gtc2hhZG93IDAuMnMgZWFzZSxcbiAgICAgICAgdHJhbnNmb3JtIDAuMTVzIGVhc2U7XG4gICAgfVxuXG4gICAgLyogSG92ZXIg4oaSIHNvbGlkICovXG4gICAgLnBsdXMtYnRuOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6ICMyZWNjNzE7ICAgLyogc29saWQgZ3JlZW4gKi9cbiAgICAgIGNvbG9yOiAjZmZmOyAgICAgICAgICAgLyogd2hpdGUgKyBpY29uICovXG4gICAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDQ2LCAyMDQsIDExMywgMC40KTtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gICAgfVxuXG4gICAgLyogUHJlc3NlZCAqL1xuICAgIC5wbHVzLWJ0bjphY3RpdmUge1xuICAgICAgYmFja2dyb3VuZDogIzI4Yjg2MjtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45Nyk7XG4gICAgfVxuXG4gICAgLyogSWNvbmUgc3VpIGJvcmRpICovXG4gICAgLmVkZ2UtcGx1cyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB6LWluZGV4OiAxMDtcbiAgICB9XG5cbiAgICAuZWRnZS1wbHVzLnRvcCB7XG4gICAgICB0b3A6IDRweDtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICB9XG5cbiAgICAuZWRnZS1wbHVzLnJpZ2h0IHtcbiAgICAgIHJpZ2h0OiA0cHg7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICB9XG5cbiAgICAuZWRnZS1wbHVzLmJvdHRvbSB7XG4gICAgICBib3R0b206IDRweDtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICB9XG5cbiAgICAuZWRnZS1wbHVzLmxlZnQge1xuICAgICAgbGVmdDogNHB4O1xuICAgICAgdG9wOiA1MCU7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gICAgfVxuXG4gICAgLmNlbnRlci1wbHVzIHtcbiAgICAgIC8qIHBlciBpbCBwYW5uZWxsbyB2dW90byBpbml6aWFsZSAqL1xuICAgIH1cblxuICAgIC8qIFdpZGdldCBjb250YWluZXIgKi9cbiAgICAud2lkZ2V0LXdyYXBwZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgfVxuXG4gICAgLyogT3ZlcmxheSBtZW51ICovXG4gICAgLm92ZXJsYXkge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgaW5zZXQ6IDA7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgei1pbmRleDogMTAwO1xuICAgIH1cblxuICAgIC5vdmVybGF5LWNvbnRlbnQge1xuICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgICAgIHBhZGRpbmc6IDE2cHggMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgICBtaW4td2lkdGg6IDI2MHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBnYXA6IDEycHg7XG4gICAgfVxuXG4gICAgLm92ZXJsYXktY29udGVudCBoMyB7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgfVxuXG4gICAgLm92ZXJsYXktY29udGVudCBzZWxlY3Qge1xuICAgICAgcGFkZGluZzogNnB4IDhweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG5cbiAgICAub3ZlcmxheS1hY3Rpb25zIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDhweDtcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgfVxuXG4gICAgLmJ0biB7XG4gICAgICBwYWRkaW5nOiA2cHggMTJweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG5cbiAgICAuYnRuLnByaW1hcnkge1xuICAgICAgYmFja2dyb3VuZDogIzJlY2M3MTtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgIH1cblxuICAgIC5idG4uc2Vjb25kYXJ5IHtcbiAgICAgIGJhY2tncm91bmQ6ICNlZWU7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICB9XG5cbiAgICAuc3BsaXQuaG9yaXpvbnRhbCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLnNwbGl0LnZlcnRpY2FsIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIH1cblxuICAuY2hpbGQge1xuICAgIG1pbi13aWR0aDogMDtcbiAgICBtaW4taGVpZ2h0OiAwO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cblxuICAuZGl2aWRlciB7XG4gICAgYmFja2dyb3VuZDogI2NjYztcbiAgICBmbGV4OiAwIDAgYXV0bztcbiAgICB6LWluZGV4OiAyMDtcbiAgfVxuXG4gIC5kaXZpZGVyLnZlcnRpY2FsIHtcbiAgICB3aWR0aDogNHB4O1xuICAgIGN1cnNvcjogY29sLXJlc2l6ZTtcbiAgfVxuXG4gIC5kaXZpZGVyLmhvcml6b250YWwge1xuICAgIGhlaWdodDogNHB4O1xuICAgIGN1cnNvcjogcm93LXJlc2l6ZTtcbiAgfVxuICBgOyB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubW9kZWwgPSBudWxsO1xuICAgICAgICB0aGlzLm1lbnVQYW5lbElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZW51UG9zaXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm1lbnVTZWxlY3Rpb24gPSAnJztcbiAgICAgICAgLy8gZHJhZyBzdGF0ZSAobm8gbmVlZCB0byBiZSByZWFjdGl2ZSlcbiAgICAgICAgdGhpcy5kcmFnZ2luZ1NwbGl0SWQgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWdnaW5nT3JpZW50YXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWdTdGFydFBvcyA9IDA7XG4gICAgICAgIHRoaXMuZHJhZ1N0YXJ0UmF0aW8gPSAwO1xuICAgICAgICB0aGlzLmRyYWdDb250YWluZXJTaXplID0gMDtcbiAgICAgICAgLy8ga2VlcCBzdGFibGUgcmVmZXJlbmNlcyBmb3Igd2luZG93IGxpc3RlbmVyc1xuICAgICAgICB0aGlzLmhhbmRsZVdpbmRvd01vdXNlTW92ZSA9IChlKSA9PiB0aGlzLm9uV2luZG93TW91c2VNb3ZlKGUpO1xuICAgICAgICB0aGlzLmhhbmRsZVdpbmRvd01vdXNlVXAgPSAoZSkgPT4gdGhpcy5vbldpbmRvd01vdXNlVXAoZSk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBEaW5hbWljQ29udGFpbmVyQ29udHJvbGxlcigocm9vdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IHJvb3Q7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1vZGVsID0gdGhpcy5jb250cm9sbGVyLmdldFJvb3QoKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIC8vIGNsZWFudXAgaW4gY2FzZSBvZiB1bm1vdW50IHdoaWxlIGRyYWdnaW5nXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZVdpbmRvd01vdXNlTW92ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVXaW5kb3dNb3VzZVVwKTtcbiAgICB9XG4gICAgLy8gPT09PT09PT09PSBSRU5ERVIgPT09PT09PT09PVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tEaW5hbWljQ29udGFpbmVyLnJlbmRlcl0gbW9kZWwgPScsIHRoaXMubW9kZWwpO1xuICAgICAgICBpZiAoIXRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBodG1sIGA8ZGl2IGNsYXNzPVwicm9vdFwiPjwvZGl2PmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPGRpdiBjbGFzcz1cInJvb3RcIj5cbiAgICAgICAgJHt0aGlzLnJlbmRlclBhbmVsKHRoaXMubW9kZWwpfVxuICAgICAgICAke3RoaXMucmVuZGVyT3ZlcmxheSgpfVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICB9XG4gICAgcmVuZGVyUGFuZWwobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5raW5kID09PSAnbGVhZicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckxlYWYobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyU3BsaXQobm9kZSk7XG4gICAgfVxuICAgIHJlbmRlckxlYWYobGVhZikge1xuICAgICAgICBjb25zdCBoYXNXaWRnZXQgPSAhIWxlYWYud2lkZ2V0VHlwZTtcbiAgICAgICAgaWYgKCFoYXNXaWRnZXQpIHtcbiAgICAgICAgICAgIC8vIFN0YXRvIGluaXppYWxlOiBzb2xvIGljb25hIHZlcmRlIGNlbnRyYWxlXG4gICAgICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbCBsZWFmXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3M9XCJwbHVzLWJ0biBjZW50ZXItcGx1c1wiXG4gICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB0aGlzLm9wZW5NZW51KGxlYWYuaWQsICdjZW50ZXInKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICArXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZWFmIGNvbiB3aWRnZXQgKyA0IGljb25lIHN1aSBib3JkaVxuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwgbGVhZiBoYXMtd2lkZ2V0XCI+XG4gICAgICAgIDwhLS0gSWNvbmUgc3VpIGJvcmRpIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZWRnZS1wbHVzIHRvcFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzPVwicGx1cy1idG5cIlxuICAgICAgICAgICAgQGNsaWNrPSR7KCkgPT4gdGhpcy5vcGVuTWVudShsZWFmLmlkLCAndG9wJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgK1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImVkZ2UtcGx1cyByaWdodFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzPVwicGx1cy1idG5cIlxuICAgICAgICAgICAgQGNsaWNrPSR7KCkgPT4gdGhpcy5vcGVuTWVudShsZWFmLmlkLCAncmlnaHQnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICArXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZWRnZS1wbHVzIGJvdHRvbVwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzPVwicGx1cy1idG5cIlxuICAgICAgICAgICAgQGNsaWNrPSR7KCkgPT4gdGhpcy5vcGVuTWVudShsZWFmLmlkLCAnYm90dG9tJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgK1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImVkZ2UtcGx1cyBsZWZ0XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3M9XCJwbHVzLWJ0blwiXG4gICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB0aGlzLm9wZW5NZW51KGxlYWYuaWQsICdsZWZ0Jyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgK1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFdpZGdldCB2ZXJvIGUgcHJvcHJpbyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cIndpZGdldC13cmFwcGVyXCI+XG4gICAgICAgICAgJHt0aGlzLnJlbmRlcldpZGdldChsZWFmLndpZGdldFR5cGUpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgfVxuICAgIHJlbmRlclNwbGl0KHNwbGl0KSB7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQ2xhc3MgPSBzcGxpdC5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJztcbiAgICAgICAgY29uc3QgcmF0aW8gPSBzcGxpdC5yYXRpbyA/PyAwLjU7XG4gICAgICAgIGNvbnN0IGZpcnN0U2l6ZSA9IGAke3JhdGlvICogMTAwfSVgO1xuICAgICAgICBjb25zdCBzZWNvbmRTaXplID0gYCR7KDEgLSByYXRpbykgKiAxMDB9JWA7XG4gICAgICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHNwbGl0Lm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCc7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICA8ZGl2IGNsYXNzPVwicGFuZWwgc3BsaXQgJHtvcmllbnRhdGlvbkNsYXNzfVwiPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cImNoaWxkXCJcbiAgICAgICAgc3R5bGU9JHtpc0hvcml6b250YWxcbiAgICAgICAgICAgID8gYGZsZXg6IDAgMCAke2ZpcnN0U2l6ZX07YFxuICAgICAgICAgICAgOiBgZmxleDogMCAwICR7Zmlyc3RTaXplfTtgfVxuICAgICAgPlxuICAgICAgICAke3RoaXMucmVuZGVyUGFuZWwoc3BsaXQuZmlyc3QpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJkaXZpZGVyICR7b3JpZW50YXRpb25DbGFzc31cIlxuICAgICAgICBAbW91c2Vkb3duPSR7KGUpID0+IHRoaXMub25EaXZpZGVyTW91c2VEb3duKGUsIHNwbGl0KX1cbiAgICAgID48L2Rpdj5cblxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cImNoaWxkXCJcbiAgICAgICAgc3R5bGU9JHtpc0hvcml6b250YWxcbiAgICAgICAgICAgID8gYGZsZXg6IDAgMCAke3NlY29uZFNpemV9O2BcbiAgICAgICAgICAgIDogYGZsZXg6IDAgMCAke3NlY29uZFNpemV9O2B9XG4gICAgICA+XG4gICAgICAgICR7dGhpcy5yZW5kZXJQYW5lbChzcGxpdC5zZWNvbmQpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG4gICAgfVxuICAgIHJlbmRlcldpZGdldCh3aWRnZXRUeXBlKSB7XG4gICAgICAgIHN3aXRjaCAod2lkZ2V0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYXN0cm8tdmlld2VyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbCBgPGFzdHJvLXZpZXdlcj48L2FzdHJvLXZpZXdlcj5gO1xuICAgICAgICAgICAgY2FzZSAndGFibGUtdmlld2VyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbCBgPHRhYmxlLXZpZXdlcj48L3RhYmxlLXZpZXdlcj5gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbCBgYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyA9PT09PT09PT09IE9WRVJMQVkgTUVOVSA9PT09PT09PT09XG4gICAgcmVuZGVyT3ZlcmxheSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lbnVQYW5lbElkIHx8ICF0aGlzLm1lbnVQb3NpdGlvbilcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheS1jb250ZW50XCI+XG4gICAgICAgICAgPGgzPlNlbGV6aW9uYSBpbCBjb21wb25lbnRlIGRhIGFnZ2l1bmdlcmU8L2gzPlxuICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgIEBjaGFuZ2U9JHt0aGlzLm9uTWVudVNlbGVjdENoYW5nZX1cbiAgICAgICAgICAgIC52YWx1ZT0ke3RoaXMubWVudVNlbGVjdGlvbn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+LS0gc2NlZ2xpIC0tPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYXN0cm8tdmlld2VyXCI+YXN0cm8tdmlld2VyPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGFibGUtdmlld2VyXCI+dGFibGUtdmlld2VyPC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheS1hY3Rpb25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIHNlY29uZGFyeVwiIEBjbGljaz0ke3RoaXMuY2xvc2VNZW51fT5cbiAgICAgICAgICAgICAgQW5udWxsYVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzPVwiYnRuIHByaW1hcnlcIlxuICAgICAgICAgICAgICBAY2xpY2s9JHt0aGlzLmNvbmZpcm1NZW51fVxuICAgICAgICAgICAgICA/ZGlzYWJsZWQ9JHshdGhpcy5tZW51U2VsZWN0aW9ufVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBPS1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICB9XG4gICAgLy8gPT09PT09PT09PSBFVkVOVCBIQU5ETEVSUyA9PT09PT09PT09XG4gICAgb3Blbk1lbnUocGFuZWxJZCwgcG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5tZW51UGFuZWxJZCA9IHBhbmVsSWQ7XG4gICAgICAgIHRoaXMubWVudVBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMubWVudVNlbGVjdGlvbiA9ICcnO1xuICAgIH1cbiAgICBjbG9zZU1lbnUoKSB7XG4gICAgICAgIHRoaXMubWVudVBhbmVsSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm1lbnVQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMubWVudVNlbGVjdGlvbiA9ICcnO1xuICAgIH1cbiAgICBvbk1lbnVTZWxlY3RDaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCBzZWxlY3QgPSBlLnRhcmdldDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzZWxlY3QudmFsdWU7XG4gICAgICAgIHRoaXMubWVudVNlbGVjdGlvbiA9IHZhbHVlO1xuICAgIH1cbiAgICBjb25maXJtTWVudSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lbnVQYW5lbElkIHx8ICF0aGlzLm1lbnVQb3NpdGlvbiB8fCAhdGhpcy5tZW51U2VsZWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWRkV2lkZ2V0KHRoaXMubWVudVBhbmVsSWQsIHRoaXMubWVudVBvc2l0aW9uLCB0aGlzLm1lbnVTZWxlY3Rpb24pO1xuICAgICAgICB0aGlzLmNsb3NlTWVudSgpO1xuICAgIH1cbiAgICBvbkRpdmlkZXJNb3VzZURvd24oZSwgc3BsaXQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmdTcGxpdElkID0gc3BsaXQuaWQ7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmdPcmllbnRhdGlvbiA9IHNwbGl0Lm9yaWVudGF0aW9uO1xuICAgICAgICB0aGlzLmRyYWdTdGFydFJhdGlvID0gc3BsaXQucmF0aW8gPz8gMC41O1xuICAgICAgICB0aGlzLmRyYWdTdGFydFBvcyA9IHNwbGl0Lm9yaWVudGF0aW9uID09PSAndmVydGljYWwnID8gZS5jbGllbnRYIDogZS5jbGllbnRZO1xuICAgICAgICB0aGlzLmRyYWdDb250YWluZXJTaXplID0gc3BsaXQub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgPyByZWN0LndpZHRoIDogcmVjdC5oZWlnaHQ7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZVdpbmRvd01vdXNlTW92ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVXaW5kb3dNb3VzZVVwKTtcbiAgICB9XG4gICAgb25XaW5kb3dNb3VzZU1vdmUoZSkge1xuICAgICAgICBpZiAoIXRoaXMuZHJhZ2dpbmdTcGxpdElkIHx8ICF0aGlzLmRyYWdnaW5nT3JpZW50YXRpb24gfHwgdGhpcy5kcmFnQ29udGFpbmVyU2l6ZSA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMuZHJhZ2dpbmdPcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IGUuY2xpZW50WCA6IGUuY2xpZW50WTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBjdXJyZW50UG9zIC0gdGhpcy5kcmFnU3RhcnRQb3M7XG4gICAgICAgIGNvbnN0IGRlbHRhUmF0aW8gPSBkZWx0YSAvIHRoaXMuZHJhZ0NvbnRhaW5lclNpemU7XG4gICAgICAgIGNvbnN0IG5ld1JhdGlvID0gdGhpcy5kcmFnU3RhcnRSYXRpbyArIGRlbHRhUmF0aW87XG4gICAgICAgIHRoaXMuY29udHJvbGxlci51cGRhdGVTcGxpdFJhdGlvKHRoaXMuZHJhZ2dpbmdTcGxpdElkLCBuZXdSYXRpbyk7XG4gICAgfVxuICAgIG9uV2luZG93TW91c2VVcChfZSkge1xuICAgICAgICB0aGlzLmRyYWdnaW5nU3BsaXRJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmdPcmllbnRhdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhZ0NvbnRhaW5lclNpemUgPSAwO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVXaW5kb3dNb3VzZU1vdmUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlV2luZG93TW91c2VVcCk7XG4gICAgfVxufTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlQW55KClcbl0sIERpbmFtaWNDb250YWluZXIucHJvdG90eXBlLCBcIm1vZGVsXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZUFueSgpXG5dLCBEaW5hbWljQ29udGFpbmVyLnByb3RvdHlwZSwgXCJtZW51UGFuZWxJZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGVBbnkoKVxuXSwgRGluYW1pY0NvbnRhaW5lci5wcm90b3R5cGUsIFwibWVudVBvc2l0aW9uXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZUFueSgpXG5dLCBEaW5hbWljQ29udGFpbmVyLnByb3RvdHlwZSwgXCJtZW51U2VsZWN0aW9uXCIsIHZvaWQgMCk7XG5EaW5hbWljQ29udGFpbmVyID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgnZGluYW1pYy1jb250YWluZXInKVxuXSwgRGluYW1pY0NvbnRhaW5lcik7XG5leHBvcnQgeyBEaW5hbWljQ29udGFpbmVyIH07XG4iLCJpbXBvcnQgJy4uL2FzdHJvLXZpZXdlci9Bc3Ryb1ZpZXdlcic7XG5leHBvcnQgY2xhc3MgRGluYW1pY0NvbnRhaW5lckNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKG9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuaWRDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IG9uQ2hhbmdlO1xuICAgICAgICAvLyBTdGF0byBpbml6aWFsZTogdW4gc29sbyBsZWFmIHZ1b3RvXG4gICAgICAgIHRoaXMucm9vdCA9IHtcbiAgICAgICAgICAgIGtpbmQ6ICdsZWFmJyxcbiAgICAgICAgICAgIGlkOiB0aGlzLm5leHRJZCgpLFxuICAgICAgICAgICAgd2lkZ2V0VHlwZTogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVtaXRDaGFuZ2UoKTtcbiAgICB9XG4gICAgZ2V0Um9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdDtcbiAgICB9XG4gICAgLyoqIENoaWFtYXRvIHF1YW5kbyBs4oCZdXRlbnRlIGhhIHNjZWx0byBpbCB3aWRnZXQgZGFsIG1lbnUgKi9cbiAgICBhZGRXaWRnZXQocGFuZWxJZCwgcG9zaXRpb24sIHdpZGdldFR5cGUpIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcy5zZXRXaWRnZXRJbkxlYWYodGhpcy5yb290LCBwYW5lbElkLCB3aWRnZXRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXMuc3BsaXRMZWFmV2l0aFdpZGdldCh0aGlzLnJvb3QsIHBhbmVsSWQsIHBvc2l0aW9uLCB3aWRnZXRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXRDaGFuZ2UoKTtcbiAgICB9XG4gICAgLy8gdXBkYXRlIHRoZSByYXRpbyBvZiBhIHNwbGl0IChlLmcuIGRyYWcpXG4gICAgdXBkYXRlU3BsaXRSYXRpbyhzcGxpdElkLCByYXRpbykge1xuICAgICAgICAvLyBjbGFtcCBmb3Igc2FmZXR5XG4gICAgICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1pbigwLjksIE1hdGgubWF4KDAuMSwgcmF0aW8pKTtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy51cGRhdGVTcGxpdFJhdGlvUmVjKHRoaXMucm9vdCwgc3BsaXRJZCwgY2xhbXBlZCk7XG4gICAgICAgIHRoaXMuZW1pdENoYW5nZSgpO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09IFBSSVZBVEUgSEVMUEVSUyA9PT09PT09PT09PT09XG4gICAgbmV4dElkKCkge1xuICAgICAgICB0aGlzLmlkQ291bnRlciArPSAxO1xuICAgICAgICByZXR1cm4gYHBhbmVsLSR7dGhpcy5pZENvdW50ZXJ9YDtcbiAgICB9XG4gICAgZW1pdENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLnJvb3QpO1xuICAgIH1cbiAgICAvKiogSW1wb3N0YSBpbCB3aWRnZXQgaW4gdW4gbGVhZiBlc2lzdGVudGUgKHNlbnphIHNwbGl0dGFyZSkgKi9cbiAgICBzZXRXaWRnZXRJbkxlYWYobm9kZSwgdGFyZ2V0SWQsIHdpZGdldFR5cGUpIHtcbiAgICAgICAgaWYgKG5vZGUuaWQgPT09IHRhcmdldElkICYmIG5vZGUua2luZCA9PT0gJ2xlYWYnKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5ub2RlLCB3aWRnZXRUeXBlIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUua2luZCA9PT0gJ3NwbGl0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgICAgIGZpcnN0OiB0aGlzLnNldFdpZGdldEluTGVhZihub2RlLmZpcnN0LCB0YXJnZXRJZCwgd2lkZ2V0VHlwZSksXG4gICAgICAgICAgICAgICAgc2Vjb25kOiB0aGlzLnNldFdpZGdldEluTGVhZihub2RlLnNlY29uZCwgdGFyZ2V0SWQsIHdpZGdldFR5cGUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgLyoqIFNvc3RpdHVpc2NlIHVuIGxlYWYgY29uIHVubyBzcGxpdCAobGVhZiBlc2lzdGVudGUgKyBudW92byBsZWFmIGNvbiB3aWRnZXQpICovXG4gICAgc3BsaXRMZWFmV2l0aFdpZGdldChub2RlLCB0YXJnZXRJZCwgcG9zaXRpb24sIHdpZGdldFR5cGUpIHtcbiAgICAgICAgaWYgKG5vZGUuaWQgPT09IHRhcmdldElkICYmIG5vZGUua2luZCA9PT0gJ2xlYWYnKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdMZWFmID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdsZWFmJyxcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5uZXh0SWQoKSxcbiAgICAgICAgICAgICAgICB3aWRnZXRUeXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgIGxldCBmaXJzdDtcbiAgICAgICAgICAgIGxldCBzZWNvbmQ7XG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAnaG9yaXpvbnRhbCc7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gbmV3TGVhZjtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAnaG9yaXpvbnRhbCc7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gbmV3TGVhZjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJztcbiAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBuZXdMZWFmO1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmQgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJztcbiAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmQgPSBuZXdMZWFmO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBmYWxsYmFjazogdHJhdHRhbG8gY29tZSBjZW50ZXIgKGFuY2hlIHNlIG5vbiBkb3ZyZWJiZSBhcnJpdmFyZSBxdWkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm5vZGUsIHdpZGdldFR5cGUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNwbGl0Tm9kZSA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnc3BsaXQnLFxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLm5leHRJZCgpLFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgIHJhdGlvOiAwLjUsIC8vIGRlZmF1bHQgNTAvNTBcbiAgICAgICAgICAgICAgICBmaXJzdCxcbiAgICAgICAgICAgICAgICBzZWNvbmQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHNwbGl0Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5raW5kID09PSAnc3BsaXQnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLm5vZGUsXG4gICAgICAgICAgICAgICAgZmlyc3Q6IHRoaXMuc3BsaXRMZWFmV2l0aFdpZGdldChub2RlLmZpcnN0LCB0YXJnZXRJZCwgcG9zaXRpb24sIHdpZGdldFR5cGUpLFxuICAgICAgICAgICAgICAgIHNlY29uZDogdGhpcy5zcGxpdExlYWZXaXRoV2lkZ2V0KG5vZGUuc2Vjb25kLCB0YXJnZXRJZCwgcG9zaXRpb24sIHdpZGdldFR5cGUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgdXBkYXRlU3BsaXRSYXRpb1JlYyhub2RlLCBzcGxpdElkLCByYXRpbykge1xuICAgICAgICBpZiAobm9kZS5raW5kID09PSAnc3BsaXQnICYmIG5vZGUuaWQgPT09IHNwbGl0SWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLm5vZGUsIHJhdGlvIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUua2luZCA9PT0gJ3NwbGl0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgICAgIGZpcnN0OiB0aGlzLnVwZGF0ZVNwbGl0UmF0aW9SZWMobm9kZS5maXJzdCwgc3BsaXRJZCwgcmF0aW8pLFxuICAgICAgICAgICAgICAgIHNlY29uZDogdGhpcy51cGRhdGVTcGxpdFJhdGlvUmVjKG5vZGUuc2Vjb25kLCBzcGxpdElkLCByYXRpbyksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn1cbiIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xubGV0IFRhYmxlVmlld2VyID0gY2xhc3MgVGFibGVWaWV3ZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBzdGF0aWMgeyB0aGlzLnN0eWxlcyA9IGNzcyBgXG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuXG4gICAgLnJvb3Qge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9YDsgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJyb290XCI+XG4gICAgICAgIDxzcGFuPlRBQkxFIFZJRVdFUjwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgfVxufTtcblRhYmxlVmlld2VyID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgndGFibGUtdmlld2VyJylcbl0sIFRhYmxlVmlld2VyKTtcbmV4cG9ydCB7IFRhYmxlVmlld2VyIH07XG4iLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBGSUxFOiBzcmMvZXZlbnRzLnRzXG4vLyBDZW50cmFsIHR5cGUtc2FmZSBldmVudCBtYXAgZm9yIFB1YlN1YiBiZXR3ZWVuIHBhbmVscyBhbmQgQXN0cm9WaWV3ZXJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjb25zdCBFVlRfQVNUUk9fTUVUQV9SQV9DSEFOR0VEID0gJ2FzdHJvLm1ldGFkYXRhOnJhQ2hhbmdlZCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX01FVEFfREVDX0NIQU5HRUQgPSAnYXN0cm8ubWV0YWRhdGE6ZGVjQ2hhbmdlZCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX01FVEFfSFVFX0NIQU5HRUQgPSAnYXN0cm8ubWV0YWRhdGE6aHVlQ2hhbmdlZCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX01FVEFfU0laRV9DSEFOR0VEID0gJ2FzdHJvLm1ldGFkYXRhOnNpemVDaGFuZ2VkJztcbmV4cG9ydCBjb25zdCBFVlRfQVNUUk9fTUVUQV9DT0xPUl9DSEFOR0VEID0gJ2FzdHJvLm1ldGFkYXRhOmNvbG9yQ2hhbmdlZCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1NUQVRFX0dFVF9yZXEgPSAnYXN0cm8uZ2V0LnN0YXRlOnJlcSc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1NUQVRFX0dFVF9yZXMgPSAnYXN0cm8uZ2V0LnN0YXRlOnJlcyc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1NUQVRFX0NIQU5HRUQgPSAnYXN0cm8uc3RhdGUuY2hhbmdlZCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1JFQURZID0gJ2FzdHJvLnJlYWR5JztcbmV4cG9ydCBjb25zdCBFVlRfQVNUUk9fUExPVF9DQVRBTE9HVUVfU0hPVyA9ICdhc3Ryby5wbG90LmNhdGFsb2d1ZTpzaG93JztcbmV4cG9ydCBjb25zdCBFVlRfQVNUUk9fUExPVF9DQVRBTE9HVUVfUkVNT1ZFID0gJ2FzdHJvLnBsb3QuY2F0YWxvZ3VlOnJlbW92ZSc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1BMT1RfRk9PVFBSSU5UU0VUX3JlcSA9ICdhc3Ryby5wbG90LmZvb3RwcmludHNldDpyZXEnO1xuZXhwb3J0IGNvbnN0IEVWVF9BU1RST19QTE9UX0ZPT1RQUklOVFNFVF9yZXMgPSAnYXN0cm8ucGxvdC5mb290cHJpbnRzZXQ6cmVzJztcbmV4cG9ydCBjb25zdCBFVlRfQVNUUk9fUExPVF9DQVRBTE9HVUVfcmVxID0gJ2FzdHJvLnBsb3QuY2F0YWxvZ3VlOnJlcSc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1BMT1RfQ0FUQUxPR1VFX3JlcyA9ICdhc3Ryby5wbG90LmNhdGFsb2d1ZTpyZXMnO1xuZXhwb3J0IGNvbnN0IEVWVF9UQVBfQUREUkVQT19yZXEgPSAnYXN0cm8udGFwLmFkZFJlcG86cmVxJztcbmV4cG9ydCBjb25zdCBFVlRfVEFQX0FERFJFUE9fcmVzID0gJ2FzdHJvLnRhcC5hZGRSZXBvOnJlcyc7XG5leHBvcnQgY29uc3QgRVZUX1RBUF9SRVBPX0xPQURFRCA9ICd0YXA6cmVwb0xvYWRlZCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX0ZPT1RQUklOVFNFVF9GX1NFTEVDVEVEID0gJ3RhcDpmb290cHJpbnRzZXRTZWxlY3RlZCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1NFVF9GT1YgPSAnYXN0cm8uc2V0LmZvdic7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX1RPR0dMRV9JTlNJREVfU1BIRVJFID0gJ2FzdHJvLnRvZ2dsZS5pbnNpZGVTcGhlcmUnO1xuZXhwb3J0IGNvbnN0IEVWVF9BU1RST19UT0dHTEVfR1JJRF9FUVVBVE9SSUFMID0gJ2FzdHJvLnRvZ2dsZS5lcXVhdG9yaWFsJztcbmV4cG9ydCBjb25zdCBFVlRfQVNUUk9fVE9HR0xFX0dSSURfSEVBTFBJWCA9ICdhc3Ryby50b2dnbGUuaGVhbHBpeCc7XG5leHBvcnQgY29uc3QgRVZUX0FTVFJPX0dPVE8gPSAnYXN0cm8uZ290byc7XG5leHBvcnQgY29uc3QgRVZUX1BMVUdJTl9SRUdJU1RFUiA9ICdwbHVnaW4ucmVnaXN0ZXInO1xuZXhwb3J0IGNvbnN0IEVWVF9QTFVHSU5fRVJST1IgPSAncGx1Z2luLmVycm9yJztcbi8vIFVJIGludGVudFxuZXhwb3J0IGNvbnN0IEVWVF9QQU5FTF9PUEVOX0tFWSA9ICd1aTpvcGVuUGFuZWxLZXknO1xuZXhwb3J0IGNvbnN0IEVWVF9QQU5FTF9PUEVOID0gJ3VpOm9wZW5QYW5lbCc7XG5leHBvcnQgY29uc3QgRVZUX1BBTkVMX0NMT1NFID0gJ3VpOmNsb3NlUGFuZWwnO1xuIiwiY2xhc3MgRGF0YVByb3ZpZGVyU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBwcml2YXRlIF9wcm92aWRlcj86IERhdGFQcm92aWRlcjtcbiAgICAgICAgdGhpcy5fcHJvdmlkZXJzID0gW107XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgICAgICAvLyBwcml2YXRlIGFjdGl2ZUNhdGFsb2d1ZXM6IE1hcDxEYXRhUHJvdmlkZXIsIENhdGFsb2d1ZVtdPiA9IG5ldyBNYXAoKVxuICAgICAgICB0aGlzLmFjdGl2ZUNhdGFsb2d1ZXMgPSBbXTtcbiAgICB9XG4gICAgZ2V0KCkgeyByZXR1cm4gdGhpcy5fcHJvdmlkZXJzOyB9XG4gICAgYWRkKHApIHtcbiAgICAgICAgdGhpcy5fcHJvdmlkZXJzLnB1c2gocCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobCA9PiBsKHApKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlKGwpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuYWRkKGwpO1xuICAgICAgICAvLyBpbW1lZGlhdGVseSBwdXNoIGN1cnJlbnQgdmFsdWUgc28gbGF0ZSBzdWJzY3JpYmVycyBoeWRyYXRlXG4gICAgICAgIHRoaXMuX3Byb3ZpZGVycy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICBsKHApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7IHRoaXMuX3Byb3ZpZGVycyA9IFtdOyB9XG4gICAgZ2V0QWxsQWN0aXZlQ2F0YWxvZ3VlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlQ2F0YWxvZ3VlcztcbiAgICB9XG4gICAgZ2V0Q2F0YWxvZ3VlQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVDYXRhbG9ndWVzLmZpbmQoYyA9PiBjLmlkID09IGlkKTtcbiAgICB9XG4gICAgZ2V0QWN0aXZlQ2F0YWxvZ3Vlcyhwcm9kaWRlclVybCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVDYXRhbG9ndWVzLmZpbHRlcigoY2F0KSA9PiBjYXQucHJvdmlkZXJVcmwgPT0gcHJvZGlkZXJVcmwpO1xuICAgIH1cbiAgICBhZGRUb0FjdGl2ZUNhdGFsb2d1ZXMoY2F0KSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVDYXRhbG9ndWVzLnNvbWUoYyA9PiBjLmlkID09IGNhdC5pZCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ2F0YWxvZ3Vlcy5wdXNoKGNhdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlQ2F0YWxvZ3VlcztcbiAgICB9XG4gICAgcmVtb3ZlRnJvbUFjdGl2ZUNhdGFsb2d1ZXMoY2F0KSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuYWN0aXZlQ2F0YWxvZ3Vlcy5maW5kSW5kZXgoYyA9PiBjLmlkID09PSBjYXQuaWQpO1xuICAgICAgICBpZiAoaWR4ID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmVDYXRhbG9ndWVzLnNwbGljZShpZHgsIDEpOyAvLyBtdXRhdGUgaW4gcGxhY2UgKGZpbmUgaGVyZSlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlQ2F0YWxvZ3VlcztcbiAgICB9XG4gICAgLy8gT3B0aW9uYWw6IHJlbW92ZSBldmVyeXRoaW5nIGZvciBhIHByb3ZpZGVyXG4gICAgcmVtb3ZlQWxsRm9yUHJvdmlkZXIocHJvZGlkZXJVcmwpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy5hY3RpdmVDYXRhbG9ndWVzLmZpbHRlcihjID0+IGMucHJvdmlkZXJVcmwgIT09IHByb2RpZGVyVXJsKTtcbiAgICAgICAgdGhpcy5hY3RpdmVDYXRhbG9ndWVzID0gYXJyO1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVDYXRhbG9ndWVzO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBkYXRhUHJvdmlkZXJTdG9yZSA9IG5ldyBEYXRhUHJvdmlkZXJTdG9yZSgpO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2dsb2JhbC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9nbG9iYWwuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRklMRTogc3JjL2FwcC50c1xuLy8gQXBwIGJvb3RzdHJhcDogd2lyZXMgQXN0cm9WaWV3ZXIgQVBJLCBDb250cm9sbGVyLCBVSSBQYW5lbCBNYW5hZ2VyICYgUmVnaXN0cnlcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT1cbmltcG9ydCAnLi9zdHlsZXMvZ2xvYmFsLmNzcyc7XG4vLyBFbnN1cmUgYWxsIGNvbXBvbmVudHMgdXNlZCBkaXJlY3RseSBpbiBIVE1MIG9yIGNyZWF0ZWQgYXQgcnVudGltZSBhcmUgcmVnaXN0ZXJlZFxuaW1wb3J0ICcuL2NvbXBvbmVudHMvZHluYW1pYy1jb250YWluZXIvRGluYW1pY0NvbnRhaW5lcic7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9hc3Ryby12aWV3ZXIvQXN0cm9WaWV3ZXInO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvdGFibGUtdmlld2VyL1RhYmxlVmlld2VyJztcbi8vIChpbXBvcnQgb3RoZXIgcGFuZWxzIGhlcmUgaWYvd2hlbiB5b3UgYWRkIHRoZW0pXG5mdW5jdGlvbiBhc3NlcnRFbChlbCwgc2VsKSB7XG4gICAgaWYgKCFlbClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIGVsZW1lbnQ6ICR7c2VsfWApO1xuICAgIHJldHVybiBlbDtcbn1cbmFzeW5jIGZ1bmN0aW9uIG1haW4oKSB7XG59XG4vLyBCb290c3RyYXAgaW1tZWRpYXRlbHlcbm1haW4oKS5jYXRjaChlcnIgPT4ge1xuICAgIC8vIFN1cmZhY2UgYm9vdHN0cmFwIGVycm9ycyBlYXJseSBhbmQgY2xlYXJseSBpbiBkZXZcbiAgICBjb25zb2xlLmVycm9yKCdbYXBwXSBib290c3RyYXAgZmFpbGVkOicsIGVycik7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==